var WC=Object.defineProperty,YC=(ai,qt,N)=>qt in ai?WC(ai,qt,{enumerable:!0,configurable:!0,writable:!0,value:N}):ai[qt]=N,Lr=(ai,qt,N)=>(YC(ai,"symbol"!=typeof qt?qt+"":qt,N),N);(self.webpackChunkriso_pos=self.webpackChunkriso_pos||[]).push([[179],{7102:(ai,qt,N)=>{"use strict";N.d(qt,{ST:()=>Zy,yb:()=>z0});var a=N(4650),T=N(4986),O=N(9751),ue=N(8996),R=N(9646),Ee=N(2122),Re=N(8675),xe=N(4482),Ce=N(5403);function re(){return(0,xe.e)((r,e)=>{let t,c=!1;r.subscribe((0,Ce.x)(e,v=>{const S=t;t=v,c&&e.next([S,v]),c=!0}))})}var me,ce=N(4004),be=N(5026),Ve=N(1884),Ne=N(9300),Be=N(2011),Je=N(6895),nt=(N(750),N(3942)),We=N(5861),ft=N(9681),pt=N(3475),tt=N(1877),je=N(2090),Ye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Me={},St=St||{},vt=Ye||self;function an(){}function xn(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function In(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var Gn="closure_uid_"+(1e9*Math.random()>>>0),Tn=0;function Wn(r,e,t){return r.call.apply(r.bind,arguments)}function Ht(r,e,t){if(!r)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var v=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(v,c),r.apply(e,v)}}return function(){return r.apply(e,arguments)}}function Bt(r,e,t){return(Bt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Wn:Ht).apply(null,arguments)}function Kt(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var c=t.slice();return c.push.apply(c,arguments),r.apply(this,c)}}function et(r,e){function t(){}t.prototype=e.prototype,r.X=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.Wb=function(c,v,S){for(var V=Array(arguments.length-2),X=2;X<arguments.length;X++)V[X-2]=arguments[X];return e.prototype[v].apply(c,V)}}function Vt(){this.s=this.s,this.o=this.o}Vt.prototype.s=!1,Vt.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function cn(r){Object.prototype.hasOwnProperty.call(r,Gn)&&r[Gn]||(r[Gn]=++Tn)}(this)},Vt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Yn=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function en(r){const e=r.length;if(0<e){const t=Array(e);for(let c=0;c<e;c++)t[c]=r[c];return t}return[]}function gn(r,e){for(let t=1;t<arguments.length;t++){const c=arguments[t];if(xn(c)){const v=r.length||0,S=c.length||0;r.length=v+S;for(let V=0;V<S;V++)r[v+V]=c[V]}else r.push(c)}}function On(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}On.prototype.h=function(){this.defaultPrevented=!0};var Qn=function(){if(!vt.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{vt.addEventListener("test",an,e),vt.removeEventListener("test",an,e)}catch{}return r}();function _n(r){return/^[\s\xa0]*$/.test(r)}var Nn=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function yn(r,e){return r<e?-1:r>e?1:0}function pn(){var r=vt.navigator;return r&&(r=r.userAgent)?r:""}function Pn(r){return-1!=pn().indexOf(r)}function Nt(r){return Nt[" "](r),r}Nt[" "]=an;var Lt,r,Rt=Pn("Opera"),bn=Pn("Trident")||Pn("MSIE"),lt=Pn("Edge"),le=lt||bn,Ae=Pn("Gecko")&&!(-1!=pn().toLowerCase().indexOf("webkit")&&!Pn("Edge"))&&!(Pn("Trident")||Pn("MSIE"))&&!Pn("Edge"),ot=-1!=pn().toLowerCase().indexOf("webkit")&&!Pn("Edge");function zt(){var r=vt.document;return r?r.documentMode:void 0}e:{var Mt="",Tt=(r=pn(),Ae?/rv:([^\);]+)(\)|;)/.exec(r):lt?/Edge\/([\d\.]+)/.exec(r):bn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):ot?/WebKit\/(\S+)/.exec(r):Rt?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Tt&&(Mt=Tt?Tt[1]:""),bn){var mn=zt();if(null!=mn&&mn>parseFloat(Mt)){Lt=String(mn);break e}}Lt=Mt}var An={};var li=vt.document&&bn&&(zt()||parseInt(Lt,10))||void 0;function Bi(r,e){if(On.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,c=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(Ae){e:{try{Nt(e.nodeName);var v=!0;break e}catch{}v=!1}v||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,c?(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:Si[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Bi.X.h.call(this)}}et(Bi,On);var Si={2:"touch",3:"pen",4:"mouse"};Bi.prototype.h=function(){Bi.X.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var _r="closure_listenable_"+(1e6*Math.random()|0),En=0;function sn(r,e,t,c,v){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!c,this.ha=v,this.key=++En,this.ba=this.ea=!1}function It(r){r.ba=!0,r.listener=null,r.proxy=null,r.src=null,r.ha=null}function xt(r,e,t){for(const c in r)e.call(t,r[c],c,r)}function wt(r){const e={};for(const t in r)e[t]=r[t];return e}const Ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(r,e){let t,c;for(let v=1;v<arguments.length;v++){for(t in c=arguments[v],c)r[t]=c[t];for(let S=0;S<Ie.length;S++)t=Ie[S],Object.prototype.hasOwnProperty.call(c,t)&&(r[t]=c[t])}}function ye(r){this.src=r,this.g={},this.h=0}function st(r,e){var t=e.type;if(t in r.g){var S,c=r.g[t],v=Yn(c,e);(S=0<=v)&&Array.prototype.splice.call(c,v,1),S&&(It(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Ue(r,e,t,c){for(var v=0;v<r.length;++v){var S=r[v];if(!S.ba&&S.listener==e&&S.capture==!!t&&S.ha==c)return v}return-1}ye.prototype.add=function(r,e,t,c,v){var S=r.toString();(r=this.g[S])||(r=this.g[S]=[],this.h++);var V=Ue(r,e,c,v);return-1<V?(e=r[V],t||(e.ea=!1)):((e=new sn(e,this.src,S,!!c,v)).ea=t,r.push(e)),e};var Te="closure_lm_"+(1e6*Math.random()|0),ct={};function Fe(r,e,t,c,v){if(c&&c.once)return wn(r,e,t,c,v);if(Array.isArray(e)){for(var S=0;S<e.length;S++)Fe(r,e[S],t,c,v);return null}return t=ge(t),r&&r[_r]?r.N(e,t,In(c)?!!c.capture:!!c,v):qe(r,e,t,!1,c,v)}function qe(r,e,t,c,v,S){if(!e)throw Error("Invalid event type");var V=In(v)?!!v.capture:!!v,X=ie(r);if(X||(r[Te]=X=new ye(r)),(t=X.add(e,t,c,V,S)).proxy)return t;if(c=function Zt(){const e=ut;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=c,c.src=r,c.listener=t,r.addEventListener)Qn||(v=V),void 0===v&&(v=!1),r.addEventListener(e.toString(),c,v);else if(r.attachEvent)r.attachEvent(Li(e.toString()),c);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(c)}return t}function wn(r,e,t,c,v){if(Array.isArray(e)){for(var S=0;S<e.length;S++)wn(r,e[S],t,c,v);return null}return t=ge(t),r&&r[_r]?r.O(e,t,In(c)?!!c.capture:!!c,v):qe(r,e,t,!0,c,v)}function ti(r,e,t,c,v){if(Array.isArray(e))for(var S=0;S<e.length;S++)ti(r,e[S],t,c,v);else c=In(c)?!!c.capture:!!c,t=ge(t),r&&r[_r]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Ue(S=r.g[e],t,c,v))&&(It(S[t]),Array.prototype.splice.call(S,t,1),0==S.length&&(delete r.g[e],r.h--))):r&&(r=ie(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Ue(e,t,c,v)),(t=-1<r?e[r]:null)&&Ui(t))}function Ui(r){if("number"!=typeof r&&r&&!r.ba){var e=r.src;if(e&&e[_r])st(e.i,r);else{var t=r.type,c=r.proxy;e.removeEventListener?e.removeEventListener(t,c,r.capture):e.detachEvent?e.detachEvent(Li(t),c):e.addListener&&e.removeListener&&e.removeListener(c),(t=ie(e))?(st(t,r),0==t.h&&(t.src=null,e[Te]=null)):It(r)}}}function Li(r){return r in ct?ct[r]:ct[r]="on"+r}function ut(r,e){if(r.ba)r=!0;else{e=new Bi(e,this);var t=r.listener,c=r.ha||r.src;r.ea&&Ui(r),r=t.call(c,e)}return r}function ie(r){return(r=r[Te])instanceof ye?r:null}var K="__closure_events_fn_"+(1e9*Math.random()>>>0);function ge(r){return"function"==typeof r?r:(r[K]||(r[K]=function(e){return r.handleEvent(e)}),r[K])}function Ge(){Vt.call(this),this.i=new ye(this),this.P=this,this.I=null}function rn(r,e){var t,c=r.I;if(c)for(t=[];c;c=c.I)t.push(c);if(r=r.P,c=e.type||e,"string"==typeof e)e=new On(e,r);else if(e instanceof On)e.target=e.target||r;else{var v=e;pe(e=new On(c,r),v)}if(v=!0,t)for(var S=t.length-1;0<=S;S--){var V=e.g=t[S];v=Hn(V,c,!0,e)&&v}if(v=Hn(V=e.g=r,c,!0,e)&&v,v=Hn(V,c,!1,e)&&v,t)for(S=0;S<t.length;S++)v=Hn(V=e.g=t[S],c,!1,e)&&v}function Hn(r,e,t,c){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var v=!0,S=0;S<e.length;++S){var V=e[S];if(V&&!V.ba&&V.capture==t){var X=V.listener,ke=V.ha||V.src;V.ea&&st(r.i,V),v=!1!==X.call(ke,c)&&v}}return v&&!c.defaultPrevented}et(Ge,Vt),Ge.prototype[_r]=!0,Ge.prototype.removeEventListener=function(r,e,t,c){ti(this,r,e,t,c)},Ge.prototype.M=function(){if(Ge.X.M.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],c=0;c<t.length;c++)It(t[c]);delete r.g[e],r.h--}}this.I=null},Ge.prototype.N=function(r,e,t,c){return this.i.add(String(r),e,!1,t,c)},Ge.prototype.O=function(r,e,t,c){return this.i.add(String(r),e,!0,t,c)};var Un=vt.JSON.stringify;function pi(){var r=At;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var Yt,Ft=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new it,r=>r.reset());class it{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Wt(r){vt.setTimeout(()=>{throw r},0)}function at(r,e){Yt||function Y(){var r=vt.Promise.resolve(void 0);Yt=function(){r.then(Xt)}}(),$e||(Yt(),$e=!0),At.add(r,e)}var $e=!1,At=new class mt{constructor(){this.h=this.g=null}add(e,t){const c=Ft.get();c.set(e,t),this.h?this.h.next=c:this.g=c,this.h=c}};function Xt(){for(var r;r=pi();){try{r.h.call(r.g)}catch(t){Wt(t)}var e=Ft;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}$e=!1}function ci(r,e){Ge.call(this),this.h=r||1,this.g=e||vt,this.j=Bt(this.lb,this),this.l=Date.now()}function zi(r){r.ca=!1,r.R&&(r.g.clearTimeout(r.R),r.R=null)}function ji(r,e,t){if("function"==typeof r)t&&(r=Bt(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Bt(r.handleEvent,r)}return 2147483647<Number(e)?-1:vt.setTimeout(r,e||0)}function Hr(r){r.g=ji(()=>{r.g=null,r.i&&(r.i=!1,Hr(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}et(ci,Ge),(me=ci.prototype).ca=!1,me.R=null,me.lb=function(){if(this.ca){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-r):(this.R&&(this.g.clearTimeout(this.R),this.R=null),rn(this,"tick"),this.ca&&(zi(this),this.start()))}},me.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},me.M=function(){ci.X.M.call(this),zi(this),delete this.g};class vr extends Vt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Hr(this)}M(){super.M(),this.g&&(vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ur(r){Vt.call(this),this.h=r,this.g={}}et(ur,Vt);var xs=[];function $r(r,e,t,c){Array.isArray(t)||(t&&(xs[0]=t.toString()),t=xs);for(var v=0;v<t.length;v++){var S=Fe(e,t[v],c||r.handleEvent,!1,r.h||r);if(!S)break;r.g[S.key]=S}}function ss(r){xt(r.g,function(e,t){this.g.hasOwnProperty(t)&&Ui(e)},r),r.g={}}function wo(){this.g=!0}function Ps(r,e,t,c){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Co(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var c=t[r];if(!(2>c.length)){var v=c[1];if(Array.isArray(v)&&!(1>v.length)){var S=v[0];if("noop"!=S&&"stop"!=S&&"close"!=S)for(var V=1;V<v.length;V++)v[V]=""}}}return Un(t)}catch{return e}}(r,t)+(c?" "+c:"")})}ur.prototype.M=function(){ur.X.M.call(this),ss(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},wo.prototype.Aa=function(){this.g=!1},wo.prototype.info=function(){};var Wo={},fa=null;function ws(){return fa=fa||new Ge}function Es(r){On.call(this,Wo.Pa,r)}function ta(r){const e=ws();rn(e,new Es(e))}function ja(r,e){On.call(this,Wo.STAT_EVENT,r),this.stat=e}function Os(r){const e=ws();rn(e,new ja(e,r))}function Ra(r,e){On.call(this,Wo.Qa,r),this.size=e}function cs(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return vt.setTimeout(function(){r()},e)}Wo.Pa="serverreachability",et(Es,On),Wo.STAT_EVENT="statevent",et(ja,On),Wo.Qa="timingevent",et(Ra,On);var Po={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Dl={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Ls(){}function wa(){}Ls.prototype.h=null;var Rl,Ws={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Hs(){On.call(this,"d")}function Ca(){On.call(this,"c")}function Sr(){}function Rr(r,e,t,c){this.l=r,this.j=e,this.m=t,this.U=c||1,this.S=new ur(this),this.O=Ta,this.T=new ci(r=le?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new os}function os(){this.i=null,this.g="",this.h=!1}et(Hs,On),et(Ca,On),et(Sr,Ls),Sr.prototype.g=function(){return new XMLHttpRequest},Sr.prototype.i=function(){return{}},Rl=new Sr;var Ta=45e3,Da={},Bo={};function Eo(r,e,t){r.K=1,r.v=Us(To(e)),r.s=t,r.P=!0,Aa(r,null)}function Aa(r,e){r.F=Date.now(),Ur(r),r.A=To(r.v);var t=r.A,c=r.U;Array.isArray(c)||(c=[String(c)]),Do(t.i,"t",c),r.C=0,t=r.l.H,r.h=new os,r.g=yo(r.l,t?e:null,!r.s),0<r.N&&(r.L=new vr(Bt(r.La,r,r.g),r.N)),$r(r.S,r.g,"readystatechange",r.ib),e=r.H?wt(r.H):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.da(r.A,r.u,r.s,e)):(r.u="GET",r.g.da(r.A,r.u,null,e)),ta(),function nr(r,e,t,c,v,S){r.info(function(){if(r.g)if(S)for(var V="",X=S.split("&"),ke=0;ke<X.length;ke++){var rt=X[ke].split("=");if(1<rt.length){var Ut=rt[0];rt=rt[1];var vn=Ut.split("_");V=2<=vn.length&&"type"==vn[1]?V+(Ut+"=")+rt+"&":V+(Ut+"=redacted&")}}else V=null;else V=S;return"XMLHTTP REQ ("+c+") [attempt "+v+"]: "+e+"\n"+t+"\n"+V})}(r.j,r.u,r.A,r.m,r.U,r.s)}function Oo(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Da}function mo(r,e,t){let v,c=!0;for(;!r.I&&r.C<t.length;){if(v=gs(r,t),v==Bo){4==e&&(r.o=4,Os(14),c=!1),Ps(r.j,r.m,null,"[Incomplete Response]");break}if(v==Da){r.o=4,Os(15),Ps(r.j,r.m,t,"[Invalid Chunk]"),c=!1;break}Ps(r.j,r.m,v,null),Yo(r,v)}Oo(r)&&v!=Bo&&v!=Da&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,Os(16),c=!1),r.i=r.i&&c,c?0<t.length&&!r.$&&(r.$=!0,(e=r.l).g==r&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Wr(e),e.K=!0,Os(11))):(Ps(r.j,r.m,t,"[Invalid Chunked Response]"),Sa(r),Mo(r))}function gs(r,e){var t=r.C,c=e.indexOf("\n",t);return-1==c?Bo:(t=Number(e.substring(t,c)),isNaN(t)?Da:(c+=1)+t>e.length?Bo:(e=e.substr(c,t),r.C=c+t,e))}function Ur(r){r.V=Date.now()+r.O,tl(r,r.O)}function tl(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=cs(Bt(r.gb,r),e)}function Fa(r){r.B&&(vt.clearTimeout(r.B),r.B=null)}function Mo(r){0==r.l.G||r.I||vo(r.l,r)}function Sa(r){Fa(r);var e=r.L;e&&"function"==typeof e.na&&e.na(),r.L=null,zi(r.T),ss(r.S),r.g&&(e=r.g,r.g=null,e.abort(),e.na())}function Yo(r,e){try{var t=r.l;if(0!=t.G&&(t.g==r||_i(t.h,r)))if(!r.J&&_i(t.h,r)&&3==t.G){try{var c=t.Fa.g.parse(e)}catch{c=null}if(Array.isArray(c)&&3==c.length){var v=c;if(0==v[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<r.F))break e;Pr(t),ae(t)}ki(t),Os(18)}}else t.Ba=v[1],0<t.Ba-t.T&&37500>v[2]&&t.L&&0==t.A&&!t.v&&(t.v=cs(Bt(t.cb,t),6e3));if(1>=Ho(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Cs(t,11)}else if((r.J||t.g==r)&&Pr(t),!_n(e))for(v=t.Fa.g.parse(e),e=0;e<v.length;e++){let rt=v[e];if(t.T=rt[0],rt=rt[1],2==t.G)if("c"==rt[0]){t.I=rt[1],t.ka=rt[2];const Ut=rt[3];null!=Ut&&(t.ma=Ut,t.j.info("VER="+t.ma));const vn=rt[4];null!=vn&&(t.Ca=vn,t.j.info("SVER="+t.Ca));const Jn=rt[5];null!=Jn&&"number"==typeof Jn&&0<Jn&&(t.J=c=1.5*Jn,t.j.info("backChannelRequestTimeoutMs_="+c)),c=t;const Di=r.g;if(Di){const Ei=Di.g?Di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ei){var S=c.h;S.g||-1==Ei.indexOf("spdy")&&-1==Ei.indexOf("quic")&&-1==Ei.indexOf("h2")||(S.j=S.l,S.g=new Set,S.h&&(Cr(S,S.h),S.h=null))}if(c.D){const cr=Di.g?Di.g.getResponseHeader("X-HTTP-Session-Id"):null;cr&&(c.za=cr,Ir(c.F,c.D,cr))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-r.F,t.j.info("Handshake RTT: "+t.P+"ms"));var V=r;if((c=t).sa=Uo(c,c.H?c.ka:null,c.V),V.J){ac(c.h,V);var X=V,ke=c.J;ke&&X.setTimeout(ke),X.B&&(Fa(X),Ur(X)),c.g=V}else Ji(c);0<t.i.length&&ve(t)}else"stop"!=rt[0]&&"close"!=rt[0]||Cs(t,7);else 3==t.G&&("stop"==rt[0]||"close"==rt[0]?"stop"==rt[0]?Cs(t,7):Gs(t):"noop"!=rt[0]&&t.l&&t.l.wa(rt),t.A=0)}ta()}catch{}}function wr(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(xn(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function lo(r){if(r.oa&&"function"==typeof r.oa)return r.oa();if(!r.W||"function"!=typeof r.W){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(xn(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const c in r)e[t++]=c;return e}}}(r),c=function Zo(r){if(r.W&&"function"==typeof r.W)return r.W();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(xn(r)){for(var e=[],t=r.length,c=0;c<t;c++)e.push(r[c]);return e}for(c in e=[],t=0,r)e[t++]=r[c];return e}(r),v=c.length,S=0;S<v;S++)e.call(void 0,c[S],t&&t[S],r)}(me=Rr.prototype).setTimeout=function(r){this.O=r},me.ib=function(r){r=r.target;const e=this.L;e&&3==ca(r)?e.l():this.La(r)},me.La=function(r){try{if(r==this.g)e:{const Ut=ca(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>Ut)&&(3!=Ut||le||this.g&&(this.h.h||this.g.fa()||ar(this.g)))){this.I||4!=Ut||7==e||ta(),Fa(this);var t=this.g.aa();this.Y=t;t:if(Oo(this)){var c=ar(this.g);r="";var v=c.length,S=4==ca(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Sa(this),Mo(this);var V="";break t}this.h.i=new vt.TextDecoder}for(e=0;e<v;e++)this.h.h=!0,r+=this.h.i.decode(c[e],{stream:S&&e==v-1});c.splice(0,v),this.h.g+=r,this.C=0,V=this.h.g}else V=this.g.fa();if(this.i=200==t,function Jr(r,e,t,c,v,S,V){r.info(function(){return"XMLHTTP RESP ("+c+") [ attempt "+v+"]: "+e+"\n"+t+"\n"+S+" "+V})}(this.j,this.u,this.A,this.m,this.U,Ut,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var X,ke=this.g;if((X=ke.g?ke.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_n(X)){var rt=X;break t}}rt=null}if(!(t=rt)){this.i=!1,this.o=3,Os(12),Sa(this),Mo(this);break e}Ps(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Yo(this,t)}this.P?(mo(this,Ut,V),le&&this.i&&3==Ut&&($r(this.S,this.T,"tick",this.hb),this.T.start())):(Ps(this.j,this.m,V,null),Yo(this,V)),4==Ut&&Sa(this),this.i&&!this.I&&(4==Ut?vo(this.l,this):(this.i=!1,Ur(this)))}else 400==t&&0<V.indexOf("Unknown SID")?(this.o=3,Os(12)):(this.o=0,Os(13)),Sa(this),Mo(this)}}}catch{}},me.hb=function(){if(this.g){var r=ca(this.g),e=this.g.fa();this.C<e.length&&(Fa(this),mo(this,r,e),this.i&&4!=r&&Ur(this))}},me.cancel=function(){this.I=!0,Sa(this)},me.gb=function(){this.B=null;const r=Date.now();0<=r-this.V?(function qo(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ta(),Os(17)),Sa(this),this.o=2,Mo(this)):tl(this,this.V-r)};var Ea=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ms(r,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Ms){this.h=void 0!==e?e:r.h,dl(this,r.j),this.s=r.s,this.g=r.g,Kr(this,r.m),this.l=r.l,e=r.i;var t=new Vo;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),us(this,t),this.o=r.o}else r&&(t=String(r).match(Ea))?(this.h=!!e,dl(this,t[1]||"",!0),this.s=go(t[2]||""),this.g=go(t[3]||"",!0),Kr(this,t[4]),this.l=go(t[5]||"",!0),us(this,t[6]||"",!0),this.o=go(t[7]||"")):(this.h=!!e,this.i=new Vo(null,this.h))}function To(r){return new Ms(r)}function dl(r,e,t){r.j=t?go(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Kr(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function us(r,e,t){e instanceof Vo?(r.i=e,function $a(r,e){e&&!r.j&&(Xo(r),r.i=null,r.g.forEach(function(t,c){var v=c.toLowerCase();c!=v&&(js(this,c),Do(this,v,t))},r)),r.j=e}(r.i,r.h)):(t||(e=Lo(e,eo)),r.i=new Vo(e,r.h))}function Ir(r,e,t){r.i.set(e,t)}function Us(r){return Ir(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function go(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Lo(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,Na),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Na(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Ms.prototype.toString=function(){var r=[],e=this.j;e&&r.push(Lo(e,zs,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(Lo(e,zs,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(Lo(t,"/"==t.charAt(0)?hl:Vr,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",Lo(t,Qo)),r.join("")};var zs=/[#\/\?@]/g,Vr=/[#\?:]/g,hl=/[#\?]/g,eo=/[#\?@]/g,Qo=/#/g;function Vo(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function Xo(r){r.g||(r.g=new Map,r.h=0,r.i&&function Bs(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var c=r[t].indexOf("="),v=null;if(0<=c){var S=r[t].substring(0,c);v=r[t].substring(c+1)}else S=r[t];e(S,v?decodeURIComponent(v.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function js(r,e){Xo(r),e=nl(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function lr(r,e){return Xo(r),e=nl(r,e),r.g.has(e)}function Do(r,e,t){js(r,e),0<t.length&&(r.i=null,r.g.set(nl(r,e),en(t)),r.h+=t.length)}function nl(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Jo(r){this.l=r||na,r=vt.PerformanceNavigationTiming?0<(r=vt.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(vt.g&&vt.g.Ga&&vt.g.Ga()&&vt.g.Ga().$b),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(me=Vo.prototype).add=function(r,e){Xo(this),this.i=null,r=nl(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},me.forEach=function(r,e){Xo(this),this.g.forEach(function(t,c){t.forEach(function(v){r.call(e,v,c,this)},this)},this)},me.oa=function(){Xo(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let c=0;c<e.length;c++){const v=r[c];for(let S=0;S<v.length;S++)t.push(e[c])}return t},me.W=function(r){Xo(this);let e=[];if("string"==typeof r)lr(this,r)&&(e=e.concat(this.g.get(nl(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},me.set=function(r,e){return Xo(this),this.i=null,lr(this,r=nl(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},me.get=function(r,e){return r&&0<(r=this.W(r)).length?String(r[0]):e},me.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var c=e[t];const S=encodeURIComponent(String(c)),V=this.W(c);for(c=0;c<V.length;c++){var v=S;""!==V[c]&&(v+="="+encodeURIComponent(String(V[c]))),r.push(v)}}return this.i=r.join("&")};var na=10;function Ma(r){return!!r.h||!!r.g&&r.g.size>=r.j}function Ho(r){return r.h?1:r.g?r.g.size:0}function _i(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function Cr(r,e){r.g?r.g.add(e):r.h=e}function ac(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function ka(r){if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.D);return e}return en(r.i)}function ks(){}function Se(){this.g=new ks}function De(r,e,t){const c=t||"";try{wr(r,function(v,S){let V=v;In(v)&&(V=Un(v)),e.push(c+S+"="+encodeURIComponent(V))})}catch(v){throw e.push(c+"type="+encodeURIComponent("_badmap")),v}}function Et(r,e,t,c,v){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,v(c)}catch{}}function qn(r){this.l=r.ac||null,this.j=r.jb||!1}function Vi(r,e){Ge.call(this),this.D=r,this.u=e,this.m=void 0,this.readyState=ds,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Jo.prototype.cancel=function(){if(this.i=ka(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},ks.prototype.stringify=function(r){return vt.JSON.stringify(r,void 0)},ks.prototype.parse=function(r){return vt.JSON.parse(r,void 0)},et(qn,Ls),qn.prototype.g=function(){return new Vi(this.l,this.j)},qn.prototype.i=function(r){return function(){return r}}({}),et(Vi,Ge);var ds=0;function Rs(r){r.j.read().then(r.Ta.bind(r)).catch(r.ga.bind(r))}function to(r){r.readyState=4,r.l=null,r.j=null,r.A=null,_s(r)}function _s(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(me=Vi.prototype).open=function(r,e){if(this.readyState!=ds)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,_s(this)},me.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.D||vt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},me.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,to(this)),this.readyState=ds},me.Wa=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,_s(this)),this.g&&(this.readyState=3,_s(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof vt.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Rs(this)}else r.text().then(this.Va.bind(this),this.ga.bind(this))},me.Ta=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?to(this):_s(this),3==this.readyState&&Rs(this)}},me.Va=function(r){this.g&&(this.response=this.responseText=r,to(this))},me.Ua=function(r){this.g&&(this.response=r,to(this))},me.ga=function(){this.g&&to(this)},me.setRequestHeader=function(r,e){this.v.append(r,e)},me.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},me.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(Vi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var Ao=vt.JSON.parse;function _o(r){Ge.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=aa,this.K=this.L=!1}et(_o,Ge);var aa="",la=/^https?$/i,Sc=["POST","PUT"];function Wa(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,lc(r),pa(r)}function lc(r){r.D||(r.D=!0,rn(r,"complete"),rn(r,"error"))}function Vs(r){if(r.h&&typeof St<"u"&&(!r.C[1]||4!=ca(r)||2!=r.aa()))if(r.v&&4==ca(r))ji(r.Ha,0,r);else if(rn(r,"readystatechange"),4==ca(r)){r.h=!1;try{const X=r.aa();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var c;if(c=0===X){var v=String(r.H).match(Ea)[1]||null;if(!v&&vt.self&&vt.self.location){var S=vt.self.location.protocol;v=S.substr(0,S.length-1)}c=!la.test(v?v.toLowerCase():"")}t=c}if(t)rn(r,"complete"),rn(r,"success");else{r.m=6;try{var V=2<ca(r)?r.g.statusText:""}catch{V=""}r.j=V+" ["+r.aa()+"]",lc(r)}}finally{pa(r)}}}function pa(r,e){if(r.g){cc(r);const t=r.g,c=r.C[0]?an:null;r.g=null,r.C=null,e||rn(r,"ready");try{t.onreadystatechange=c}catch{}}}function cc(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(vt.clearTimeout(r.A),r.A=null)}function ca(r){return r.g?r.g.readyState:0}function ar(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case aa:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function xr(r){let e="";return xt(r,function(t,c){e+=c,e+=":",e+=t,e+="\r\n"}),e}function il(r,e,t){e:{for(c in t){var c=!1;break e}c=!0}c||(t=xr(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Ir(r,e,t))}function co(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function ua(r){this.Ca=0,this.i=[],this.j=new wo,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=co("failFast",!1,r),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=co("baseRetryDelayMs",5e3,r),this.bb=co("retryDelaySeedMs",1e4,r),this.$a=co("forwardChannelMaxRetries",2,r),this.ta=co("forwardChannelRequestTimeoutMs",2e4,r),this.ra=r&&r.xmlHttpFactory||void 0,this.Da=r&&r.Zb||!1,this.J=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.I="",this.h=new Jo(r&&r.concurrentRequestLimit),this.Fa=new Se,this.O=r&&r.fastHandshake||!1,this.N=r&&r.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=r&&r.Xb||!1,r&&r.Aa&&this.j.Aa(),r&&r.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&r&&r.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Gs(r){if(Xe(r),3==r.G){var e=r.U++,t=To(r.F);Ir(t,"SID",r.I),Ir(t,"RID",e),Ir(t,"TYPE","terminate"),jn(r,t),(e=new Rr(r,r.j,e,void 0)).K=2,e.v=Us(To(t)),t=!1,vt.navigator&&vt.navigator.sendBeacon&&(t=vt.navigator.sendBeacon(e.v.toString(),"")),!t&&vt.Image&&((new Image).src=e.v,t=!0),t||(e.g=yo(e.l,null),e.g.da(e.v)),e.F=Date.now(),Ur(e)}Ia(r)}function ae(r){r.g&&(Wr(r),r.g.cancel(),r.g=null)}function Xe(r){ae(r),r.u&&(vt.clearTimeout(r.u),r.u=null),Pr(r),r.h.cancel(),r.m&&("number"==typeof r.m&&vt.clearTimeout(r.m),r.m=null)}function ve(r){Ma(r.h)||r.m||(r.m=!0,at(r.Ja,r),r.C=0)}function un(r,e){var t;t=e?e.m:r.U++;const c=To(r.F);Ir(c,"SID",r.I),Ir(c,"RID",t),Ir(c,"AID",r.T),jn(r,c),r.o&&r.s&&il(c,r.o,r.s),t=new Rr(r,r.j,t,r.C+1),null===r.o&&(t.H=r.s),e&&(r.i=e.D.concat(r.i)),e=si(r,t,1e3),t.setTimeout(Math.round(.5*r.ta)+Math.round(.5*r.ta*Math.random())),Cr(r.h,t),Eo(t,c,e)}function jn(r,e){r.ia&&xt(r.ia,function(t,c){Ir(e,c,t)}),r.l&&wr({},function(t,c){Ir(e,c,t)})}function si(r,e,t){t=Math.min(r.i.length,t);var c=r.l?Bt(r.l.Ra,r.l,r):null;e:{var v=r.i;let S=-1;for(;;){const V=["count="+t];-1==S?0<t?(S=v[0].h,V.push("ofs="+S)):S=0:V.push("ofs="+S);let X=!0;for(let ke=0;ke<t;ke++){let rt=v[ke].h;const Ut=v[ke].g;if(rt-=S,0>rt)S=Math.max(0,v[ke].h-100),X=!1;else try{De(Ut,V,"req"+rt+"_")}catch{c&&c(Ut)}}if(X){c=V.join("&");break e}}}return r=r.i.splice(0,t),e.D=r,c}function Ji(r){r.g||r.u||(r.Z=1,at(r.Ia,r),r.A=0)}function ki(r){return!(r.g||r.u||3<=r.A||(r.Z++,r.u=cs(Bt(r.Ia,r),hs(r,r.A)),r.A++,0))}function Wr(r){null!=r.B&&(vt.clearTimeout(r.B),r.B=null)}function qr(r){r.g=new Rr(r,r.j,"rpc",r.Z),null===r.o&&(r.g.H=r.s),r.g.N=0;var e=To(r.sa);Ir(e,"RID","rpc"),Ir(e,"SID",r.I),Ir(e,"CI",r.L?"0":"1"),Ir(e,"AID",r.T),Ir(e,"TYPE","xmlhttp"),jn(r,e),r.o&&r.s&&il(e,r.o,r.s),r.J&&r.g.setTimeout(r.J);var t=r.g;r=r.ka,t.K=1,t.v=Us(To(e)),t.s=null,t.P=!0,Aa(t,r)}function Pr(r){null!=r.v&&(vt.clearTimeout(r.v),r.v=null)}function vo(r,e){var t=null;if(r.g==e){Pr(r),Wr(r),r.g=null;var c=2}else{if(!_i(r.h,e))return;t=e.D,ac(r.h,e),c=1}if(0!=r.G)if(r.pa=e.Y,e.i)if(1==c){t=e.s?e.s.length:0,e=Date.now()-e.F;var v=r.C;rn(c=ws(),new Ra(c,t)),ve(r)}else Ji(r);else if(3==(v=e.o)||0==v&&0<r.pa||!(1==c&&function yt(r,e){return!(Ho(r.h)>=r.h.j-(r.m?1:0)||(r.m?(r.i=e.D.concat(r.i),0):1==r.G||2==r.G||r.C>=(r.Za?0:r.$a)||(r.m=cs(Bt(r.Ja,r,e),hs(r,r.C)),r.C++,0)))}(r,e)||2==c&&ki(r)))switch(t&&0<t.length&&(e=r.h,e.i=e.i.concat(t)),v){case 1:Cs(r,5);break;case 4:Cs(r,10);break;case 3:Cs(r,6);break;default:Cs(r,2)}}function hs(r,e){let t=r.Xa+Math.floor(Math.random()*r.bb);return r.l||(t*=2),t*e}function Cs(r,e){if(r.j.info("Error code "+e),2==e){var t=null;r.l&&(t=null);var c=Bt(r.kb,r);t||(t=new Ms("//www.google.com/images/cleardot.gif"),vt.location&&"http"==vt.location.protocol||dl(t,"https"),Us(t)),function he(r,e){const t=new wo;if(vt.Image){const c=new Image;c.onload=Kt(Et,t,c,"TestLoadImage: loaded",!0,e),c.onerror=Kt(Et,t,c,"TestLoadImage: error",!1,e),c.onabort=Kt(Et,t,c,"TestLoadImage: abort",!1,e),c.ontimeout=Kt(Et,t,c,"TestLoadImage: timeout",!1,e),vt.setTimeout(function(){c.ontimeout&&c.ontimeout()},1e4),c.src=r}else e(!1)}(t.toString(),c)}else Os(2);r.G=0,r.l&&r.l.va(e),Ia(r),Xe(r)}function Ia(r){if(r.G=0,r.la=[],r.l){const e=ka(r.h);(0!=e.length||0!=r.i.length)&&(gn(r.la,e),gn(r.la,r.i),r.h.i.length=0,en(r.i),r.i.length=0),r.l.ua()}}function Uo(r,e,t){var c=t instanceof Ms?To(t):new Ms(t,void 0);if(""!=c.g)e&&(c.g=e+"."+c.g),Kr(c,c.m);else{var v=vt.location;c=v.protocol,e=e?e+"."+v.hostname:v.hostname,v=+v.port;var S=new Ms(null,void 0);c&&dl(S,c),e&&(S.g=e),v&&Kr(S,v),t&&(S.l=t),c=S}return e=r.za,(t=r.D)&&e&&Ir(c,t,e),Ir(c,"VER",r.ma),jn(r,c),c}function yo(r,e,t){if(e&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new _o(t&&r.Da&&!r.ra?new qn({jb:!0}):r.ra)).Ka(r.H),e}function Va(){}function Ha(){if(bn&&!(10<=Number(li)))throw Error("Environmental error: no available transport.")}function qi(r,e){Ge.call(this),this.g=new ua(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(r?r["X-WebChannel-Client-Profile"]=e.ya:r={"X-WebChannel-Client-Profile":e.ya}),this.g.S=r,(r=e&&e.Yb)&&!_n(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_n(e)&&(this.g.D=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Ys(this)}function ma(r){Hs.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function _c(){Ca.call(this),this.status=1}function Ys(r){this.g=r}(me=_o.prototype).Ka=function(r){this.L=r},me.da=function(r,e,t,c){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);e=e?e.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Rl.g(),this.C=function Ga(r){return r.h||(r.h=r.i())}(this.u?this.u:Rl),this.g.onreadystatechange=Bt(this.Ha,this);try{this.F=!0,this.g.open(e,String(r),!0),this.F=!1}catch(S){return void Wa(this,S)}if(r=t||"",t=new Map(this.headers),c)if(Object.getPrototypeOf(c)===Object.prototype)for(var v in c)t.set(v,c[v]);else{if("function"!=typeof c.keys||"function"!=typeof c.get)throw Error("Unknown input type for opt_headers: "+String(c));for(const S of c.keys())t.set(S,c.get(S))}c=Array.from(t.keys()).find(S=>"content-type"==S.toLowerCase()),v=vt.FormData&&r instanceof vt.FormData,!(0<=Yn(Sc,e))||c||v||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[S,V]of t)this.g.setRequestHeader(S,V);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{cc(this),0<this.B&&((this.K=function Fl(r){return bn&&function Ln(){return function tn(r){var e=An;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=r(9)}(function(){let r=0;const e=Nn(String(Lt)).split("."),t=Nn("9").split("."),c=Math.max(e.length,t.length);for(let V=0;0==r&&V<c;V++){var v=e[V]||"",S=t[V]||"";do{if(v=/(\d*)(\D*)(.*)/.exec(v)||["","","",""],S=/(\d*)(\D*)(.*)/.exec(S)||["","","",""],0==v[0].length&&0==S[0].length)break;r=yn(0==v[1].length?0:parseInt(v[1],10),0==S[1].length?0:parseInt(S[1],10))||yn(0==v[2].length,0==S[2].length)||yn(v[2],S[2]),v=v[3],S=S[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Bt(this.qa,this)):this.A=ji(this.qa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(S){Wa(this,S)}},me.qa=function(){typeof St<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rn(this,"timeout"),this.abort(8))},me.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,rn(this,"complete"),rn(this,"abort"),pa(this))},me.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pa(this,!0)),_o.X.M.call(this)},me.Ha=function(){this.s||(this.F||this.v||this.l?Vs(this):this.fb())},me.fb=function(){Vs(this)},me.aa=function(){try{return 2<ca(this)?this.g.status:-1}catch{return-1}},me.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},me.Sa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),Ao(e)}},me.Ea=function(){return this.m},me.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(me=ua.prototype).ma=8,me.G=1,me.Ja=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.U=Math.floor(1e5*Math.random()),r=this.U++;const v=new Rr(this,this.j,r,void 0);let S=this.s;if(this.S&&(S?(S=wt(S),pe(S,this.S)):S=this.S),null!==this.o||this.N||(v.H=S,S=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var c=this.i[t];if(void 0===(c="__data__"in c.g&&"string"==typeof(c=c.g.__data__)?c.length:void 0))break;if(4096<(e+=c)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=si(this,v,e),Ir(t=To(this.F),"RID",r),Ir(t,"CVER",22),this.D&&Ir(t,"X-HTTP-Session-Id",this.D),jn(this,t),S&&(this.N?e="headers="+encodeURIComponent(String(xr(S)))+"&"+e:this.o&&il(t,this.o,S)),Cr(this.h,v),this.Ya&&Ir(t,"TYPE","init"),this.O?(Ir(t,"$req",e),Ir(t,"SID","null"),v.Z=!0,Eo(v,t,null)):Eo(v,t,e),this.G=2}}else 3==this.G&&(r?un(this,r):0==this.i.length||Ma(this.h)||un(this))},me.Ia=function(){if(this.u=null,qr(this),this.$&&!(this.K||null==this.g||0>=this.P)){var r=2*this.P;this.j.info("BP detection timer enabled: "+r),this.B=cs(Bt(this.eb,this),r)}},me.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Os(10),ae(this),qr(this))},me.cb=function(){null!=this.v&&(this.v=null,ae(this),ki(this),Os(19))},me.kb=function(r){r?(this.j.info("Successfully pinged google.com"),Os(2)):(this.j.info("Failed to ping google.com"),Os(1))},(me=Va.prototype).xa=function(){},me.wa=function(){},me.va=function(){},me.ua=function(){},me.Ra=function(){},Ha.prototype.g=function(r,e){return new qi(r,e)},et(qi,Ge),qi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var r=this.g,e=this.l,t=this.h||void 0;Os(0),r.V=e,r.ia=t||{},r.L=r.Y,r.F=Uo(r,null,r.V),ve(r)},qi.prototype.close=function(){Gs(this.g)},qi.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=Un(r),r=t);e.i.push(new class{constructor(r,e){this.h=r,this.g=e}}(e.ab++,r)),3==e.G&&ve(e)},qi.prototype.M=function(){this.g.l=null,delete this.j,Gs(this.g),delete this.g,qi.X.M.call(this)},et(ma,Hs),et(_c,Ca),et(Ys,Va),Ys.prototype.xa=function(){rn(this.g,"a")},Ys.prototype.wa=function(r){rn(this.g,new ma(r))},Ys.prototype.va=function(r){rn(this.g,new _c)},Ys.prototype.ua=function(){rn(this.g,"b")},Ha.prototype.createWebChannel=Ha.prototype.g,qi.prototype.send=qi.prototype.u,qi.prototype.open=qi.prototype.m,qi.prototype.close=qi.prototype.close,Po.NO_ERROR=0,Po.TIMEOUT=8,Po.HTTP_ERROR=6,Dl.COMPLETE="complete",wa.EventType=Ws,Ws.OPEN="a",Ws.CLOSE="b",Ws.ERROR="c",Ws.MESSAGE="d",Ge.prototype.listen=Ge.prototype.N,_o.prototype.listenOnce=_o.prototype.O,_o.prototype.getLastError=_o.prototype.Oa,_o.prototype.getLastErrorCode=_o.prototype.Ea,_o.prototype.getStatus=_o.prototype.aa,_o.prototype.getResponseJson=_o.prototype.Sa,_o.prototype.getResponseText=_o.prototype.fa,_o.prototype.send=_o.prototype.da,_o.prototype.setWithCredentials=_o.prototype.Ka;var $s=Me.createWebChannelTransport=function(){return new Ha},Nl=Me.getStatEventTarget=function(){return ws()},ga=Me.ErrorCode=Po,Ec=Me.EventType=Dl,Mc=Me.Event=Wo,vc=Me.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},no=Me.FetchXmlHttpFactory=qn,Kl=Me.WebChannel=wa,yc=Me.XhrIo=_o;const da="@firebase/firestore";class Fr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fr.UNAUTHENTICATED=new Fr(null),Fr.GOOGLE_CREDENTIALS=new Fr("google-credentials-uid"),Fr.FIRST_PARTY=new Fr("first-party-uid"),Fr.MOCK_USER=new Fr("mock-user");let ne="9.16.0";const oe=new tt.Yd("@firebase/firestore");function dt(){return oe.logLevel}function Dn(r,...e){if(oe.logLevel<=tt.in.DEBUG){const t=e.map(es);oe.debug(`Firestore (${ne}): ${r}`,...t)}}function Gi(r,...e){if(oe.logLevel<=tt.in.ERROR){const t=e.map(es);oe.error(`Firestore (${ne}): ${r}`,...t)}}function vs(r,...e){if(oe.logLevel<=tt.in.WARN){const t=e.map(es);oe.warn(`Firestore (${ne}): ${r}`,...t)}}function es(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function wi(r="Unexpected state"){const e=`FIRESTORE (${ne}) INTERNAL ASSERTION FAILED: `+r;throw Gi(e),new Error(e)}function $i(r,e){r||wi()}function Ri(r,e){return r}const Kn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vi extends je.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class f{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class w{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class H{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Fr.UNAUTHENTICATED))}shutdown(){}}class ee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Le{constructor(e){this.t=e,this.currentUser=Fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var c=this;let v=this.i;const S=rt=>this.i!==v?(v=this.i,t(rt)):Promise.resolve();let V=new f;this.o=()=>{this.i++,this.currentUser=this.u(),V.resolve(),V=new f,e.enqueueRetryable(()=>S(this.currentUser))};const X=()=>{const rt=V;e.enqueueRetryable((0,We.Z)(function*(){yield rt.promise,yield S(c.currentUser)}))},ke=rt=>{Dn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=rt,this.auth.addAuthTokenListener(this.o),X()};this.t.onInit(rt=>ke(rt)),setTimeout(()=>{if(!this.auth){const rt=this.t.getImmediate({optional:!0});rt?ke(rt):(Dn("FirebaseAuthCredentialsProvider","Auth not yet detected"),V.resolve(),V=new f)}},0),X()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(c=>this.i!==e?(Dn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):c?($i("string"==typeof c.accessToken),new w(c.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $i(null===e||"string"==typeof e),new Fr(e)}}class Dt{constructor(e,t,c,v){this.h=e,this.l=t,this.m=c,this.g=v,this.type="FirstParty",this.user=Fr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():($i(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class fn{constructor(e,t,c,v){this.h=e,this.l=t,this.m=c,this.g=v}getToken(){return Promise.resolve(new Dt(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $n{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Xn{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const c=S=>{null!=S.error&&Dn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${S.error.message}`);const V=S.token!==this.A;return this.A=S.token,Dn("FirebaseAppCheckTokenProvider",`Received ${V?"new":"existing"} token.`),V?t(S.token):Promise.resolve()};this.o=S=>{e.enqueueRetryable(()=>c(S))};const v=S=>{Dn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=S,this.appCheck.addTokenListener(this.o)};this.T.onInit(S=>v(S)),setTimeout(()=>{if(!this.appCheck){const S=this.T.getImmediate({optional:!0});S?v(S):Dn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($i("string"==typeof t.token),this.A=t.token,new $n(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Hi(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let c=0;c<r;c++)t[c]=Math.floor(256*Math.random());return t}class hr{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let c="";for(;c.length<20;){const v=Hi(40);for(let S=0;S<v.length;++S)c.length<20&&v[S]<t&&(c+=e.charAt(v[S]%e.length))}return c}}function Pi(r,e){return r<e?-1:r>e?1:0}function Is(r,e,t){return r.length===e.length&&r.every((c,v)=>t(c,e[v]))}function Al(r){return r+"\0"}class Zs{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new vi(Kn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new vi(Kn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new vi(Kn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new vi(Kn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zs.fromMillis(Date.now())}static fromDate(e){return Zs.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),c=Math.floor(1e6*(e-1e3*t));return new Zs(t,c)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pi(this.nanoseconds,e.nanoseconds):Pi(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class rr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new rr(e)}static min(){return new rr(new Zs(0,0))}static max(){return new rr(new Zs(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class zo{constructor(e,t,c){void 0===t?t=0:t>e.length&&wi(),void 0===c?c=e.length-t:c>e.length-t&&wi(),this.segments=e,this.offset=t,this.len=c}get length(){return this.len}isEqual(e){return 0===zo.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof zo?e.forEach(c=>{t.push(c)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,c=this.limit();t<c;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const c=Math.min(e.length,t.length);for(let v=0;v<c;v++){const S=e.get(v),V=t.get(v);if(S<V)return-1;if(S>V)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Qr extends zo{construct(e,t,c){return new Qr(e,t,c)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const c of e){if(c.indexOf("//")>=0)throw new vi(Kn.INVALID_ARGUMENT,`Invalid segment (${c}). Paths must not contain // in them.`);t.push(...c.split("/").filter(v=>v.length>0))}return new Qr(t)}static emptyPath(){return new Qr([])}}const fl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ts extends zo{construct(e,t,c){return new Ts(e,t,c)}static isValidIdentifier(e){return fl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ts.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ts(["__name__"])}static fromServerFormat(e){const t=[];let c="",v=0;const S=()=>{if(0===c.length)throw new vi(Kn.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(c),c=""};let V=!1;for(;v<e.length;){const X=e[v];if("\\"===X){if(v+1===e.length)throw new vi(Kn.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const ke=e[v+1];if("\\"!==ke&&"."!==ke&&"`"!==ke)throw new vi(Kn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);c+=ke,v+=2}else"`"===X?(V=!V,v++):"."!==X||V?(c+=X,v++):(S(),v++)}if(S(),V)throw new vi(Kn.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ts(t)}static emptyPath(){return new Ts([])}}class Oi{constructor(e){this.path=e}static fromPath(e){return new Oi(Qr.fromString(e))}static fromName(e){return new Oi(Qr.fromString(e).popFirst(5))}static empty(){return new Oi(Qr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Qr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Qr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oi(new Qr(e.slice()))}}class Ro{constructor(e,t,c,v){this.indexId=e,this.collectionGroup=t,this.fields=c,this.indexState=v}}function rl(r){return r.fields.find(e=>2===e.kind)}function ys(r){return r.fields.filter(e=>2!==e.kind)}Ro.UNKNOWN_ID=-1;class pl{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ks{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ks(0,sl.min())}}function ou(r,e){const t=r.toTimestamp().seconds,c=r.toTimestamp().nanoseconds+1,v=rr.fromTimestamp(1e9===c?new Zs(t+1,0):new Zs(t,c));return new sl(v,Oi.empty(),e)}function Au(r){return new sl(r.readTime,r.key,-1)}class sl{constructor(e,t,c){this.readTime=e,this.documentKey=t,this.largestBatchId=c}static min(){return new sl(rr.min(),Oi.empty(),-1)}static max(){return new sl(rr.max(),Oi.empty(),-1)}}function qc(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=Oi.comparator(r.documentKey,e.documentKey),0!==t?t:Pi(r.largestBatchId,e.largestBatchId))}const ad="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ql{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function au(r){return Hc.apply(this,arguments)}function Hc(){return Hc=(0,We.Z)(function*(r){if(r.code!==Kn.FAILED_PRECONDITION||r.message!==ad)throw r;Dn("LocalStore","Unexpectedly lost primary lease")}),Hc.apply(this,arguments)}class ii{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&wi(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ii((c,v)=>{this.nextCallback=S=>{this.wrapSuccess(e,S).next(c,v)},this.catchCallback=S=>{this.wrapFailure(t,S).next(c,v)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ii?t:ii.resolve(t)}catch(t){return ii.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ii.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ii.reject(t)}static resolve(e){return new ii((t,c)=>{t(e)})}static reject(e){return new ii((t,c)=>{c(e)})}static waitFor(e){return new ii((t,c)=>{let v=0,S=0,V=!1;e.forEach(X=>{++v,X.next(()=>{++S,V&&S===v&&t()},ke=>c(ke))}),V=!0,S===v&&t()})}static or(e){let t=ii.resolve(!1);for(const c of e)t=t.next(v=>v?ii.resolve(v):c());return t}static forEach(e,t){const c=[];return e.forEach((v,S)=>{c.push(t.call(this,v,S))}),this.waitFor(c)}static mapArray(e,t){return new ii((c,v)=>{const S=e.length,V=new Array(S);let X=0;for(let ke=0;ke<S;ke++){const rt=ke;t(e[rt]).next(Ut=>{V[rt]=Ut,++X,X===S&&c(V)},Ut=>v(Ut))}})}static doWhile(e,t){return new ii((c,v)=>{const S=()=>{!0===e()?t().next(()=>{S()},v):c()};S()})}}class Su{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new f,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new ol(e,t.error)):this.P.resolve()},this.transaction.onerror=c=>{const v=Ql(c.target.error);this.P.reject(new ol(e,v))}}static open(e,t,c,v){try{return new Su(t,e.transaction(v,c))}catch(S){throw new ol(t,S)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Dn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new _a(t)}}class ro{constructor(e,t,c){this.name=e,this.version=t,this.S=c,12.2===ro.D((0,je.z$)())&&Gi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Dn("SimpleDb","Removing database:",e),fs(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,je.hl)())return!1;if(ro.N())return!0;const e=(0,je.z$)(),t=ro.D(e),c=0<t&&t<10,v=ro.k(e),S=0<v&&v<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||c||S)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),c=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(c)}static k(e){const t=e.match(/Android ([\d.]+)/i),c=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(c)}F(e){var t=this;return(0,We.Z)(function*(){return t.db||(Dn("SimpleDb","Opening database:",t.name),t.db=yield new Promise((c,v)=>{const S=indexedDB.open(t.name,t.version);S.onsuccess=V=>{c(V.target.result)},S.onblocked=()=>{v(new ol(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},S.onerror=V=>{const X=V.target.error;v("VersionError"===X.name?new vi(Kn.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===X.name?new vi(Kn.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+X):new ol(e,X))},S.onupgradeneeded=V=>{Dn("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',V.oldVersion),t.S.$(V.target.result,S.transaction,V.oldVersion,t.version).next(()=>{Dn("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=c=>t.B(c)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,c,v){var S=this;return(0,We.Z)(function*(){const V="readonly"===t;let X=0;for(;;){++X;try{S.db=yield S.F(e);const ke=Su.open(S.db,e,V?"readonly":"readwrite",c),rt=v(ke).next(Ut=>(ke.V(),Ut)).catch(Ut=>(ke.abort(Ut),ii.reject(Ut))).toPromise();return rt.catch(()=>{}),yield ke.v,rt}catch(ke){const rt=ke,Ut="FirebaseError"!==rt.name&&X<3;if(Dn("SimpleDb","Transaction failed with error:",rt.message,"Retrying:",Ut),S.close(),!Ut)return Promise.reject(rt)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class bc{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return fs(this.q.delete())}}class ol extends vi{constructor(e,t){super(Kn.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function uc(r){return"IndexedDbTransactionError"===r.name}class _a{constructor(e){this.store=e}put(e,t){let c;return void 0!==t?(Dn("SimpleDb","PUT",this.store.name,e,t),c=this.store.put(t,e)):(Dn("SimpleDb","PUT",this.store.name,"<auto-key>",e),c=this.store.put(e)),fs(c)}add(e){return Dn("SimpleDb","ADD",this.store.name,e,e),fs(this.store.add(e))}get(e){return fs(this.store.get(e)).next(t=>(void 0===t&&(t=null),Dn("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Dn("SimpleDb","DELETE",this.store.name,e),fs(this.store.delete(e))}count(){return Dn("SimpleDb","COUNT",this.store.name),fs(this.store.count())}W(e,t){const c=this.options(e,t);if(c.index||"function"!=typeof this.store.getAll){const v=this.cursor(c),S=[];return this.H(v,(V,X)=>{S.push(X)}).next(()=>S)}{const v=this.store.getAll(c.range);return new ii((S,V)=>{v.onerror=X=>{V(X.target.error)},v.onsuccess=X=>{S(X.target.result)}})}}J(e,t){const c=this.store.getAll(e,null===t?void 0:t);return new ii((v,S)=>{c.onerror=V=>{S(V.target.error)},c.onsuccess=V=>{v(V.target.result)}})}Y(e,t){Dn("SimpleDb","DELETE ALL",this.store.name);const c=this.options(e,t);c.X=!1;const v=this.cursor(c);return this.H(v,(S,V,X)=>X.delete())}Z(e,t){let c;t?c=e:(c={},t=e);const v=this.cursor(c);return this.H(v,t)}tt(e){const t=this.cursor({});return new ii((c,v)=>{t.onerror=S=>{const V=Ql(S.target.error);v(V)},t.onsuccess=S=>{const V=S.target.result;V?e(V.primaryKey,V.value).next(X=>{X?V.continue():c()}):c()}})}H(e,t){const c=[];return new ii((v,S)=>{e.onerror=V=>{S(V.target.error)},e.onsuccess=V=>{const X=V.target.result;if(!X)return void v();const ke=new bc(X),rt=t(X.primaryKey,X.value,ke);if(rt instanceof ii){const Ut=rt.catch(vn=>(ke.done(),ii.reject(vn)));c.push(Ut)}ke.isDone?v():null===ke.G?X.continue():X.continue(ke.G)}}).next(()=>ii.waitFor(c))}options(e,t){let c;return void 0!==e&&("string"==typeof e?c=e:t=e),{index:c,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const c=this.store.index(e.index);return e.X?c.openKeyCursor(e.range,t):c.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function fs(r){return new ii((e,t)=>{r.onsuccess=c=>{e(c.target.result)},r.onerror=c=>{const v=Ql(c.target.error);t(v)}})}let ia=!1;function Ql(r){const e=ro.D((0,je.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const c=new vi("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ia||(ia=!0,setTimeout(()=>{throw c},0)),c}}return r}class ea{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Dn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,We.Z)(function*(){t.task=null;try{Dn("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(c){uc(c)?Dn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",c):yield au(c)}yield t.nt(6e4)}))}}class q{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,We.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",c=>t.it(c,e))})()}it(e,t){const c=new Set;let v=t,S=!0;return ii.doWhile(()=>!0===S&&v>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(V=>{if(null!==V&&!c.has(V))return Dn("IndexBackiller",`Processing collection: ${V}`),this.rt(e,V,v).next(X=>{v-=X,c.add(V)});S=!1})).next(()=>t-v)}rt(e,t,c){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(v=>this.localStore.localDocuments.getNextDocuments(e,t,v,c).next(S=>{const V=S.changes;return this.localStore.indexManager.updateIndexEntries(e,V).next(()=>this.ot(v,S)).next(X=>(Dn("IndexBackiller",`Updating offset: ${X}`),this.localStore.indexManager.updateCollectionGroup(e,t,X))).next(()=>V.size)}))}ot(e,t){let c=e;return t.changes.forEach((v,S)=>{const V=Au(S);qc(V,c)>0&&(c=V)}),new sl(c.readTime,c.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Q=(()=>{class r{constructor(t,c){this.previousValue=t,c&&(c.sequenceNumberHandler=v=>this.ut(v),this.ct=v=>c.writeSequenceNumber(v))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return r.at=-1,r})();class G{constructor(e,t,c,v,S,V,X,ke){this.databaseId=e,this.appId=t,this.persistenceKey=c,this.host=v,this.ssl=S,this.forceLongPolling=V,this.autoDetectLongPolling=X,this.useFetchStreams=ke}}class de{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new de("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof de&&e.projectId===this.projectId&&e.database===this.database}}function Pe(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Ct(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function on(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function dn(r){return null==r}function di(r){return 0===r&&1/r==-1/0}function Ni(r){return"number"==typeof r&&Number.isInteger(r)&&!di(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}class Fi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Fi(t)}static fromUint8Array(e){const t=function(c){let v="";for(let S=0;S<c.length;++S)v+=String.fromCharCode(c[S]);return v}(e);return new Fi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let c=0;c<e.length;c++)t[c]=e.charCodeAt(c);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pi(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fi.EMPTY_BYTE_STRING=new Fi("");const qs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fo(r){if($i(!!r),"string"==typeof r){let e=0;const t=qs.exec(r);if($i(!!t),t[1]){let v=t[1];v=(v+"000000000").substr(0,9),e=Number(v)}const c=new Date(r);return{seconds:Math.floor(c.getTime()/1e3),nanos:e}}return{seconds:Fs(r.seconds),nanos:Fs(r.nanos)}}function Fs(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Bl(r){return"string"==typeof r?Fi.fromBase64String(r):Fi.fromUint8Array(r)}function al(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Eu(r){const e=r.mapValue.fields.__previous_value__;return al(e)?Eu(e):e}function Ua(r){const e=Fo(r.mapValue.fields.__local_write_time__.timestampValue);return new Zs(e.seconds,e.nanos)}const Za={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Xl={nullValue:"NULL_VALUE"};function El(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?al(r)?4:bt(r)?9007199254740991:10:wi()}function kc(r,e){if(r===e)return!0;const t=El(r);if(t!==El(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ua(r).isEqual(Ua(e));case 3:return function(c,v){if("string"==typeof c.timestampValue&&"string"==typeof v.timestampValue&&c.timestampValue.length===v.timestampValue.length)return c.timestampValue===v.timestampValue;const S=Fo(c.timestampValue),V=Fo(v.timestampValue);return S.seconds===V.seconds&&S.nanos===V.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return v=e,Bl(r.bytesValue).isEqual(Bl(v.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(c,v){return Fs(c.geoPointValue.latitude)===Fs(v.geoPointValue.latitude)&&Fs(c.geoPointValue.longitude)===Fs(v.geoPointValue.longitude)}(r,e);case 2:return function(c,v){if("integerValue"in c&&"integerValue"in v)return Fs(c.integerValue)===Fs(v.integerValue);if("doubleValue"in c&&"doubleValue"in v){const S=Fs(c.doubleValue),V=Fs(v.doubleValue);return S===V?di(S)===di(V):isNaN(S)&&isNaN(V)}return!1}(r,e);case 9:return Is(r.arrayValue.values||[],e.arrayValue.values||[],kc);case 10:return function(c,v){const S=c.mapValue.fields||{},V=v.mapValue.fields||{};if(Pe(S)!==Pe(V))return!1;for(const X in S)if(S.hasOwnProperty(X)&&(void 0===V[X]||!kc(S[X],V[X])))return!1;return!0}(r,e);default:return wi()}var v}function ml(r,e){return void 0!==(r.values||[]).find(t=>kc(t,e))}function Vl(r,e){if(r===e)return 0;const t=El(r),c=El(e);if(t!==c)return Pi(t,c);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pi(r.booleanValue,e.booleanValue);case 2:return function(v,S){const V=Fs(v.integerValue||v.doubleValue),X=Fs(S.integerValue||S.doubleValue);return V<X?-1:V>X?1:V===X?0:isNaN(V)?isNaN(X)?0:-1:1}(r,e);case 3:return pu(r.timestampValue,e.timestampValue);case 4:return pu(Ua(r),Ua(e));case 5:return Pi(r.stringValue,e.stringValue);case 6:return function(v,S){const V=Bl(v),X=Bl(S);return V.compareTo(X)}(r.bytesValue,e.bytesValue);case 7:return function(v,S){const V=v.split("/"),X=S.split("/");for(let ke=0;ke<V.length&&ke<X.length;ke++){const rt=Pi(V[ke],X[ke]);if(0!==rt)return rt}return Pi(V.length,X.length)}(r.referenceValue,e.referenceValue);case 8:return function(v,S){const V=Pi(Fs(v.latitude),Fs(S.latitude));return 0!==V?V:Pi(Fs(v.longitude),Fs(S.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(v,S){const V=v.values||[],X=S.values||[];for(let ke=0;ke<V.length&&ke<X.length;++ke){const rt=Vl(V[ke],X[ke]);if(rt)return rt}return Pi(V.length,X.length)}(r.arrayValue,e.arrayValue);case 10:return function(v,S){if(v===Za.mapValue&&S===Za.mapValue)return 0;if(v===Za.mapValue)return 1;if(S===Za.mapValue)return-1;const V=v.fields||{},X=Object.keys(V),ke=S.fields||{},rt=Object.keys(ke);X.sort(),rt.sort();for(let Ut=0;Ut<X.length&&Ut<rt.length;++Ut){const vn=Pi(X[Ut],rt[Ut]);if(0!==vn)return vn;const Jn=Vl(V[X[Ut]],ke[rt[Ut]]);if(0!==Jn)return Jn}return Pi(X.length,rt.length)}(r.mapValue,e.mapValue);default:throw wi()}}function pu(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Pi(r,e);const t=Fo(r),c=Fo(e),v=Pi(t.seconds,c.seconds);return 0!==v?v:Pi(t.nanos,c.nanos)}function Jl(r){return Zu(r)}function Zu(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(c){const v=Fo(c);return`time(${v.seconds},${v.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Bl(r.bytesValue).toBase64():"referenceValue"in r?Oi.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(c){let v="[",S=!0;for(const V of c.values||[])S?S=!1:v+=",",v+=Zu(V);return v+"]"}(r.arrayValue):"mapValue"in r?function(c){const v=Object.keys(c.fields||{}).sort();let S="{",V=!0;for(const X of v)V?V=!1:S+=",",S+=`${X}:${Zu(c.fields[X])}`;return S+"}"}(r.mapValue):wi();var e}function dc(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Ka(r){return!!r&&"integerValue"in r}function ll(r){return!!r&&"arrayValue"in r}function No(r){return!!r&&"nullValue"in r}function Qc(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function _e(r){return!!r&&"mapValue"in r}function He(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Ct(r.mapValue.fields,(t,c)=>e.mapValue.fields[t]=He(c)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=He(r.arrayValue.values[t]);return e}return Object.assign({},r)}function bt(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function ln(r){return"nullValue"in r?Xl:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?dc(de.empty(),Oi.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:wi()}function zn(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?dc(de.empty(),Oi.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Za:wi()}function Zn(r,e){const t=Vl(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function Ai(r,e){const t=Vl(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class or{constructor(e,t){this.position=e,this.inclusive=t}}function br(r,e,t){let c=0;for(let v=0;v<r.position.length;v++){const S=e[v],V=r.position[v];if(c=S.field.isKeyField()?Oi.comparator(Oi.fromName(V.referenceValue),t.key):Vl(V,t.data.field(S.field)),"desc"===S.dir&&(c*=-1),0!==c)break}return c}function yr(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!kc(r.position[t],e.position[t]))return!1;return!0}class Xr{}class Qi extends Xr{constructor(e,t,c){super(),this.field=e,this.op=t,this.value=c}static create(e,t,c){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,c):new wh(e,t,c):"array-contains"===t?new Pd(e,c):"in"===t?new Kh(e,c):"not-in"===t?new rh(e,c):"array-contains-any"===t?new sh(e,c):new Qi(e,t,c)}static createKeyFieldInFilter(e,t,c){return"in"===t?new Pf(e,c):new Of(e,c)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Vl(t,this.value)):null!==t&&El(this.value)===El(t)&&this.matchesComparison(Vl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return wi()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Yr extends Xr{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Yr(e,t)}matches(e){return bo(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function bo(r){return"and"===r.op}function xc(r){return"or"===r.op}function ec(r){return Uc(r)&&bo(r)}function Uc(r){for(const e of r.filters)if(e instanceof Yr)return!1;return!0}function Hl(r){if(r instanceof Qi)return r.field.canonicalString()+r.op.toString()+Jl(r.value);if(ec(r))return r.filters.map(e=>Hl(e)).join(",");{const e=r.filters.map(t=>Hl(t)).join(",");return`${r.op}(${e})`}}function qa(r,e){return r instanceof Qi?(t=r,(c=e)instanceof Qi&&t.op===c.op&&t.field.isEqual(c.field)&&kc(t.value,c.value)):r instanceof Yr?function(t,c){return c instanceof Yr&&t.op===c.op&&t.filters.length===c.filters.length&&t.filters.reduce((v,S,V)=>v&&qa(S,c.filters[V]),!0)}(r,e):void wi();var t,c}function Id(r,e){const t=r.filters.concat(e);return Yr.create(t,r.op)}function Zh(r){return r instanceof Qi?`${(e=r).field.canonicalString()} ${e.op} ${Jl(e.value)}`:r instanceof Yr?function(e){return e.op.toString()+" {"+e.getFilters().map(Zh).join(" ,")+"}"}(r):"Filter";var e}class wh extends Qi{constructor(e,t,c){super(e,t,c),this.key=Oi.fromName(c.referenceValue)}matches(e){const t=Oi.comparator(e.key,this.key);return this.matchesComparison(t)}}class Pf extends Qi{constructor(e,t){super(e,"in",t),this.keys=lu(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Of extends Qi{constructor(e,t){super(e,"not-in",t),this.keys=lu(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function lu(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(c=>Oi.fromName(c.referenceValue))}class Pd extends Qi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ll(t)&&ml(t.arrayValue,this.value)}}class Kh extends Qi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ml(this.value.arrayValue,t)}}class rh extends Qi{constructor(e,t){super(e,"not-in",t)}matches(e){if(ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ml(this.value.arrayValue,t)}}class sh extends Qi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ll(t)||!t.arrayValue.values)&&t.arrayValue.values.some(c=>ml(this.value.arrayValue,c))}}class Od{constructor(e,t="asc"){this.field=e,this.dir=t}}function qh(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Qa{constructor(e,t){this.comparator=e,this.root=t||Ml.EMPTY}insert(e,t){return new Qa(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ml.BLACK,null,null))}remove(e){return new Qa(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ml.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const c=this.comparator(e,t.key);if(0===c)return t.value;c<0?t=t.left:c>0&&(t=t.right)}return null}indexOf(e){let t=0,c=this.root;for(;!c.isEmpty();){const v=this.comparator(e,c.key);if(0===v)return t+c.left.size;v<0?c=c.left:(t+=c.left.size+1,c=c.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,c)=>(e(t,c),!1))}toString(){const e=[];return this.inorderTraversal((t,c)=>(e.push(`${t}:${c}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ku(this.root,e,this.comparator,!0)}}class Ku{constructor(e,t,c,v){this.isReverse=v,this.nodeStack=[];let S=1;for(;!e.isEmpty();)if(S=t?c(e.key,t):1,t&&v&&(S*=-1),S<0)e=this.isReverse?e.left:e.right;else{if(0===S){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ml{constructor(e,t,c,v,S){this.key=e,this.value=t,this.color=c??Ml.RED,this.left=v??Ml.EMPTY,this.right=S??Ml.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,c,v,S){return new Ml(e??this.key,t??this.value,c??this.color,v??this.left,S??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,c){let v=this;const S=c(e,v.key);return v=S<0?v.copy(null,null,null,v.left.insert(e,t,c),null):0===S?v.copy(null,t,null,null,null):v.copy(null,null,null,null,v.right.insert(e,t,c)),v.fixUp()}removeMin(){if(this.left.isEmpty())return Ml.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let c,v=this;if(t(e,v.key)<0)v.left.isEmpty()||v.left.isRed()||v.left.left.isRed()||(v=v.moveRedLeft()),v=v.copy(null,null,null,v.left.remove(e,t),null);else{if(v.left.isRed()&&(v=v.rotateRight()),v.right.isEmpty()||v.right.isRed()||v.right.left.isRed()||(v=v.moveRedRight()),0===t(e,v.key)){if(v.right.isEmpty())return Ml.EMPTY;c=v.right.min(),v=v.copy(c.key,c.value,null,null,v.right.removeMin())}v=v.copy(null,null,null,null,v.right.remove(e,t))}return v.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ml.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ml.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wi();const e=this.left.check();if(e!==this.right.check())throw wi();return e+(this.isRed()?0:1)}}Ml.EMPTY=null,Ml.RED=!0,Ml.BLACK=!1,Ml.EMPTY=new class{constructor(){this.size=0}get key(){throw wi()}get value(){throw wi()}get color(){throw wi()}get left(){throw wi()}get right(){throw wi()}copy(r,e,t,c,v){return this}insert(r,e,t){return new Ml(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ra{constructor(e){this.comparator=e,this.data=new Qa(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,c)=>(e(t),!1))}forEachInRange(e,t){const c=this.data.getIteratorFrom(e[0]);for(;c.hasNext();){const v=c.getNext();if(this.comparator(v.key,e[1])>=0)return;t(v.key)}}forEachWhile(e,t){let c;for(c=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();c.hasNext();)if(!e(c.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ld(this.data.getIterator())}getIteratorFrom(e){return new ld(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(c=>{t=t.add(c)}),t}isEqual(e){if(!(e instanceof ra)||this.size!==e.size)return!1;const t=this.data.getIterator(),c=e.data.getIterator();for(;t.hasNext();){const v=t.getNext().key,S=c.getNext().key;if(0!==this.comparator(v,S))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ra(this.comparator);return t.data=e,t}}class ld{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function cd(r){return r.hasNext()?r.getNext():void 0}class Ic{constructor(e){this.fields=e,e.sort(Ts.comparator)}static empty(){return new Ic([])}unionWith(e){let t=new ra(Ts.comparator);for(const c of this.fields)t=t.add(c);for(const c of e)t=t.add(c);return new Ic(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Is(this.fields,e.fields,(t,c)=>t.isEqual(c))}}class wc{constructor(e){this.value=e}static empty(){return new wc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let c=0;c<e.length-1;++c)if(t=(t.mapValue.fields||{})[e.get(c)],!_e(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=He(t)}setAll(e){let t=Ts.emptyPath(),c={},v=[];e.forEach((V,X)=>{if(!t.isImmediateParentOf(X)){const ke=this.getFieldsMap(t);this.applyChanges(ke,c,v),c={},v=[],t=X.popLast()}V?c[X.lastSegment()]=He(V):v.push(X.lastSegment())});const S=this.getFieldsMap(t);this.applyChanges(S,c,v)}delete(e){const t=this.field(e.popLast());_e(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return kc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let c=0;c<e.length;++c){let v=t.mapValue.fields[e.get(c)];_e(v)&&v.mapValue.fields||(v={mapValue:{fields:{}}},t.mapValue.fields[e.get(c)]=v),t=v}return t.mapValue.fields}applyChanges(e,t,c){Ct(t,(v,S)=>e[v]=S);for(const v of c)delete e[v]}clone(){return new wc(He(this.value))}}function mu(r){const e=[];return Ct(r.fields,(t,c)=>{const v=new Ts([t]);if(_e(c)){const S=mu(c.mapValue).fields;if(0===S.length)e.push(v);else for(const V of S)e.push(v.child(V))}else e.push(v)}),new Ic(e)}class ha{constructor(e,t,c,v,S,V,X){this.key=e,this.documentType=t,this.version=c,this.readTime=v,this.createTime=S,this.data=V,this.documentState=X}static newInvalidDocument(e){return new ha(e,0,rr.min(),rr.min(),rr.min(),wc.empty(),0)}static newFoundDocument(e,t,c,v){return new ha(e,1,t,rr.min(),c,v,0)}static newNoDocument(e,t){return new ha(e,2,t,rr.min(),rr.min(),wc.empty(),0)}static newUnknownDocument(e,t){return new ha(e,3,t,rr.min(),rr.min(),wc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(rr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ha&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ha(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class pp{constructor(e,t=null,c=[],v=[],S=null,V=null,X=null){this.path=e,this.collectionGroup=t,this.orderBy=c,this.filters=v,this.limit=S,this.startAt=V,this.endAt=X,this.ft=null}}function Qh(r,e=null,t=[],c=[],v=null,S=null,V=null){return new pp(r,e,t,c,v,S,V)}function Ld(r){const e=Ri(r);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(c=>Hl(c)).join(","),t+="|ob:",t+=e.orderBy.map(c=>{return(v=c).field.canonicalString()+v.dir;var v}).join(","),dn(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(c=>Jl(c)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(c=>Jl(c)).join(",")),e.ft=t}return e.ft}function oh(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!qh(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!qa(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!yr(r.startAt,e.startAt)&&yr(r.endAt,e.endAt)}function ud(r){return Oi.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function Rd(r,e){return r.filters.filter(t=>t instanceof Qi&&t.field.isEqual(e))}function Xh(r,e,t){let c=Xl,v=!0;for(const S of Rd(r,e)){let V=Xl,X=!0;switch(S.op){case"<":case"<=":V=ln(S.value);break;case"==":case"in":case">=":V=S.value;break;case">":V=S.value,X=!1;break;case"!=":case"not-in":V=Xl}Zn({value:c,inclusive:v},{value:V,inclusive:X})<0&&(c=V,v=X)}if(null!==t)for(let S=0;S<r.orderBy.length;++S)if(r.orderBy[S].field.isEqual(e)){const V=t.position[S];Zn({value:c,inclusive:v},{value:V,inclusive:t.inclusive})<0&&(c=V,v=t.inclusive);break}return{value:c,inclusive:v}}function Ch(r,e,t){let c=Za,v=!0;for(const S of Rd(r,e)){let V=Za,X=!0;switch(S.op){case">=":case">":V=zn(S.value),X=!1;break;case"==":case"in":case"<=":V=S.value;break;case"<":V=S.value,X=!1;break;case"!=":case"not-in":V=Za}Ai({value:c,inclusive:v},{value:V,inclusive:X})>0&&(c=V,v=X)}if(null!==t)for(let S=0;S<r.orderBy.length;++S)if(r.orderBy[S].field.isEqual(e)){const V=t.position[S];Ai({value:c,inclusive:v},{value:V,inclusive:t.inclusive})>0&&(c=V,v=t.inclusive);break}return{value:c,inclusive:v}}class Mu{constructor(e,t=null,c=[],v=[],S=null,V="F",X=null,ke=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=c,this.filters=v,this.limit=S,this.limitType=V,this.startAt=X,this.endAt=ke,this.dt=null,this._t=null}}function zc(r,e,t,c,v,S,V,X){return new Mu(r,e,t,c,v,S,V,X)}function Cc(r){return new Mu(r)}function mp(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function Lf(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function qu(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function dd(r){return null!==r.collectionGroup}function Pc(r){const e=Ri(r);if(null===e.dt){e.dt=[];const t=qu(e),c=Lf(e);if(null!==t&&null===c)t.isKeyField()||e.dt.push(new Od(t)),e.dt.push(new Od(Ts.keyField(),"asc"));else{let v=!1;for(const S of e.explicitOrderBy)e.dt.push(S),S.field.isKeyField()&&(v=!0);if(!v){const S=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Od(Ts.keyField(),S))}}}return e.dt}function Tc(r){const e=Ri(r);if(!e._t)if("F"===e.limitType)e._t=Qh(e.path,e.collectionGroup,Pc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const S of Pc(e))t.push(new Od(S.field,"desc"===S.dir?"asc":"desc"));const c=e.endAt?new or(e.endAt.position,e.endAt.inclusive):null,v=e.startAt?new or(e.startAt.position,e.startAt.inclusive):null;e._t=Qh(e.path,e.collectionGroup,t,e.filters,e.limit,c,v)}return e._t}function Fd(r,e){e.getFirstInequalityField(),qu(r);const t=r.filters.concat([e]);return new Mu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Nd(r,e,t){return new Mu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function gl(r,e){return oh(Tc(r),Tc(e))&&r.limitType===e.limitType}function Zp(r){return`${Ld(Tc(r))}|lt:${r.limitType}`}function Jh(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(c=>Zh(c)).join(", ")}]`),dn(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(c=>{return`${(v=c).field.canonicalString()} (${v.dir})`;var v}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(c=>Jl(c)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(c=>Jl(c)).join(",")),`Target(${t})`}(Tc(r))}; limitType=${r.limitType})`}function tc(r,e){return e.isFoundDocument()&&function(t,c){const v=c.key.path;return null!==t.collectionGroup?c.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(v):Oi.isDocumentKey(t.path)?t.path.isEqual(v):t.path.isImmediateParentOf(v)}(r,e)&&function(t,c){for(const v of Pc(t))if(!v.field.isKeyField()&&null===c.data.field(v.field))return!1;return!0}(r,e)&&function(t,c){for(const v of t.filters)if(!v.matches(c))return!1;return!0}(r,e)&&(c=e,!((t=r).startAt&&!function(v,S,V){const X=br(v,S,V);return v.inclusive?X<=0:X<0}(t.startAt,Pc(t),c)||t.endAt&&!function(v,S,V){const X=br(v,S,V);return v.inclusive?X>=0:X>0}(t.endAt,Pc(t),c)));var t,c}function Rf(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function gp(r){return(e,t)=>{let c=!1;for(const v of Pc(r)){const S=gu(v,e,t);if(0!==S)return S;c=c||v.field.isKeyField()}return 0}}function gu(r,e,t){const c=r.field.isKeyField()?Oi.comparator(e.key,t.key):function(v,S,V){const X=S.data.field(v),ke=V.data.field(v);return null!==X&&null!==ke?Vl(X,ke):wi()}(r.field,e,t);switch(r.dir){case"asc":return c;case"desc":return-1*c;default:return wi()}}function kl(r,e){if(r.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:di(e)?"-0":e}}function Qu(r){return{integerValue:""+r}}function jc(r,e){return Ni(e)?Qu(e):kl(r,e)}class ef{constructor(){this._=void 0}}function ah(r,e,t){return r instanceof Gc?function(c,v){const S={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return v&&(S.fields.__previous_value__=v),{mapValue:S}}(t,e):r instanceof fd?ku(r,e):r instanceof Dc?tf(r,e):function(c,v){const S=hd(c,v),V=Bd(S)+Bd(c.gt);return Ka(S)&&Ka(c.gt)?Qu(V):kl(c.yt,V)}(r,e)}function Xu(r,e,t){return r instanceof fd?ku(r,e):r instanceof Dc?tf(r,e):t}function hd(r,e){return r instanceof Xc?Ka(t=e)||(c=t)&&"doubleValue"in c?e:{integerValue:0}:null;var c,t}class Gc extends ef{}class fd extends ef{constructor(e){super(),this.elements=e}}function ku(r,e){const t=Th(e);for(const c of r.elements)t.some(v=>kc(v,c))||t.push(c);return{arrayValue:{values:t}}}class Dc extends ef{constructor(e){super(),this.elements=e}}function tf(r,e){let t=Th(e);for(const c of r.elements)t=t.filter(v=>!kc(v,c));return{arrayValue:{values:t}}}class Xc extends ef{constructor(e,t){super(),this.yt=e,this.gt=t}}function Bd(r){return Fs(r.integerValue||r.doubleValue)}function Th(r){return ll(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class _u{constructor(e,t){this.field=e,this.transform=t}}class Iu{constructor(e,t){this.version=e,this.transformResults=t}}class Xa{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Xa}static exists(e){return new Xa(void 0,e)}static updateTime(e){return new Xa(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vd(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class pd{}function lh(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new Hd(r.key,Xa.none()):new gd(r.key,r.data,Xa.none());{const t=r.data,c=wc.empty();let v=new ra(Ts.comparator);for(let S of e.fields)if(!v.has(S)){let V=t.field(S);null===V&&S.length>1&&(S=S.popLast(),V=t.field(S)),null===V?c.delete(S):c.set(S,V),v=v.add(S)}return new Ju(r.key,c,new Ic(v.toArray()),Xa.none())}}function _p(r,e,t){r instanceof gd?function(c,v,S){const V=c.value.clone(),X=Nf(c.fieldTransforms,v,S.transformResults);V.setAll(X),v.convertToFoundDocument(S.version,V).setHasCommittedMutations()}(r,e,t):r instanceof Ju?function(c,v,S){if(!Vd(c.precondition,v))return void v.convertToUnknownDocument(S.version);const V=Nf(c.fieldTransforms,v,S.transformResults),X=v.data;X.setAll(vu(c)),X.setAll(V),v.convertToFoundDocument(S.version,X).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ff(r,e,t,c){return r instanceof gd?function(v,S,V,X){if(!Vd(v.precondition,S))return V;const ke=v.value.clone(),rt=Ah(v.fieldTransforms,X,S);return ke.setAll(rt),S.convertToFoundDocument(S.version,ke).setHasLocalMutations(),null}(r,e,t,c):r instanceof Ju?function(v,S,V,X){if(!Vd(v.precondition,S))return V;const ke=Ah(v.fieldTransforms,X,S),rt=S.data;return rt.setAll(vu(v)),rt.setAll(ke),S.convertToFoundDocument(S.version,rt).setHasLocalMutations(),null===V?null:V.unionWith(v.fieldMask.fields).unionWith(v.fieldTransforms.map(Ut=>Ut.field))}(r,e,t,c):(V=t,Vd(r.precondition,S=e)?(S.convertToNoDocument(S.version).setHasLocalMutations(),null):V);var S,V}function md(r,e){let t=null;for(const c of r.fieldTransforms){const v=e.data.field(c.field),S=hd(c.transform,v||null);null!=S&&(null===t&&(t=wc.empty()),t.set(c.field,S))}return t||null}function Dh(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(c=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===c||t&&c&&Is(t,c,(v,S)=>function nf(r,e){return r.field.isEqual(e.field)&&(c=e.transform,(t=r.transform)instanceof fd&&c instanceof fd||t instanceof Dc&&c instanceof Dc?Is(t.elements,c.elements,kc):t instanceof Xc&&c instanceof Xc?kc(t.gt,c.gt):t instanceof Gc&&c instanceof Gc);var t,c}(v,S))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,c}class gd extends pd{constructor(e,t,c,v=[]){super(),this.key=e,this.value=t,this.precondition=c,this.fieldTransforms=v,this.type=0}getFieldMask(){return null}}class Ju extends pd{constructor(e,t,c,v,S=[]){super(),this.key=e,this.data=t,this.fieldMask=c,this.precondition=v,this.fieldTransforms=S,this.type=1}getFieldMask(){return this.fieldMask}}function vu(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const c=r.data.field(t);e.set(t,c)}}),e}function Nf(r,e,t){const c=new Map;$i(r.length===t.length);for(let v=0;v<t.length;v++){const S=r[v],V=S.transform,X=e.data.field(S.field);c.set(S.field,Xu(V,X,t[v]))}return c}function Ah(r,e,t){const c=new Map;for(const v of r){const S=v.transform,V=t.data.field(v.field);c.set(v.field,ah(S,V,e))}return c}class Hd extends pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sh extends pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Pu{constructor(e){this.count=e}}var Il,uo;function ch(r){switch(r){default:return wi();case Kn.CANCELLED:case Kn.UNKNOWN:case Kn.DEADLINE_EXCEEDED:case Kn.RESOURCE_EXHAUSTED:case Kn.INTERNAL:case Kn.UNAVAILABLE:case Kn.UNAUTHENTICATED:return!1;case Kn.INVALID_ARGUMENT:case Kn.NOT_FOUND:case Kn.ALREADY_EXISTS:case Kn.PERMISSION_DENIED:case Kn.FAILED_PRECONDITION:case Kn.ABORTED:case Kn.OUT_OF_RANGE:case Kn.UNIMPLEMENTED:case Kn.DATA_LOSS:return!0}}function Bf(r){if(void 0===r)return Gi("GRPC error has no .code"),Kn.UNKNOWN;switch(r){case Il.OK:return Kn.OK;case Il.CANCELLED:return Kn.CANCELLED;case Il.UNKNOWN:return Kn.UNKNOWN;case Il.DEADLINE_EXCEEDED:return Kn.DEADLINE_EXCEEDED;case Il.RESOURCE_EXHAUSTED:return Kn.RESOURCE_EXHAUSTED;case Il.INTERNAL:return Kn.INTERNAL;case Il.UNAVAILABLE:return Kn.UNAVAILABLE;case Il.UNAUTHENTICATED:return Kn.UNAUTHENTICATED;case Il.INVALID_ARGUMENT:return Kn.INVALID_ARGUMENT;case Il.NOT_FOUND:return Kn.NOT_FOUND;case Il.ALREADY_EXISTS:return Kn.ALREADY_EXISTS;case Il.PERMISSION_DENIED:return Kn.PERMISSION_DENIED;case Il.FAILED_PRECONDITION:return Kn.FAILED_PRECONDITION;case Il.ABORTED:return Kn.ABORTED;case Il.OUT_OF_RANGE:return Kn.OUT_OF_RANGE;case Il.UNIMPLEMENTED:return Kn.UNIMPLEMENTED;case Il.DATA_LOSS:return Kn.DATA_LOSS;default:return wi()}}(uo=Il||(Il={}))[uo.OK=0]="OK",uo[uo.CANCELLED=1]="CANCELLED",uo[uo.UNKNOWN=2]="UNKNOWN",uo[uo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",uo[uo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",uo[uo.NOT_FOUND=5]="NOT_FOUND",uo[uo.ALREADY_EXISTS=6]="ALREADY_EXISTS",uo[uo.PERMISSION_DENIED=7]="PERMISSION_DENIED",uo[uo.UNAUTHENTICATED=16]="UNAUTHENTICATED",uo[uo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",uo[uo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",uo[uo.ABORTED=10]="ABORTED",uo[uo.OUT_OF_RANGE=11]="OUT_OF_RANGE",uo[uo.UNIMPLEMENTED=12]="UNIMPLEMENTED",uo[uo.INTERNAL=13]="INTERNAL",uo[uo.UNAVAILABLE=14]="UNAVAILABLE",uo[uo.DATA_LOSS=15]="DATA_LOSS";class cu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),c=this.inner[t];if(void 0!==c)for(const[v,S]of c)if(this.equalsFn(v,e))return S}has(e){return void 0!==this.get(e)}set(e,t){const c=this.mapKeyFn(e),v=this.inner[c];if(void 0===v)return this.inner[c]=[[e,t]],void this.innerSize++;for(let S=0;S<v.length;S++)if(this.equalsFn(v[S][0],e))return void(v[S]=[e,t]);v.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),c=this.inner[t];if(void 0===c)return!1;for(let v=0;v<c.length;v++)if(this.equalsFn(c[v][0],e))return 1===c.length?delete this.inner[t]:c.splice(v,1),this.innerSize--,!0;return!1}forEach(e){Ct(this.inner,(t,c)=>{for(const[v,S]of c)e(v,S)})}isEmpty(){return on(this.inner)}size(){return this.innerSize}}const Kp=new Qa(Oi.comparator);function Oc(){return Kp}const Eh=new Qa(Oi.comparator);function Ud(...r){let e=Eh;for(const t of r)e=e.insert(t.key,t);return e}function yu(r){let e=Eh;return r.forEach((t,c)=>e=e.insert(t,c.overlayedDocument)),e}function Jc(){return _d()}function Mh(){return _d()}function _d(){return new cu(r=>r.toString(),(r,e)=>r.isEqual(e))}const hc=new Qa(Oi.comparator),vd=new ra(Oi.comparator);function as(...r){let e=vd;for(const t of r)e=e.add(t);return e}const uh=new ra(Pi);function dh(){return uh}class bu{constructor(e,t,c,v,S){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=c,this.documentUpdates=v,this.resolvedLimboDocuments=S}static createSynthesizedRemoteEventForCurrentChange(e,t,c){const v=new Map;return v.set(e,ed.createSynthesizedTargetChangeForCurrentChange(e,t,c)),new bu(rr.min(),v,dh(),Oc(),as())}}class ed{constructor(e,t,c,v,S){this.resumeToken=e,this.current=t,this.addedDocuments=c,this.modifiedDocuments=v,this.removedDocuments=S}static createSynthesizedTargetChangeForCurrentChange(e,t,c){return new ed(c,t,as(),as(),as())}}class Ou{constructor(e,t,c,v){this.It=e,this.removedTargetIds=t,this.key=c,this.Tt=v}}class kh{constructor(e,t){this.targetId=e,this.Et=t}}class eu{constructor(e,t,c=Fi.EMPTY_BYTE_STRING,v=null){this.state=e,this.targetIds=t,this.resumeToken=c,this.cause=v}}class _l{constructor(){this.At=0,this.Rt=ho(),this.bt=Fi.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=as(),t=as(),c=as();return this.Rt.forEach((v,S)=>{switch(S){case 0:e=e.add(v);break;case 2:t=t.add(v);break;case 1:c=c.add(v);break;default:wi()}}),new ed(this.bt,this.Pt,e,t,c)}xt(){this.vt=!1,this.Rt=ho()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Ih{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Oc(),this.qt=rf(),this.Ut=new ra(Pi)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const c=this.Wt(t);switch(e.state){case 0:this.zt(t)&&c.Dt(e.resumeToken);break;case 1:c.Mt(),c.Vt||c.xt(),c.Dt(e.resumeToken);break;case 2:c.Mt(),c.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(c.Ft(),c.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),c.Dt(e.resumeToken));break;default:wi()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((c,v)=>{this.zt(v)&&t(v)})}Jt(e){const t=e.targetId,c=e.Et.count,v=this.Yt(t);if(v){const S=v.target;if(ud(S))if(0===c){const V=new Oi(S.path);this.Qt(t,V,ha.newNoDocument(V,rr.min()))}else $i(1===c);else this.Xt(t)!==c&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((S,V)=>{const X=this.Yt(V);if(X){if(S.current&&ud(X.target)){const ke=new Oi(X.target.path);null!==this.Lt.get(ke)||this.te(V,ke)||this.Qt(V,ke,ha.newNoDocument(ke,e))}S.St&&(t.set(V,S.Ct()),S.xt())}});let c=as();this.qt.forEach((S,V)=>{let X=!0;V.forEachWhile(ke=>{const rt=this.Yt(ke);return!rt||2===rt.purpose||(X=!1,!1)}),X&&(c=c.add(S))}),this.Lt.forEach((S,V)=>V.setReadTime(e));const v=new bu(e,t,this.Ut,this.Lt,c);return this.Lt=Oc(),this.qt=rf(),this.Ut=new ra(Pi),v}Gt(e,t){if(!this.zt(e))return;const c=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,c),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,c){if(!this.zt(e))return;const v=this.Wt(e);this.te(e,t)?v.Nt(t,1):v.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),c&&(this.Lt=this.Lt.insert(t,c))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new _l,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new ra(Pi),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||Dn("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new _l),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function rf(){return new Qa(Oi.comparator)}function ho(){return new Qa(Oi.comparator)}const zd={asc:"ASCENDING",desc:"DESCENDING"},nc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},td={and:"AND",or:"OR"};class Vf{constructor(e,t){this.databaseId=e,this.wt=t}}function yd(r,e){return r.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xu(r,e){return r.wt?e.toBase64():e.toUint8Array()}function bd(r,e){return yd(r,e.toTimestamp())}function Pa(r){return $i(!!r),rr.fromTimestamp(function(e){const t=Fo(e);return new Zs(t.seconds,t.nanos)}(r))}function jd(r,e){return(t=r,new Qr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function nd(r){const e=Qr.fromString(r);return $i(Ko(e)),e}function xd(r,e){return jd(r.databaseId,e.path)}function wu(r,e){const t=nd(e);if(t.get(1)!==r.databaseId.projectId)throw new vi(Kn.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new vi(Kn.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Oi(z(t))}function vp(r,e){return jd(r.databaseId,e)}function Ph(r){const e=nd(r);return 4===e.length?Qr.emptyPath():z(e)}function Gd(r){return new Qr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function z(r){return $i(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function E(r,e,t){return{name:xd(r,e),fields:t.value.mapValue.fields}}function k(r,e,t){const c=wu(r,e.name),v=Pa(e.updateTime),S=e.createTime?Pa(e.createTime):rr.min(),V=new wc({mapValue:{fields:e.fields}}),X=ha.newFoundDocument(c,v,S,V);return t&&X.setHasCommittedMutations(),t?X.setHasCommittedMutations():X}function kt(r,e){let t;if(e instanceof gd)t={update:E(r,e.key,e.value)};else if(e instanceof Hd)t={delete:xd(r,e.key)};else if(e instanceof Ju)t={update:E(r,e.key,e.data),updateMask:Lh(e.fieldMask)};else{if(!(e instanceof Sh))return wi();t={verify:xd(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(c=>function(v,S){const V=S.transform;if(V instanceof Gc)return{fieldPath:S.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(V instanceof fd)return{fieldPath:S.field.canonicalString(),appendMissingElements:{values:V.elements}};if(V instanceof Dc)return{fieldPath:S.field.canonicalString(),removeAllFromArray:{values:V.elements}};if(V instanceof Xc)return{fieldPath:S.field.canonicalString(),increment:V.gt};throw wi()}(0,c))),e.precondition.isNone||(t.currentDocument=void 0!==(v=e.precondition).updateTime?{updateTime:bd(r,v.updateTime)}:void 0!==v.exists?{exists:v.exists}:wi()),t;var v}function Bn(r,e){const t=e.currentDocument?void 0!==(v=e.currentDocument).updateTime?Xa.updateTime(Pa(v.updateTime)):void 0!==v.exists?Xa.exists(v.exists):Xa.none():Xa.none(),c=e.updateTransforms?e.updateTransforms.map(v=>function(S,V){let X=null;"setToServerValue"in V?($i("REQUEST_TIME"===V.setToServerValue),X=new Gc):"appendMissingElements"in V?X=new fd(V.appendMissingElements.values||[]):"removeAllFromArray"in V?X=new Dc(V.removeAllFromArray.values||[]):"increment"in V?X=new Xc(S,V.increment):wi();const ke=Ts.fromServerFormat(V.fieldPath);return new _u(ke,X)}(r,v)):[];var v;if(e.update){const v=wu(r,e.update.name),S=new wc({mapValue:{fields:e.update.fields}});if(e.updateMask){const V=new Ic((e.updateMask.fieldPaths||[]).map(rt=>Ts.fromServerFormat(rt)));return new Ju(v,S,V,t,c)}return new gd(v,S,t,c)}if(e.delete){const v=wu(r,e.delete);return new Hd(v,t)}if(e.verify){const v=wu(r,e.verify);return new Sh(v,t)}return wi()}function Ki(r,e){return{documents:[vp(r,e.path)]}}function pr(r,e){const t={structuredQuery:{}},c=e.path;null!==e.collectionGroup?(t.parent=vp(r,c),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=vp(r,c.popLast()),t.structuredQuery.from=[{collectionId:c.lastSegment()}]);const v=function(ke){if(0!==ke.length)return Oh(Yr.create(ke,"and"))}(e.filters);v&&(t.structuredQuery.where=v);const S=function(ke){if(0!==ke.length)return ke.map(rt=>{return{field:id((Ut=rt).field),direction:Ul(Ut.dir)};var Ut})}(e.orderBy);S&&(t.structuredQuery.orderBy=S);const V=(rt=e.limit,r.wt||dn(rt)?rt:{value:rt});var rt,X,ke;return null!==V&&(t.structuredQuery.limit=V),e.startAt&&(t.structuredQuery.startAt={before:(X=e.startAt).inclusive,values:X.position}),e.endAt&&(t.structuredQuery.endAt={before:!(ke=e.endAt).inclusive,values:ke.position}),t}function zr(r){let e=Ph(r.parent);const t=r.structuredQuery,c=t.from?t.from.length:0;let v=null;if(c>0){$i(1===c);const Ut=t.from[0];Ut.allDescendants?v=Ut.collectionId:e=e.child(Ut.collectionId)}let S=[];t.where&&(S=function(Ut){const vn=vl(Ut);return vn instanceof Yr&&ec(vn)?vn.getFilters():[vn]}(t.where));let V=[];t.orderBy&&(V=t.orderBy.map(Ut=>{return new Od(Wd((vn=Ut).field),function(Jn){switch(Jn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(vn.direction));var vn}));let X=null;t.limit&&(X=function(Ut){let vn;return vn="object"==typeof Ut?Ut.value:Ut,dn(vn)?null:vn}(t.limit));let ke=null;var Ut;t.startAt&&(ke=new or((Ut=t.startAt).values||[],!!Ut.before));let rt=null;return t.endAt&&(rt=function(Ut){return new or(Ut.values||[],!Ut.before)}(t.endAt)),zc(e,v,V,S,X,"F",ke,rt)}function vl(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Wd(e.unaryFilter.field);return Qi.create(t,"==",{doubleValue:NaN});case"IS_NULL":const c=Wd(e.unaryFilter.field);return Qi.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const v=Wd(e.unaryFilter.field);return Qi.create(v,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const S=Wd(e.unaryFilter.field);return Qi.create(S,"!=",{nullValue:"NULL_VALUE"});default:return wi()}}(r):void 0!==r.fieldFilter?Qi.create(Wd((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wi()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return Yr.create(e.compositeFilter.filters.map(t=>vl(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return wi()}}(e.compositeFilter.op))}(r):wi();var e}function Ul(r){return zd[r]}function fc(r){return nc[r]}function $d(r){return td[r]}function id(r){return{fieldPath:r.canonicalString()}}function Wd(r){return Ts.fromServerFormat(r.fieldPath)}function Oh(r){return r instanceof Qi?function(e){if("=="===e.op){if(Qc(e.value))return{unaryFilter:{field:id(e.field),op:"IS_NAN"}};if(No(e.value))return{unaryFilter:{field:id(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Qc(e.value))return{unaryFilter:{field:id(e.field),op:"IS_NOT_NAN"}};if(No(e.value))return{unaryFilter:{field:id(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:id(e.field),op:fc(e.op),value:e.value}}}(r):r instanceof Yr?function(e){const t=e.getFilters().map(c=>Oh(c));return 1===t.length?t[0]:{compositeFilter:{op:$d(e.op),filters:t}}}(r):wi()}function Lh(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Ko(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function Pl(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Lc(e)),e=Yd(r.get(t),e);return Lc(e)}function Yd(r,e){let t=e;const c=r.length;for(let v=0;v<c;v++){const S=r.charAt(v);switch(S){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=S}}return t}function Lc(r){return r+"\x01\x01"}function Ja(r){const e=r.length;if($i(e>=2),2===e)return $i("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Qr.emptyPath();const t=e-2,c=[];let v="";for(let S=0;S<e;){const V=r.indexOf("\x01",S);switch((V<0||V>t)&&wi(),r.charAt(V+1)){case"\x01":const X=r.substring(S,V);let ke;0===v.length?ke=X:(v+=X,ke=v,v=""),c.push(ke);break;case"\x10":v+=r.substring(S,V),v+="\0";break;case"\x11":v+=r.substring(S,V+1);break;default:wi()}S=V+2}return new Qr(c)}const Rh=["userId","batchId"];function wd(r,e){return[r,Pl(e)]}function Lu(r,e,t){return[r,Pl(e),t]}const Zd={},qp=["prefixPath","collectionGroup","readTime","documentId"],yp=["prefixPath","collectionGroup","documentId"],sf=["collectionGroup","readTime","prefixPath","documentId"],bp=["canonicalId","targetId"],Hf=["targetId","path"],Fh=["path","targetId"],Uf=["collectionId","parent"],zf=["indexId","uid"],Qg=["uid","sequenceNumber"],Xg=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],af=["indexId","uid","orderedDocumentKey"],xp=["userId","collectionPath","documentId"],Gm=["userId","collectionPath","largestBatchId"],B=["userId","collectionGroup","largestBatchId"],g=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],_=[...g,"documentOverlays"],M=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],W=M,we=[...W,"indexConfiguration","indexState","indexEntries"];class ht extends ql{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function gt(r,e){const t=Ri(r);return ro.M(t.se,e)}class nn{constructor(e,t,c,v){this.batchId=e,this.localWriteTime=t,this.baseMutations=c,this.mutations=v}applyToRemoteDocument(e,t){const c=t.mutationResults;for(let v=0;v<this.mutations.length;v++){const S=this.mutations[v];S.key.isEqual(e.key)&&_p(S,e,c[v])}}applyToLocalView(e,t){for(const c of this.baseMutations)c.key.isEqual(e.key)&&(t=Ff(c,e,t,this.localWriteTime));for(const c of this.mutations)c.key.isEqual(e.key)&&(t=Ff(c,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const c=Mh();return this.mutations.forEach(v=>{const S=e.get(v.key),V=S.overlayedDocument;let X=this.applyToLocalView(V,S.mutatedFields);X=t.has(v.key)?null:X;const ke=lh(V,X);null!==ke&&c.set(v.key,ke),V.isValidDocument()||V.convertToNoDocument(rr.min())}),c}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),as())}isEqual(e){return this.batchId===e.batchId&&Is(this.mutations,e.mutations,(t,c)=>Dh(t,c))&&Is(this.baseMutations,e.baseMutations,(t,c)=>Dh(t,c))}}class Cn{constructor(e,t,c,v){this.batch=e,this.commitVersion=t,this.mutationResults=c,this.docVersions=v}static from(e,t,c){$i(e.mutations.length===c.length);let v=hc;const S=e.mutations;for(let V=0;V<S.length;V++)v=v.insert(S[V].key,c[V].version);return new Cn(e,t,c,v)}}class ui{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class gi{constructor(e,t,c,v,S=rr.min(),V=rr.min(),X=Fi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=c,this.sequenceNumber=v,this.snapshotVersion=S,this.lastLimboFreeSnapshotVersion=V,this.resumeToken=X}withSequenceNumber(e){return new gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Wi{constructor(e){this.ie=e}}function mr(r,e){const t=e.key,c={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Mr(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())c.document={name:xd(v=r.ie,(S=e).key),fields:S.data.value.mapValue.fields,updateTime:yd(v,S.version.toTimestamp()),createTime:yd(v,S.createTime.toTimestamp())};else if(e.isNoDocument())c.noDocument={path:t.path.toArray(),readTime:ps(e.version)};else{if(!e.isUnknownDocument())return wi();c.unknownDocument={path:t.path.toArray(),version:ps(e.version)}}var v,S;return c}function Mr(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function ps(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function so(r){const e=new Zs(r.seconds,r.nanoseconds);return rr.fromTimestamp(e)}function va(r,e){const t=(e.baseMutations||[]).map(S=>Bn(r.ie,S));for(let S=0;S<e.mutations.length-1;++S){const V=e.mutations[S];S+1<e.mutations.length&&void 0!==e.mutations[S+1].transform&&(V.updateTransforms=e.mutations[S+1].transform.fieldTransforms,e.mutations.splice(S+1,1),++S)}const c=e.mutations.map(S=>Bn(r.ie,S)),v=Zs.fromMillis(e.localWriteTimeMs);return new nn(e.batchId,v,t,c)}function cl(r){const e=so(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?so(r.lastLimboFreeSnapshotVersion):rr.min();let c;var v;return void 0!==r.query.documents?($i(1===(v=r.query).documents.length),c=Tc(Cc(Ph(v.documents[0])))):c=Tc(zr(r.query)),new gi(c,r.targetId,0,r.lastListenSequenceNumber,e,t,Fi.fromBase64String(r.resumeToken))}function ic(r,e){const t=ps(e.snapshotVersion),c=ps(e.lastLimboFreeSnapshotVersion);let v;v=ud(e.target)?Ki(r.ie,e.target):pr(r.ie,e.target);const S=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ld(e.target),readTime:t,resumeToken:S,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:c,query:v}}function Ru(r){const e=zr({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Nd(e,e.limit,"L"):e}function Ac(r,e){return new ui(e.largestBatchId,Bn(r.ie,e.overlayMutation))}function zl(r,e){const t=e.path.lastSegment();return[r,Pl(e.path.popLast()),t]}function Cu(r,e,t,c){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:ps(c.readTime),documentKey:Pl(c.documentKey.path),largestBatchId:c.largestBatchId}}class Fu{getBundleMetadata(e,t){return Rc(e).get(t).next(c=>{if(c)return{id:(v=c).bundleId,createTime:so(v.createTime),version:v.version};var v})}saveBundleMetadata(e,t){return Rc(e).put({bundleId:(c=t).id,createTime:ps(Pa(c.createTime)),version:c.version});var c}getNamedQuery(e,t){return hh(e).get(t).next(c=>{if(c)return{name:(v=c).name,query:Ru(v.bundledQuery),readTime:so(v.readTime)};var v})}saveNamedQuery(e,t){return hh(e).put({name:(c=t).name,readTime:ps(Pa(c.readTime)),bundledQuery:c.bundledQuery});var c}}function Rc(r){return gt(r,"bundles")}function hh(r){return gt(r,"namedQueries")}class fh{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new fh(e,t.uid||"")}getOverlay(e,t){return Nu(e).get(zl(this.userId,t)).next(c=>c?Ac(this.yt,c):null)}getOverlays(e,t){const c=Jc();return ii.forEach(t,v=>this.getOverlay(e,v).next(S=>{null!==S&&c.set(v,S)})).next(()=>c)}saveOverlays(e,t,c){const v=[];return c.forEach((S,V)=>{const X=new ui(t,V);v.push(this.oe(e,X))}),ii.waitFor(v)}removeOverlaysForBatchId(e,t,c){const v=new Set;t.forEach(V=>v.add(Pl(V.getCollectionPath())));const S=[];return v.forEach(V=>{const X=IDBKeyRange.bound([this.userId,V,c],[this.userId,V,c+1],!1,!0);S.push(Nu(e).Y("collectionPathOverlayIndex",X))}),ii.waitFor(S)}getOverlaysForCollection(e,t,c){const v=Jc(),S=Pl(t),V=IDBKeyRange.bound([this.userId,S,c],[this.userId,S,Number.POSITIVE_INFINITY],!0);return Nu(e).W("collectionPathOverlayIndex",V).next(X=>{for(const ke of X){const rt=Ac(this.yt,ke);v.set(rt.getKey(),rt)}return v})}getOverlaysForCollectionGroup(e,t,c,v){const S=Jc();let V;const X=IDBKeyRange.bound([this.userId,t,c],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Nu(e).Z({index:"collectionGroupOverlayIndex",range:X},(ke,rt,Ut)=>{const vn=Ac(this.yt,rt);S.size()<v||vn.largestBatchId===V?(S.set(vn.getKey(),vn),V=vn.largestBatchId):Ut.done()}).next(()=>S)}oe(e,t){return Nu(e).put(function(c,v,S){const[V,X,ke]=zl(v,S.mutation.key);return{userId:v,collectionPath:X,documentId:ke,collectionGroup:S.mutation.key.getCollectionGroup(),largestBatchId:S.largestBatchId,overlayMutation:kt(c.ie,S.mutation)}}(this.yt,this.userId,t))}}function Nu(r){return gt(r,"documentOverlays")}class rd{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(Fs(e.integerValue));else if("doubleValue"in e){const c=Fs(e.doubleValue);isNaN(c)?this.he(t,13):(this.he(t,15),di(c)?t.le(0):t.le(c))}else if("timestampValue"in e){const c=e.timestampValue;this.he(t,20),"string"==typeof c?t.fe(c):(t.fe(`${c.seconds||""}`),t.le(c.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(Bl(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const c=e.geoPointValue;this.he(t,45),t.le(c.latitude||0),t.le(c.longitude||0)}else"mapValue"in e?bt(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):wi()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const c=e.fields||{};this.he(t,55);for(const v of Object.keys(c))this.de(v,t),this.ce(c[v],t)}ye(e,t){const c=e.values||[];this.he(t,50);for(const v of c)this.ce(v,t)}me(e,t){this.he(t,37),Oi.fromName(e).path.forEach(c=>{this.he(t,60),this.pe(c,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function ph(r){if(0===r)return 8;let e=0;return r>>4==0&&(e+=4,r<<=4),r>>6==0&&(e+=2,r<<=2),r>>7==0&&(e+=1),e}function Dr(r){const e=64-function(t){let c=0;for(let v=0;v<8;++v){const S=ph(255&t[v]);if(c+=S,8!==S)break}return c}(r);return Math.ceil(e/8)}rd.Ie=new rd;class Ar{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let c=t.next();for(;!c.done;)this.Ee(c.value),c=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let c=t.next();for(;!c.done;)this.be(c.value),c=t.next();this.Pe()}ve(e){for(const t of e){const c=t.charCodeAt(0);if(c<128)this.Ee(c);else if(c<2048)this.Ee(960|c>>>6),this.Ee(128|63&c);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|c>>>12),this.Ee(128|63&c>>>6),this.Ee(128|63&c);else{const v=t.codePointAt(0);this.Ee(240|v>>>18),this.Ee(128|63&v>>>12),this.Ee(128|63&v>>>6),this.Ee(128|63&v)}}this.Ae()}Ve(e){for(const t of e){const c=t.charCodeAt(0);if(c<128)this.be(c);else if(c<2048)this.be(960|c>>>6),this.be(128|63&c);else if(t<"\ud800"||"\udbff"<t)this.be(480|c>>>12),this.be(128|63&c>>>6),this.be(128|63&c);else{const v=t.codePointAt(0);this.be(240|v>>>18),this.be(128|63&v>>>12),this.be(128|63&v>>>6),this.be(128|63&v)}}this.Pe()}Se(e){const t=this.De(e),c=Dr(t);this.Ce(1+c),this.buffer[this.position++]=255&c;for(let v=t.length-c;v<t.length;++v)this.buffer[this.position++]=255&t[v]}xe(e){const t=this.De(e),c=Dr(t);this.Ce(1+c),this.buffer[this.position++]=~(255&c);for(let v=t.length-c;v<t.length;++v)this.buffer[this.position++]=~(255&t[v])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(v){const S=new DataView(new ArrayBuffer(8));return S.setFloat64(0,v,!1),new Uint8Array(S.buffer)}(e),c=0!=(128&t[0]);t[0]^=c?255:128;for(let v=1;v<t.length;++v)t[v]^=c?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let c=2*this.buffer.length;c<t&&(c=t);const v=new Uint8Array(c);v.set(this.buffer),this.buffer=v}}class jr{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class ko{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class za{constructor(){this.$e=new Ar,this.Be=new jr(this.$e),this.Le=new ko(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class Fc{constructor(e,t,c,v){this.indexId=e,this.documentKey=t,this.arrayValue=c,this.directionalValue=v}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,c=new Uint8Array(t);return c.set(this.directionalValue,0),t!==e?c.set([0],this.directionalValue.length):++c[c.length-1],new Fc(this.indexId,this.documentKey,this.arrayValue,c)}}function yl(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=uu(r.arrayValue,e.arrayValue),0!==t?t:(t=uu(r.directionalValue,e.directionalValue),0!==t?t:Oi.comparator(r.documentKey,e.documentKey)))}function uu(r,e){for(let t=0;t<r.length&&t<e.length;++t){const c=r[t]-e[t];if(0!==c)return c}return r.length-e.length}class sa{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const c=t;c.isInequality()?this.Qe=c:this.Ge.push(c)}}je(e){$i(e.collectionGroup===this.collectionId);const t=rl(e);if(void 0!==t&&!this.We(t))return!1;const c=ys(e);let v=0,S=0;for(;v<c.length&&this.We(c[v]);++v);if(v===c.length)return!0;if(void 0!==this.Qe){const V=c[v];if(!this.ze(this.Qe,V)||!this.He(this.Ke[S++],V))return!1;++v}for(;v<c.length;++v){const V=c[v];if(S>=this.Ke.length||!this.He(this.Ke[S++],V))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function jf(r){var e,t;if($i(r instanceof Qi||r instanceof Yr),r instanceof Qi){if(r instanceof Kh){const v=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(S=>Qi.create(r.field,"==",S)))||[];return Yr.create(v,"or")}return r}const c=r.filters.map(v=>jf(v));return Yr.create(c,r.op)}function Nh(r){if(0===r.getFilters().length)return[];const e=Nc(jf(r));return $i(Gl(e)),jl(e)||tu(e)?[e]:e.getFilters()}function jl(r){return r instanceof Qi}function tu(r){return r instanceof Yr&&ec(r)}function Gl(r){return jl(r)||tu(r)||function(e){if(e instanceof Yr&&xc(e)){for(const t of e.getFilters())if(!jl(t)&&!tu(t))return!1;return!0}return!1}(r)}function Nc(r){if($i(r instanceof Qi||r instanceof Yr),r instanceof Qi)return r;if(1===r.filters.length)return Nc(r.filters[0]);const e=r.filters.map(c=>Nc(c));let t=Yr.create(e,r.op);return t=Qp(t),Gl(t)?t:($i(t instanceof Yr),$i(bo(t)),$i(t.filters.length>1),t.filters.reduce((c,v)=>lf(c,v)))}function lf(r,e){let t;return $i(r instanceof Qi||r instanceof Yr),$i(e instanceof Qi||e instanceof Yr),t=r instanceof Qi?e instanceof Qi?Yr.create([r,e],"and"):Jg(r,e):e instanceof Qi?Jg(e,r):function(c,v){if($i(c.filters.length>0&&v.filters.length>0),bo(c)&&bo(v))return Id(c,v.getFilters());const S=xc(c)?c:v,V=xc(c)?v:c,X=S.filters.map(ke=>lf(ke,V));return Yr.create(X,"or")}(r,e),Qp(t)}function Jg(r,e){if(bo(e))return Id(e,r.getFilters());{const t=e.filters.map(c=>lf(r,c));return Yr.create(t,"or")}}function Qp(r){if($i(r instanceof Qi||r instanceof Yr),r instanceof Qi)return r;const e=r.getFilters();if(1===e.length)return Qp(e[0]);if(Uc(r))return r;const t=e.map(v=>Qp(v)),c=[];return t.forEach(v=>{v instanceof Qi?c.push(v):v instanceof Yr&&(v.op===r.op?c.push(...v.filters):c.push(v))}),1===c.length?c[0]:Yr.create(c,r.op)}class cv{constructor(){this.Je=new Gf}addToCollectionParentIndex(e,t){return this.Je.add(t),ii.resolve()}getCollectionParents(e,t){return ii.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return ii.resolve()}deleteFieldIndex(e,t){return ii.resolve()}getDocumentsMatchingTarget(e,t){return ii.resolve(null)}getIndexType(e,t){return ii.resolve(0)}getFieldIndexes(e,t){return ii.resolve([])}getNextCollectionGroupToUpdate(e){return ii.resolve(null)}getMinOffset(e,t){return ii.resolve(sl.min())}getMinOffsetFromCollectionGroup(e,t){return ii.resolve(sl.min())}updateCollectionGroup(e,t,c){return ii.resolve()}updateIndexEntries(e,t){return ii.resolve()}}class Gf{constructor(){this.index={}}add(e){const t=e.lastSegment(),c=e.popLast(),v=this.index[t]||new ra(Qr.comparator),S=!v.has(c);return this.index[t]=v.add(c),S}has(e){const t=e.lastSegment(),c=e.popLast(),v=this.index[t];return v&&v.has(c)}getEntries(e){return(this.index[e]||new ra(Qr.comparator)).toArray()}}const Xp=new Uint8Array(0);class $m{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new Gf,this.Xe=new cu(c=>Ld(c),(c,v)=>oh(c,v)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const c=t.lastSegment(),v=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const S={collectionId:c,parent:Pl(v)};return Wm(e).put(S)}return ii.resolve()}getCollectionParents(e,t){const c=[],v=IDBKeyRange.bound([t,""],[Al(t),""],!1,!0);return Wm(e).W(v).next(S=>{for(const V of S){if(V.collectionId!==t)break;c.push(Ja(V.parent))}return c})}addFieldIndex(e,t){const c=Jp(e),v={indexId:(V=t).indexId,collectionGroup:V.collectionGroup,fields:V.fields.map(X=>[X.fieldPath.canonicalString(),X.kind])};var V;delete v.indexId;const S=c.add(v);if(t.indexState){const V=$f(e);return S.next(X=>{V.put(Cu(X,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return S.next()}deleteFieldIndex(e,t){const c=Jp(e),v=$f(e),S=Bh(e);return c.delete(t.indexId).next(()=>v.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>S.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const c=Bh(e);let v=!0;const S=new Map;return ii.forEach(this.Ze(t),V=>this.tn(e,V).next(X=>{v&&(v=!!X),S.set(V,X)})).next(()=>{if(v){let V=as();const X=[];return ii.forEach(S,(ke,rt)=>{var Ut;Dn("IndexedDbIndexManager",`Using index ${Ut=ke,`id=${Ut.indexId}|cg=${Ut.collectionGroup}|f=${Ut.fields.map($o=>`${$o.fieldPath}:${$o.kind}`).join(",")}`} to execute ${Ld(t)}`);const vn=function($o,Io){const xo=rl(Io);if(void 0===xo)return null;for(const So of Rd($o,xo.fieldPath))switch(So.op){case"array-contains-any":return So.value.arrayValue.values||[];case"array-contains":return[So.value]}return null}(rt,ke),Jn=function($o,Io){const xo=new Map;for(const So of ys(Io))for(const su of Rd($o,So.fieldPath))switch(su.op){case"==":case"in":xo.set(So.fieldPath.canonicalString(),su.value);break;case"not-in":case"!=":return xo.set(So.fieldPath.canonicalString(),su.value),Array.from(xo.values())}return null}(rt,ke),Di=function($o,Io){const xo=[];let So=!0;for(const su of ys(Io)){const Wp=0===su.kind?Xh($o,su.fieldPath,$o.startAt):Ch($o,su.fieldPath,$o.startAt);xo.push(Wp.value),So&&(So=Wp.inclusive)}return new or(xo,So)}(rt,ke),Ei=function($o,Io){const xo=[];let So=!0;for(const su of ys(Io)){const Wp=0===su.kind?Ch($o,su.fieldPath,$o.endAt):Xh($o,su.fieldPath,$o.endAt);xo.push(Wp.value),So&&(So=Wp.inclusive)}return new or(xo,So)}(rt,ke),cr=this.en(ke,rt,Di),dr=this.en(ke,rt,Ei),Go=this.nn(ke,rt,Jn),Tl=this.sn(ke.indexId,vn,cr,Di.inclusive,dr,Ei.inclusive,Go);return ii.forEach(Tl,$o=>c.J($o,t.limit).next(Io=>{Io.forEach(xo=>{const So=Oi.fromSegments(xo.documentKey);V.has(So)||(V=V.add(So),X.push(So))})}))}).next(()=>X)}return ii.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:Nh(Yr.create(e.filters,"and")).map(c=>Qh(e.path,e.collectionGroup,e.orderBy,c.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,c,v,S,V,X){const ke=(null!=t?t.length:1)*Math.max(c.length,S.length),rt=ke/(null!=t?t.length:1),Ut=[];for(let vn=0;vn<ke;++vn){const Jn=t?this.rn(t[vn/rt]):Xp,Di=this.on(e,Jn,c[vn%rt],v),Ei=this.un(e,Jn,S[vn%rt],V),cr=X.map(dr=>this.on(e,Jn,dr,!0));Ut.push(...this.createRange(Di,Ei,cr))}return Ut}on(e,t,c,v){const S=new Fc(e,Oi.empty(),t,c);return v?S:S.Ue()}un(e,t,c,v){const S=new Fc(e,Oi.empty(),t,c);return v?S.Ue():S}tn(e,t){const c=new sa(t),v=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,v).next(S=>{let V=null;for(const X of S)c.je(X)&&(!V||X.fields.length>V.fields.length)&&(V=X);return V})}getIndexType(e,t){let c=2;const v=this.Ze(t);return ii.forEach(v,S=>this.tn(e,S).next(V=>{V?0!==c&&V.fields.length<function(X){let ke=new ra(Ts.comparator),rt=!1;for(const Ut of X.filters)for(const vn of Ut.getFlattenedFilters())vn.field.isKeyField()||("array-contains"===vn.op||"array-contains-any"===vn.op?rt=!0:ke=ke.add(vn.field));for(const Ut of X.orderBy)Ut.field.isKeyField()||(ke=ke.add(Ut.field));return ke.size+(rt?1:0)}(S)&&(c=1):c=0})).next(()=>null!==t.limit&&v.length>1&&2===c?1:c)}cn(e,t){const c=new za;for(const v of ys(e)){const S=t.data.field(v.fieldPath);if(null==S)return null;const V=c.qe(v.kind);rd.Ie.ue(S,V)}return c.Fe()}rn(e){const t=new za;return rd.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const c=new za;return rd.Ie.ue(dc(this.databaseId,t),c.qe(function(v){const S=ys(v);return 0===S.length?0:S[S.length-1].kind}(e))),c.Fe()}nn(e,t,c){if(null===c)return[];let v=[];v.push(new za);let S=0;for(const V of ys(e)){const X=c[S++];for(const ke of v)if(this.hn(t,V.fieldPath)&&ll(X))v=this.ln(v,V,X);else{const rt=ke.qe(V.kind);rd.Ie.ue(X,rt)}}return this.fn(v)}en(e,t,c){return this.nn(e,t,c.position)}fn(e){const t=[];for(let c=0;c<e.length;++c)t[c]=e[c].Fe();return t}ln(e,t,c){const v=[...e],S=[];for(const V of c.arrayValue.values||[])for(const X of v){const ke=new za;ke.seed(X.Fe()),rd.Ie.ue(V,ke.qe(t.kind)),S.push(ke)}return S}hn(e,t){return!!e.filters.find(c=>c instanceof Qi&&c.field.isEqual(t)&&("in"===c.op||"not-in"===c.op))}getFieldIndexes(e,t){const c=Jp(e),v=$f(e);return(t?c.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):c.W()).next(S=>{const V=[];return ii.forEach(S,X=>v.get([X.indexId,this.uid]).next(ke=>{V.push(function(rt,Ut){const vn=Ut?new Ks(Ut.sequenceNumber,new sl(so(Ut.readTime),new Oi(Ja(Ut.documentKey)),Ut.largestBatchId)):Ks.empty(),Jn=rt.fields.map(([Di,Ei])=>new pl(Ts.fromServerFormat(Di),Ei));return new Ro(rt.indexId,rt.collectionGroup,Jn,vn)}(X,ke))})).next(()=>V)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((c,v)=>{const S=c.indexState.sequenceNumber-v.indexState.sequenceNumber;return 0!==S?S:Pi(c.collectionGroup,v.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,c){const v=Jp(e),S=$f(e);return this.dn(e).next(V=>v.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(X=>ii.forEach(X,ke=>S.put(Cu(ke.indexId,this.user,V,c)))))}updateIndexEntries(e,t){const c=new Map;return ii.forEach(t,(v,S)=>{const V=c.get(v.collectionGroup);return(V?ii.resolve(V):this.getFieldIndexes(e,v.collectionGroup)).next(X=>(c.set(v.collectionGroup,X),ii.forEach(X,ke=>this._n(e,v,ke).next(rt=>{const Ut=this.wn(S,ke);return rt.isEqual(Ut)?ii.resolve():this.mn(e,S,ke,rt,Ut)}))))})}gn(e,t,c,v){return Bh(e).put({indexId:v.indexId,uid:this.uid,arrayValue:v.arrayValue,directionalValue:v.directionalValue,orderedDocumentKey:this.an(c,t.key),documentKey:t.key.path.toArray()})}yn(e,t,c,v){return Bh(e).delete([v.indexId,this.uid,v.arrayValue,v.directionalValue,this.an(c,t.key),t.key.path.toArray()])}_n(e,t,c){const v=Bh(e);let S=new ra(yl);return v.Z({index:"documentKeyIndex",range:IDBKeyRange.only([c.indexId,this.uid,this.an(c,t)])},(V,X)=>{S=S.add(new Fc(c.indexId,t,X.arrayValue,X.directionalValue))}).next(()=>S)}wn(e,t){let c=new ra(yl);const v=this.cn(t,e);if(null==v)return c;const S=rl(t);if(null!=S){const V=e.data.field(S.fieldPath);if(ll(V))for(const X of V.arrayValue.values||[])c=c.add(new Fc(t.indexId,e.key,this.rn(X),v))}else c=c.add(new Fc(t.indexId,e.key,Xp,v));return c}mn(e,t,c,v,S){Dn("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const V=[];return function(X,ke,rt,Ut,vn){const Jn=X.getIterator(),Di=ke.getIterator();let Ei=cd(Jn),cr=cd(Di);for(;Ei||cr;){let dr=!1,Go=!1;if(Ei&&cr){const Tl=rt(Ei,cr);Tl<0?Go=!0:Tl>0&&(dr=!0)}else null!=Ei?Go=!0:dr=!0;dr?(Ut(cr),cr=cd(Di)):Go?(vn(Ei),Ei=cd(Jn)):(Ei=cd(Jn),cr=cd(Di))}}(v,S,yl,X=>{V.push(this.gn(e,t,c,X))},X=>{V.push(this.yn(e,t,c,X))}),ii.waitFor(V)}dn(e){let t=1;return $f(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(c,v,S)=>{S.done(),t=v.sequenceNumber+1}).next(()=>t)}createRange(e,t,c){c=c.sort((V,X)=>yl(V,X)).filter((V,X,ke)=>!X||0!==yl(V,ke[X-1]));const v=[];v.push(e);for(const V of c){const X=yl(V,e),ke=yl(V,t);if(0===X)v[0]=e.Ue();else if(X>0&&ke<0)v.push(V),v.push(V.Ue());else if(ke>0)break}v.push(t);const S=[];for(let V=0;V<v.length;V+=2){if(this.pn(v[V],v[V+1]))return[];S.push(IDBKeyRange.bound([v[V].indexId,this.uid,v[V].arrayValue,v[V].directionalValue,Xp,[]],[v[V+1].indexId,this.uid,v[V+1].arrayValue,v[V+1].directionalValue,Xp,[]]))}return S}pn(e,t){return yl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Cd)}getMinOffset(e,t){return ii.mapArray(this.Ze(t),c=>this.tn(e,c).next(v=>v||wi())).next(Cd)}}function Wm(r){return gt(r,"collectionParents")}function Bh(r){return gt(r,"indexEntries")}function Jp(r){return gt(r,"indexConfiguration")}function $f(r){return gt(r,"indexState")}function Cd(r){$i(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let c=1;c<r.length;c++){const v=r[c].indexState.offset;qc(v,e)<0&&(e=v),t<v.largestBatchId&&(t=v.largestBatchId)}return new sl(e.readTime,e.documentKey,t)}const wp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ol{constructor(e,t,c){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=c}static withCacheSize(e){return new Ol(e,Ol.DEFAULT_COLLECTION_PERCENTILE,Ol.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Vh(r,e,t){const c=r.store("mutations"),v=r.store("documentMutations"),S=[],V=IDBKeyRange.only(t.batchId);let X=0;const ke=c.Z({range:V},(Ut,vn,Jn)=>(X++,Jn.delete()));S.push(ke.next(()=>{$i(1===X)}));const rt=[];for(const Ut of t.mutations){const vn=Lu(e,Ut.key.path,t.batchId);S.push(v.delete(vn)),rt.push(Ut.key)}return ii.waitFor(S).next(()=>rt)}function em(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw wi();e=r.noDocument}return JSON.stringify(e).length}Ol.DEFAULT_COLLECTION_PERCENTILE=10,Ol.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ol.DEFAULT=new Ol(41943040,Ol.DEFAULT_COLLECTION_PERCENTILE,Ol.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ol.DISABLED=new Ol(-1,0,0);class Ym{constructor(e,t,c,v){this.userId=e,this.yt=t,this.indexManager=c,this.referenceDelegate=v,this.In={}}static re(e,t,c,v){$i(""!==e.uid);const S=e.isAuthenticated()?e.uid:"";return new Ym(S,t,c,v)}checkEmpty(e){let t=!0;const c=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Hh(e).Z({index:"userMutationsIndex",range:c},(v,S,V)=>{t=!1,V.done()}).next(()=>t)}addMutationBatch(e,t,c,v){const S=Wf(e),V=Hh(e);return V.add({}).next(X=>{$i("number"==typeof X);const ke=new nn(X,t,c,v),rt=function(Jn,Di,Ei){const cr=Ei.baseMutations.map(Go=>kt(Jn.ie,Go)),dr=Ei.mutations.map(Go=>kt(Jn.ie,Go));return{userId:Di,batchId:Ei.batchId,localWriteTimeMs:Ei.localWriteTime.toMillis(),baseMutations:cr,mutations:dr}}(this.yt,this.userId,ke),Ut=[];let vn=new ra((Jn,Di)=>Pi(Jn.canonicalString(),Di.canonicalString()));for(const Jn of v){const Di=Lu(this.userId,Jn.key.path,X);vn=vn.add(Jn.key.path.popLast()),Ut.push(V.put(rt)),Ut.push(S.put(Di,Zd))}return vn.forEach(Jn=>{Ut.push(this.indexManager.addToCollectionParentIndex(e,Jn))}),e.addOnCommittedListener(()=>{this.In[X]=ke.keys()}),ii.waitFor(Ut).next(()=>ke)})}lookupMutationBatch(e,t){return Hh(e).get(t).next(c=>c?($i(c.userId===this.userId),va(this.yt,c)):null)}Tn(e,t){return this.In[t]?ii.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(c=>{if(c){const v=c.keys();return this.In[t]=v,v}return null})}getNextMutationBatchAfterBatchId(e,t){const c=t+1,v=IDBKeyRange.lowerBound([this.userId,c]);let S=null;return Hh(e).Z({index:"userMutationsIndex",range:v},(V,X,ke)=>{X.userId===this.userId&&($i(X.batchId>=c),S=va(this.yt,X)),ke.done()}).next(()=>S)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let c=-1;return Hh(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(v,S,V)=>{c=S.batchId,V.done()}).next(()=>c)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Hh(e).W("userMutationsIndex",t).next(c=>c.map(v=>va(this.yt,v)))}getAllMutationBatchesAffectingDocumentKey(e,t){const c=wd(this.userId,t.path),v=IDBKeyRange.lowerBound(c),S=[];return Wf(e).Z({range:v},(V,X,ke)=>{const[rt,Ut,vn]=V,Jn=Ja(Ut);if(rt===this.userId&&t.path.isEqual(Jn))return Hh(e).get(vn).next(Di=>{if(!Di)throw wi();$i(Di.userId===this.userId),S.push(va(this.yt,Di))});ke.done()}).next(()=>S)}getAllMutationBatchesAffectingDocumentKeys(e,t){let c=new ra(Pi);const v=[];return t.forEach(S=>{const V=wd(this.userId,S.path),X=IDBKeyRange.lowerBound(V),ke=Wf(e).Z({range:X},(rt,Ut,vn)=>{const[Jn,Di,Ei]=rt,cr=Ja(Di);Jn===this.userId&&S.path.isEqual(cr)?c=c.add(Ei):vn.done()});v.push(ke)}),ii.waitFor(v).next(()=>this.En(e,c))}getAllMutationBatchesAffectingQuery(e,t){const c=t.path,v=c.length+1,S=wd(this.userId,c),V=IDBKeyRange.lowerBound(S);let X=new ra(Pi);return Wf(e).Z({range:V},(ke,rt,Ut)=>{const[vn,Jn,Di]=ke,Ei=Ja(Jn);vn===this.userId&&c.isPrefixOf(Ei)?Ei.length===v&&(X=X.add(Di)):Ut.done()}).next(()=>this.En(e,X))}En(e,t){const c=[],v=[];return t.forEach(S=>{v.push(Hh(e).get(S).next(V=>{if(null===V)throw wi();$i(V.userId===this.userId),c.push(va(this.yt,V))}))}),ii.waitFor(v).next(()=>c)}removeMutationBatch(e,t){return Vh(e.se,this.userId,t).next(c=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ii.forEach(c,v=>this.referenceDelegate.markPotentiallyOrphaned(e,v))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ii.resolve();const c=IDBKeyRange.lowerBound([this.userId]),v=[];return Wf(e).Z({range:c},(S,V,X)=>{if(S[0]===this.userId){const ke=Ja(S[1]);v.push(ke)}else X.done()}).next(()=>{$i(0===v.length)})})}containsKey(e,t){return cf(e,this.userId,t)}Rn(e){return uf(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function cf(r,e,t){const c=wd(e,t.path),v=c[1],S=IDBKeyRange.lowerBound(c);let V=!1;return Wf(r).Z({range:S,X:!0},(X,ke,rt)=>{const[Ut,vn,Jn]=X;Ut===e&&vn===v&&(V=!0),rt.done()}).next(()=>V)}function Hh(r){return gt(r,"mutations")}function Wf(r){return gt(r,"documentMutations")}function uf(r){return gt(r,"mutationQueues")}class mh{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new mh(0)}static vn(){return new mh(-1)}}class Zm{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const c=new mh(t.highestTargetId);return t.highestTargetId=c.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>rr.fromTimestamp(new Zs(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,c){return this.Vn(e).next(v=>(v.highestListenSequenceNumber=t,c&&(v.lastRemoteSnapshotVersion=c.toTimestamp()),t>v.highestListenSequenceNumber&&(v.highestListenSequenceNumber=t),this.Sn(e,v)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(c=>(c.targetCount+=1,this.Cn(t,c),this.Sn(e,c))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>df(e).delete(t.targetId)).next(()=>this.Vn(e)).next(c=>($i(c.targetCount>0),c.targetCount-=1,this.Sn(e,c)))}removeTargets(e,t,c){let v=0;const S=[];return df(e).Z((V,X)=>{const ke=cl(X);ke.sequenceNumber<=t&&null===c.get(ke.targetId)&&(v++,S.push(this.removeTargetData(e,ke)))}).next(()=>ii.waitFor(S)).next(()=>v)}forEachTarget(e,t){return df(e).Z((c,v)=>{const S=cl(v);t(S)})}Vn(e){return Yf(e).get("targetGlobalKey").next(t=>($i(null!==t),t))}Sn(e,t){return Yf(e).put("targetGlobalKey",t)}Dn(e,t){return df(e).put(ic(this.yt,t))}Cn(e,t){let c=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,c=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,c=!0),c}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const c=Ld(t),v=IDBKeyRange.bound([c,Number.NEGATIVE_INFINITY],[c,Number.POSITIVE_INFINITY]);let S=null;return df(e).Z({range:v,index:"queryTargetsIndex"},(V,X,ke)=>{const rt=cl(X);oh(t,rt.target)&&(S=rt,ke.done())}).next(()=>S)}addMatchingKeys(e,t,c){const v=[],S=gh(e);return t.forEach(V=>{const X=Pl(V.path);v.push(S.put({targetId:c,path:X})),v.push(this.referenceDelegate.addReference(e,c,V))}),ii.waitFor(v)}removeMatchingKeys(e,t,c){const v=gh(e);return ii.forEach(t,S=>{const V=Pl(S.path);return ii.waitFor([v.delete([c,V]),this.referenceDelegate.removeReference(e,c,S)])})}removeMatchingKeysForTargetId(e,t){const c=gh(e),v=IDBKeyRange.bound([t],[t+1],!1,!0);return c.delete(v)}getMatchingKeysForTargetId(e,t){const c=IDBKeyRange.bound([t],[t+1],!1,!0),v=gh(e);let S=as();return v.Z({range:c,X:!0},(V,X,ke)=>{const rt=Ja(V[1]),Ut=new Oi(rt);S=S.add(Ut)}).next(()=>S)}containsKey(e,t){const c=Pl(t.path),v=IDBKeyRange.bound([c],[Al(c)],!1,!0);let S=0;return gh(e).Z({index:"documentTargetsIndex",X:!0,range:v},([V,X],ke,rt)=>{0!==V&&(S++,rt.done())}).next(()=>S>0)}ne(e,t){return df(e).get(t).next(c=>c?cl(c):null)}}function df(r){return gt(r,"targets")}function Yf(r){return gt(r,"targetGlobal")}function gh(r){return gt(r,"targetDocuments")}function Zf([r,e],[t,c]){const v=Pi(r,t);return 0===v?Pi(e,c):v}class Kf{constructor(e){this.xn=e,this.buffer=new ra(Zf),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const c=this.buffer.last();Zf(t,c)<0&&(this.buffer=this.buffer.delete(c).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Cp{constructor(e,t,c){this.garbageCollector=e,this.asyncQueue=t,this.localStore=c,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Dn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,We.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(c){uc(c)?Dn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",c):yield au(c)}yield t.Fn(3e5)}))}}class Km{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(c=>Math.floor(t/100*c))}nthSequenceNumber(e,t){if(0===t)return ii.resolve(Q.at);const c=new Kf(t);return this.$n.forEachTarget(e,v=>c.On(v.sequenceNumber)).next(()=>this.$n.Ln(e,v=>c.On(v))).next(()=>c.maxValue)}removeTargets(e,t,c){return this.$n.removeTargets(e,t,c)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Dn("LruGarbageCollector","Garbage collection skipped; disabled"),ii.resolve(wp)):this.getCacheSize(e).next(c=>c<this.params.cacheSizeCollectionThreshold?(Dn("LruGarbageCollector",`Garbage collection skipped; Cache size ${c} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wp):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let c,v,S,V,X,ke,rt;const Ut=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(vn=>(vn>this.params.maximumSequenceNumbersToCollect?(Dn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${vn}`),v=this.params.maximumSequenceNumbersToCollect):v=vn,V=Date.now(),this.nthSequenceNumber(e,v))).next(vn=>(c=vn,X=Date.now(),this.removeTargets(e,c,t))).next(vn=>(S=vn,ke=Date.now(),this.removeOrphanedDocuments(e,c))).next(vn=>(rt=Date.now(),dt()<=tt.in.DEBUG&&Dn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${V-Ut}ms\n\tDetermined least recently used ${v} in `+(X-V)+`ms\n\tRemoved ${S} targets in `+(ke-X)+`ms\n\tRemoved ${vn} documents in `+(rt-ke)+`ms\nTotal Duration: ${rt-Ut}ms`),ii.resolve({didRun:!0,sequenceNumbersCollected:v,targetsRemoved:S,documentsRemoved:vn})))}}class Kd{constructor(e,t){this.db=e,this.garbageCollector=new Km(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(c=>t.next(v=>c+v))}Un(e){let t=0;return this.Ln(e,c=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(c,v)=>t(v))}addReference(e,t,c){return Tp(e,c)}removeReference(e,t,c){return Tp(e,c)}removeTargets(e,t,c){return this.db.getTargetCache().removeTargets(e,t,c)}markPotentiallyOrphaned(e,t){return Tp(e,t)}Gn(e,t){return function(c,v){let S=!1;return uf(c).tt(V=>cf(c,V,v).next(X=>(X&&(S=!0),ii.resolve(!X)))).next(()=>S)}(e,t)}removeOrphanedDocuments(e,t){const c=this.db.getRemoteDocumentCache().newChangeBuffer(),v=[];let S=0;return this.Kn(e,(V,X)=>{if(X<=t){const ke=this.Gn(e,V).next(rt=>{if(!rt)return S++,c.getEntry(e,V).next(()=>(c.removeEntry(V,rr.min()),gh(e).delete([0,Pl(V.path)])))});v.push(ke)}}).next(()=>ii.waitFor(v)).next(()=>c.apply(e)).next(()=>S)}removeTarget(e,t){const c=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,c)}updateLimboDocument(e,t){return Tp(e,t)}Kn(e,t){const c=gh(e);let v,S=Q.at;return c.Z({index:"documentTargetsIndex"},([V,X],{path:ke,sequenceNumber:rt})=>{0===V?(S!==Q.at&&t(new Oi(Ja(v)),S),S=rt,v=ke):S=Q.at}).next(()=>{S!==Q.at&&t(new Oi(Ja(v)),S)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Tp(r,e){return gh(r).put((c=r.currentSequenceNumber,{targetId:0,path:Pl(e.path),sequenceNumber:c}));var c}class qm{constructor(){this.changes=new cu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ha.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const c=this.changes.get(t);return void 0!==c?ii.resolve(c):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class sy{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,c){return hf(e).put(c)}removeEntry(e,t,c){return hf(e).delete(function(v,S){const V=v.path.toArray();return[V.slice(0,V.length-2),V[V.length-2],Mr(S),V[V.length-1]]}(t,c))}updateMetadata(e,t){return this.getMetadata(e).next(c=>(c.byteSize+=t,this.Qn(e,c)))}getEntry(e,t){let c=ha.newInvalidDocument(t);return hf(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ff(t))},(v,S)=>{c=this.jn(t,S)}).next(()=>c)}Wn(e,t){let c={size:0,document:ha.newInvalidDocument(t)};return hf(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ff(t))},(v,S)=>{c={document:this.jn(t,S),size:em(S)}}).next(()=>c)}getEntries(e,t){let c=Oc();return this.zn(e,t,(v,S)=>{const V=this.jn(v,S);c=c.insert(v,V)}).next(()=>c)}Hn(e,t){let c=Oc(),v=new Qa(Oi.comparator);return this.zn(e,t,(S,V)=>{const X=this.jn(S,V);c=c.insert(S,X),v=v.insert(S,em(V))}).next(()=>({documents:c,Jn:v}))}zn(e,t,c){if(t.isEmpty())return ii.resolve();let v=new ra(uv);t.forEach(ke=>v=v.add(ke));const S=IDBKeyRange.bound(ff(v.first()),ff(v.last())),V=v.getIterator();let X=V.getNext();return hf(e).Z({index:"documentKeyIndex",range:S},(ke,rt,Ut)=>{const vn=Oi.fromSegments([...rt.prefixPath,rt.collectionGroup,rt.documentId]);for(;X&&uv(X,vn)<0;)c(X,null),X=V.getNext();X&&X.isEqual(vn)&&(c(X,rt),X=V.hasNext()?V.getNext():null),X?Ut.j(ff(X)):Ut.done()}).next(()=>{for(;X;)c(X,null),X=V.hasNext()?V.getNext():null})}getAllFromCollection(e,t,c){const v=[t.popLast().toArray(),t.lastSegment(),Mr(c.readTime),c.documentKey.path.isEmpty()?"":c.documentKey.path.lastSegment()],S=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return hf(e).W(IDBKeyRange.bound(v,S,!0)).next(V=>{let X=Oc();for(const ke of V){const rt=this.jn(Oi.fromSegments(ke.prefixPath.concat(ke.collectionGroup,ke.documentId)),ke);X=X.insert(rt.key,rt)}return X})}getAllFromCollectionGroup(e,t,c,v){let S=Oc();const V=t_(t,c),X=t_(t,sl.max());return hf(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(V,X,!0)},(ke,rt,Ut)=>{const vn=this.jn(Oi.fromSegments(rt.prefixPath.concat(rt.collectionGroup,rt.documentId)),rt);S=S.insert(vn.key,vn),S.size===v&&Ut.done()}).next(()=>S)}newChangeBuffer(e){return new Dp(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Bu(e).get("remoteDocumentGlobalKey").next(t=>($i(!!t),t))}Qn(e,t){return Bu(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const c=function sr(r,e){let t;if(e.document)t=k(r.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const c=Oi.fromSegments(e.noDocument.path),v=so(e.noDocument.readTime);t=ha.newNoDocument(c,v),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return wi();{const c=Oi.fromSegments(e.unknownDocument.path),v=so(e.unknownDocument.version);t=ha.newUnknownDocument(c,v)}}return e.readTime&&t.setReadTime(function(c){const v=new Zs(c[0],c[1]);return rr.fromTimestamp(v)}(e.readTime)),t}(this.yt,t);if(!c.isNoDocument()||!c.version.isEqual(rr.min()))return c}return ha.newInvalidDocument(e)}}function e_(r){return new sy(r)}class Dp extends qm{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new cu(c=>c.toString(),(c,v)=>c.isEqual(v))}applyChanges(e){const t=[];let c=0,v=new ra((S,V)=>Pi(S.canonicalString(),V.canonicalString()));return this.changes.forEach((S,V)=>{const X=this.Xn.get(S);if(t.push(this.Yn.removeEntry(e,S,X.readTime)),V.isValidDocument()){const ke=mr(this.Yn.yt,V);v=v.add(S.path.popLast()),c+=em(ke)-X.size,t.push(this.Yn.addEntry(e,S,ke))}else if(c-=X.size,this.trackRemovals){const ke=mr(this.Yn.yt,V.convertToNoDocument(rr.min()));t.push(this.Yn.addEntry(e,S,ke))}}),v.forEach(S=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,S))}),t.push(this.Yn.updateMetadata(e,c)),ii.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(c=>(this.Xn.set(t,{size:c.size,readTime:c.document.readTime}),c.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:c,Jn:v})=>(v.forEach((S,V)=>{this.Xn.set(S,{size:V,readTime:c.get(S).readTime})}),c))}}function Bu(r){return gt(r,"remoteDocumentGlobal")}function hf(r){return gt(r,"remoteDocumentsV14")}function ff(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function t_(r,e){const t=e.documentKey.path.toArray();return[r,Mr(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function uv(r,e){const t=r.path.toArray(),c=e.path.toArray();let v=0;for(let S=0;S<t.length-2&&S<c.length-2;++S)if(v=Pi(t[S],c[S]),v)return v;return v=Pi(t.length,c.length),v||(v=Pi(t[t.length-2],c[c.length-2]),v||Pi(t[t.length-1],c[c.length-1]))}class n_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class dv{constructor(e,t,c,v){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=c,this.indexManager=v}getDocument(e,t){let c=null;return this.documentOverlayCache.getOverlay(e,t).next(v=>(c=v,this.remoteDocumentCache.getEntry(e,t))).next(v=>(null!==c&&Ff(c.mutation,v,Ic.empty(),Zs.now()),v))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(c=>this.getLocalViewOfDocuments(e,c,as()).next(()=>c))}getLocalViewOfDocuments(e,t,c=as()){const v=Jc();return this.populateOverlays(e,v,t).next(()=>this.computeViews(e,t,v,c).next(S=>{let V=Ud();return S.forEach((X,ke)=>{V=V.insert(X,ke.overlayedDocument)}),V}))}getOverlayedDocuments(e,t){const c=Jc();return this.populateOverlays(e,c,t).next(()=>this.computeViews(e,t,c,as()))}populateOverlays(e,t,c){const v=[];return c.forEach(S=>{t.has(S)||v.push(S)}),this.documentOverlayCache.getOverlays(e,v).next(S=>{S.forEach((V,X)=>{t.set(V,X)})})}computeViews(e,t,c,v){let S=Oc();const V=_d(),X=_d();return t.forEach((ke,rt)=>{const Ut=c.get(rt.key);v.has(rt.key)&&(void 0===Ut||Ut.mutation instanceof Ju)?S=S.insert(rt.key,rt):void 0!==Ut?(V.set(rt.key,Ut.mutation.getFieldMask()),Ff(Ut.mutation,rt,Ut.mutation.getFieldMask(),Zs.now())):V.set(rt.key,Ic.empty())}),this.recalculateAndSaveOverlays(e,S).next(ke=>(ke.forEach((rt,Ut)=>V.set(rt,Ut)),t.forEach((rt,Ut)=>{var vn;return X.set(rt,new n_(Ut,null!==(vn=V.get(rt))&&void 0!==vn?vn:null))}),X))}recalculateAndSaveOverlays(e,t){const c=_d();let v=new Qa((V,X)=>V-X),S=as();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(V=>{for(const X of V)X.keys().forEach(ke=>{const rt=t.get(ke);if(null===rt)return;let Ut=c.get(ke)||Ic.empty();Ut=X.applyToLocalView(rt,Ut),c.set(ke,Ut);const vn=(v.get(X.batchId)||as()).add(ke);v=v.insert(X.batchId,vn)})}).next(()=>{const V=[],X=v.getReverseIterator();for(;X.hasNext();){const ke=X.getNext(),rt=ke.key,Ut=ke.value,vn=Mh();Ut.forEach(Jn=>{if(!S.has(Jn)){const Di=lh(t.get(Jn),c.get(Jn));null!==Di&&vn.set(Jn,Di),S=S.add(Jn)}}),V.push(this.documentOverlayCache.saveOverlays(e,rt,vn))}return ii.waitFor(V)}).next(()=>c)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(c=>this.recalculateAndSaveOverlays(e,c))}getDocumentsMatchingQuery(e,t,c){return Oi.isDocumentKey((v=t).path)&&null===v.collectionGroup&&0===v.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):dd(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,c):this.getDocumentsMatchingCollectionQuery(e,t,c);var v}getNextDocuments(e,t,c,v){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,c,v).next(S=>{const V=v-S.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,c.largestBatchId,v-S.size):ii.resolve(Jc());let X=-1,ke=S;return V.next(rt=>ii.forEach(rt,(Ut,vn)=>(X<vn.largestBatchId&&(X=vn.largestBatchId),S.get(Ut)?ii.resolve():this.remoteDocumentCache.getEntry(e,Ut).next(Jn=>{ke=ke.insert(Ut,Jn)}))).next(()=>this.populateOverlays(e,rt,S)).next(()=>this.computeViews(e,ke,rt,as())).next(Ut=>({batchId:X,changes:yu(Ut)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Oi(t)).next(c=>{let v=Ud();return c.isFoundDocument()&&(v=v.insert(c.key,c)),v})}getDocumentsMatchingCollectionGroupQuery(e,t,c){const v=t.collectionGroup;let S=Ud();return this.indexManager.getCollectionParents(e,v).next(V=>ii.forEach(V,X=>{const ke=(rt=t,Ut=X.child(v),new Mu(Ut,null,rt.explicitOrderBy.slice(),rt.filters.slice(),rt.limit,rt.limitType,rt.startAt,rt.endAt));var rt,Ut;return this.getDocumentsMatchingCollectionQuery(e,ke,c).next(rt=>{rt.forEach((Ut,vn)=>{S=S.insert(Ut,vn)})})}).next(()=>S))}getDocumentsMatchingCollectionQuery(e,t,c){let v;return this.remoteDocumentCache.getAllFromCollection(e,t.path,c).next(S=>(v=S,this.documentOverlayCache.getOverlaysForCollection(e,t.path,c.largestBatchId))).next(S=>{S.forEach((X,ke)=>{const rt=ke.getKey();null===v.get(rt)&&(v=v.insert(rt,ha.newInvalidDocument(rt)))});let V=Ud();return v.forEach((X,ke)=>{const rt=S.get(X);void 0!==rt&&Ff(rt.mutation,ke,Ic.empty(),Zs.now()),tc(t,ke)&&(V=V.insert(X,ke))}),V})}}class i_{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ii.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var c;return this.Zn.set(t.id,{id:(c=t).id,version:c.version,createTime:Pa(c.createTime)}),ii.resolve()}getNamedQuery(e,t){return ii.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(c=t).name,query:Ru(c.bundledQuery),readTime:Pa(c.readTime)}),ii.resolve();var c}}class oy{constructor(){this.overlays=new Qa(Oi.comparator),this.es=new Map}getOverlay(e,t){return ii.resolve(this.overlays.get(t))}getOverlays(e,t){const c=Jc();return ii.forEach(t,v=>this.getOverlay(e,v).next(S=>{null!==S&&c.set(v,S)})).next(()=>c)}saveOverlays(e,t,c){return c.forEach((v,S)=>{this.oe(e,t,S)}),ii.resolve()}removeOverlaysForBatchId(e,t,c){const v=this.es.get(c);return void 0!==v&&(v.forEach(S=>this.overlays=this.overlays.remove(S)),this.es.delete(c)),ii.resolve()}getOverlaysForCollection(e,t,c){const v=Jc(),S=t.length+1,V=new Oi(t.child("")),X=this.overlays.getIteratorFrom(V);for(;X.hasNext();){const ke=X.getNext().value,rt=ke.getKey();if(!t.isPrefixOf(rt.path))break;rt.path.length===S&&ke.largestBatchId>c&&v.set(ke.getKey(),ke)}return ii.resolve(v)}getOverlaysForCollectionGroup(e,t,c,v){let S=new Qa((rt,Ut)=>rt-Ut);const V=this.overlays.getIterator();for(;V.hasNext();){const rt=V.getNext().value;if(rt.getKey().getCollectionGroup()===t&&rt.largestBatchId>c){let Ut=S.get(rt.largestBatchId);null===Ut&&(Ut=Jc(),S=S.insert(rt.largestBatchId,Ut)),Ut.set(rt.getKey(),rt)}}const X=Jc(),ke=S.getIterator();for(;ke.hasNext()&&(ke.getNext().value.forEach((rt,Ut)=>X.set(rt,Ut)),!(X.size()>=v)););return ii.resolve(X)}oe(e,t,c){const v=this.overlays.get(c.key);if(null!==v){const V=this.es.get(v.largestBatchId).delete(c.key);this.es.set(v.largestBatchId,V)}this.overlays=this.overlays.insert(c.key,new ui(t,c));let S=this.es.get(t);void 0===S&&(S=as(),this.es.set(t,S)),this.es.set(t,S.add(c.key))}}class tm{constructor(){this.ns=new ra(Bc.ss),this.rs=new ra(Bc.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const c=new Bc(e,t);this.ns=this.ns.add(c),this.rs=this.rs.add(c)}us(e,t){e.forEach(c=>this.addReference(c,t))}removeReference(e,t){this.cs(new Bc(e,t))}hs(e,t){e.forEach(c=>this.removeReference(c,t))}ls(e){const t=new Oi(new Qr([])),c=new Bc(t,e),v=new Bc(t,e+1),S=[];return this.rs.forEachInRange([c,v],V=>{this.cs(V),S.push(V.key)}),S}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Oi(new Qr([])),c=new Bc(t,e),v=new Bc(t,e+1);let S=as();return this.rs.forEachInRange([c,v],V=>{S=S.add(V.key)}),S}containsKey(e){const t=new Bc(e,0),c=this.ns.firstAfterOrEqual(t);return null!==c&&e.isEqual(c.key)}}class Bc{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Oi.comparator(e.key,t.key)||Pi(e._s,t._s)}static os(e,t){return Pi(e._s,t._s)||Oi.comparator(e.key,t.key)}}class Qm{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new ra(Bc.ss)}checkEmpty(e){return ii.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,c,v){const S=this.ws;this.ws++;const V=new nn(S,t,c,v);this.mutationQueue.push(V);for(const X of v)this.gs=this.gs.add(new Bc(X.key,S)),this.indexManager.addToCollectionParentIndex(e,X.key.path.popLast());return ii.resolve(V)}lookupMutationBatch(e,t){return ii.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const v=this.ps(t+1),S=v<0?0:v;return ii.resolve(this.mutationQueue.length>S?this.mutationQueue[S]:null)}getHighestUnacknowledgedBatchId(){return ii.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ii.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const c=new Bc(t,0),v=new Bc(t,Number.POSITIVE_INFINITY),S=[];return this.gs.forEachInRange([c,v],V=>{const X=this.ys(V._s);S.push(X)}),ii.resolve(S)}getAllMutationBatchesAffectingDocumentKeys(e,t){let c=new ra(Pi);return t.forEach(v=>{const S=new Bc(v,0),V=new Bc(v,Number.POSITIVE_INFINITY);this.gs.forEachInRange([S,V],X=>{c=c.add(X._s)})}),ii.resolve(this.Is(c))}getAllMutationBatchesAffectingQuery(e,t){const c=t.path,v=c.length+1;let S=c;Oi.isDocumentKey(S)||(S=S.child(""));const V=new Bc(new Oi(S),0);let X=new ra(Pi);return this.gs.forEachWhile(ke=>{const rt=ke.key.path;return!!c.isPrefixOf(rt)&&(rt.length===v&&(X=X.add(ke._s)),!0)},V),ii.resolve(this.Is(X))}Is(e){const t=[];return e.forEach(c=>{const v=this.ys(c);null!==v&&t.push(v)}),t}removeMutationBatch(e,t){$i(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let c=this.gs;return ii.forEach(t.mutations,v=>{const S=new Bc(v.key,t.batchId);return c=c.delete(S),this.referenceDelegate.markPotentiallyOrphaned(e,v.key)}).next(()=>{this.gs=c})}An(e){}containsKey(e,t){const c=new Bc(t,0),v=this.gs.firstAfterOrEqual(c);return ii.resolve(t.isEqual(v&&v.key))}performConsistencyCheck(e){return ii.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class hv{constructor(e){this.Es=e,this.docs=new Qa(Oi.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const c=t.key,v=this.docs.get(c),S=v?v.size:0,V=this.Es(t);return this.docs=this.docs.insert(c,{document:t.mutableCopy(),size:V}),this.size+=V-S,this.indexManager.addToCollectionParentIndex(e,c.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const c=this.docs.get(t);return ii.resolve(c?c.document.mutableCopy():ha.newInvalidDocument(t))}getEntries(e,t){let c=Oc();return t.forEach(v=>{const S=this.docs.get(v);c=c.insert(v,S?S.document.mutableCopy():ha.newInvalidDocument(v))}),ii.resolve(c)}getAllFromCollection(e,t,c){let v=Oc();const S=new Oi(t.child("")),V=this.docs.getIteratorFrom(S);for(;V.hasNext();){const{key:X,value:{document:ke}}=V.getNext();if(!t.isPrefixOf(X.path))break;X.path.length>t.length+1||qc(Au(ke),c)<=0||(v=v.insert(ke.key,ke.mutableCopy()))}return ii.resolve(v)}getAllFromCollectionGroup(e,t,c,v){wi()}As(e,t){return ii.forEach(this.docs,c=>t(c))}newChangeBuffer(e){return new r_(this)}getSize(e){return ii.resolve(this.size)}}class r_ extends qm{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((c,v)=>{v.isValidDocument()?t.push(this.Yn.addEntry(e,v)):this.Yn.removeEntry(c)}),ii.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Td{constructor(e){this.persistence=e,this.Rs=new cu(t=>Ld(t),oh),this.lastRemoteSnapshotVersion=rr.min(),this.highestTargetId=0,this.bs=0,this.Ps=new tm,this.targetCount=0,this.vs=mh.Pn()}forEachTarget(e,t){return this.Rs.forEach((c,v)=>t(v)),ii.resolve()}getLastRemoteSnapshotVersion(e){return ii.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ii.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ii.resolve(this.highestTargetId)}setTargetsMetadata(e,t,c){return c&&(this.lastRemoteSnapshotVersion=c),t>this.bs&&(this.bs=t),ii.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new mh(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ii.resolve()}updateTargetData(e,t){return this.Dn(t),ii.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ii.resolve()}removeTargets(e,t,c){let v=0;const S=[];return this.Rs.forEach((V,X)=>{X.sequenceNumber<=t&&null===c.get(X.targetId)&&(this.Rs.delete(V),S.push(this.removeMatchingKeysForTargetId(e,X.targetId)),v++)}),ii.waitFor(S).next(()=>v)}getTargetCount(e){return ii.resolve(this.targetCount)}getTargetData(e,t){const c=this.Rs.get(t)||null;return ii.resolve(c)}addMatchingKeys(e,t,c){return this.Ps.us(t,c),ii.resolve()}removeMatchingKeys(e,t,c){this.Ps.hs(t,c);const v=this.persistence.referenceDelegate,S=[];return v&&t.forEach(V=>{S.push(v.markPotentiallyOrphaned(e,V))}),ii.waitFor(S)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ii.resolve()}getMatchingKeysForTargetId(e,t){const c=this.Ps.ds(t);return ii.resolve(c)}containsKey(e,t){return ii.resolve(this.Ps.containsKey(t))}}class s_{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Q(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Td(this),this.indexManager=new cv,this.remoteDocumentCache=new hv(c=>this.referenceDelegate.xs(c)),this.yt=new Wi(t),this.Ns=new i_(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new oy,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let c=this.Vs[e.toKey()];return c||(c=new Qm(t,this.referenceDelegate),this.Vs[e.toKey()]=c),c}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,c){Dn("MemoryPersistence","Starting transaction:",e);const v=new o_(this.Ss.next());return this.referenceDelegate.ks(),c(v).next(S=>this.referenceDelegate.Os(v).next(()=>S)).toPromise().then(S=>(v.raiseOnCommittedEvent(),S))}Ms(e,t){return ii.or(Object.values(this.Vs).map(c=>()=>c.containsKey(e,t)))}}class o_ extends ql{constructor(e){super(),this.currentSequenceNumber=e}}class nm{constructor(e){this.persistence=e,this.Fs=new tm,this.$s=null}static Bs(e){return new nm(e)}get Ls(){if(this.$s)return this.$s;throw wi()}addReference(e,t,c){return this.Fs.addReference(c,t),this.Ls.delete(c.toString()),ii.resolve()}removeReference(e,t,c){return this.Fs.removeReference(c,t),this.Ls.add(c.toString()),ii.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ii.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(v=>this.Ls.add(v.toString()));const c=this.persistence.getTargetCache();return c.getMatchingKeysForTargetId(e,t.targetId).next(v=>{v.forEach(S=>this.Ls.add(S.toString()))}).next(()=>c.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ii.forEach(this.Ls,c=>{const v=Oi.fromPath(c);return this.qs(e,v).next(S=>{S||t.removeEntry(v,rr.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(c=>{c?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return ii.or([()=>ii.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class fv{constructor(e){this.yt=e}$(e,t,c,v){const S=new Su("createOrUpgrade",t);var X;c<1&&v>=1&&(e.createObjectStore("owner"),(X=e).createObjectStore("mutationQueues",{keyPath:"userId"}),X.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Rh,{unique:!0}),X.createObjectStore("documentMutations"),a_(e),function(X){X.createObjectStore("remoteDocuments")}(e));let V=ii.resolve();return c<3&&v>=3&&(0!==c&&(function(X){X.deleteObjectStore("targetDocuments"),X.deleteObjectStore("targets"),X.deleteObjectStore("targetGlobal")}(e),a_(e)),V=V.next(()=>function(X){const ke=X.store("targetGlobal"),rt={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:rr.min().toTimestamp(),targetCount:0};return ke.put("targetGlobalKey",rt)}(S))),c<4&&v>=4&&(0!==c&&(V=V.next(()=>function(X,ke){return ke.store("mutations").W().next(rt=>{X.deleteObjectStore("mutations"),X.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Rh,{unique:!0});const Ut=ke.store("mutations"),vn=rt.map(Jn=>Ut.put(Jn));return ii.waitFor(vn)})}(e,S))),V=V.next(()=>{!function(X){X.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),c<5&&v>=5&&(V=V.next(()=>this.Us(S))),c<6&&v>=6&&(V=V.next(()=>(function(X){X.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(S)))),c<7&&v>=7&&(V=V.next(()=>this.Gs(S))),c<8&&v>=8&&(V=V.next(()=>this.Qs(e,S))),c<9&&v>=9&&(V=V.next(()=>{!function(X){X.objectStoreNames.contains("remoteDocumentChanges")&&X.deleteObjectStore("remoteDocumentChanges")}(e)})),c<10&&v>=10&&(V=V.next(()=>this.js(S))),c<11&&v>=11&&(V=V.next(()=>{(function(X){X.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(X){X.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),c<12&&v>=12&&(V=V.next(()=>{!function(X){const ke=X.createObjectStore("documentOverlays",{keyPath:xp});ke.createIndex("collectionPathOverlayIndex",Gm,{unique:!1}),ke.createIndex("collectionGroupOverlayIndex",B,{unique:!1})}(e)})),c<13&&v>=13&&(V=V.next(()=>function(X){const ke=X.createObjectStore("remoteDocumentsV14",{keyPath:qp});ke.createIndex("documentKeyIndex",yp),ke.createIndex("collectionGroupIndex",sf)}(e)).next(()=>this.Ws(e,S)).next(()=>e.deleteObjectStore("remoteDocuments"))),c<14&&v>=14&&(V=V.next(()=>this.zs(e,S))),c<15&&v>=15&&(V=V.next(()=>function(X){X.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),X.createObjectStore("indexState",{keyPath:zf}).createIndex("sequenceNumberIndex",Qg,{unique:!1}),X.createObjectStore("indexEntries",{keyPath:Xg}).createIndex("documentKeyIndex",af,{unique:!1})}(e))),V}Ks(e){let t=0;return e.store("remoteDocuments").Z((c,v)=>{t+=em(v)}).next(()=>{const c={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",c)})}Us(e){const t=e.store("mutationQueues"),c=e.store("mutations");return t.W().next(v=>ii.forEach(v,S=>{const V=IDBKeyRange.bound([S.userId,-1],[S.userId,S.lastAcknowledgedBatchId]);return c.W("userMutationsIndex",V).next(X=>ii.forEach(X,ke=>{$i(ke.userId===S.userId);const rt=va(this.yt,ke);return Vh(e,S.userId,rt).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),c=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(v=>{const S=[];return c.Z((V,X)=>{const ke=new Qr(V),rt=[0,Pl(ke)];S.push(t.get(rt).next(Ut=>Ut?ii.resolve():t.put({targetId:0,path:Pl(ke),sequenceNumber:v.highestListenSequenceNumber})))}).next(()=>ii.waitFor(S))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Uf});const c=t.store("collectionParents"),v=new Gf,S=V=>{if(v.add(V)){const X=V.lastSegment(),ke=V.popLast();return c.put({collectionId:X,parent:Pl(ke)})}};return t.store("remoteDocuments").Z({X:!0},(V,X)=>{const ke=new Qr(V);return S(ke.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([V,X,ke],rt)=>{const Ut=Ja(X);return S(Ut.popLast())}))}js(e){const t=e.store("targets");return t.Z((c,v)=>{const S=cl(v),V=ic(this.yt,S);return t.put(V)})}Ws(e,t){const c=t.store("remoteDocuments"),v=[];return c.Z((S,V)=>{const X=t.store("remoteDocumentsV14"),ke=(rt=V,rt.document?new Oi(Qr.fromString(rt.document.name).popFirst(5)):rt.noDocument?Oi.fromSegments(rt.noDocument.path):rt.unknownDocument?Oi.fromSegments(rt.unknownDocument.path):wi()).path.toArray();var rt;const Ut={prefixPath:ke.slice(0,ke.length-2),collectionGroup:ke[ke.length-2],documentId:ke[ke.length-1],readTime:V.readTime||[0,0],unknownDocument:V.unknownDocument,noDocument:V.noDocument,document:V.document,hasCommittedMutations:!!V.hasCommittedMutations};v.push(X.put(Ut))}).next(()=>ii.waitFor(v))}zs(e,t){const c=t.store("mutations"),v=e_(this.yt),S=new s_(nm.Bs,this.yt.ie);return c.W().next(V=>{const X=new Map;return V.forEach(ke=>{var rt;let Ut=null!==(rt=X.get(ke.userId))&&void 0!==rt?rt:as();va(this.yt,ke).keys().forEach(vn=>Ut=Ut.add(vn)),X.set(ke.userId,Ut)}),ii.forEach(X,(ke,rt)=>{const Ut=new Fr(rt),vn=fh.re(this.yt,Ut),Jn=S.getIndexManager(Ut),Di=Ym.re(Ut,this.yt,Jn,S.referenceDelegate);return new dv(v,Di,vn,Jn).recalculateAndSaveOverlaysForDocumentKeys(new ht(t,Q.at),ke).next()})})}}function a_(r){r.createObjectStore("targetDocuments",{keyPath:Hf}).createIndex("documentTargetsIndex",Fh,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",bp,{unique:!0}),r.createObjectStore("targetGlobal")}const Xm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class im{constructor(e,t,c,v,S,V,X,ke,rt,Ut,vn=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=c,this.Hs=S,this.window=V,this.document=X,this.Js=rt,this.Ys=Ut,this.Xs=vn,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=Jn=>Promise.resolve(),!im.C())throw new vi(Kn.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Kd(this,v),this.ii=t+"main",this.yt=new Wi(ke),this.ri=new ro(this.ii,this.Xs,new fv(this.yt)),this.Cs=new Zm(this.referenceDelegate,this.yt),this.remoteDocumentCache=e_(this.yt),this.Ns=new Fu,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===Ut&&Gi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new vi(Kn.FAILED_PRECONDITION,Xm);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Q(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var c=(0,We.Z)(function*(v){if(t.started)return e(v)});return function(v){return c.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,We.Z)(function*(c){null===c.newVersion&&(yield e())});return function(c){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,We.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>rm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(uc(e))return Dn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Dn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return pf(e).get("owner").next(t=>ii.resolve(this.mi(t)))}gi(e){return rm(e).delete(this.clientId)}yi(){var e=this;return(0,We.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",c=>{const v=gt(c,"clientMetadata");return v.W().next(S=>{const V=e.Ii(S,18e5),X=S.filter(ke=>-1===V.indexOf(ke));return ii.forEach(X,ke=>v.delete(ke.clientId)).next(()=>X)})}).catch(()=>[]);if(e.oi)for(const c of t)e.oi.removeItem(e.Ti(c.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ii.resolve(!0):pf(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new vi(Kn.FAILED_PRECONDITION,Xm);return!1}}return!(!this.networkEnabled||!this.inForeground)||rm(e).W().next(c=>void 0===this.Ii(c,5e3).find(v=>{if(this.clientId!==v.clientId){const V=!this.inForeground&&v.inForeground,X=this.networkEnabled===v.networkEnabled;if(!this.networkEnabled&&v.networkEnabled||V&&X)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Dn("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,We.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const c=new ht(t,Q.at);return e._i(c).next(()=>e.gi(c))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(c=>this.pi(c.updateTimeMs,t)&&!this.Ei(c.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>rm(e).W().next(t=>this.Ii(t,18e5).map(c=>c.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Ym.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new $m(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return fh.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,c){Dn("IndexedDbPersistence","Starting transaction:",e);const v="readonly"===t?"readonly":"readwrite",S=15===(V=this.Xs)?we:14===V?W:13===V?M:12===V?_:11===V?g:void wi();var V;let X;return this.ri.runTransaction(e,v,S,ke=>(X=new ht(ke,this.Ss?this.Ss.next():Q.at),"readwrite-primary"===t?this.fi(X).next(rt=>!!rt||this.di(X)).next(rt=>{if(!rt)throw Gi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new vi(Kn.FAILED_PRECONDITION,ad);return c(X)}).next(rt=>this.wi(X).next(()=>rt)):this.Vi(X).next(()=>c(X)))).then(ke=>(X.raiseOnCommittedEvent(),ke))}Vi(e){return pf(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new vi(Kn.FAILED_PRECONDITION,Xm)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return pf(e).put("owner",t)}static C(){return ro.C()}_i(e){const t=pf(e);return t.get("owner").next(c=>this.mi(c)?(Dn("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ii.resolve())}pi(e,t){const c=Date.now();return!(e<c-t||e>c&&(Gi(`Detected an update time that is in the future: ${e} > ${c}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,je.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const c=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Dn("IndexedDbPersistence",`Client '${e}' ${c?"is":"is not"} zombied in LocalStorage`),c}catch(c){return Gi("IndexedDbPersistence","Failed to get zombied client id.",c),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Gi("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function pf(r){return gt(r,"owner")}function rm(r){return gt(r,"clientMetadata")}function sm(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class Ds{constructor(e,t,c,v){this.targetId=e,this.fromCache=t,this.Si=c,this.Di=v}static Ci(e,t){let c=as(),v=as();for(const S of t.docChanges)switch(S.type){case 0:c=c.add(S.doc.key);break;case 1:v=v.add(S.doc.key)}return new Ds(e,t.fromCache,c,v)}}class mf{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,c,v){return this.ki(e,t).next(S=>S||this.Oi(e,t,v,c)).next(S=>S||this.Mi(e,t))}ki(e,t){if(mp(t))return ii.resolve(null);let c=Tc(t);return this.indexManager.getIndexType(e,c).next(v=>0===v?null:(null!==t.limit&&1===v&&(t=Nd(t,null,"F"),c=Tc(t)),this.indexManager.getDocumentsMatchingTarget(e,c).next(S=>{const V=as(...S);return this.Ni.getDocuments(e,V).next(X=>this.indexManager.getMinOffset(e,c).next(ke=>{const rt=this.Fi(t,X);return this.$i(t,rt,V,ke.readTime)?this.ki(e,Nd(t,null,"F")):this.Bi(e,rt,t,ke)}))})))}Oi(e,t,c,v){return mp(t)||v.isEqual(rr.min())?this.Mi(e,t):this.Ni.getDocuments(e,c).next(S=>{const V=this.Fi(t,S);return this.$i(t,V,c,v)?this.Mi(e,t):(dt()<=tt.in.DEBUG&&Dn("QueryEngine","Re-using previous result from %s to execute query: %s",v.toString(),Jh(t)),this.Bi(e,V,t,ou(v,-1)))})}Fi(e,t){let c=new ra(gp(e));return t.forEach((v,S)=>{tc(e,S)&&(c=c.add(S))}),c}$i(e,t,c,v){if(null===e.limit)return!1;if(c.size!==t.size)return!0;const S="F"===e.limitType?t.last():t.first();return!!S&&(S.hasPendingWrites||S.version.compareTo(v)>0)}Mi(e,t){return dt()<=tt.in.DEBUG&&Dn("QueryEngine","Using full collection scan to execute query:",Jh(t)),this.Ni.getDocumentsMatchingQuery(e,t,sl.min())}Bi(e,t,c,v){return this.Ni.getDocumentsMatchingQuery(e,c,v).next(S=>(t.forEach(V=>{S=S.insert(V.key,V)}),S))}}class l_{constructor(e,t,c,v){this.persistence=e,this.Li=t,this.yt=v,this.qi=new Qa(Pi),this.Ui=new cu(S=>Ld(S),oh),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(c)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dv(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function Jm(r,e,t,c){return new l_(r,e,t,c)}function c_(r,e){return eg.apply(this,arguments)}function eg(){return eg=(0,We.Z)(function*(r,e){const t=Ri(r);return yield t.persistence.runTransaction("Handle user change","readonly",c=>{let v;return t.mutationQueue.getAllMutationBatches(c).next(S=>(v=S,t.Qi(e),t.mutationQueue.getAllMutationBatches(c))).next(S=>{const V=[],X=[];let ke=as();for(const rt of v){V.push(rt.batchId);for(const Ut of rt.mutations)ke=ke.add(Ut.key)}for(const rt of S){X.push(rt.batchId);for(const Ut of rt.mutations)ke=ke.add(Ut.key)}return t.localDocuments.getDocuments(c,ke).next(rt=>({ji:rt,removedBatchIds:V,addedBatchIds:X}))})})}),eg.apply(this,arguments)}function u_(r,e){const t=Ri(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",c=>{const v=e.batch.keys(),S=t.Gi.newChangeBuffer({trackRemovals:!0});return function(V,X,ke,rt){const Ut=ke.batch,vn=Ut.keys();let Jn=ii.resolve();return vn.forEach(Di=>{Jn=Jn.next(()=>rt.getEntry(X,Di)).next(Ei=>{const cr=ke.docVersions.get(Di);$i(null!==cr),Ei.version.compareTo(cr)<0&&(Ut.applyToRemoteDocument(Ei,ke),Ei.isValidDocument()&&(Ei.setReadTime(ke.commitVersion),rt.addEntry(Ei)))})}),Jn.next(()=>V.mutationQueue.removeMutationBatch(X,Ut))}(t,c,e,S).next(()=>S.apply(c)).next(()=>t.mutationQueue.performConsistencyCheck(c)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(c,v,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,function(V){let X=as();for(let ke=0;ke<V.mutationResults.length;++ke)V.mutationResults[ke].transformResults.length>0&&(X=X.add(V.batch.mutations[ke].key));return X}(e))).next(()=>t.localDocuments.getDocuments(c,v))})}function d_(r){const e=Ri(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function h_(r,e){const t=Ri(r),c=e.snapshotVersion;let v=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",S=>{const V=t.Gi.newChangeBuffer({trackRemovals:!0});v=t.qi;const X=[];e.targetChanges.forEach((Ut,vn)=>{const Jn=v.get(vn);if(!Jn)return;X.push(t.Cs.removeMatchingKeys(S,Ut.removedDocuments,vn).next(()=>t.Cs.addMatchingKeys(S,Ut.addedDocuments,vn)));let Di=Jn.withSequenceNumber(S.currentSequenceNumber);var Ei,cr,dr;e.targetMismatches.has(vn)?Di=Di.withResumeToken(Fi.EMPTY_BYTE_STRING,rr.min()).withLastLimboFreeSnapshotVersion(rr.min()):Ut.resumeToken.approximateByteSize()>0&&(Di=Di.withResumeToken(Ut.resumeToken,c)),v=v.insert(vn,Di),cr=Di,dr=Ut,(0===(Ei=Jn).resumeToken.approximateByteSize()||cr.snapshotVersion.toMicroseconds()-Ei.snapshotVersion.toMicroseconds()>=3e8||dr.addedDocuments.size+dr.modifiedDocuments.size+dr.removedDocuments.size>0)&&X.push(t.Cs.updateTargetData(S,Di))});let ke=Oc(),rt=as();if(e.documentUpdates.forEach(Ut=>{e.resolvedLimboDocuments.has(Ut)&&X.push(t.persistence.referenceDelegate.updateLimboDocument(S,Ut))}),X.push(f_(S,V,e.documentUpdates).next(Ut=>{ke=Ut.Wi,rt=Ut.zi})),!c.isEqual(rr.min())){const Ut=t.Cs.getLastRemoteSnapshotVersion(S).next(vn=>t.Cs.setTargetsMetadata(S,S.currentSequenceNumber,c));X.push(Ut)}return ii.waitFor(X).next(()=>V.apply(S)).next(()=>t.localDocuments.getLocalViewOfDocuments(S,ke,rt)).next(()=>ke)}).then(S=>(t.qi=v,S))}function f_(r,e,t){let c=as(),v=as();return t.forEach(S=>c=c.add(S)),e.getEntries(r,c).next(S=>{let V=Oc();return t.forEach((X,ke)=>{const rt=S.get(X);ke.isFoundDocument()!==rt.isFoundDocument()&&(v=v.add(X)),ke.isNoDocument()&&ke.version.isEqual(rr.min())?(e.removeEntry(X,ke.readTime),V=V.insert(X,ke)):!rt.isValidDocument()||ke.version.compareTo(rt.version)>0||0===ke.version.compareTo(rt.version)&&rt.hasPendingWrites?(e.addEntry(ke),V=V.insert(X,ke)):Dn("LocalStore","Ignoring outdated watch update for ",X,". Current version:",rt.version," Watch version:",ke.version)}),{Wi:V,zi:v}})}function pv(r,e){const t=Ri(r);return t.persistence.runTransaction("Get next mutation batch","readonly",c=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(c,e)))}function Ap(r,e){const t=Ri(r);return t.persistence.runTransaction("Allocate target","readwrite",c=>{let v;return t.Cs.getTargetData(c,e).next(S=>S?(v=S,ii.resolve(v)):t.Cs.allocateTargetId(c).next(V=>(v=new gi(e,V,0,c.currentSequenceNumber),t.Cs.addTargetData(c,v).next(()=>v))))}).then(c=>{const v=t.qi.get(c.targetId);return(null===v||c.snapshotVersion.compareTo(v.snapshotVersion)>0)&&(t.qi=t.qi.insert(c.targetId,c),t.Ui.set(e,c.targetId)),c})}function gf(r,e,t){return om.apply(this,arguments)}function om(){return om=(0,We.Z)(function*(r,e,t){const c=Ri(r),v=c.qi.get(e),S=t?"readwrite":"readwrite-primary";try{t||(yield c.persistence.runTransaction("Release target",S,V=>c.persistence.referenceDelegate.removeTarget(V,v)))}catch(V){if(!uc(V))throw V;Dn("LocalStore",`Failed to update sequence numbers for target ${e}: ${V}`)}c.qi=c.qi.remove(e),c.Ui.delete(v.target)}),om.apply(this,arguments)}function qd(r,e,t){const c=Ri(r);let v=rr.min(),S=as();return c.persistence.runTransaction("Execute query","readonly",V=>function(X,ke,rt){const Ut=Ri(X),vn=Ut.Ui.get(rt);return void 0!==vn?ii.resolve(Ut.qi.get(vn)):Ut.Cs.getTargetData(ke,rt)}(c,V,Tc(e)).next(X=>{if(X)return v=X.lastLimboFreeSnapshotVersion,c.Cs.getMatchingKeysForTargetId(V,X.targetId).next(ke=>{S=ke})}).next(()=>c.Li.getDocumentsMatchingQuery(V,e,t?v:rr.min(),t?S:as())).next(X=>(lm(c,Rf(e),X),{documents:X,Hi:S})))}function p_(r,e){const t=Ri(r),c=Ri(t.Cs),v=t.qi.get(e);return v?Promise.resolve(v.target):t.persistence.runTransaction("Get target data","readonly",S=>c.ne(S,e).next(V=>V?V.target:null))}function am(r,e){const t=Ri(r),c=t.Ki.get(e)||rr.min();return t.persistence.runTransaction("Get new document changes","readonly",v=>t.Gi.getAllFromCollectionGroup(v,e,ou(c,-1),Number.MAX_SAFE_INTEGER)).then(v=>(lm(t,e,v),v))}function lm(r,e,t){let c=r.Ki.get(e)||rr.min();t.forEach((v,S)=>{S.readTime.compareTo(c)>0&&(c=S.readTime)}),r.Ki.set(e,c)}function tg(){return tg=(0,We.Z)(function*(r,e,t,c){const v=Ri(r);let S=as(),V=Oc();for(const rt of t){const Ut=e.Ji(rt.metadata.name);rt.document&&(S=S.add(Ut));const vn=e.Yi(rt);vn.setReadTime(e.Xi(rt.metadata.readTime)),V=V.insert(Ut,vn)}const X=v.Gi.newChangeBuffer({trackRemovals:!0}),ke=yield Ap(v,(rt=c,Tc(Cc(Qr.fromString(`__bundle__/docs/${rt}`)))));var rt;return v.persistence.runTransaction("Apply bundle documents","readwrite",rt=>f_(rt,X,V).next(Ut=>(X.apply(rt),Ut)).next(Ut=>v.Cs.removeMatchingKeysForTargetId(rt,ke.targetId).next(()=>v.Cs.addMatchingKeys(rt,S,ke.targetId)).next(()=>v.localDocuments.getLocalViewOfDocuments(rt,Ut.Wi,Ut.zi)).next(()=>Ut.Wi)))}),tg.apply(this,arguments)}function ay(r,e){return m_.apply(this,arguments)}function m_(){return m_=(0,We.Z)(function*(r,e,t=as()){const c=yield Ap(r,Tc(Ru(e.bundledQuery))),v=Ri(r);return v.persistence.runTransaction("Save named query","readwrite",S=>{const V=Pa(e.readTime);if(c.snapshotVersion.compareTo(V)>=0)return v.Ns.saveNamedQuery(S,e);const X=c.withResumeToken(Fi.EMPTY_BYTE_STRING,V);return v.qi=v.qi.insert(X.targetId,X),v.Cs.updateTargetData(S,X).next(()=>v.Cs.removeMatchingKeysForTargetId(S,c.targetId)).next(()=>v.Cs.addMatchingKeys(S,t,c.targetId)).next(()=>v.Ns.saveNamedQuery(S,e))})}),m_.apply(this,arguments)}function g_(r,e){return`firestore_clients_${r}_${e}`}function ng(r,e,t){let c=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(c+=`_${e.uid}`),c}function __(r,e){return`firestore_targets_${r}_${e}`}class _f{constructor(e,t,c,v){this.user=e,this.batchId=t,this.state=c,this.error=v}static Zi(e,t,c){const v=JSON.parse(c);let S,V="object"==typeof v&&-1!==["pending","acknowledged","rejected"].indexOf(v.state)&&(void 0===v.error||"object"==typeof v.error);return V&&v.error&&(V="string"==typeof v.error.message&&"string"==typeof v.error.code,V&&(S=new vi(v.error.code,v.error.message))),V?new _f(e,t,v.state,S):(Gi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${c}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qd{constructor(e,t,c){this.targetId=e,this.state=t,this.error=c}static Zi(e,t){const c=JSON.parse(t);let v,S="object"==typeof c&&-1!==["not-current","current","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return S&&c.error&&(S="string"==typeof c.error.message&&"string"==typeof c.error.code,S&&(v=new vi(c.error.code,c.error.message))),S?new Qd(e,c.state,v):(Gi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class cm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const c=JSON.parse(t);let v="object"==typeof c&&c.activeTargetIds instanceof Array,S=dh();for(let V=0;v&&V<c.activeTargetIds.length;++V)v=Ni(c.activeTargetIds[V]),S=S.add(c.activeTargetIds[V]);return v?new cm(e,S):(Gi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class um{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new um(t.clientId,t.onlineState):(Gi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Qf{constructor(){this.activeTargetIds=dh()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ig{constructor(e,t,c,v,S){this.window=e,this.Hs=t,this.persistenceKey=c,this.sr=v,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Qa(Pi),this.started=!1,this.cr=[];const V=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=S,this.ar=g_(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Qf),this.lr=new RegExp(`^firestore_clients_${V}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${V}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${V}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(X){return`firestore_bundle_loaded_v2_${X}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,We.Z)(function*(){const t=yield e.syncEngine.vi();for(const v of t){if(v===e.sr)continue;const S=e.getItem(g_(e.persistenceKey,v));if(S){const V=cm.Zi(v,S);V&&(e.ur=e.ur.insert(V.clientId,V))}}e.gr();const c=e.storage.getItem(e.wr);if(c){const v=e.yr(c);v&&e.pr(v)}for(const v of e.cr)e.rr(v);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((c,v)=>{v.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,c){this.Tr(e,t,c),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const c=this.storage.getItem(__(this.persistenceKey,e));if(c){const v=Qd.Zi(e,c);v&&(t=v.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(__(this.persistenceKey,e))}updateQueryState(e,t,c){this.Rr(e,t,c)}handleUserChange(e,t,c){t.forEach(v=>{this.Er(v)}),this.currentUser=e,c.forEach(v=>{this.addPendingMutation(v)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Dn("SharedClientState","READ",e,t),t}setItem(e,t){Dn("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Dn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const c=e;if(c.storageArea===this.storage){if(Dn("SharedClientState","EVENT",c.key,c.newValue),c.key===this.ar)return void Gi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,We.Z)(function*(){if(t.started){if(null!==c.key)if(t.lr.test(c.key)){if(null==c.newValue){const v=t.vr(c.key);return t.Vr(v,null)}{const v=t.Sr(c.key,c.newValue);if(v)return t.Vr(v.clientId,v)}}else if(t.dr.test(c.key)){if(null!==c.newValue){const v=t.Dr(c.key,c.newValue);if(v)return t.Cr(v)}}else if(t._r.test(c.key)){if(null!==c.newValue){const v=t.Nr(c.key,c.newValue);if(v)return t.kr(v)}}else if(c.key===t.wr){if(null!==c.newValue){const v=t.yr(c.newValue);if(v)return t.pr(v)}}else if(c.key===t.hr){const v=function(S){let V=Q.at;if(null!=S)try{const X=JSON.parse(S);$i("number"==typeof X),V=X}catch(X){Gi("SharedClientState","Failed to read sequence number from WebStorage",X)}return V}(c.newValue);v!==Q.at&&t.sequenceNumberHandler(v)}else if(c.key===t.mr){const v=t.Or(c.newValue);yield Promise.all(v.map(S=>t.syncEngine.Mr(S)))}}else t.cr.push(c)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,c){const v=new _f(this.currentUser,e,t,c),S=ng(this.persistenceKey,this.currentUser,e);this.setItem(S,v.tr())}Er(e){const t=ng(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,c){const v=__(this.persistenceKey,e),S=new Qd(e,t,c);this.setItem(v,S.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const c=this.vr(e);return cm.Zi(c,t)}Dr(e,t){const c=this.dr.exec(e),v=Number(c[1]);return _f.Zi(new Fr(void 0!==c[2]?c[2]:null),v,t)}Nr(e,t){const c=this._r.exec(e),v=Number(c[1]);return Qd.Zi(v,t)}yr(e){return um.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,We.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Dn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const c=t?this.ur.insert(e,t):this.ur.remove(e),v=this.Ir(this.ur),S=this.Ir(c),V=[],X=[];return S.forEach(ke=>{v.has(ke)||V.push(ke)}),v.forEach(ke=>{S.has(ke)||X.push(ke)}),this.syncEngine.Br(V,X).then(()=>{this.ur=c})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=dh();return e.forEach((c,v)=>{t=t.unionWith(v.activeTargetIds)}),t}}class rg{constructor(){this.Lr=new Qf,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,c){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,c){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Qf,Promise.resolve()}handleUserChange(e,t,c){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class mv{Ur(e){}shutdown(){}}class v_{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Dn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Dn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Xf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gv{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class _v extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,c,v,S){const V=this.ho(e,t);Dn("RestConnection","Sending: ",V,c);const X={};return this.lo(X,v,S),this.fo(e,V,X,c).then(ke=>(Dn("RestConnection","Received: ",ke),ke),ke=>{throw vs("RestConnection",`${e} failed with error: `,ke,"url: ",V,"request:",c),ke})}_o(e,t,c,v,S,V){return this.ao(e,t,c,v,S)}lo(e,t,c){e["X-Goog-Api-Client"]="gl-js/ fire/"+ne,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((v,S)=>e[S]=v),c&&c.headers.forEach((v,S)=>e[S]=v)}ho(e,t){return`${this.oo}/v1/${t}:${Xf[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,c,v){return new Promise((S,V)=>{const X=new yc;X.setWithCredentials(!0),X.listenOnce(Ec.COMPLETE,()=>{try{switch(X.getLastErrorCode()){case ga.NO_ERROR:const rt=X.getResponseJson();Dn("Connection","XHR received:",JSON.stringify(rt)),S(rt);break;case ga.TIMEOUT:Dn("Connection",'RPC "'+e+'" timed out'),V(new vi(Kn.DEADLINE_EXCEEDED,"Request time out"));break;case ga.HTTP_ERROR:const Ut=X.getStatus();if(Dn("Connection",'RPC "'+e+'" failed with status:',Ut,"response text:",X.getResponseText()),Ut>0){let vn=X.getResponseJson();Array.isArray(vn)&&(vn=vn[0]);const Jn=vn?.error;if(Jn&&Jn.status&&Jn.message){const Di=function(Ei){const cr=Ei.toLowerCase().replace(/_/g,"-");return Object.values(Kn).indexOf(cr)>=0?cr:Kn.UNKNOWN}(Jn.status);V(new vi(Di,Jn.message))}else V(new vi(Kn.UNKNOWN,"Server responded with status "+X.getStatus()))}else V(new vi(Kn.UNAVAILABLE,"Connection failed."));break;default:wi()}}finally{Dn("Connection",'RPC "'+e+'" completed.')}});const ke=JSON.stringify(v);X.send(t,"POST",ke,c,15)})}wo(e,t,c){const v=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],S=$s(),V=Nl(),X={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(X.xmlHttpFactory=new no({})),this.lo(X.initMessageHeaders,t,c),X.encodeInitMessageHeaders=!0;const ke=v.join("");Dn("Connection","Creating WebChannel: "+ke,X);const rt=S.createWebChannel(ke,X);let Ut=!1,vn=!1;const Jn=new gv({Hr:Ei=>{vn?Dn("Connection","Not sending because WebChannel is closed:",Ei):(Ut||(Dn("Connection","Opening WebChannel transport."),rt.open(),Ut=!0),Dn("Connection","WebChannel sending:",Ei),rt.send(Ei))},Jr:()=>rt.close()}),Di=(Ei,cr,dr)=>{Ei.listen(cr,Go=>{try{dr(Go)}catch(Tl){setTimeout(()=>{throw Tl},0)}})};return Di(rt,Kl.EventType.OPEN,()=>{vn||Dn("Connection","WebChannel transport opened.")}),Di(rt,Kl.EventType.CLOSE,()=>{vn||(vn=!0,Dn("Connection","WebChannel transport closed"),Jn.io())}),Di(rt,Kl.EventType.ERROR,Ei=>{vn||(vn=!0,vs("Connection","WebChannel transport errored:",Ei),Jn.io(new vi(Kn.UNAVAILABLE,"The operation could not be completed")))}),Di(rt,Kl.EventType.MESSAGE,Ei=>{var cr;if(!vn){const dr=Ei.data[0];$i(!!dr);const Go=dr,Tl=Go.error||(null===(cr=Go[0])||void 0===cr?void 0:cr.error);if(Tl){Dn("Connection","WebChannel received error:",Tl);const $o=Tl.status;let Io=function(So){const su=Il[So];if(void 0!==su)return Bf(su)}($o),xo=Tl.message;void 0===Io&&(Io=Kn.INTERNAL,xo="Unknown error status: "+$o+" with message "+Tl.message),vn=!0,Jn.io(new vi(Io,xo)),rt.close()}else Dn("Connection","WebChannel received:",dr),Jn.ro(dr)}}),Di(V,Mc.STAT_EVENT,Ei=>{Ei.stat===vc.PROXY?Dn("Connection","Detected buffering proxy"):Ei.stat===vc.NOPROXY&&Dn("Connection","Detected no buffering proxy")}),setTimeout(()=>{Jn.so()},0),Jn}}function sg(){return typeof window<"u"?window:null}function dm(){return typeof document<"u"?document:null}function Dd(r){return new Vf(r,!0)}class hm{constructor(e,t,c=1e3,v=1.5,S=6e4){this.Hs=e,this.timerId=t,this.mo=c,this.yo=v,this.po=S,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),c=Math.max(0,Date.now()-this.Eo),v=Math.max(0,t-c);v>0&&Dn("ExponentialBackoff",`Backing off for ${v} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${c} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,v,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class fm{constructor(e,t,c,v,S,V,X,ke){this.Hs=e,this.vo=c,this.Vo=v,this.connection=S,this.authCredentialsProvider=V,this.appCheckCredentialsProvider=X,this.listener=ke,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new hm(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,We.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,We.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var c=this;return(0,We.Z)(function*(){c.Lo(),c.qo(),c.xo.cancel(),c.So++,4!==e?c.xo.reset():t&&t.code===Kn.RESOURCE_EXHAUSTED?(Gi(t.toString()),Gi("Using maximum backoff delay to prevent overloading the backend."),c.xo.Ao()):t&&t.code===Kn.UNAUTHENTICATED&&3!==c.state&&(c.authCredentialsProvider.invalidateToken(),c.appCheckCredentialsProvider.invalidateToken()),null!==c.stream&&(c.Uo(),c.stream.close(),c.stream=null),c.state=e,yield c.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([c,v])=>{this.So===t&&this.Go(c,v)},c=>{e(()=>{const v=new vi(Kn.UNKNOWN,"Fetching auth token failed: "+c.message);return this.Qo(v)})})}Go(e,t){const c=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{c(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(v=>{c(()=>this.Qo(v))}),this.stream.onMessage(v=>{c(()=>this.onMessage(v))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,We.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Dn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Dn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class og extends fm{constructor(e,t,c,v,S,V){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,c,v,V),this.yt=S}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Qe(r,e){let t;if("targetChange"in e){const c="NO_CHANGE"===(ke=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===ke?1:"REMOVE"===ke?2:"CURRENT"===ke?3:"RESET"===ke?4:wi(),v=e.targetChange.targetIds||[],S=function(ke,rt){return ke.wt?($i(void 0===rt||"string"==typeof rt),Fi.fromBase64String(rt||"")):($i(void 0===rt||rt instanceof Uint8Array),Fi.fromUint8Array(rt||new Uint8Array))}(r,e.targetChange.resumeToken),V=e.targetChange.cause,X=V&&function(ke){const rt=void 0===ke.code?Kn.UNKNOWN:Bf(ke.code);return new vi(rt,ke.message||"")}(V);t=new eu(c,v,S,X||null)}else if("documentChange"in e){const c=e.documentChange,v=wu(r,c.document.name),S=Pa(c.document.updateTime),V=c.document.createTime?Pa(c.document.createTime):rr.min(),X=new wc({mapValue:{fields:c.document.fields}}),ke=ha.newFoundDocument(v,S,V,X);t=new Ou(c.targetIds||[],c.removedTargetIds||[],ke.key,ke)}else if("documentDelete"in e){const c=e.documentDelete,v=wu(r,c.document),S=c.readTime?Pa(c.readTime):rr.min(),V=ha.newNoDocument(v,S);t=new Ou([],c.removedTargetIds||[],V.key,V)}else if("documentRemove"in e){const c=e.documentRemove,v=wu(r,c.document);t=new Ou([],c.removedTargetIds||[],v,null)}else{if(!("filter"in e))return wi();{const c=e.filter,S=new Pu(c.count||0);t=new kh(c.targetId,S)}}var ke;return t}(this.yt,e),c=function(v){if(!("targetChange"in v))return rr.min();const S=v.targetChange;return S.targetIds&&S.targetIds.length?rr.min():S.readTime?Pa(S.readTime):rr.min()}(e);return this.listener.Wo(t,c)}zo(e){const t={};t.database=Gd(this.yt),t.addTarget=function(v,S){let V;const X=S.target;return V=ud(X)?{documents:Ki(v,X)}:{query:pr(v,X)},V.targetId=S.targetId,S.resumeToken.approximateByteSize()>0?V.resumeToken=xu(v,S.resumeToken):S.snapshotVersion.compareTo(rr.min())>0&&(V.readTime=yd(v,S.snapshotVersion.toTimestamp())),V}(this.yt,e);const c=function Or(r,e){const t=function(c,v){switch(v){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return wi()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);c&&(t.labels=c),this.Bo(t)}Ho(e){const t={};t.database=Gd(this.yt),t.removeTarget=e,this.Bo(t)}}class ag extends fm{constructor(e,t,c,v,S,V){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,c,v,V),this.yt=S,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if($i(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function fi(r,e){return r&&r.length>0?($i(void 0!==e),r.map(t=>function(c,v){let S=Pa(c.updateTime?c.updateTime:v);return S.isEqual(rr.min())&&(S=Pa(v)),new Iu(S,c.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),c=Pa(e.commitTime);return this.listener.Zo(c,t)}return $i(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Gd(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(c=>kt(this.yt,c))};this.Bo(t)}}class lg extends class{}{constructor(e,t,c,v){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=c,this.yt=v,this.nu=!1}su(){if(this.nu)throw new vi(Kn.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,c){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([v,S])=>this.connection.ao(e,t,c,v,S)).catch(v=>{throw"FirebaseError"===v.name?(v.code===Kn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),v):new vi(Kn.UNKNOWN,v.toString())})}_o(e,t,c,v){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([S,V])=>this.connection._o(e,t,c,S,V,v)).catch(S=>{throw"FirebaseError"===S.name?(S.code===Kn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),S):new vi(Kn.UNKNOWN,S.toString())})}terminate(){this.nu=!0}}class y_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Gi(t),this.ou=!1):Dn("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class vv{constructor(e,t,c,v,S){var V=this;this.localStore=e,this.datastore=t,this.asyncQueue=c,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=S,this.mu.Ur(X=>{c.enqueueAndForget((0,We.Z)(function*(){var ke;du(V)&&(Dn("RemoteStore","Restarting streams for network reachability change."),yield(ke=(0,We.Z)(function*(rt){const Ut=Ri(rt);Ut._u.add(4),yield zh(Ut),Ut.gu.set("Unknown"),Ut._u.delete(4),yield Uh(Ut)}),function(rt){return ke.apply(this,arguments)})(V))}))}),this.gu=new y_(c,v)}}function Uh(r){return sd.apply(this,arguments)}function sd(){return sd=(0,We.Z)(function*(r){if(du(r))for(const e of r.wu)yield e(!0)}),sd.apply(this,arguments)}function zh(r){return cg.apply(this,arguments)}function cg(){return cg=(0,We.Z)(function*(r){for(const e of r.wu)yield e(!1)}),cg.apply(this,arguments)}function Sp(r,e){const t=Ri(r);t.du.has(e.targetId)||(t.du.set(e.targetId,e),b_(t)?pm(t):_m(t).ko()&&Ep(t,e))}function Vu(r,e){const t=Ri(r),c=_m(t);t.du.delete(e),c.ko()&&ug(t,e),0===t.du.size&&(c.ko()?c.Fo():du(t)&&t.gu.set("Unknown"))}function Ep(r,e){r.yu.Ot(e.targetId),_m(r).zo(e)}function ug(r,e){r.yu.Ot(e),_m(r).Ho(e)}function pm(r){r.yu=new Ih({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>r.du.get(e)||null}),_m(r).start(),r.gu.uu()}function b_(r){return du(r)&&!_m(r).No()&&r.du.size>0}function du(r){return 0===Ri(r)._u.size}function cy(r){r.yu=void 0}function dg(r){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,We.Z)(function*(r){r.du.forEach((e,t)=>{Ep(r,e)})}),Mp.apply(this,arguments)}function x_(r,e){return kp.apply(this,arguments)}function kp(){return kp=(0,We.Z)(function*(r,e){cy(r),b_(r)?(r.gu.hu(e),pm(r)):r.gu.set("Unknown")}),kp.apply(this,arguments)}function w_(r,e,t){return hg.apply(this,arguments)}function hg(){return hg=(0,We.Z)(function*(r,e,t){if(r.gu.set("Online"),e instanceof eu&&2===e.state&&e.cause)try{yield(c=(0,We.Z)(function*(v,S){const V=S.cause;for(const X of S.targetIds)v.du.has(X)&&(yield v.remoteSyncer.rejectListen(X,V),v.du.delete(X),v.yu.removeTarget(X))}),function(v,S){return c.apply(this,arguments)})(r,e)}catch(c){Dn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),c),yield fg(r,c)}else if(e instanceof Ou?r.yu.Kt(e):e instanceof kh?r.yu.Jt(e):r.yu.jt(e),!t.isEqual(rr.min()))try{const c=yield d_(r.localStore);t.compareTo(c)>=0&&(yield function(v,S){const V=v.yu.Zt(S);return V.targetChanges.forEach((X,ke)=>{if(X.resumeToken.approximateByteSize()>0){const rt=v.du.get(ke);rt&&v.du.set(ke,rt.withResumeToken(X.resumeToken,S))}}),V.targetMismatches.forEach(X=>{const ke=v.du.get(X);if(!ke)return;v.du.set(X,ke.withResumeToken(Fi.EMPTY_BYTE_STRING,ke.snapshotVersion)),ug(v,X);const rt=new gi(ke.target,X,1,ke.sequenceNumber);Ep(v,rt)}),v.remoteSyncer.applyRemoteEvent(V)}(r,t))}catch(c){Dn("RemoteStore","Failed to raise snapshot:",c),yield fg(r,c)}var c}),hg.apply(this,arguments)}function fg(r,e,t){return pg.apply(this,arguments)}function pg(){return pg=(0,We.Z)(function*(r,e,t){if(!uc(e))throw e;r._u.add(1),yield zh(r),r.gu.set("Offline"),t||(t=()=>d_(r.localStore)),r.asyncQueue.enqueueRetryable((0,We.Z)(function*(){Dn("RemoteStore","Retrying IndexedDB access"),yield t(),r._u.delete(1),yield Uh(r)}))}),pg.apply(this,arguments)}function yv(r,e){return e().catch(t=>fg(r,t,e))}function mm(r){return mg.apply(this,arguments)}function mg(){return mg=(0,We.Z)(function*(r){const e=Ri(r),t=$c(e);let c=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;bv(e);)try{const v=yield pv(e.localStore,c);if(null===v){0===e.fu.length&&t.Fo();break}c=v.batchId,uy(e,v)}catch(v){yield fg(e,v)}xv(e)&&gg(e)}),mg.apply(this,arguments)}function bv(r){return du(r)&&r.fu.length<10}function uy(r,e){r.fu.push(e);const t=$c(r);t.ko()&&t.Yo&&t.Xo(e.mutations)}function xv(r){return du(r)&&!$c(r).No()&&r.fu.length>0}function gg(r){$c(r).start()}function C_(r){return _g.apply(this,arguments)}function _g(){return _g=(0,We.Z)(function*(r){$c(r).eu()}),_g.apply(this,arguments)}function vg(r){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,We.Z)(function*(r){const e=$c(r);for(const t of r.fu)e.Xo(t.mutations)}),Jf.apply(this,arguments)}function dy(r,e,t){return T_.apply(this,arguments)}function T_(){return T_=(0,We.Z)(function*(r,e,t){const c=r.fu.shift(),v=Cn.from(c,e,t);yield yv(r,()=>r.remoteSyncer.applySuccessfulWrite(v)),yield mm(r)}),T_.apply(this,arguments)}function wv(r,e){return yg.apply(this,arguments)}function yg(){return yg=(0,We.Z)(function*(r,e){var t;e&&$c(r).Yo&&(yield(t=(0,We.Z)(function*(c,v){if(ch(S=v.code)&&S!==Kn.ABORTED){const V=c.fu.shift();$c(c).Mo(),yield yv(c,()=>c.remoteSyncer.rejectFailedWrite(V.batchId,v)),yield mm(c)}var S}),function(c,v){return t.apply(this,arguments)})(r,e)),xv(r)&&gg(r)}),yg.apply(this,arguments)}function Cv(r,e){return Tv.apply(this,arguments)}function Tv(){return Tv=(0,We.Z)(function*(r,e){const t=Ri(r);t.asyncQueue.verifyOperationInProgress(),Dn("RemoteStore","RemoteStore received new credentials");const c=du(t);t._u.add(3),yield zh(t),c&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Uh(t)}),Tv.apply(this,arguments)}function Dv(r,e){return gm.apply(this,arguments)}function gm(){return gm=(0,We.Z)(function*(r,e){const t=Ri(r);e?(t._u.delete(2),yield Uh(t)):e||(t._u.add(2),yield zh(t),t.gu.set("Unknown"))}),gm.apply(this,arguments)}function _m(r){return r.pu||(r.pu=function(e,t,c){const v=Ri(e);return v.su(),new og(t,v.connection,v.authCredentials,v.appCheckCredentials,v.yt,c)}(r.datastore,r.asyncQueue,{Yr:dg.bind(null,r),Zr:x_.bind(null,r),Wo:w_.bind(null,r)}),r.wu.push(function(){var e=(0,We.Z)(function*(t){t?(r.pu.Mo(),b_(r)?pm(r):r.gu.set("Unknown")):(yield r.pu.stop(),cy(r))});return function(t){return e.apply(this,arguments)}}())),r.pu}function $c(r){return r.Iu||(r.Iu=function(e,t,c){const v=Ri(e);return v.su(),new ag(t,v.connection,v.authCredentials,v.appCheckCredentials,v.yt,c)}(r.datastore,r.asyncQueue,{Yr:C_.bind(null,r),Zr:wv.bind(null,r),tu:vg.bind(null,r),Zo:dy.bind(null,r)}),r.wu.push(function(){var e=(0,We.Z)(function*(t){t?(r.Iu.Mo(),yield mm(r)):(yield r.Iu.stop(),r.fu.length>0&&(Dn("RemoteStore",`Stopping write stream with ${r.fu.length} pending writes`),r.fu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Iu}class vm{constructor(e,t,c,v,S){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=c,this.op=v,this.removalCallback=S,this.deferred=new f,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(V=>{})}static createAndSchedule(e,t,c,v,S){const V=Date.now()+c,X=new vm(e,t,V,v,S);return X.start(c),X}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vi(Kn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ip(r,e){if(Gi("AsyncQueue",`${e}: ${r}`),uc(r))return new vi(Kn.UNAVAILABLE,`${e}: ${r}`);throw r}class vf{constructor(e){this.comparator=e?(t,c)=>e(t,c)||Oi.comparator(t.key,c.key):(t,c)=>Oi.comparator(t.key,c.key),this.keyedMap=Ud(),this.sortedSet=new Qa(this.comparator)}static emptySet(e){return new vf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,c)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),c=e.sortedSet.getIterator();for(;t.hasNext();){const v=t.getNext().key,S=c.getNext().key;if(!v.isEqual(S))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const c=new vf;return c.comparator=this.comparator,c.keyedMap=e,c.sortedSet=t,c}}class ym{constructor(){this.Tu=new Qa(Oi.comparator)}track(e){const t=e.doc.key,c=this.Tu.get(t);c?0!==e.type&&3===c.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==c.type?this.Tu=this.Tu.insert(t,{type:c.type,doc:e.doc}):2===e.type&&2===c.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===c.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===c.type?this.Tu=this.Tu.remove(t):1===e.type&&2===c.type?this.Tu=this.Tu.insert(t,{type:1,doc:c.doc}):0===e.type&&1===c.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):wi():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,c)=>{e.push(c)}),e}}class jh{constructor(e,t,c,v,S,V,X,ke,rt){this.query=e,this.docs=t,this.oldDocs=c,this.docChanges=v,this.mutatedKeys=S,this.fromCache=V,this.syncStateChanged=X,this.excludesMetadataChanges=ke,this.hasCachedResults=rt}static fromInitialDocuments(e,t,c,v,S){const V=[];return t.forEach(X=>{V.push({type:0,doc:X})}),new jh(e,t,vf.emptySet(t),V,c,v,!0,!1,S)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,c=e.docChanges;if(t.length!==c.length)return!1;for(let v=0;v<t.length;v++)if(t[v].type!==c[v].type||!t[v].doc.isEqual(c[v].doc))return!1;return!0}}class bg{constructor(){this.Au=void 0,this.listeners=[]}}class hy{constructor(){this.queries=new cu(e=>Zp(e),gl),this.onlineState="Unknown",this.Ru=new Set}}function _h(r,e){return xg.apply(this,arguments)}function xg(){return xg=(0,We.Z)(function*(r,e){const t=Ri(r),c=e.query;let v=!1,S=t.queries.get(c);if(S||(v=!0,S=new bg),v)try{S.Au=yield t.onListen(c)}catch(V){const X=Ip(V,`Initialization of query '${Jh(e.query)}' failed`);return void e.onError(X)}t.queries.set(c,S),S.listeners.push(e),e.bu(t.onlineState),S.Au&&e.Pu(S.Au)&&A_(t)}),xg.apply(this,arguments)}function bm(r,e){return wg.apply(this,arguments)}function wg(){return wg=(0,We.Z)(function*(r,e){const t=Ri(r),c=e.query;let v=!1;const S=t.queries.get(c);if(S){const V=S.listeners.indexOf(e);V>=0&&(S.listeners.splice(V,1),v=0===S.listeners.length)}if(v)return t.queries.delete(c),t.onUnlisten(c)}),wg.apply(this,arguments)}function D_(r,e){const t=Ri(r);let c=!1;for(const v of e){const V=t.queries.get(v.query);if(V){for(const X of V.listeners)X.Pu(v)&&(c=!0);V.Au=v}}c&&A_(t)}function Av(r,e,t){const c=Ri(r),v=c.queries.get(e);if(v)for(const S of v.listeners)S.onError(t);c.queries.delete(e)}function A_(r){r.Ru.forEach(e=>{e.next()})}class ep{constructor(e,t,c){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=c||{}}Pu(e){if(!this.options.includeMetadataChanges){const c=[];for(const v of e.docChanges)3!==v.type&&c.push(v);e=new jh(e.query,e.docs,e.oldDocs,c,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=jh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class tp{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class xm{constructor(e){this.yt=e}Ji(e){return wu(this.yt,e)}Yi(e){return e.metadata.exists?k(this.yt,e.document,!1):ha.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Pa(e)}}class Pp{constructor(e,t,c){this.Mu=e,this.localStore=t,this.yt=c,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=wm(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const c=Qr.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(c.get(c.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,c=new xm(this.yt);for(const v of e)if(v.metadata.queries){const S=c.Ji(v.metadata.name);for(const V of v.metadata.queries){const X=(t.get(V)||as()).add(S);t.set(V,X)}}return t}complete(){var e=this;return(0,We.Z)(function*(){const t=yield function qf(r,e,t,c){return tg.apply(this,arguments)}(e.localStore,new xm(e.yt),e.documents,e.Mu.id),c=e.$u(e.documents);for(const v of e.queries)yield ay(e.localStore,v,c.get(v.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function wm(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class Op{constructor(e){this.key=e}}class S_{constructor(e){this.key=e}}class E_{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=as(),this.mutatedKeys=as(),this.Gu=gp(e),this.Qu=new vf(this.Gu)}get ju(){return this.qu}Wu(e,t){const c=t?t.zu:new ym,v=t?t.Qu:this.Qu;let S=t?t.mutatedKeys:this.mutatedKeys,V=v,X=!1;const ke="F"===this.query.limitType&&v.size===this.query.limit?v.last():null,rt="L"===this.query.limitType&&v.size===this.query.limit?v.first():null;if(e.inorderTraversal((Ut,vn)=>{const Jn=v.get(Ut),Di=tc(this.query,vn)?vn:null,Ei=!!Jn&&this.mutatedKeys.has(Jn.key),cr=!!Di&&(Di.hasLocalMutations||this.mutatedKeys.has(Di.key)&&Di.hasCommittedMutations);let dr=!1;Jn&&Di?Jn.data.isEqual(Di.data)?Ei!==cr&&(c.track({type:3,doc:Di}),dr=!0):this.Hu(Jn,Di)||(c.track({type:2,doc:Di}),dr=!0,(ke&&this.Gu(Di,ke)>0||rt&&this.Gu(Di,rt)<0)&&(X=!0)):!Jn&&Di?(c.track({type:0,doc:Di}),dr=!0):Jn&&!Di&&(c.track({type:1,doc:Jn}),dr=!0,(ke||rt)&&(X=!0)),dr&&(Di?(V=V.add(Di),S=cr?S.add(Ut):S.delete(Ut)):(V=V.delete(Ut),S=S.delete(Ut)))}),null!==this.query.limit)for(;V.size>this.query.limit;){const Ut="F"===this.query.limitType?V.last():V.first();V=V.delete(Ut.key),S=S.delete(Ut.key),c.track({type:1,doc:Ut})}return{Qu:V,zu:c,$i:X,mutatedKeys:S}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,c){const v=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const S=e.zu.Eu();S.sort((rt,Ut)=>function(vn,Jn){const Di=Ei=>{switch(Ei){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wi()}};return Di(vn)-Di(Jn)}(rt.type,Ut.type)||this.Gu(rt.doc,Ut.doc)),this.Ju(c);const V=t?this.Yu():[],X=0===this.Ku.size&&this.current?1:0,ke=X!==this.Uu;return this.Uu=X,0!==S.length||ke?{snapshot:new jh(this.query,e.Qu,v,S,e.mutatedKeys,0===X,ke,!1,!!c&&c.resumeToken.approximateByteSize()>0),Xu:V}:{Xu:V}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new ym,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=as(),this.Qu.forEach(c=>{this.Zu(c.key)&&(this.Ku=this.Ku.add(c.key))});const t=[];return e.forEach(c=>{this.Ku.has(c)||t.push(new S_(c))}),this.Ku.forEach(c=>{e.has(c)||t.push(new Op(c))}),t}tc(e){this.qu=e.Hi,this.Ku=as();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return jh.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class M_{constructor(e,t,c){this.query=e,this.targetId=t,this.view=c}}class k_{constructor(e){this.key=e,this.nc=!1}}class I_{constructor(e,t,c,v,S,V){this.localStore=e,this.remoteStore=t,this.eventManager=c,this.sharedClientState=v,this.currentUser=S,this.maxConcurrentLimboResolutions=V,this.sc={},this.ic=new cu(X=>Zp(X),gl),this.rc=new Map,this.oc=new Set,this.uc=new Qa(Oi.comparator),this.cc=new Map,this.ac=new tm,this.hc={},this.lc=new Map,this.fc=mh.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function P_(r,e){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,We.Z)(function*(r,e){const t=Mg(r);let c,v;const S=t.ic.get(e);if(S)c=S.targetId,t.sharedClientState.addLocalQueryTarget(c),v=S.view.ec();else{const V=yield Ap(t.localStore,Tc(e));t.isPrimaryClient&&Sp(t.remoteStore,V);const X=t.sharedClientState.addLocalQueryTarget(V.targetId);c=V.targetId,v=yield Sv(t,e,c,"current"===X,V.resumeToken)}return v}),Cg.apply(this,arguments)}function Sv(r,e,t,c,v){return O_.apply(this,arguments)}function O_(){return O_=(0,We.Z)(function*(r,e,t,c,v){r._c=(vn,Jn,Di)=>{return(Ei=(0,We.Z)(function*(cr,dr,Go,Tl){let $o=dr.view.Wu(Go);$o.$i&&($o=yield qd(cr.localStore,dr.query,!1).then(({documents:So})=>dr.view.Wu(So,$o)));const Io=Tl&&Tl.targetChanges.get(dr.targetId),xo=dr.view.applyChanges($o,cr.isPrimaryClient,Io);return el(cr,dr.targetId,xo.Xu),xo.snapshot}),function(cr,dr,Go,Tl){return Ei.apply(this,arguments)})(r,vn,Jn,Di);var Ei};const S=yield qd(r.localStore,e,!0),V=new E_(e,S.Hi),X=V.Wu(S.documents),ke=ed.createSynthesizedTargetChangeForCurrentChange(t,c&&"Offline"!==r.onlineState,v),rt=V.applyChanges(X,r.isPrimaryClient,ke);el(r,t,rt.Xu);const Ut=new M_(e,t,V);return r.ic.set(e,Ut),r.rc.has(t)?r.rc.get(t).push(e):r.rc.set(t,[e]),rt.snapshot}),O_.apply(this,arguments)}function Ev(r,e){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,We.Z)(function*(r,e){const t=Ri(r),c=t.ic.get(e),v=t.rc.get(c.targetId);if(v.length>1)return t.rc.set(c.targetId,v.filter(S=>!gl(S,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(c.targetId),t.sharedClientState.isActiveQueryTarget(c.targetId)||(yield gf(t.localStore,c.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(c.targetId),Vu(t.remoteStore,c.targetId),yf(t,c.targetId)}).catch(au))):(yf(t,c.targetId),yield gf(t.localStore,c.targetId,!0))}),Tg.apply(this,arguments)}function Cm(){return Cm=(0,We.Z)(function*(r,e,t){const c=Im(r);try{const v=yield function(S,V){const X=Ri(S),ke=Zs.now(),rt=V.reduce((Jn,Di)=>Jn.add(Di.key),as());let Ut,vn;return X.persistence.runTransaction("Locally write mutations","readwrite",Jn=>{let Di=Oc(),Ei=as();return X.Gi.getEntries(Jn,rt).next(cr=>{Di=cr,Di.forEach((dr,Go)=>{Go.isValidDocument()||(Ei=Ei.add(dr))})}).next(()=>X.localDocuments.getOverlayedDocuments(Jn,Di)).next(cr=>{Ut=cr;const dr=[];for(const Go of V){const Tl=md(Go,Ut.get(Go.key).overlayedDocument);null!=Tl&&dr.push(new Ju(Go.key,Tl,mu(Tl.value.mapValue),Xa.exists(!0)))}return X.mutationQueue.addMutationBatch(Jn,ke,dr,V)}).next(cr=>{vn=cr;const dr=cr.applyToLocalDocumentSet(Ut,Ei);return X.documentOverlayCache.saveOverlays(Jn,cr.batchId,dr)})}).then(()=>({batchId:vn.batchId,changes:yu(Ut)}))}(c.localStore,e);c.sharedClientState.addPendingMutation(v.batchId),function(S,V,X){let ke=S.hc[S.currentUser.toKey()];ke||(ke=new Qa(Pi)),ke=ke.insert(V,X),S.hc[S.currentUser.toKey()]=ke}(c,v.batchId,t),yield vh(c,v.changes),yield mm(c.remoteStore)}catch(v){const S=Ip(v,"Failed to persist write");t.reject(S)}}),Cm.apply(this,arguments)}function kv(r,e){return Tu.apply(this,arguments)}function Tu(){return Tu=(0,We.Z)(function*(r,e){const t=Ri(r);try{const c=yield h_(t.localStore,e);e.targetChanges.forEach((v,S)=>{const V=t.cc.get(S);V&&($i(v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size<=1),v.addedDocuments.size>0?V.nc=!0:v.modifiedDocuments.size>0?$i(V.nc):v.removedDocuments.size>0&&($i(V.nc),V.nc=!1))}),yield vh(t,c,e)}catch(c){yield au(c)}}),Tu.apply(this,arguments)}function L_(r,e,t){const c=Ri(r);if(c.isPrimaryClient&&0===t||!c.isPrimaryClient&&1===t){const v=[];c.ic.forEach((S,V)=>{const X=V.view.bu(e);X.snapshot&&v.push(X.snapshot)}),function(S,V){const X=Ri(S);X.onlineState=V;let ke=!1;X.queries.forEach((rt,Ut)=>{for(const vn of Ut.listeners)vn.bu(V)&&(ke=!0)}),ke&&A_(X)}(c.eventManager,e),v.length&&c.sc.Wo(v),c.onlineState=e,c.isPrimaryClient&&c.sharedClientState.setOnlineState(e)}}function Iv(r,e,t){return Pv.apply(this,arguments)}function Pv(){return Pv=(0,We.Z)(function*(r,e,t){const c=Ri(r);c.sharedClientState.updateQueryState(e,"rejected",t);const v=c.cc.get(e),S=v&&v.key;if(S){let V=new Qa(Oi.comparator);V=V.insert(S,ha.newNoDocument(S,rr.min()));const X=as().add(S),ke=new bu(rr.min(),new Map,new ra(Pi),V,X);yield kv(c,ke),c.uc=c.uc.remove(S),c.cc.delete(e),Ag(c)}else yield gf(c.localStore,e,!1).then(()=>yf(c,e,t)).catch(au)}),Pv.apply(this,arguments)}function Ov(r,e){return Tm.apply(this,arguments)}function Tm(){return Tm=(0,We.Z)(function*(r,e){const t=Ri(r),c=e.batch.batchId;try{const v=yield u_(t.localStore,e);N_(t,c,null),Dg(t,c),t.sharedClientState.updateMutationState(c,"acknowledged"),yield vh(t,v)}catch(v){yield au(v)}}),Tm.apply(this,arguments)}function Lv(r,e,t){return R_.apply(this,arguments)}function R_(){return R_=(0,We.Z)(function*(r,e,t){const c=Ri(r);try{const v=yield function(S,V){const X=Ri(S);return X.persistence.runTransaction("Reject batch","readwrite-primary",ke=>{let rt;return X.mutationQueue.lookupMutationBatch(ke,V).next(Ut=>($i(null!==Ut),rt=Ut.keys(),X.mutationQueue.removeMutationBatch(ke,Ut))).next(()=>X.mutationQueue.performConsistencyCheck(ke)).next(()=>X.documentOverlayCache.removeOverlaysForBatchId(ke,rt,V)).next(()=>X.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(ke,rt)).next(()=>X.localDocuments.getDocuments(ke,rt))})}(c.localStore,e);N_(c,e,t),Dg(c,e),c.sharedClientState.updateMutationState(e,"rejected",t),yield vh(c,v)}catch(v){yield au(v)}}),R_.apply(this,arguments)}function F_(){return F_=(0,We.Z)(function*(r,e){const t=Ri(r);du(t.remoteStore)||Dn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const c=yield function(S){const V=Ri(S);return V.persistence.runTransaction("Get highest unacknowledged batch id","readonly",X=>V.mutationQueue.getHighestUnacknowledgedBatchId(X))}(t.localStore);if(-1===c)return void e.resolve();const v=t.lc.get(c)||[];v.push(e),t.lc.set(c,v)}catch(c){const v=Ip(c,"Initialization of waitForPendingWrites() operation failed");e.reject(v)}}),F_.apply(this,arguments)}function Dg(r,e){(r.lc.get(e)||[]).forEach(t=>{t.resolve()}),r.lc.delete(e)}function N_(r,e,t){const c=Ri(r);let v=c.hc[c.currentUser.toKey()];if(v){const S=v.get(e);S&&(t?S.reject(t):S.resolve(),v=v.remove(e)),c.hc[c.currentUser.toKey()]=v}}function yf(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const c of r.rc.get(e))r.ic.delete(c),t&&r.sc.wc(c,t);r.rc.delete(e),r.isPrimaryClient&&r.ac.ls(e).forEach(c=>{r.ac.containsKey(c)||B_(r,c)})}function B_(r,e){r.oc.delete(e.path.canonicalString());const t=r.uc.get(e);null!==t&&(Vu(r.remoteStore,t),r.uc=r.uc.remove(e),r.cc.delete(t),Ag(r))}function el(r,e,t){for(const c of t)c instanceof Op?(r.ac.addReference(c.key,e),Rv(r,c)):c instanceof S_?(Dn("SyncEngine","Document no longer in limbo: "+c.key),r.ac.removeReference(c.key,e),r.ac.containsKey(c.key)||B_(r,c.key)):wi()}function Rv(r,e){const t=e.key,c=t.path.canonicalString();r.uc.get(t)||r.oc.has(c)||(Dn("SyncEngine","New document in limbo: "+t),r.oc.add(c),Ag(r))}function Ag(r){for(;r.oc.size>0&&r.uc.size<r.maxConcurrentLimboResolutions;){const e=r.oc.values().next().value;r.oc.delete(e);const t=new Oi(Qr.fromString(e)),c=r.fc.next();r.cc.set(c,new k_(t)),r.uc=r.uc.insert(t,c),Sp(r.remoteStore,new gi(Tc(Cc(t.path)),c,2,Q.at))}}function vh(r,e,t){return Ad.apply(this,arguments)}function Ad(){return Ad=(0,We.Z)(function*(r,e,t){const c=Ri(r),v=[],S=[],V=[];var X;c.ic.isEmpty()||(c.ic.forEach((X,ke)=>{V.push(c._c(ke,e,t).then(rt=>{if((rt||t)&&c.isPrimaryClient&&c.sharedClientState.updateQueryState(ke.targetId,rt?.fromCache?"not-current":"current"),rt){v.push(rt);const Ut=Ds.Ci(ke.targetId,rt);S.push(Ut)}}))}),yield Promise.all(V),c.sc.Wo(v),yield(X=(0,We.Z)(function*(ke,rt){const Ut=Ri(ke);try{yield Ut.persistence.runTransaction("notifyLocalViewChanges","readwrite",vn=>ii.forEach(rt,Jn=>ii.forEach(Jn.Si,Di=>Ut.persistence.referenceDelegate.addReference(vn,Jn.targetId,Di)).next(()=>ii.forEach(Jn.Di,Di=>Ut.persistence.referenceDelegate.removeReference(vn,Jn.targetId,Di)))))}catch(vn){if(!uc(vn))throw vn;Dn("LocalStore","Failed to update sequence numbers: "+vn)}for(const vn of rt){const Jn=vn.targetId;if(!vn.fromCache){const Di=Ut.qi.get(Jn),cr=Di.withLastLimboFreeSnapshotVersion(Di.snapshotVersion);Ut.qi=Ut.qi.insert(Jn,cr)}}}),function(ke,rt){return X.apply(this,arguments)})(c.localStore,S))}),Ad.apply(this,arguments)}function Dm(r,e){return np.apply(this,arguments)}function np(){return np=(0,We.Z)(function*(r,e){const t=Ri(r);if(!t.currentUser.isEqual(e)){Dn("SyncEngine","User change. New user:",e.toKey());const c=yield c_(t.localStore,e);t.currentUser=e,(v=t).lc.forEach(V=>{V.forEach(X=>{X.reject(new vi(Kn.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),v.lc.clear(),t.sharedClientState.handleUserChange(e,c.removedBatchIds,c.addedBatchIds),yield vh(t,c.ji)}var v}),np.apply(this,arguments)}function py(r,e){const t=Ri(r),c=t.cc.get(e);if(c&&c.nc)return as().add(c.key);{let v=as();const S=t.rc.get(e);if(!S)return v;for(const V of S){const X=t.ic.get(V);v=v.unionWith(X.view.ju)}return v}}function Fv(r,e){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,We.Z)(function*(r,e){const t=Ri(r),c=yield qd(t.localStore,e.query,!0),v=e.view.tc(c);return t.isPrimaryClient&&el(t,e.targetId,v.Xu),v}),Sg.apply(this,arguments)}function V_(r,e){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,We.Z)(function*(r,e){const t=Ri(r);return am(t.localStore,e).then(c=>vh(t,c))}),Eg.apply(this,arguments)}function my(r,e,t,c){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,We.Z)(function*(r,e,t,c){const v=Ri(r),S=yield function(V,X){const ke=Ri(V),rt=Ri(ke.mutationQueue);return ke.persistence.runTransaction("Lookup mutation documents","readonly",Ut=>rt.Tn(Ut,X).next(vn=>vn?ke.localDocuments.getDocuments(Ut,vn):ii.resolve(null)))}(v.localStore,e);var X;null!==S?("pending"===t?yield mm(v.remoteStore):"acknowledged"===t||"rejected"===t?(N_(v,e,c||null),Dg(v,e),X=e,Ri(Ri(v.localStore).mutationQueue).An(X)):wi(),yield vh(v,S)):Dn("SyncEngine","Cannot apply mutation batch with id: "+e)}),Lp.apply(this,arguments)}function Am(){return Am=(0,We.Z)(function*(r,e){const t=Ri(r);if(Mg(t),Im(t),!0===e&&!0!==t.dc){const c=t.sharedClientState.getAllActiveQueryTargets(),v=yield Sm(t,c.toArray());t.dc=!0,yield Dv(t.remoteStore,!0);for(const S of v)Sp(t.remoteStore,S)}else if(!1===e&&!1!==t.dc){const c=[];let v=Promise.resolve();t.rc.forEach((S,V)=>{t.sharedClientState.isLocalQueryTarget(V)?c.push(V):v=v.then(()=>(yf(t,V),gf(t.localStore,V,!0))),Vu(t.remoteStore,V)}),yield v,yield Sm(t,c),function(S){const V=Ri(S);V.cc.forEach((X,ke)=>{Vu(V.remoteStore,ke)}),V.ac.fs(),V.cc=new Map,V.uc=new Qa(Oi.comparator)}(t),t.dc=!1,yield Dv(t.remoteStore,!1)}}),Am.apply(this,arguments)}function Sm(r,e,t){return Em.apply(this,arguments)}function Em(){return Em=(0,We.Z)(function*(r,e,t){const c=Ri(r),v=[],S=[];for(const V of e){let X;const ke=c.rc.get(V);if(ke&&0!==ke.length){X=yield Ap(c.localStore,Tc(ke[0]));for(const rt of ke){const Ut=c.ic.get(rt),vn=yield Fv(c,Ut);vn.snapshot&&S.push(vn.snapshot)}}else{const rt=yield p_(c.localStore,V);X=yield Ap(c.localStore,rt),yield Sv(c,Mm(rt),V,!1,X.resumeToken)}v.push(X)}return c.sc.Wo(S),v}),Em.apply(this,arguments)}function Mm(r){return zc(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function qy(r){const e=Ri(r);return Ri(Ri(e.localStore).persistence).vi()}function H_(r,e,t,c){return Nv.apply(this,arguments)}function Nv(){return Nv=(0,We.Z)(function*(r,e,t,c){const v=Ri(r);if(v.dc)return void Dn("SyncEngine","Ignoring unexpected query state notification.");const S=v.rc.get(e);if(S&&S.length>0)switch(t){case"current":case"not-current":{const V=yield am(v.localStore,Rf(S[0])),X=bu.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Fi.EMPTY_BYTE_STRING);yield vh(v,V,X);break}case"rejected":yield gf(v.localStore,e,!0),yf(v,e,c);break;default:wi()}}),Nv.apply(this,arguments)}function Bv(r,e,t){return km.apply(this,arguments)}function km(){return km=(0,We.Z)(function*(r,e,t){const c=Mg(r);if(c.dc){for(const v of e){if(c.rc.has(v)){Dn("SyncEngine","Adding an already active target "+v);continue}const S=yield p_(c.localStore,v),V=yield Ap(c.localStore,S);yield Sv(c,Mm(S),V.targetId,!1,V.resumeToken),Sp(c.remoteStore,V)}for(const v of t)c.rc.has(v)&&(yield gf(c.localStore,v,!1).then(()=>{Vu(c.remoteStore,v),yf(c,v)}).catch(au))}}),km.apply(this,arguments)}function Mg(r){const e=Ri(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=kv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=py.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Iv.bind(null,e),e.sc.Wo=D_.bind(null,e.eventManager),e.sc.wc=Av.bind(null,e.eventManager),e}function Im(r){const e=Ri(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ov.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Lv.bind(null,e),e}class Sd{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,We.Z)(function*(){t.yt=Dd(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Jm(this.persistence,new mf,e.initialUser,this.yt)}yc(e){return new s_(nm.Bs,this.yt)}gc(e){return new rg}terminate(){var e=this;return(0,We.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Pm extends Sd{constructor(e,t,c){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=c,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,c=this;return(0,We.Z)(function*(){yield t().call(c,e),yield c.Ac.initialize(c,e),yield Im(c.Ac.syncEngine),yield mm(c.Ac.remoteStore),yield c.persistence.li(()=>(c.gcScheduler&&!c.gcScheduler.started&&c.gcScheduler.start(),c.indexBackfillerScheduler&&!c.indexBackfillerScheduler.started&&c.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Jm(this.persistence,new mf,e.initialUser,this.yt)}Tc(e,t){return new Cp(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const c=new q(t,this.persistence);return new ea(e.asyncQueue,c)}yc(e){const t=sm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),c=void 0!==this.cacheSizeBytes?Ol.withCacheSize(this.cacheSizeBytes):Ol.DEFAULT;return new im(this.synchronizeTabs,t,e.clientId,c,e.asyncQueue,sg(),dm(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new rg}}class Om extends Pm{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,c=this;return(0,We.Z)(function*(){yield t().call(c,e);const v=c.Ac.syncEngine;c.sharedClientState instanceof ig&&(c.sharedClientState.syncEngine={Fr:my.bind(null,v),$r:H_.bind(null,v),Br:Bv.bind(null,v),vi:qy.bind(null,v),Mr:V_.bind(null,v)},yield c.sharedClientState.start()),yield c.persistence.li(function(){var S=(0,We.Z)(function*(V){yield function gy(r,e){return Am.apply(this,arguments)}(c.Ac.syncEngine,V),c.gcScheduler&&(V&&!c.gcScheduler.started?c.gcScheduler.start():V||c.gcScheduler.stop()),c.indexBackfillerScheduler&&(V&&!c.indexBackfillerScheduler.started?c.indexBackfillerScheduler.start():V||c.indexBackfillerScheduler.stop())});return function(V){return S.apply(this,arguments)}}())})()}gc(e){const t=sg();if(!ig.C(t))throw new vi(Kn.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const c=sm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ig(t,e.asyncQueue,c,e.clientId,e.initialUser)}}class ip{initialize(e,t){var c=this;return(0,We.Z)(function*(){c.localStore||(c.localStore=e.localStore,c.sharedClientState=e.sharedClientState,c.datastore=c.createDatastore(t),c.remoteStore=c.createRemoteStore(t),c.eventManager=c.createEventManager(t),c.syncEngine=c.createSyncEngine(t,!e.synchronizeTabs),c.sharedClientState.onlineStateHandler=v=>L_(c.syncEngine,v,1),c.remoteStore.remoteSyncer.handleCredentialChange=Dm.bind(null,c.syncEngine),yield Dv(c.remoteStore,c.syncEngine.isPrimaryClient))})()}createEventManager(e){return new hy}createDatastore(e){const t=Dd(e.databaseInfo.databaseId),c=new _v(e.databaseInfo);return new lg(e.authCredentials,e.appCheckCredentials,c,t)}createRemoteStore(e){return t=this.localStore,c=this.datastore,v=e.asyncQueue,S=X=>L_(this.syncEngine,X,0),V=v_.C()?new v_:new mv,new vv(t,c,v,S,V);var t,c,v,S,V}createSyncEngine(e,t){return function(c,v,S,V,X,ke,rt){const Ut=new I_(c,v,S,V,X,ke);return rt&&(Ut.dc=!0),Ut}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,We.Z)(function*(t){const c=Ri(t);Dn("RemoteStore","RemoteStore shutting down."),c._u.add(5),yield zh(c),c.mu.shutdown(),c.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function z_(r,e,t){if(!t)throw new vi(Kn.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function kg(r,e,t,c){if(!0===e&&!0===c)throw new vi(Kn.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function j_(r){if(!Oi.isDocumentKey(r))throw new vi(Kn.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Vv(r){if(Oi.isDocumentKey(r))throw new vi(Kn.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Lm(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":wi()}function fo(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new vi(Kn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Lm(r);throw new vi(Kn.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function G_(r,e){if(e<=0)throw new vi(Kn.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}const _y=new Map;class $_{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new vi(Kn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new vi(Kn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,kg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ig{constructor(e,t,c,v){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=c,this._app=v,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new vi(Kn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new vi(Kn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $_(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new H;switch(t.type){case"gapi":return new fn(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new vi(Kn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=_y.get(e);t&&(Dn("ComponentProvider","Removing Datastore"),_y.delete(e),t.terminate())}(this),Promise.resolve()}}class bl{constructor(e,t,c){this.converter=t,this._key=c,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ed(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bl(this.firestore,e,this._key)}}class Wc{constructor(e,t,c){this.converter=t,this._query=c,this.type="query",this.firestore=e}withConverter(e){return new Wc(this.firestore,e,this._query)}}class Ed extends Wc{constructor(e,t,c){super(e,t,Cc(c)),this._path=c,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bl(this.firestore,null,new Oi(e))}withConverter(e){return new Ed(this.firestore,e,this._path)}}function Pg(r,e,...t){if(r=(0,je.m9)(r),z_("collection","path",e),r instanceof Ig){const c=Qr.fromString(e,...t);return Vv(c),new Ed(r,null,c)}{if(!(r instanceof bl||r instanceof Ed))throw new vi(Kn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=r._path.child(Qr.fromString(e,...t));return Vv(c),new Ed(r.firestore,null,c)}}function rp(r,e,...t){if(r=(0,je.m9)(r),1===arguments.length&&(e=hr.R()),z_("doc","path",e),r instanceof Ig){const c=Qr.fromString(e,...t);return j_(c),new bl(r,null,new Oi(c))}{if(!(r instanceof bl||r instanceof Ed))throw new vi(Kn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=r._path.child(Qr.fromString(e,...t));return j_(c),new bl(r.firestore,r instanceof Ed?r.converter:null,new Oi(c))}}function Y_(r,e){return r=(0,je.m9)(r),e=(0,je.m9)(e),(r instanceof bl||r instanceof Ed)&&(e instanceof bl||e instanceof Ed)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function Z_(r,e){return r=(0,je.m9)(r),e=(0,je.m9)(e),r instanceof Wc&&e instanceof Wc&&r.firestore===e.firestore&&gl(r._query,e._query)&&r.converter===e.converter}function K_(r,e=10240){let t=0;return{read:()=>(0,We.Z)(function*(){if(t<r.byteLength){const c={value:r.slice(t,t+e),done:!1};return t+=e,c}return{done:!0}})(),cancel:()=>(0,We.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Og{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Gi("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class yy{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new f,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(c=>{c&&c.Ou()?this.metadata.resolve(c.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(c?.ku)}`))},c=>this.metadata.reject(c))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,We.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,We.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,We.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const c=e.vc.decode(t),v=Number(c);isNaN(v)&&e.Dc(`length string (${c}) is not valid number`);const S=yield e.Cc(v);return new tp(JSON.parse(S),t.length+v)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,We.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const c=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),c})()}Cc(e){var t=this;return(0,We.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const c=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),c})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,We.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const c=new Uint8Array(e.buffer.length+t.value.length);c.set(e.buffer),c.set(t.value,e.buffer.length),e.buffer=c}return t.done})()}}class xy{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,We.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new vi(Kn.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const c=yield(v=(0,We.Z)(function*(S,V){const X=Ri(S),ke=Gd(X.yt)+"/documents",rt={documents:V.map(Di=>xd(X.yt,Di))},Ut=yield X._o("BatchGetDocuments",ke,rt,V.length),vn=new Map;Ut.forEach(Di=>{const Ei=function Z(r,e){return"found"in e?function(t,c){$i(!!c.found);const v=wu(t,c.found.name),S=Pa(c.found.updateTime),V=c.found.createTime?Pa(c.found.createTime):rr.min(),X=new wc({mapValue:{fields:c.found.fields}});return ha.newFoundDocument(v,S,V,X)}(r,e):"missing"in e?function(t,c){$i(!!c.missing),$i(!!c.readTime);const v=wu(t,c.missing),S=Pa(c.readTime);return ha.newNoDocument(v,S)}(r,e):wi()}(X.yt,Di);vn.set(Ei.key.toString(),Ei)});const Jn=[];return V.forEach(Di=>{const Ei=vn.get(Di.toString());$i(!!Ei),Jn.push(Ei)}),Jn}),function(S,V){return v.apply(this,arguments)})(t.datastore,e);var v;return c.forEach(v=>t.recordVersion(v)),c})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(c){this.lastWriteError=c}this.writtenDocs.add(e.toString())}delete(e){this.write(new Hd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,We.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var c;e.mutations.forEach(c=>{t.delete(c.key.toString())}),t.forEach((c,v)=>{const S=Oi.fromPath(v);e.mutations.push(new Sh(S,e.precondition(S)))}),yield(c=(0,We.Z)(function*(v,S){const V=Ri(v),X=Gd(V.yt)+"/documents",ke={writes:S.map(rt=>kt(V.yt,rt))};yield V.ao("Commit",X,ke)}),function(v,S){return c.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw wi();t=rr.min()}const c=this.readVersions.get(e.key.toString());if(c){if(!t.isEqual(c))throw new vi(Kn.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(rr.min())?Xa.exists(!1):Xa.updateTime(t):Xa.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(rr.min()))throw new vi(Kn.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xa.updateTime(t)}return Xa.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Rp{constructor(e,t,c,v,S){this.asyncQueue=e,this.datastore=t,this.options=c,this.updateFunction=v,this.deferred=S,this.kc=c.maxAttempts,this.xo=new hm(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,We.Z)(function*(){const t=new xy(e.datastore),c=e.Mc(t);c&&c.then(v=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(v)}).catch(S=>{e.Fc(S)}))}).catch(v=>{e.Fc(v)})}))}Mc(e){try{const t=this.updateFunction(e);return!dn(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!ch(t)}return!1}}class wy{constructor(e,t,c,v){var S=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=c,this.databaseInfo=v,this.user=Fr.UNAUTHENTICATED,this.clientId=hr.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(c,function(){var V=(0,We.Z)(function*(X){Dn("FirestoreClient","Received user=",X.uid),yield S.authCredentialListener(X),S.user=X});return function(X){return V.apply(this,arguments)}}()),this.appCheckCredentials.start(c,V=>(Dn("FirestoreClient","Received new app check token=",V),this.appCheckCredentialListener(V,this.user)))}getConfiguration(){var e=this;return(0,We.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new vi(Kn.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new f;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,We.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(c){const v=Ip(c,"Failed to shutdown persistence");t.reject(v)}})),t.promise}}function Hv(r,e){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,We.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Dn("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let c=t.initialUser;r.setCredentialChangeListener(function(){var v=(0,We.Z)(function*(S){c.isEqual(S)||(yield c_(e.localStore,S),c=S)});return function(S){return v.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=e}),Fm.apply(this,arguments)}function Cy(r,e){return Md.apply(this,arguments)}function Md(){return Md=(0,We.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield sp(r);Dn("FirestoreClient","Initializing OnlineComponentProvider");const c=yield r.getConfiguration();yield e.initialize(t,c),r.setCredentialChangeListener(v=>Cv(e.remoteStore,v)),r.setAppCheckTokenChangeListener((v,S)=>Cv(e.remoteStore,S)),r.onlineComponents=e}),Md.apply(this,arguments)}function sp(r){return Yc.apply(this,arguments)}function Yc(){return Yc=(0,We.Z)(function*(r){return r.offlineComponents||(Dn("FirestoreClient","Using default OfflineComponentProvider"),yield Hv(r,new Sd)),r.offlineComponents}),Yc.apply(this,arguments)}function yh(r){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,We.Z)(function*(r){return r.onlineComponents||(Dn("FirestoreClient","Using default OnlineComponentProvider"),yield Cy(r,new ip)),r.onlineComponents}),Fp.apply(this,arguments)}function Hu(r){return sp(r).then(e=>e.persistence)}function op(r){return sp(r).then(e=>e.localStore)}function ap(r){return yh(r).then(e=>e.remoteStore)}function xf(r){return yh(r).then(e=>e.syncEngine)}function Jd(r){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,We.Z)(function*(r){const e=yield yh(r),t=e.eventManager;return t.onListen=P_.bind(null,e.syncEngine),t.onUnlisten=Ev.bind(null,e.syncEngine),t}),Cf.apply(this,arguments)}function Uu(r,e,t={}){const c=new f;return r.asyncQueue.enqueueAndForget((0,We.Z)(function*(){return function(v,S,V,X,ke){const rt=new Og({next:vn=>{S.enqueueAndForget(()=>bm(v,Ut));const Jn=vn.docs.has(V);!Jn&&vn.fromCache?ke.reject(new vi(Kn.UNAVAILABLE,"Failed to get document because the client is offline.")):Jn&&vn.fromCache&&X&&"server"===X.source?ke.reject(new vi(Kn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):ke.resolve(vn)},error:vn=>ke.reject(vn)}),Ut=new ep(Cc(V.path),rt,{includeMetadataChanges:!0,Nu:!0});return _h(v,Ut)}(yield Jd(r),r.asyncQueue,e,t,c)})),c.promise}function q_(r,e,t={}){const c=new f;return r.asyncQueue.enqueueAndForget((0,We.Z)(function*(){return function(v,S,V,X,ke){const rt=new Og({next:vn=>{S.enqueueAndForget(()=>bm(v,Ut)),vn.fromCache&&"server"===X.source?ke.reject(new vi(Kn.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):ke.resolve(vn)},error:vn=>ke.reject(vn)}),Ut=new ep(V,rt,{includeMetadataChanges:!0,Nu:!0});return _h(v,Ut)}(yield Jd(r),r.asyncQueue,e,t,c)})),c.promise}class h{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new hm(this,"async_queue_retry"),this.Wc=()=>{const t=dm();t&&Dn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=dm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=dm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new f;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,We.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!uc(t))throw t;Dn("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(c=>{throw this.Kc=c,this.Gc=!1,Gi("INTERNAL UNHANDLED ERROR: ",function(S){let V=S.message||"";return S.stack&&(V=S.stack.includes(S.message)?S.stack:S.message+"\n"+S.stack),V}(c)),c}).then(c=>(this.Gc=!1,c))));return this.Bc=t,t}enqueueAfterDelay(e,t,c){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const v=vm.createAndSchedule(this,e,t,c,S=>this.Yc(S));return this.Uc.push(v),v}zc(){this.Kc&&wi()}verifyOperationInProgress(){}Xc(){var e=this;return(0,We.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,c)=>t.targetTimeMs-c.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function s(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const c=e;for(const v of["next","error","complete"])if(v in c&&"function"==typeof c[v])return!0;return!1}(r)}class d{constructor(){this._progressObserver={},this._taskCompletionResolver=new f,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,c){this._progressObserver={next:e,error:t,complete:c}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class x extends Ig{constructor(e,t,c,v){super(e,t,c,v),this.type="firestore",this._queue=new h,this._persistenceKey=v?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||$(this),this._firestoreClient.terminate()}}function U(r){return r._firestoreClient||$(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function $(r){var e;const t=r._freezeSettings(),c=(S=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new G(r._databaseId,S,r._persistenceKey,(X=t).host,X.ssl,X.experimentalForceLongPolling,X.experimentalAutoDetectLongPolling,X.useFetchStreams));var S,X;r._firestoreClient=new wy(r._authCredentials,r._appCheckCredentials,r._queue,c)}function _t(r,e,t){const c=new f;return r.asyncQueue.enqueue((0,We.Z)(function*(){try{yield Hv(r,t),yield Cy(r,e),c.resolve()}catch(v){const S=v;if(!("FirebaseError"===(V=S).name?V.code===Kn.FAILED_PRECONDITION||V.code===Kn.UNIMPLEMENTED:!(typeof DOMException<"u"&&V instanceof DOMException)||22===V.code||20===V.code||11===V.code))throw S;vs("Error enabling offline persistence. Falling back to persistence disabled: "+S),c.reject(S)}var V})).then(()=>c.promise)}function Mi(r){if(r._initialized||r._terminated)throw new vi(Kn.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class oi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oi(Fi.fromBase64String(e))}catch(t){throw new vi(Kn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new oi(Fi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ci{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new vi(Kn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ts(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class er{constructor(e){this._methodName=e}}class fr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new vi(Kn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new vi(Kn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pi(this._lat,e._lat)||Pi(this._long,e._long)}}const ts=/^__.*__$/;class Qs{constructor(e,t,c){this.data=e,this.fieldMask=t,this.fieldTransforms=c}toMutation(e,t){return null!==this.fieldMask?new Ju(e,this.data,this.fieldMask,t,this.fieldTransforms):new gd(e,this.data,t,this.fieldTransforms)}}class Xs{constructor(e,t,c){this.data=e,this.fieldMask=t,this.fieldTransforms=c}toMutation(e,t){return new Ju(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function jo(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wi()}}class pc{constructor(e,t,c,v,S,V){this.settings=e,this.databaseId=t,this.yt=c,this.ignoreUndefinedProperties=v,void 0===S&&this.na(),this.fieldTransforms=S||[],this.fieldMask=V||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new pc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const c=null===(t=this.path)||void 0===t?void 0:t.child(e),v=this.ia({path:c,oa:!1});return v.ua(e),v}ca(e){var t;const c=null===(t=this.path)||void 0===t?void 0:t.child(e),v=this.ia({path:c,oa:!1});return v.na(),v}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Ll(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(jo(this.sa)&&ts.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Du{constructor(e,t,c){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=c||Dd(e)}da(e,t,c,v=!1){return new pc({sa:e,methodName:t,fa:c,path:Ts.emptyPath(),oa:!1,la:v},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Zr(r){const e=r._freezeSettings(),t=Dd(r._databaseId);return new Du(r._databaseId,!!e.ignoreUndefinedProperties,t)}function ya(r,e,t,c,v,S={}){const V=r.da(S.merge||S.mergeFields?2:0,e,t,v);Rg("Data must be an object, but it was:",V,c);const X=Hp(c,V);let ke,rt;if(S.merge)ke=new Ic(V.fieldMask),rt=V.fieldTransforms;else if(S.mergeFields){const Ut=[];for(const vn of S.mergeFields){const Jn=Fg(e,vn,t);if(!V.contains(Jn))throw new vi(Kn.INVALID_ARGUMENT,`Field '${Jn}' is specified in your field mask but missing from your input data.`);Ng(Ut,Jn)||Ut.push(Jn)}ke=new Ic(Ut),rt=V.fieldTransforms.filter(vn=>ke.covers(vn.field))}else ke=null,rt=V.fieldTransforms;return new Qs(new wc(X),ke,rt)}class Oa extends er{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Oa}}function nu(r,e,t){return new pc({sa:3,fa:e.settings.fa,methodName:r._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class mc extends er{_toFieldTransform(e){return new _u(e.path,new Gc)}isEqual(e){return e instanceof mc}}class Zc extends er{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=nu(this,e,!0),c=this._a.map(S=>zu(S,t)),v=new fd(c);return new _u(e.path,v)}isEqual(e){return this===e}}class lp extends er{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=nu(this,e,!0),c=this._a.map(S=>zu(S,t)),v=new Dc(c);return new _u(e.path,v)}isEqual(e){return this===e}}class Tf extends er{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Xc(e.yt,jc(e.yt,this.wa));return new _u(e.path,t)}isEqual(e){return this===e}}function hu(r,e,t,c){const v=r.da(1,e,t);Rg("Data must be an object, but it was:",v,c);const S=[],V=wc.empty();Ct(c,(ke,rt)=>{const Ut=xl(e,ke,t);rt=(0,je.m9)(rt);const vn=v.ca(Ut);if(rt instanceof Oa)S.push(Ut);else{const Jn=zu(rt,vn);null!=Jn&&(S.push(Ut),V.set(Ut,Jn))}});const X=new Ic(S);return new Xs(V,X,v.fieldTransforms)}function bh(r,e,t,c,v,S){const V=r.da(1,e,t),X=[Fg(e,c,t)],ke=[v];if(S.length%2!=0)throw new vi(Kn.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Jn=0;Jn<S.length;Jn+=2)X.push(Fg(e,S[Jn])),ke.push(S[Jn+1]);const rt=[],Ut=wc.empty();for(let Jn=X.length-1;Jn>=0;--Jn)if(!Ng(rt,X[Jn])){const Di=X[Jn];let Ei=ke[Jn];Ei=(0,je.m9)(Ei);const cr=V.ca(Di);if(Ei instanceof Oa)rt.push(Di);else{const dr=zu(Ei,cr);null!=dr&&(rt.push(Di),Ut.set(Di,dr))}}const vn=new Ic(rt);return new Xs(Ut,vn,V.fieldTransforms)}function Df(r,e,t,c=!1){return zu(t,r.da(c?4:3,e))}function zu(r,e){if(Af(r=(0,je.m9)(r)))return Rg("Unsupported field value:",e,r),Hp(r,e);if(r instanceof er)return function(t,c){if(!jo(c.sa))throw c.ha(`${t._methodName}() can only be used with update() and set()`);if(!c.path)throw c.ha(`${t._methodName}() is not currently supported inside arrays`);const v=t._toFieldTransform(c);v&&c.fieldTransforms.push(v)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,c){const v=[];let S=0;for(const V of t){let X=zu(V,c.aa(S));null==X&&(X={nullValue:"NULL_VALUE"}),v.push(X),S++}return{arrayValue:{values:v}}}(r,e)}return function(t,c){if(null===(t=(0,je.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return jc(c.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const v=Zs.fromDate(t);return{timestampValue:yd(c.yt,v)}}if(t instanceof Zs){const v=new Zs(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:yd(c.yt,v)}}if(t instanceof fr)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof oi)return{bytesValue:xu(c.yt,t._byteString)};if(t instanceof bl){const v=c.databaseId,S=t.firestore._databaseId;if(!S.isEqual(v))throw c.ha(`Document reference is for database ${S.projectId}/${S.database} but should be for database ${v.projectId}/${v.database}`);return{referenceValue:jd(t.firestore._databaseId||c.databaseId,t._key.path)}}throw c.ha(`Unsupported field value: ${Lm(t)}`)}(r,e)}function Hp(r,e){const t={};return on(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ct(r,(c,v)=>{const S=zu(v,e.ra(c));null!=S&&(t[c]=S)}),{mapValue:{fields:t}}}function Af(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Zs||r instanceof fr||r instanceof oi||r instanceof bl||r instanceof er)}function Rg(r,e,t){if(!Af(t)||"object"!=typeof(c=t)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const c=Lm(t);throw e.ha("an object"===c?r+" a custom object":r+" "+c)}var c}function Fg(r,e,t){if((e=(0,je.m9)(e))instanceof Ci)return e._internalPath;if("string"==typeof e)return xl(r,e);throw Ll("Field path arguments must be of type string or ",r,!1,void 0,t)}const Ty=new RegExp("[~\\*/\\[\\]]");function xl(r,e,t){if(e.search(Ty)>=0)throw Ll(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Ci(...e.split("."))._internalPath}catch{throw Ll(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Ll(r,e,t,c,v){const S=c&&!c.isEmpty(),V=void 0!==v;let X=`Function ${e}() called with invalid data`;t&&(X+=" (via `toFirestore()`)"),X+=". ";let ke="";return(S||V)&&(ke+=" (found",S&&(ke+=` in field ${c}`),V&&(ke+=` in document ${v}`),ke+=")"),new vi(Kn.INVALID_ARGUMENT,X+r+ke)}function Ng(r,e){return r.some(t=>t.isEqual(e))}class Nm{constructor(e,t,c,v,S){this._firestore=e,this._userDataWriter=t,this._key=c,this._document=v,this._converter=S}get id(){return this._key.path.lastSegment()}get ref(){return new bl(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Up(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(X_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Up extends Nm{data(){return super.data()}}function X_(r,e){return"string"==typeof e?xl(r,e):e instanceof Ci?e._internalPath:e._delegate._internalPath}function J_(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new vi(Kn.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sf{}class $h extends Sf{}function cp(r,e,...t){let c=[];e instanceof Sf&&c.push(e),c=c.concat(t),function(v){const S=v.filter(X=>X instanceof Bm).length,V=v.filter(X=>X instanceof Bg).length;if(S>1||S>0&&V>0)throw new vi(Kn.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(c);for(const v of c)r=v._apply(r);return r}class Bg extends $h{constructor(e,t,c){super(),this._field=e,this._op=t,this._value=c,this.type="where"}static _create(e,t,c){return new Bg(e,t,c)}_apply(e){const t=this._parse(e);return Gv(e._query,t),new Wc(e.firestore,e.converter,Fd(e._query,t))}_parse(e){const t=Zr(e.firestore);return function(v,S,V,X,ke,rt,Ut){let vn;if(ke.isKeyField()){if("array-contains"===rt||"array-contains-any"===rt)throw new vi(Kn.INVALID_ARGUMENT,`Invalid Query. You can't perform '${rt}' queries on documentId().`);if("in"===rt||"not-in"===rt){t0(Ut,rt);const Jn=[];for(const Di of Ut)Jn.push(Dy(X,v,Di));vn={arrayValue:{values:Jn}}}else vn=Dy(X,v,Ut)}else"in"!==rt&&"not-in"!==rt&&"array-contains-any"!==rt||t0(Ut,rt),vn=Df(V,"where",Ut,"in"===rt||"not-in"===rt);return Qi.create(ke,rt,vn)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Bm extends Sf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Bm(e,t)}_parse(e){const t=this._queryConstraints.map(c=>c._parse(e)).filter(c=>c.getFilters().length>0);return 1===t.length?t[0]:Yr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(c,v){let S=c;const V=v.getFlattenedFilters();for(const X of V)Gv(S,X),S=Fd(S,X)}(e._query,t),new Wc(e.firestore,e.converter,Fd(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class zp extends $h{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new zp(e,t)}_apply(e){const t=function(c,v,S){if(null!==c.startAt)throw new vi(Kn.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new vi(Kn.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const V=new Od(v,S);return function(X,ke){if(null===Lf(X)){const rt=qu(X);null!==rt&&Hg(0,rt,ke.field)}}(c,V),V}(e._query,this._field,this._direction);return new Wc(e.firestore,e.converter,function(c,v){const S=c.explicitOrderBy.concat([v]);return new Mu(c.path,c.collectionGroup,S,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(e._query,t))}}class ju extends $h{constructor(e,t,c){super(),this.type=e,this._limit=t,this._limitType=c}static _create(e,t,c){return new ju(e,t,c)}_apply(e){return new Wc(e.firestore,e.converter,Nd(e._query,this._limit,this._limitType))}}class eh extends $h{constructor(e,t,c){super(),this.type=e,this._docOrFields=t,this._inclusive=c}static _create(e,t,c){return new eh(e,t,c)}_apply(e){const t=e0(e,this.type,this._docOrFields,this._inclusive);return new Wc(e.firestore,e.converter,(v=t,new Mu((c=e._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,v,c.endAt)));var c,v}}class Vg extends $h{constructor(e,t,c){super(),this.type=e,this._docOrFields=t,this._inclusive=c}static _create(e,t,c){return new Vg(e,t,c)}_apply(e){const t=e0(e,this.type,this._docOrFields,this._inclusive);return new Wc(e.firestore,e.converter,(v=t,new Mu((c=e._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,v)));var c,v}}function e0(r,e,t,c){if(t[0]=(0,je.m9)(t[0]),t[0]instanceof Nm)return function(v,S,V,X,ke){if(!X)throw new vi(Kn.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${V}().`);const rt=[];for(const Ut of Pc(v))if(Ut.field.isKeyField())rt.push(dc(S,X.key));else{const vn=X.data.field(Ut.field);if(al(vn))throw new vi(Kn.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ut.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===vn){const Jn=Ut.field.canonicalString();throw new vi(Kn.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Jn}' (used as the orderBy) does not exist.`)}rt.push(vn)}return new or(rt,ke)}(r._query,r.firestore._databaseId,e,t[0]._document,c);{const v=Zr(r.firestore);return function(S,V,X,ke,rt,Ut){const vn=S.explicitOrderBy;if(rt.length>vn.length)throw new vi(Kn.INVALID_ARGUMENT,`Too many arguments provided to ${ke}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Jn=[];for(let Di=0;Di<rt.length;Di++){const Ei=rt[Di];if(vn[Di].field.isKeyField()){if("string"!=typeof Ei)throw new vi(Kn.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${ke}(), but got a ${typeof Ei}`);if(!dd(S)&&-1!==Ei.indexOf("/"))throw new vi(Kn.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${ke}() must be a plain document ID, but '${Ei}' contains a slash.`);const cr=S.path.child(Qr.fromString(Ei));if(!Oi.isDocumentKey(cr))throw new vi(Kn.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${ke}() must result in a valid document path, but '${cr}' is not because it contains an odd number of segments.`);const dr=new Oi(cr);Jn.push(dc(V,dr))}else{const cr=Df(X,ke,Ei);Jn.push(cr)}}return new or(Jn,Ut)}(r._query,r.firestore._databaseId,v,e,t,c)}}function Dy(r,e,t){if("string"==typeof(t=(0,je.m9)(t))){if(""===t)throw new vi(Kn.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dd(e)&&-1!==t.indexOf("/"))throw new vi(Kn.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const c=e.path.child(Qr.fromString(t));if(!Oi.isDocumentKey(c))throw new vi(Kn.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${c}' is not because it has an odd number of segments (${c.length}).`);return dc(r,new Oi(c))}if(t instanceof bl)return dc(r,t._key);throw new vi(Kn.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lm(t)}.`)}function t0(r,e){if(!Array.isArray(r)||0===r.length)throw new vi(Kn.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(r.length>10)throw new vi(Kn.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Gv(r,e){if(e.isInequality()){const c=qu(r),v=e.field;if(null!==c&&!c.isEqual(v))throw new vi(Kn.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${c.toString()}' and '${v.toString()}'`);const S=Lf(r);null!==S&&Hg(0,v,S)}const t=function(c,v){for(const S of c)for(const V of S.getFlattenedFilters())if(v.indexOf(V.op)>=0)return V.op;return null}(r.filters,function(c){switch(c){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new vi(Kn.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Hg(r,e,t){if(!t.isEqual(e))throw new vi(Kn.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class $v{convertValue(e,t="none"){switch(El(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Bl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw wi()}}convertObject(e,t){const c={};return Ct(e.fields,(v,S)=>{c[v]=this.convertValue(S,t)}),c}convertGeoPoint(e){return new fr(Fs(e.latitude),Fs(e.longitude))}convertArray(e,t){return(e.values||[]).map(c=>this.convertValue(c,t))}convertServerTimestamp(e,t){switch(t){case"previous":const c=Eu(e);return null==c?null:this.convertValue(c,t);case"estimate":return this.convertTimestamp(Ua(e));default:return null}}convertTimestamp(e){const t=Fo(e);return new Zs(t.seconds,t.nanos)}convertDocumentKey(e,t){const c=Qr.fromString(e);$i(Ko(c));const v=new de(c.get(1),c.get(3)),S=new Oi(c.popFirst(5));return v.isEqual(t)||Gi(`Document ${S} contains a document reference within a different database (${v.projectId}/${v.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),S}}function Wv(r,e,t){let c;return c=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,c}class r0 extends $v{constructor(e){super(),this.firestore=e}convertBytes(e){return new oi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bl(this.firestore,null,t)}}class jp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class th extends Nm{constructor(e,t,c,v,S,V){super(e,t,c,v,V),this._firestore=e,this._firestoreImpl=e,this.metadata=S}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ug(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const c=this._document.data.field(X_("DocumentSnapshot.get",e));if(null!==c)return this._userDataWriter.convertValue(c,t.serverTimestamps)}}}class Ug extends th{data(e={}){return super.data(e)}}class iu{constructor(e,t,c,v){this._firestore=e,this._userDataWriter=t,this._snapshot=v,this.metadata=new jp(v.hasPendingWrites,v.fromCache),this.query=c}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(c=>{e.call(t,new Ug(this._firestore,this._userDataWriter,c.key,c,new jp(this._snapshot.mutatedKeys.has(c.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new vi(Kn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(c,v){if(c._snapshot.oldDocs.isEmpty()){let S=0;return c._snapshot.docChanges.map(V=>({type:"added",doc:new Ug(c._firestore,c._userDataWriter,V.doc.key,V.doc,new jp(c._snapshot.mutatedKeys.has(V.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:S++}))}{let S=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(V=>v||3!==V.type).map(V=>{const X=new Ug(c._firestore,c._userDataWriter,V.doc.key,V.doc,new jp(c._snapshot.mutatedKeys.has(V.doc.key),c._snapshot.fromCache),c.query.converter);let ke=-1,rt=-1;return 0!==V.type&&(ke=S.indexOf(V.doc.key),S=S.delete(V.doc.key)),1!==V.type&&(S=S.add(V.doc),rt=S.indexOf(V.doc.key)),{type:Ef(V.type),doc:X,oldIndex:ke,newIndex:rt}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ef(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wi()}}function tv(r,e){return r instanceof th&&e instanceof th?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof iu&&e instanceof iu&&r._firestore===e._firestore&&Z_(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}class Yh extends $v{constructor(e){super(),this.firestore=e}convertBytes(e){return new oi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bl(this.firestore,null,t)}}function Ay(r,e,t){r=fo(r,bl);const c=fo(r.firestore,x),v=Wv(r.converter,e,t);return zg(c,[ya(Zr(c),"setDoc",r._key,v,null!==r.converter,t).toMutation(r._key,Xa.none())])}function Sy(r,e,t,...c){r=fo(r,bl);const v=fo(r.firestore,x),S=Zr(v);let V;return V="string"==typeof(e=(0,je.m9)(e))||e instanceof Ci?bh(S,"updateDoc",r._key,e,t,c):hu(S,"updateDoc",r._key,e),zg(v,[V.toMutation(r._key,Xa.exists(!0))])}function d0(r,...e){var t,c,v;r=(0,je.m9)(r);let S={includeMetadataChanges:!1},V=0;"object"!=typeof e[V]||s(e[V])||(S=e[V],V++);const X={includeMetadataChanges:S.includeMetadataChanges};if(s(e[V])){const vn=e[V];e[V]=null===(t=vn.next)||void 0===t?void 0:t.bind(vn),e[V+1]=null===(c=vn.error)||void 0===c?void 0:c.bind(vn),e[V+2]=null===(v=vn.complete)||void 0===v?void 0:v.bind(vn)}let ke,rt,Ut;if(r instanceof bl)rt=fo(r.firestore,x),Ut=Cc(r._key.path),ke={next:vn=>{e[V]&&e[V](My(rt,r,vn))},error:e[V+1],complete:e[V+2]};else{const vn=fo(r,Wc);rt=fo(vn.firestore,x),Ut=vn._query;const Jn=new Yh(rt);ke={next:Di=>{e[V]&&e[V](new iu(rt,Jn,vn,Di))},error:e[V+1],complete:e[V+2]},J_(r._query)}return function(vn,Jn,Di,Ei){const cr=new Og(Ei),dr=new ep(Jn,cr,Di);return vn.asyncQueue.enqueueAndForget((0,We.Z)(function*(){return _h(yield Jd(vn),dr)})),()=>{cr.bc(),vn.asyncQueue.enqueueAndForget((0,We.Z)(function*(){return bm(yield Jd(vn),dr)}))}}(U(rt),Ut,X,ke)}function zg(r,e){return function(t,c){const v=new f;return t.asyncQueue.enqueueAndForget((0,We.Z)(function*(){return function Mv(r,e,t){return Cm.apply(this,arguments)}(yield xf(t),c,v)})),v.promise}(U(r),e)}function My(r,e,t){const c=t.docs.get(e._key),v=new Yh(r);return new th(r,v,e._key,c,new jp(t.hasPendingWrites,t.fromCache),e.converter)}const Y0={maxAttempts:5};class h0{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Zr(e)}set(e,t,c){this._verifyNotCommitted();const v=Gp(e,this._firestore),S=Wv(v.converter,t,c),V=ya(this._dataReader,"WriteBatch.set",v._key,S,null!==v.converter,c);return this._mutations.push(V.toMutation(v._key,Xa.none())),this}update(e,t,c,...v){this._verifyNotCommitted();const S=Gp(e,this._firestore);let V;return V="string"==typeof(t=(0,je.m9)(t))||t instanceof Ci?bh(this._dataReader,"WriteBatch.update",S._key,t,c,v):hu(this._dataReader,"WriteBatch.update",S._key,t),this._mutations.push(V.toMutation(S._key,Xa.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Gp(e,this._firestore);return this._mutations=this._mutations.concat(new Hd(t._key,Xa.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new vi(Kn.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Gp(r,e){if((r=(0,je.m9)(r)).firestore!==e)throw new vi(Kn.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class f0 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Zr(e)}get(e){const t=Gp(e,this._firestore),c=new r0(this._firestore);return this._transaction.lookup([t._key]).then(v=>{if(!v||1!==v.length)return wi();const S=v[0];if(S.isFoundDocument())return new Nm(this._firestore,c,S.key,S,t.converter);if(S.isNoDocument())return new Nm(this._firestore,c,t._key,null,t.converter);throw wi()})}set(e,t,c){const v=Gp(e,this._firestore),S=Wv(v.converter,t,c),V=ya(this._dataReader,"Transaction.set",v._key,S,null!==v.converter,c);return this._transaction.set(v._key,V),this}update(e,t,c,...v){const S=Gp(e,this._firestore);let V;return V="string"==typeof(t=(0,je.m9)(t))||t instanceof Ci?bh(this._dataReader,"Transaction.update",S._key,t,c,v):hu(this._dataReader,"Transaction.update",S._key,t),this._transaction.update(S._key,V),this}delete(e){const t=Gp(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Gp(e,this._firestore),c=new Yh(this._firestore);return super.get(e).then(v=>new th(this._firestore,c,t._key,v._document,new jp(!1,!1),t.converter))}}function Yv(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new vi("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function Py(){if(typeof Uint8Array>"u")throw new vi("unimplemented","Uint8Arrays are not available in this environment.")}function Oy(){if(!function Nr(){return typeof atob<"u"}())throw new vi("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(r,e=!0){ne=ft.SDK_VERSION,(0,ft._registerComponent)(new pt.wA("firestore",(t,{instanceIdentifier:c,options:v})=>{const S=t.getProvider("app").getImmediate(),V=new x(new Le(t.getProvider("auth-internal")),new Xn(t.getProvider("app-check-internal")),function(X,ke){if(!Object.prototype.hasOwnProperty.apply(X.options,["projectId"]))throw new vi(Kn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new de(X.options.projectId,ke)}(S,c),S);return v=Object.assign({useFetchStreams:e},v),V._setSettings(v),V},"PUBLIC").setMultipleInstances(!0)),(0,ft.registerVersion)(da,"3.8.1",r),(0,ft.registerVersion)(da,"3.8.1","esm2017")}();class jg{constructor(e){this._delegate=e}static fromBase64String(e){return Oy(),new jg(oi.fromBase64String(e))}static fromUint8Array(e){return Py(),new jg(oi.fromUint8Array(e))}toBase64(){return Oy(),this._delegate.toBase64()}toUint8Array(){return Py(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function iv(r){return function Zv(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const c of e)if(c in t&&"function"==typeof t[c])return!0;return!1}(r,["next","error","complete"])}class Vm{enableIndexedDbPersistence(e,t){return function se(r,e){Mi(r=fo(r,x));const t=U(r),c=r._freezeSettings(),v=new ip;return _t(t,v,new Pm(v,c.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function ze(r){Mi(r=fo(r,x));const e=U(r),t=r._freezeSettings(),c=new ip;return _t(e,c,new Om(c,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Ot(r){if(r._initialized&&!r._terminated)throw new vi(Kn.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new f;return r._queue.enqueueAndForgetEvenWhileRestricted((0,We.Z)(function*(){try{yield(t=(0,We.Z)(function*(c){if(!ro.C())return Promise.resolve();const v=c+"main";yield ro.delete(v)}),function(c){return t.apply(this,arguments)})(sm(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Ly{constructor(e,t,c){this._delegate=t,this._persistenceProvider=c,this.INTERNAL={delete:()=>this.terminate()},e instanceof de||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&vs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,c={}){!function W_(r,e,t,c={}){var v;const S=(r=fo(r,Ig))._getSettings();if("firestore.googleapis.com"!==S.host&&S.host!==e&&vs("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},S),{host:`${e}:${t}`,ssl:!1})),c.mockUserToken){let V,X;if("string"==typeof c.mockUserToken)V=c.mockUserToken,X=Fr.MOCK_USER;else{V=(0,je.Sg)(c.mockUserToken,null===(v=r._app)||void 0===v?void 0:v.options.projectId);const ke=c.mockUserToken.sub||c.mockUserToken.user_id;if(!ke)throw new vi(Kn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");X=new Fr(ke)}r._authCredentials=new ee(new w(V,X))}}(this._delegate,e,t,c)}enableNetwork(){return function Sn(r){return function Np(r){return r.asyncQueue.enqueue((0,We.Z)(function*(){const e=yield Hu(r),t=yield ap(r);return e.setNetworkEnabled(!0),function(c){const v=Ri(c);return v._u.delete(0),Uh(v)}(t)}))}(U(r=fo(r,x)))}(this._delegate)}disableNetwork(){return function Mn(r){return function Bp(r){return r.asyncQueue.enqueue((0,We.Z)(function*(){const e=yield Hu(r),t=yield ap(r);return e.setNetworkEnabled(!1),(c=(0,We.Z)(function*(v){const S=Ri(v);S._u.add(0),yield zh(S),S.gu.set("Offline")}),function(v){return c.apply(this,arguments)})(t);var c}))}(U(r=fo(r,x)))}(this._delegate)}enablePersistence(e){let t=!1,c=!1;return e&&(t=!!e.synchronizeTabs,c=!!e.experimentalForceOwningTab,kg("synchronizeTabs",t,"experimentalForceOwningTab",c)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,c)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Qt(r){return function(e){const t=new f;return e.asyncQueue.enqueueAndForget((0,We.Z)(function*(){return function fy(r,e){return F_.apply(this,arguments)}(yield xf(e),t)})),t.promise}(U(r=fo(r,x)))}(this._delegate)}onSnapshotsInSync(e){return function $0(r,e){return function Gh(r,e){const t=new Og(e);return r.asyncQueue.enqueueAndForget((0,We.Z)(function*(){return c=yield Jd(r),v=t,Ri(c).Ru.add(v),void v.next();var c,v})),()=>{t.bc(),r.asyncQueue.enqueueAndForget((0,We.Z)(function*(){return c=yield Jd(r),v=t,void Ri(c).Ru.delete(v);var c,v}))}}(U(r=fo(r,x)),s(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new vi("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new up(this,Pg(this._delegate,e))}catch(t){throw Gu(t,"collection()","Firestore.collection()")}}doc(e){try{return new nh(this,rp(this._delegate,e))}catch(t){throw Gu(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new od(this,function vy(r,e){if(r=fo(r,Ig),z_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new vi(Kn.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Wc(r,null,(t=e,new Mu(Qr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Gu(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Z0(r,e,t){r=fo(r,x);const c=Object.assign(Object.assign({},Y0),t);return function(v){if(v.maxAttempts<1)throw new vi(Kn.INVALID_ARGUMENT,"Max attempts must be at least 1")}(c),function(v,S,V){const X=new f;return v.asyncQueue.enqueueAndForget((0,We.Z)(function*(){const ke=yield function wf(r){return yh(r).then(e=>e.datastore)}(v);new Rp(v.asyncQueue,ke,V,S,X).run()})),X.promise}(U(r),v=>e(new f0(r,v)),c)}(this._delegate,t=>e(new qv(this,t)))}batch(){return U(this._delegate),new rv(new h0(this._delegate,e=>zg(this._delegate,e)))}loadBundle(e){return function ri(r,e){const t=U(r=fo(r,x)),c=new d;return function Q_(r,e,t,c){const v=function(S,V){let X;return X="string"==typeof S?(new TextEncoder).encode(S):S,ke=function(ke,rt){if(ke instanceof Uint8Array)return K_(ke,void 0);if(ke instanceof ArrayBuffer)return K_(new Uint8Array(ke),void 0);if(ke instanceof ReadableStream)return ke.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(X),new yy(ke,V);var ke}(t,Dd(e));r.asyncQueue.enqueueAndForget((0,We.Z)(function*(){!function U_(r,e,t){const c=Ri(r);var v;(v=(0,We.Z)(function*(S,V,X){try{const ke=yield V.getMetadata();if(yield function(Jn,Di){const Ei=Ri(Jn),cr=Pa(Di.createTime);return Ei.persistence.runTransaction("hasNewerBundle","readonly",dr=>Ei.Ns.getBundleMetadata(dr,Di.id)).then(dr=>!!dr&&dr.createTime.compareTo(cr)>=0)}(S.localStore,ke))return yield V.close(),X._completeWith({taskState:"Success",documentsLoaded:(Jn=ke).totalDocuments,bytesLoaded:Jn.totalBytes,totalDocuments:Jn.totalDocuments,totalBytes:Jn.totalBytes}),Promise.resolve(new Set);X._updateProgress(wm(ke));const rt=new Pp(ke,S.localStore,V.yt);let Ut=yield V.mc();for(;Ut;){const Jn=yield rt.Fu(Ut);Jn&&X._updateProgress(Jn),Ut=yield V.mc()}const vn=yield rt.complete();return yield vh(S,vn.Lu,void 0),yield function(Jn,Di){const Ei=Ri(Jn);return Ei.persistence.runTransaction("Save bundle","readwrite",cr=>Ei.Ns.saveBundleMetadata(cr,Di))}(S.localStore,ke),X._completeWith(vn.progress),Promise.resolve(vn.Bu)}catch(ke){return vs("SyncEngine",`Loading bundle failed with ${ke}`),X._failWith(ke),Promise.resolve(new Set)}var Jn}),function(S,V,X){return v.apply(this,arguments)})(c,e,t).then(v=>{c.sharedClientState.notifyBundleLoaded(v)})}(yield xf(r),v,c)}))}(t,r._databaseId,e,c),c}(this._delegate,e)}namedQuery(e){return function hi(r,e){return function Uv(r,e){return r.asyncQueue.enqueue((0,We.Z)(function*(){return function(t,c){const v=Ri(t);return v.persistence.runTransaction("Get named query","readonly",S=>v.Ns.getNamedQuery(S,c))}(yield op(r),e)}))}(U(r=fo(r,x)),e).then(t=>t?new Wc(r,null,t.query):null)}(this._delegate,e).then(t=>t?new od(this,t):null)}}class Kv extends $v{constructor(e){super(),this.firestore=e}convertBytes(e){return new jg(new oi(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return nh.forKey(t,this.firestore,null)}}class qv{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Kv(e)}get(e){const t=Mf(e);return this._delegate.get(t).then(c=>new Wg(this._firestore,new th(this._firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,t.converter)))}set(e,t,c){const v=Mf(e);return c?(Yv("Transaction.set",c),this._delegate.set(v,t,c)):this._delegate.set(v,t),this}update(e,t,c,...v){const S=Mf(e);return 2===arguments.length?this._delegate.update(S,t):this._delegate.update(S,t,c,...v),this}delete(e){const t=Mf(e);return this._delegate.delete(t),this}}class rv{constructor(e){this._delegate=e}set(e,t,c){const v=Mf(e);return c?(Yv("WriteBatch.set",c),this._delegate.set(v,t,c)):this._delegate.set(v,t),this}update(e,t,c,...v){const S=Mf(e);return 2===arguments.length?this._delegate.update(S,t):this._delegate.update(S,t,c,...v),this}delete(e){const t=Mf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class $g{constructor(e,t,c){this._firestore=e,this._userDataWriter=t,this._delegate=c}fromFirestore(e,t){const c=new Ug(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new sv(this._firestore,c),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const c=$g.INSTANCES;let v=c.get(e);v||(v=new WeakMap,c.set(e,v));let S=v.get(t);return S||(S=new $g(e,new Kv(e),t),v.set(t,S)),S}}$g.INSTANCES=new WeakMap;class nh{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Kv(e)}static forPath(e,t,c){if(e.length%2!=0)throw new vi("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new nh(t,new bl(t._delegate,c,new Oi(e)))}static forKey(e,t,c){return new nh(t,new bl(t._delegate,c,e))}get id(){return this._delegate.id}get parent(){return new up(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new up(this.firestore,Pg(this._delegate,e))}catch(t){throw Gu(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,je.m9)(e))instanceof bl&&Y_(this._delegate,e)}set(e,t){t=Yv("DocumentReference.set",t);try{return t?Ay(this._delegate,e,t):Ay(this._delegate,e)}catch(c){throw Gu(c,"setDoc()","DocumentReference.set()")}}update(e,t,...c){try{return 1===arguments.length?Sy(this._delegate,e):Sy(this._delegate,e,t,...c)}catch(v){throw Gu(v,"updateDoc()","DocumentReference.update()")}}delete(){return function u0(r){return zg(fo(r.firestore,x),[new Hd(r._key,Xa.none())])}(this._delegate)}onSnapshot(...e){const t=eb(e),c=ns(e,v=>new Wg(this.firestore,new th(this.firestore._delegate,this._userDataWriter,v._key,v._document,v.metadata,this._delegate.converter)));return d0(this._delegate,t,c)}get(e){let t;return t="cache"===e?.source?function s0(r){r=fo(r,bl);const e=fo(r.firestore,x),t=U(e),c=new Yh(e);return function Vp(r,e){const t=new f;return r.asyncQueue.enqueueAndForget((0,We.Z)(function*(){return(c=(0,We.Z)(function*(v,S,V){try{const X=yield function(ke,rt){const Ut=Ri(ke);return Ut.persistence.runTransaction("read document","readonly",vn=>Ut.localDocuments.getDocument(vn,rt))}(v,S);X.isFoundDocument()?V.resolve(X):X.isNoDocument()?V.resolve(null):V.reject(new vi(Kn.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(X){const ke=Ip(X,`Failed to get document '${S} from cache`);V.reject(ke)}}),function(v,S,V){return c.apply(this,arguments)})(yield op(r),e,t);var c})),t.promise}(t,r._key).then(v=>new th(e,c,r._key,v,new jp(null!==v&&v.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===e?.source?function o0(r){r=fo(r,bl);const e=fo(r.firestore,x);return Uu(U(e),r._key,{source:"server"}).then(t=>My(e,r,t))}(this._delegate):function nv(r){r=fo(r,bl);const e=fo(r.firestore,x);return Uu(U(e),r._key).then(t=>My(e,r,t))}(this._delegate),t.then(c=>new Wg(this.firestore,new th(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)))}withConverter(e){return new nh(this.firestore,this._delegate.withConverter(e?$g.getInstance(this.firestore,e):null))}}function Gu(r,e,t){return r.message=r.message.replace(e,t),r}function eb(r){for(const e of r)if("object"==typeof e&&!iv(e))return e;return{}}function ns(r,e){var t,c;let v;return v=iv(r[0])?r[0]:iv(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:S=>{v.next&&v.next(e(S))},error:null===(t=v.error)||void 0===t?void 0:t.bind(v),complete:null===(c=v.complete)||void 0===c?void 0:c.bind(v)}}class Wg{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new nh(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return tv(this._delegate,e._delegate)}}class sv extends Wg{data(e){const t=this._delegate.data(e);return function io(r,e){r||wi()}(void 0!==t),t}}class od{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Kv(e)}where(e,t,c){try{return new od(this.firestore,cp(this._delegate,function zv(r,e,t){const c=e,v=X_("where",r);return Bg._create(v,c,t)}(e,t,c)))}catch(v){throw Gu(v,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new od(this.firestore,cp(this._delegate,function ev(r,e="asc"){const t=e,c=X_("orderBy",r);return zp._create(c,t)}(e,t)))}catch(c){throw Gu(c,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new od(this.firestore,cp(this._delegate,function G0(r){return G_("limit",r),ju._create("limit",r,"F")}(e)))}catch(t){throw Gu(t,"limit()","Query.limit()")}}limitToLast(e){try{return new od(this.firestore,cp(this._delegate,function Xy(r){return G_("limitToLast",r),ju._create("limitToLast",r,"L")}(e)))}catch(t){throw Gu(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new od(this.firestore,cp(this._delegate,function Wh(...r){return eh._create("startAt",r,!0)}(...e)))}catch(t){throw Gu(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new od(this.firestore,cp(this._delegate,function rc(...r){return eh._create("startAfter",r,!1)}(...e)))}catch(t){throw Gu(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new od(this.firestore,cp(this._delegate,function jv(...r){return Vg._create("endBefore",r,!1)}(...e)))}catch(t){throw Gu(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new od(this.firestore,cp(this._delegate,function Jy(...r){return Vg._create("endAt",r,!0)}(...e)))}catch(t){throw Gu(t,"endAt()","Query.endAt()")}}isEqual(e){return Z_(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function l0(r){r=fo(r,Wc);const e=fo(r.firestore,x),t=U(e),c=new Yh(e);return function Lg(r,e){const t=new f;return r.asyncQueue.enqueueAndForget((0,We.Z)(function*(){return(c=(0,We.Z)(function*(v,S,V){try{const X=yield qd(v,S,!0),ke=new E_(S,X.Hi),rt=ke.Wu(X.documents),Ut=ke.applyChanges(rt,!1);V.resolve(Ut.snapshot)}catch(X){const ke=Ip(X,`Failed to execute query '${S} against cache`);V.reject(ke)}}),function(v,S,V){return c.apply(this,arguments)})(yield op(r),e,t);var c})),t.promise}(t,r._query).then(v=>new iu(e,c,r,v))}(this._delegate):"server"===e?.source?function c0(r){r=fo(r,Wc);const e=fo(r.firestore,x),t=U(e),c=new Yh(e);return q_(t,r._query,{source:"server"}).then(v=>new iu(e,c,r,v))}(this._delegate):function a0(r){r=fo(r,Wc);const e=fo(r.firestore,x),t=U(e),c=new Yh(e);return J_(r._query),q_(t,r._query).then(v=>new iu(e,c,r,v))}(this._delegate),t.then(c=>new Ry(this.firestore,new iu(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)))}onSnapshot(...e){const t=eb(e),c=ns(e,v=>new Ry(this.firestore,new iu(this.firestore._delegate,this._userDataWriter,this._delegate,v._snapshot)));return d0(this._delegate,t,c)}withConverter(e){return new od(this.firestore,this._delegate.withConverter(e?$g.getInstance(this.firestore,e):null))}}class Hm{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new sv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Ry{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new od(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new sv(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Hm(this._firestore,t))}forEach(e,t){this._delegate.forEach(c=>{e.call(t,new sv(this._firestore,c))})}isEqual(e){return tv(this._delegate,e._delegate)}}class up extends od{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new nh(this.firestore,e):null}doc(e){try{return new nh(this.firestore,void 0===e?rp(this._delegate):rp(this._delegate,e))}catch(t){throw Gu(t,"doc()","CollectionReference.doc()")}}add(e){return function Ey(r,e){const t=fo(r.firestore,x),c=rp(r),v=Wv(r.converter,e);return zg(t,[ya(Zr(r.firestore),"addDoc",c._key,v,null!==r.converter,{}).toMutation(c._key,Xa.exists(!1))]).then(()=>c)}(this._delegate,e).then(t=>new nh(this.firestore,t))}isEqual(e){return Y_(this._delegate,e._delegate)}withConverter(e){return new up(this.firestore,this._delegate.withConverter(e?$g.getInstance(this.firestore,e):null))}}function Mf(r){return fo(r,bl)}class $l{constructor(...e){this._delegate=new Ci(...e)}static documentId(){return new $l(Ts.keyField().canonicalString())}isEqual(e){return(e=(0,je.m9)(e))instanceof Ci&&this._delegate._internalPath.isEqual(e._internalPath)}}class Yg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function q0(){return new mc("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Yg(e)}static delete(){const e=function K0(){return new Oa("deleteField")}();return e._methodName="FieldValue.delete",new Yg(e)}static arrayUnion(...e){const t=function p0(...r){return new Zc("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new Yg(t)}static arrayRemove(...e){const t=function Q0(...r){return new lp("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new Yg(t)}static increment(e){const t=function X0(r){return new Tf("increment",r)}(e);return t._methodName="FieldValue.increment",new Yg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const _0={Firestore:Ly,GeoPoint:fr,Timestamp:Zs,Blob:jg,Transaction:qv,WriteBatch:rv,DocumentReference:nh,DocumentSnapshot:Wg,Query:od,QueryDocumentSnapshot:sv,QuerySnapshot:Ry,CollectionReference:up,FieldPath:$l,FieldValue:Yg,setLogLevel:function Gg(r){!function hn(r){oe.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function tb(r){(function v0(r,e){r.INTERNAL.registerComponent(new pt.wA("firestore-compat",t=>{const c=t.getProvider("app-compat").getImmediate(),v=t.getProvider("firestore").getImmediate();return e(c,v)},"PUBLIC").setServiceProps(Object.assign({},_0)))})(r,(e,t)=>new Ly(e,t,new Vm)),r.registerVersion("@firebase/firestore-compat","0.3.1")}(nt.Z);var y0=N(7579),Fy=N(6451),Zg=N(5363),dp=N(3900),Ny=N(3151),b0=N(590),nb=N(576);function l(r,e){return(0,nb.m)(e)?(0,dp.w)(()=>r,e):(0,dp.w)(()=>r)}var b=N(9468);N(259);const As=new Map,Ss={activated:!1,tokenObservers:[]},Gr={initialized:!1,enabled:!1};function oo(r){return As.get(r)||Object.assign({},Ss)}function Kc(){return Gr}class Wl{constructor(e,t,c,v,S){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=c,this.lowerBound=v,this.upperBound=S,this.pending=null,this.nextErrorWaitInterval=v,v>S)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,We.Z)(function*(){t.stop();try{t.pending=new je.BH,yield function Yl(r){return new Promise(e=>{setTimeout(e,r)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new je.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(c){t.retryPolicy(c)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Js=new je.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function gc(r){if(!oo(r).activated)throw Js.create("use-before-activation",{appName:r.name})}function hp(r,e){return kf.apply(this,arguments)}function kf(){return kf=(0,We.Z)(function*({url:r,body:e},t){const c={"Content-Type":"application/json"},v=t.getImmediate({optional:!0});if(v){const vn=yield v.getHeartbeatsHeader();vn&&(c["X-Firebase-Client"]=vn)}const S={method:"POST",body:JSON.stringify(e),headers:c};let V,X;try{V=yield fetch(r,S)}catch(vn){throw Js.create("fetch-network-error",{originalErrorMessage:vn?.message})}if(200!==V.status)throw Js.create("fetch-status-error",{httpStatus:V.status});try{X=yield V.json()}catch(vn){throw Js.create("fetch-parse-error",{originalErrorMessage:vn?.message})}const ke=X.ttl.match(/^([\d.]+)(s)$/);if(!ke||!ke[2]||isNaN(Number(ke[1])))throw Js.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${X.ttl}`});const rt=1e3*Number(ke[1]),Ut=Date.now();return{token:X.token,expireTimeMillis:Ut+rt,issuedAtTimeMillis:Ut}}),kf.apply(this,arguments)}function $p(r,e){const{projectId:t,appId:c,apiKey:v}=r.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${c}:exchangeDebugToken?key=${v}`,body:{debug_token:e}}}const po="firebase-app-check-store";let Cl=null;function xa(){return Cl||(Cl=new Promise((r,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=c=>{r(c.target.result)},t.onerror=c=>{var v;e(Js.create("storage-open",{originalErrorMessage:null===(v=c.target.error)||void 0===v?void 0:v.message}))},t.onupgradeneeded=c=>{0===c.oldVersion&&c.target.result.createObjectStore(po,{keyPath:"compositeKey"})}}catch(t){e(Js.create("storage-open",{originalErrorMessage:t?.message}))}}),Cl)}function xh(){return xh=(0,We.Z)(function*(r,e){const c=(yield xa()).transaction(po,"readwrite"),S=c.objectStore(po).put({compositeKey:r,value:e});return new Promise((V,X)=>{S.onsuccess=ke=>{V()},c.onerror=ke=>{var rt;X(Js.create("storage-set",{originalErrorMessage:null===(rt=ke.target.error)||void 0===rt?void 0:rt.message}))}})}),xh.apply(this,arguments)}const Qv=new tt.Yd("@firebase/app-check");function C0(r,e){return(0,je.hl)()?function Yu(r,e){return function zm(r,e){return xh.apply(this,arguments)}(function rb(r){return`${r.options.appId}-${r.name}`}(r),e)}(r,e).catch(t=>{Qv.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function T0(){return Kc().enabled}function sb(){return D0.apply(this,arguments)}function D0(){return D0=(0,We.Z)(function*(){const r=Kc();if(r.enabled&&r.token)return r.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),D0.apply(this,arguments)}const Gb={error:"UNKNOWN_ERROR"};function $b(r){return je.US.encodeString(JSON.stringify(r),!1)}function Vy(r){return Xv.apply(this,arguments)}function Xv(){return Xv=(0,We.Z)(function*(r,e=!1){const t=r.app;gc(t);const c=oo(t);let S,v=c.token;if(v&&!jm(v)&&(c.token=void 0,v=void 0),!v){const ke=yield c.cachedTokenPromise;ke&&(jm(ke)?v=ke:yield C0(t,void 0))}if(!e&&v&&jm(v))return{token:v.token};let X,V=!1;if(T0()){c.exchangeTokenPromise||(c.exchangeTokenPromise=hp($p(t,yield sb()),r.heartbeatServiceProvider).finally(()=>{c.exchangeTokenPromise=void 0}),V=!0);const ke=yield c.exchangeTokenPromise;return yield C0(t,ke),c.token=ke,{token:ke.token}}try{c.exchangeTokenPromise||(c.exchangeTokenPromise=c.provider.getToken().finally(()=>{c.exchangeTokenPromise=void 0}),V=!0),v=yield oo(t).exchangeTokenPromise}catch(ke){"appCheck/throttled"===ke.code?Qv.warn(ke.message):Qv.error(ke),S=ke}return v?S?X=jm(v)?{token:v.token,internalError:S}:lb(S):(X={token:v.token},c.token=v,yield C0(t,v)):X=lb(S),V&&ab(t,X),X}),Xv.apply(this,arguments)}function Hy(r,e){const t=oo(r),c=t.tokenObservers.filter(v=>v.next!==e);0===c.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=c}function Uy(r){const{app:e}=r,t=oo(e);let c=t.tokenRefresher;c||(c=function Wb(r){const{app:e}=r;return new Wl((0,We.Z)(function*(){let c;if(c=oo(e).token?yield Vy(r,!0):yield Vy(r),c.error)throw c.error;if(c.internalError)throw c.internalError}),()=>!0,()=>{const t=oo(e);if(t.token){let c=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return c=Math.min(c,t.token.expireTimeMillis-3e5),Math.max(0,c-Date.now())}return 0},3e4,96e4)}(r),t.tokenRefresher=c),!c.isRunning()&&t.isTokenAutoRefreshEnabled&&c.start()}function ab(r,e){const t=oo(r).tokenObservers;for(const c of t)try{"EXTERNAL"===c.type&&null!=e.error?c.error(e.error):c.next(e)}catch{}}function jm(r){return r.expireTimeMillis-Date.now()>0}function lb(r){return{token:$b(Gb),error:r}}class cb{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=oo(this.app);for(const t of e)Hy(this.app,t.next);return Promise.resolve()}}const xb="app-check-internal";!function wb(){(0,ft._registerComponent)(new pt.wA("app-check",r=>function ov(r,e){return new cb(r,e)}(r.getProvider("app").getImmediate(),r.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,e,t)=>{r.getProvider(xb).initialize()})),(0,ft._registerComponent)(new pt.wA(xb,r=>function ub(r){return{getToken:e=>Vy(r,e),addTokenListener:e=>function Jv(r,e,t,c){const{app:v}=r,S=oo(v);if(S.tokenObservers=[...S.tokenObservers,{next:t,error:c,type:e}],S.token&&jm(S.token)){const X=S.token;Promise.resolve().then(()=>{t({token:X.token}),Uy(r)}).catch(()=>{})}S.cachedTokenPromise.then(()=>Uy(r))}(r,"INTERNAL",e),removeTokenListener:e=>Hy(r.app,e)}}(r.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ft.registerVersion)("@firebase/app-check","0.6.1")}();class I0{constructor(){return(0,Ee.vb)("app-check")}}typeof window<"u"&&window;var Tb=N(9260);const O0=new a.OlP("angularfire2.auth.use-emulator"),Ab=new a.OlP("angularfire2.auth.settings"),Sb=new a.OlP("angularfire2.auth.tenant-id"),av=new a.OlP("angularfire2.auth.langugage-code"),Eb=new a.OlP("angularfire2.auth.use-device-language"),Wy=new a.OlP("angularfire.auth.persistence"),If=(r,e,t,c,v,S,V,X)=>(0,Be.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const ke=e.runOutsideAngular(()=>r.auth());if(t&&ke.useEmulator(...t),c&&(ke.tenantId=c),ke.languageCode=v,S&&ke.useDeviceLanguage(),V)for(const[rt,Ut]of Object.entries(V))ke.settings[rt]=Ut;return X&&ke.setPersistence(X),ke},[t,c,v,S,V,X]);let Mb=(()=>{class r{constructor(t,c,v,S,V,X,ke,rt,Ut,vn,Jn,Di){const Ei=new y0.x,cr=(0,R.of)(void 0).pipe((0,Zg.Q)(V.outsideAngular),(0,dp.w)(()=>S.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,750)))),(0,ce.U)(()=>(0,Be.on)(t,S,c)),(0,ce.U)(dr=>If(dr,S,X,rt,Ut,vn,ke,Jn)),(0,Ny.d)({bufferSize:1,refCount:!1}));if((0,Je.PM)(v))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,R.of)(null);else{cr.pipe((0,b0.P)()).subscribe();const Go=cr.pipe((0,dp.w)(Io=>Io.getRedirectResult().then(xo=>xo,()=>null)),Ee.iC,(0,Ny.d)({bufferSize:1,refCount:!1})),Tl=cr.pipe((0,dp.w)(Io=>new O.y(xo=>({unsubscribe:S.runOutsideAngular(()=>Io.onAuthStateChanged(So=>xo.next(So),So=>xo.error(So),()=>xo.complete()))})))),$o=cr.pipe((0,dp.w)(Io=>new O.y(xo=>({unsubscribe:S.runOutsideAngular(()=>Io.onIdTokenChanged(So=>xo.next(So),So=>xo.error(So),()=>xo.complete()))}))));this.authState=Go.pipe(l(Tl),(0,b.R)(V.outsideAngular),(0,Zg.Q)(V.insideAngular)),this.user=Go.pipe(l($o),(0,b.R)(V.outsideAngular),(0,Zg.Q)(V.insideAngular)),this.idToken=this.user.pipe((0,dp.w)(Io=>Io?(0,ue.D)(Io.getIdToken()):(0,R.of)(null))),this.idTokenResult=this.user.pipe((0,dp.w)(Io=>Io?(0,ue.D)(Io.getIdTokenResult()):(0,R.of)(null))),this.credential=(0,Fy.T)(Go,Ei,this.authState.pipe((0,Ne.h)(Io=>!Io))).pipe((0,ce.U)(Io=>Io?.user?Io:null),(0,b.R)(V.outsideAngular),(0,Zg.Q)(V.insideAngular))}return(0,Be.pX)(this,cr,S,{spy:{apply:(dr,Go,Tl)=>{(dr.startsWith("signIn")||dr.startsWith("createUser"))&&Tl.then($o=>Ei.next($o))}}})}}return r.\u0275fac=function(t){return new(t||r)(a.LFG(Be.Dh),a.LFG(Be.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Ee.HU),a.LFG(O0,8),a.LFG(Ab,8),a.LFG(Sb,8),a.LFG(av,8),a.LFG(Eb,8),a.LFG(Wy,8),a.LFG(I0,8))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})();function kb(r,e){return function ty(r,e=T.z){return new O.y(t=>{let c;return null!=e?e.schedule(()=>{c=r.onSnapshot({includeMetadataChanges:!0},t)}):c=r.onSnapshot({includeMetadataChanges:!0},t),()=>{c?.()}})}(r,e)}function R0(r,e){return kb(r,e).pipe((0,ce.U)(t=>({payload:t,type:"query"})))}function Kg(r,e){return R0(r,e).pipe((0,Re.O)(void 0),re(),(0,ce.U)(([t,c])=>{const v=c.payload.docChanges(),S=v.map(V=>({type:V.type,payload:V}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(c.payload.metadata)&&c.payload.docs.forEach((V,X)=>{const ke=v.find(Ut=>Ut.doc.ref.isEqual(V.ref)),rt=t?.payload.docs.find(Ut=>Ut.ref.isEqual(V.ref));ke&&JSON.stringify(ke.doc.metadata)===JSON.stringify(V.metadata)||!ke&&rt&&JSON.stringify(rt.metadata)===JSON.stringify(V.metadata)||S.push({type:"modified",payload:{oldIndex:X,newIndex:X,type:"modified",doc:V}})}),S}))}function ny(r,e,t){return Kg(r,t).pipe((0,be.R)((c,v)=>function rx(r,e,t){return e.forEach(c=>{t.indexOf(c.type)>-1&&(r=function Ib(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return F0(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return F0(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return F0(r,e.oldIndex,1)}return r}(r,c))}),r}(c,v.map(S=>S.payload),e),[]),(0,Ve.x)(),(0,ce.U)(c=>c.map(v=>({type:v.type,payload:v}))))}function F0(r,e,t,...c){const v=r.slice();return v.splice(e,t,...c),v}function N0(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class Yy{constructor(e,t,c){this.ref=e,this.query=t,this.afs=c}stateChanges(e){let t=Kg(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ce.U)(c=>c.filter(v=>e.indexOf(v.type)>-1)))),t.pipe((0,Re.O)(void 0),re(),(0,Ne.h)(([c,v])=>v.length>0||!c),(0,ce.U)(([c,v])=>v),Ee.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,be.R)((t,c)=>[...t,...c],[]))}snapshotChanges(e){const t=N0(e);return ny(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ee.iC)}valueChanges(e={}){return R0(this.query,this.afs.schedulers.outsideAngular).pipe((0,ce.U)(t=>t.payload.docs.map(c=>e.idField?Object.assign(Object.assign({},c.data()),{[e.idField]:c.id}):c.data())),Ee.iC)}get(e){return(0,ue.D)(this.query.get(e)).pipe(Ee.iC)}add(e){return this.ref.add(e)}doc(e){return new B0(this.ref.doc(e),this.afs)}}class B0{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const c=this.ref.collection(e),{ref:v,query:S}=U0(c,t);return new Yy(v,S,this.afs)}snapshotChanges(){return function ix(r,e){return kb(r,e).pipe((0,Re.O)(void 0),re(),(0,ce.U)(([t,c])=>c.exists?t?.exists?{payload:c,type:"modified"}:{payload:c,type:"added"}:{payload:c,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ee.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ce.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ue.D)(this.ref.get(e)).pipe(Ee.iC)}}class sx{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Kg(this.query,this.afs.schedulers.outsideAngular).pipe((0,ce.U)(t=>t.filter(c=>e.indexOf(c.type)>-1)),(0,Ne.h)(t=>t.length>0),Ee.iC):Kg(this.query,this.afs.schedulers.outsideAngular).pipe(Ee.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,be.R)((t,c)=>[...t,...c],[]))}snapshotChanges(e){const t=N0(e);return ny(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ee.iC)}valueChanges(e={}){return R0(this.query,this.afs.schedulers.outsideAngular).pipe((0,ce.U)(c=>c.payload.docs.map(v=>e.idField?Object.assign({[e.idField]:v.id},v.data()):v.data())),Ee.iC)}get(e){return(0,ue.D)(this.query.get(e)).pipe(Ee.iC)}}const Pb=new a.OlP("angularfire2.enableFirestorePersistence"),ox=new a.OlP("angularfire2.firestore.persistenceSettings"),V0=new a.OlP("angularfire2.firestore.settings"),H0=new a.OlP("angularfire2.firestore.use-emulator");function U0(r,e=(t=>t)){return{query:e(r),ref:r}}let Zy=(()=>{class r{constructor(t,c,v,S,V,X,ke,rt,Ut,vn,Jn,Di,Ei,cr,dr,Go,Tl){this.schedulers=ke;const $o=(0,Be.on)(t,X,c),Io=Ut;vn&&If($o,X,Jn,Ei,cr,dr,Di,Go),[this.firestore,this.persistenceEnabled$]=(0,Be.cc)(`${$o.name}.firestore`,"AngularFirestore",$o.name,()=>{const xo=X.runOutsideAngular(()=>$o.firestore());if(S&&xo.settings(S),Io&&xo.useEmulator(...Io),v&&!(0,Je.PM)(V)){const So=()=>{try{return(0,ue.D)(xo.enablePersistence(rt||void 0).then(()=>!0,()=>!1))}catch(su){return typeof console<"u"&&console.warn(su),(0,R.of)(!1)}};return[xo,X.runOutsideAngular(So)]}return[xo,(0,R.of)(!1)]},[S,Io,v])}collection(t,c){let v;v="string"==typeof t?this.firestore.collection(t):t;const{ref:S,query:V}=U0(v,c),X=this.schedulers.ngZone.run(()=>S);return new Yy(X,V,this)}collectionGroup(t,c){const v=c||(V=>V),S=this.firestore.collectionGroup(t);return new sx(v(S),this)}doc(t){let c;c="string"==typeof t?this.firestore.doc(t):t;const v=this.schedulers.ngZone.run(()=>c);return new B0(v,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(a.LFG(Be.Dh),a.LFG(Be.xv,8),a.LFG(Pb,8),a.LFG(V0,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Ee.HU),a.LFG(ox,8),a.LFG(H0,8),a.LFG(Mb,8),a.LFG(O0,8),a.LFG(Ab,8),a.LFG(Sb,8),a.LFG(av,8),a.LFG(Eb,8),a.LFG(Wy,8),a.LFG(I0,8))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),z0=(()=>{class r{constructor(){Tb.Z.registerVersion("angularfire",Ee.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:r,providers:[{provide:Pb,useValue:!0},{provide:ox,useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[Zy]}),r})()},2011:(ai,qt,N)=>{"use strict";N.d(qt,{Dh:()=>xe,GT:()=>Ee,cc:()=>Ne,hO:()=>Ve,on:()=>re,pX:()=>R,xv:()=>Ce});var a=N(4650),T=N(9260),O=N(2122);ai=N.hmd(ai);const ue=["ngOnDestroy"],R=(nt,We,ft,pt={})=>new Proxy(nt,{get:(tt,je)=>ft.runOutsideAngular(()=>{var Ye;if(nt[je])return!(null===(Ye=pt?.spy)||void 0===Ye)&&Ye.get&&pt.spy.get(je,nt[je]),nt[je];if(ue.indexOf(je)>-1)return()=>{};const Me=We.toPromise().then(me=>{const St=me&&me[je];return"function"==typeof St?St.bind(me):St&&St.then?St.then(vt=>ft.run(()=>vt)):ft.run(()=>St)});return new Proxy(()=>{},{get:(me,St)=>Me[St],apply:(me,St,vt)=>Me.then(an=>{var xn;const In=an&&an(...vt);return!(null===(xn=pt?.spy)||void 0===xn)&&xn.apply&&pt.spy.apply(je,vt,In),In})})})}),Ee=(nt,We)=>{We.forEach(ft=>{Object.getOwnPropertyNames(ft.prototype||ft).forEach(pt=>{Object.defineProperty(nt.prototype,pt,Object.getOwnPropertyDescriptor(ft.prototype||ft,pt))})})};class Re{constructor(We){return We}}const xe=new a.OlP("angularfire2.app.options"),Ce=new a.OlP("angularfire2.app.name");function re(nt,We,ft){const tt="object"==typeof ft&&ft||{};tt.name=tt.name||"string"==typeof ft&&ft||"[DEFAULT]";const Ye=T.Z.apps.filter(Me=>Me&&Me.name===tt.name)[0]||We.runOutsideAngular(()=>T.Z.initializeApp(nt,tt));try{JSON.stringify(nt)!==JSON.stringify(Ye.options)&&ce("error",`${Ye.name} Firebase App already initialized with different options${ai.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Re(Ye)}const ce=(nt,...We)=>{(0,a.X6Q)()&&typeof console<"u"&&console[nt](...We)},be={provide:Re,useFactory:re,deps:[xe,a.R0b,[new a.FiY,Ce]]};let Ve=(()=>{class nt{constructor(ft){T.Z.registerVersion("angularfire",O.q4.full,"core"),T.Z.registerVersion("angularfire",O.q4.full,"app-compat"),T.Z.registerVersion("angular",a.q4F.full,ft.toString())}static initializeApp(ft,pt){return{ngModule:nt,providers:[{provide:xe,useValue:ft},{provide:Ce,useValue:pt}]}}}return nt.\u0275fac=function(ft){return new(ft||nt)(a.LFG(a.Lbi))},nt.\u0275mod=a.oAB({type:nt}),nt.\u0275inj=a.cJS({providers:[be]}),nt})();function Ne(nt,We,ft,pt,tt){const[,je,Ye]=globalThis.\u0275AngularfireInstanceCache.find(Me=>Me[0]===nt)||[];if(je)return function Be(nt,We){try{return nt.toString()===We.toString()}catch{return nt===We}}(tt,Ye)||(Ke("error",`${We} was already initialized on the ${ft} Firebase App with different settings.${Je?" You may need to reload as Firebase is not HMR aware.":""}`),Ke("warn",{is:tt,was:Ye})),je;{const Me=pt();return globalThis.\u0275AngularfireInstanceCache.push([nt,Me,tt]),Me}}const Je=!!ai.hot,Ke=(nt,...We)=>{(0,a.X6Q)()&&typeof console<"u"&&console[nt](...We)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(ai,qt,N)=>{"use strict";N.d(qt,{q4:()=>dn,iC:()=>Ka,HU:()=>ml,vb:()=>Za,JM:()=>Ua});var a=N(4650),T=N(259),O=N(5861),ue=N(9681),R=N(2090),Ee=N(3475),Re=N(1877),xe=N(8766);const Ce="@firebase/installations",be="w:0.6.1",Ve="FIS_v2",We=new R.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ft(_e){return _e instanceof R.ZR&&_e.code.includes("request-failed")}function pt({projectId:_e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${_e}/installations`}function tt(_e){return{token:_e.token,requestStatus:2,expiresIn:an(_e.expiresIn),creationTime:Date.now()}}function je(_e,He){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,O.Z)(function*(_e,He){const ln=(yield He.json()).error;return We.create("request-failed",{requestName:_e,serverCode:ln.code,serverMessage:ln.message,serverStatus:ln.status})})).apply(this,arguments)}function Me({apiKey:_e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":_e})}function me(_e,{refreshToken:He}){const bt=Me(_e);return bt.append("Authorization",function xn(_e){return`${Ve} ${_e}`}(He)),bt}function St(_e){return vt.apply(this,arguments)}function vt(){return(vt=(0,O.Z)(function*(_e){const He=yield _e();return He.status>=500&&He.status<600?_e():He})).apply(this,arguments)}function an(_e){return Number(_e.replace("s","000"))}function In(_e,He){return cn.apply(this,arguments)}function cn(){return(cn=(0,O.Z)(function*({appConfig:_e,heartbeatServiceProvider:He},{fid:bt}){const ln=pt(_e),zn=Me(_e),Zn=He.getImmediate({optional:!0});if(Zn){const yr=yield Zn.getHeartbeatsHeader();yr&&zn.append("x-firebase-client",yr)}const or={method:"POST",headers:zn,body:JSON.stringify({fid:bt,authVersion:Ve,appId:_e.appId,sdkVersion:be})},br=yield St(()=>fetch(ln,or));if(br.ok){const yr=yield br.json();return{fid:yr.fid||bt,registrationStatus:2,refreshToken:yr.refreshToken,authToken:tt(yr.authToken)}}throw yield je("Create Installation",br)})).apply(this,arguments)}function Gn(_e){return new Promise(He=>{setTimeout(He,_e)})}const Wn=/^[cdef][\w-]{21}$/;function Bt(){try{const _e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(_e),_e[0]=112+_e[0]%16;const bt=function Kt(_e){return function Tn(_e){return btoa(String.fromCharCode(..._e)).replace(/\+/g,"-").replace(/\//g,"_")}(_e).substr(0,22)}(_e);return Wn.test(bt)?bt:""}catch{return""}}function et(_e){return`${_e.appName}!${_e.appId}`}const Vt=new Map;function jt(_e,He){const bt=et(_e);gn(bt,He),function On(_e,He){const bt=function _n(){return!Qn&&"BroadcastChannel"in self&&(Qn=new BroadcastChannel("[Firebase] FID Change"),Qn.onmessage=_e=>{gn(_e.data.key,_e.data.fid)}),Qn}();bt&&bt.postMessage({key:_e,fid:He}),function Nn(){0===Vt.size&&Qn&&(Qn.close(),Qn=null)}()}(bt,He)}function gn(_e,He){const bt=Vt.get(_e);if(bt)for(const ln of bt)ln(He)}let Qn=null;const Pn="firebase-installations-store";let Nt=null;function tn(){return Nt||(Nt=(0,xe.X3)("firebase-installations-database",1,{upgrade:(_e,He)=>{0===He&&_e.createObjectStore(Pn)}})),Nt}function Rt(_e,He){return bn.apply(this,arguments)}function bn(){return(bn=(0,O.Z)(function*(_e,He){const bt=et(_e),zn=(yield tn()).transaction(Pn,"readwrite"),Zn=zn.objectStore(Pn),Ai=yield Zn.get(bt);return yield Zn.put(He,bt),yield zn.done,(!Ai||Ai.fid!==He.fid)&&jt(_e,He.fid),He})).apply(this,arguments)}function lt(_e){return le.apply(this,arguments)}function le(){return(le=(0,O.Z)(function*(_e){const He=et(_e),ln=(yield tn()).transaction(Pn,"readwrite");yield ln.objectStore(Pn).delete(He),yield ln.done})).apply(this,arguments)}function Ae(_e,He){return ot.apply(this,arguments)}function ot(){return(ot=(0,O.Z)(function*(_e,He){const bt=et(_e),zn=(yield tn()).transaction(Pn,"readwrite"),Zn=zn.objectStore(Pn),Ai=yield Zn.get(bt),or=He(Ai);return void 0===or?yield Zn.delete(bt):yield Zn.put(or,bt),yield zn.done,or&&(!Ai||Ai.fid!==or.fid)&&jt(_e,or.fid),or})).apply(this,arguments)}function zt(_e){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,O.Z)(function*(_e){let He;const bt=yield Ae(_e.appConfig,ln=>{const zn=Mt(ln),Zn=Tt(_e,zn);return He=Zn.registrationPromise,Zn.installationEntry});return""===bt.fid?{installationEntry:yield He}:{installationEntry:bt,registrationPromise:He}})).apply(this,arguments)}function Mt(_e){return li(_e||{fid:Bt(),registrationStatus:0})}function Tt(_e,He){if(0===He.registrationStatus){if(!navigator.onLine)return{installationEntry:He,registrationPromise:Promise.reject(We.create("app-offline"))};const bt={fid:He.fid,registrationStatus:1,registrationTime:Date.now()},ln=function mn(_e,He){return An.apply(this,arguments)}(_e,bt);return{installationEntry:bt,registrationPromise:ln}}return 1===He.registrationStatus?{installationEntry:He,registrationPromise:Ln(_e)}:{installationEntry:He}}function An(){return(An=(0,O.Z)(function*(_e,He){try{const bt=yield In(_e,He);return Rt(_e.appConfig,bt)}catch(bt){throw ft(bt)&&409===bt.customData.serverCode?yield lt(_e.appConfig):yield Rt(_e.appConfig,{fid:He.fid,registrationStatus:0}),bt}})).apply(this,arguments)}function Ln(_e){return mi.apply(this,arguments)}function mi(){return(mi=(0,O.Z)(function*(_e){let He=yield Xi(_e.appConfig);for(;1===He.registrationStatus;)yield Gn(100),He=yield Xi(_e.appConfig);if(0===He.registrationStatus){const{installationEntry:bt,registrationPromise:ln}=yield zt(_e);return ln||bt}return He})).apply(this,arguments)}function Xi(_e){return Ae(_e,He=>{if(!He)throw We.create("installation-not-found");return li(He)})}function li(_e){return function Bi(_e){return 1===_e.registrationStatus&&_e.registrationTime+1e4<Date.now()}(_e)?{fid:_e.fid,registrationStatus:0}:_e}function Si(_e,He){return _r.apply(this,arguments)}function _r(){return(_r=(0,O.Z)(function*({appConfig:_e,heartbeatServiceProvider:He},bt){const ln=En(_e,bt),zn=me(_e,bt),Zn=He.getImmediate({optional:!0});if(Zn){const yr=yield Zn.getHeartbeatsHeader();yr&&zn.append("x-firebase-client",yr)}const or={method:"POST",headers:zn,body:JSON.stringify({installation:{sdkVersion:be,appId:_e.appId}})},br=yield St(()=>fetch(ln,or));if(br.ok)return tt(yield br.json());throw yield je("Generate Auth Token",br)})).apply(this,arguments)}function En(_e,{fid:He}){return`${pt(_e)}/${He}/authTokens:generate`}function sn(_e){return It.apply(this,arguments)}function It(){return(It=(0,O.Z)(function*(_e,He=!1){let bt;const ln=yield Ae(_e.appConfig,Zn=>{if(!st(Zn))throw We.create("not-registered");const Ai=Zn.authToken;if(!He&&Ue(Ai))return Zn;if(1===Ai.requestStatus)return bt=xt(_e,He),Zn;{if(!navigator.onLine)throw We.create("app-offline");const or=ct(Zn);return bt=pe(_e,or),or}});return bt?yield bt:ln.authToken})).apply(this,arguments)}function xt(_e,He){return wt.apply(this,arguments)}function wt(){return(wt=(0,O.Z)(function*(_e,He){let bt=yield Ie(_e.appConfig);for(;1===bt.authToken.requestStatus;)yield Gn(100),bt=yield Ie(_e.appConfig);const ln=bt.authToken;return 0===ln.requestStatus?sn(_e,He):ln})).apply(this,arguments)}function Ie(_e){return Ae(_e,He=>{if(!st(He))throw We.create("not-registered");return function Fe(_e){return 1===_e.requestStatus&&_e.requestTime+1e4<Date.now()}(He.authToken)?Object.assign(Object.assign({},He),{authToken:{requestStatus:0}}):He})}function pe(_e,He){return ye.apply(this,arguments)}function ye(){return(ye=(0,O.Z)(function*(_e,He){try{const bt=yield Si(_e,He),ln=Object.assign(Object.assign({},He),{authToken:bt});return yield Rt(_e.appConfig,ln),bt}catch(bt){if(!ft(bt)||401!==bt.customData.serverCode&&404!==bt.customData.serverCode){const ln=Object.assign(Object.assign({},He),{authToken:{requestStatus:0}});yield Rt(_e.appConfig,ln)}else yield lt(_e.appConfig);throw bt}})).apply(this,arguments)}function st(_e){return void 0!==_e&&2===_e.registrationStatus}function Ue(_e){return 2===_e.requestStatus&&!function Te(_e){const He=Date.now();return He<_e.creationTime||_e.creationTime+_e.expiresIn<He+36e5}(_e)}function ct(_e){const He={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},_e),{authToken:He})}function Zt(){return(Zt=(0,O.Z)(function*(_e){const He=_e,{installationEntry:bt,registrationPromise:ln}=yield zt(He);return ln?ln.catch(console.error):sn(He).catch(console.error),bt.fid})).apply(this,arguments)}function ti(){return(ti=(0,O.Z)(function*(_e,He=!1){const bt=_e;return yield Ui(bt),(yield sn(bt,He)).token})).apply(this,arguments)}function Ui(_e){return Li.apply(this,arguments)}function Li(){return(Li=(0,O.Z)(function*(_e){const{registrationPromise:He}=yield zt(_e);He&&(yield He)})).apply(this,arguments)}function pi(_e){return We.create("missing-app-config-values",{valueName:_e})}const mt="installations",it=_e=>{const He=_e.getProvider("app").getImmediate(),bt=function Un(_e){if(!_e||!_e.options)throw pi("App Configuration");if(!_e.name)throw pi("App Name");const He=["projectId","apiKey","appId"];for(const bt of He)if(!_e.options[bt])throw pi(bt);return{appName:_e.name,projectId:_e.options.projectId,apiKey:_e.options.apiKey,appId:_e.options.appId}}(He);return{app:He,appConfig:bt,heartbeatServiceProvider:(0,ue._getProvider)(He,"heartbeat"),_delete:()=>Promise.resolve()}},Wt=_e=>{const He=_e.getProvider("app").getImmediate(),bt=(0,ue._getProvider)(He,mt).getImmediate();return{getId:()=>function qe(_e){return Zt.apply(this,arguments)}(bt),getToken:zn=>function wn(_e){return ti.apply(this,arguments)}(bt,zn)}};(function at(){(0,ue._registerComponent)(new Ee.wA(mt,it,"PUBLIC")),(0,ue._registerComponent)(new Ee.wA("installations-internal",Wt,"PRIVATE"))})(),(0,ue.registerVersion)(Ce,"0.6.1"),(0,ue.registerVersion)(Ce,"0.6.1","esm2017");const Yt="@firebase/remote-config",Y="0.4.1",ci=new R.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ja{constructor(He,bt,ln,zn){this.client=He,this.storage=bt,this.storageCache=ln,this.logger=zn}isCachedDataFresh(He,bt){if(!bt)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ln=Date.now()-bt,zn=ln<=He;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ln}. Cache max age millis (minimumFetchIntervalMillis setting): ${He}. Is cache hit: ${zn}.`),zn}fetch(He){var bt=this;return(0,O.Z)(function*(){const[ln,zn]=yield Promise.all([bt.storage.getLastSuccessfulFetchTimestampMillis(),bt.storage.getLastSuccessfulFetchResponse()]);if(zn&&bt.isCachedDataFresh(He.cacheMaxAgeMillis,ln))return zn;He.eTag=zn&&zn.eTag;const Zn=yield bt.client.fetch(He),Ai=[bt.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Zn.status&&Ai.push(bt.storage.setLastSuccessfulFetchResponse(Zn)),yield Promise.all(Ai),Zn})()}}function Os(_e=navigator){return _e.languages&&_e.languages[0]||_e.language}class Ra{constructor(He,bt,ln,zn,Zn,Ai){this.firebaseInstallations=He,this.sdkVersion=bt,this.namespace=ln,this.projectId=zn,this.apiKey=Zn,this.appId=Ai}fetch(He){var bt=this;return(0,O.Z)(function*(){const[ln,zn]=yield Promise.all([bt.firebaseInstallations.getId(),bt.firebaseInstallations.getToken()]),Ai=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${bt.projectId}/namespaces/${bt.namespace}:fetch?key=${bt.apiKey}`,or={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":He.eTag||"*"},br={sdk_version:bt.sdkVersion,app_instance_id:ln,app_instance_id_token:zn,app_id:bt.appId,language_code:Os()},yr={method:"POST",headers:or,body:JSON.stringify(br)},Xr=fetch(Ai,yr),Qi=new Promise((Hl,qa)=>{He.signal.addEventListener(()=>{const Id=new Error("The operation was aborted.");Id.name="AbortError",qa(Id)})});let Yr;try{yield Promise.race([Xr,Qi]),Yr=yield Xr}catch(Hl){let qa="fetch-client-network";throw"AbortError"===Hl?.name&&(qa="fetch-timeout"),ci.create(qa,{originalErrorMessage:Hl?.message})}let bo=Yr.status;const xc=Yr.headers.get("ETag")||void 0;let ec,Uc;if(200===Yr.status){let Hl;try{Hl=yield Yr.json()}catch(qa){throw ci.create("fetch-client-parse",{originalErrorMessage:qa?.message})}ec=Hl.entries,Uc=Hl.state}if("INSTANCE_STATE_UNSPECIFIED"===Uc?bo=500:"NO_CHANGE"===Uc?bo=304:("NO_TEMPLATE"===Uc||"EMPTY_CONFIG"===Uc)&&(ec={}),304!==bo&&200!==bo)throw ci.create("fetch-status",{httpStatus:bo});return{status:bo,eTag:xc,config:ec}})()}}class Dl{constructor(He,bt){this.client=He,this.storage=bt}fetch(He){var bt=this;return(0,O.Z)(function*(){const ln=(yield bt.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return bt.attemptFetch(He,ln)})()}attemptFetch(He,{throttleEndTimeMillis:bt,backoffCount:ln}){var zn=this;return(0,O.Z)(function*(){yield function cs(_e,He){return new Promise((bt,ln)=>{const zn=Math.max(He-Date.now(),0),Zn=setTimeout(bt,zn);_e.addEventListener(()=>{clearTimeout(Zn),ln(ci.create("fetch-throttle",{throttleEndTimeMillis:He}))})})}(He.signal,bt);try{const Zn=yield zn.client.fetch(He);return yield zn.storage.deleteThrottleMetadata(),Zn}catch(Zn){if(!function Po(_e){if(!(_e instanceof R.ZR&&_e.customData))return!1;const He=Number(_e.customData.httpStatus);return 429===He||500===He||503===He||504===He}(Zn))throw Zn;const Ai={throttleEndTimeMillis:Date.now()+(0,R.$s)(ln),backoffCount:ln+1};return yield zn.storage.setThrottleMetadata(Ai),zn.attemptFetch(He,Ai)}})()}}class wa{constructor(He,bt,ln,zn,Zn){this.app=He,this._client=bt,this._storageCache=ln,this._storage=zn,this._logger=Zn,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ws(_e,He){const bt=_e.target.error||void 0;return ci.create(He,{originalErrorMessage:bt&&bt?.message})}const Hs="app_namespace_store";class Rr{constructor(He,bt,ln,zn=function Sr(){return new Promise((_e,He)=>{try{const bt=indexedDB.open("firebase_remote_config",1);bt.onerror=ln=>{He(Ws(ln,"storage-open"))},bt.onsuccess=ln=>{_e(ln.target.result)},bt.onupgradeneeded=ln=>{0===ln.oldVersion&&ln.target.result.createObjectStore(Hs,{keyPath:"compositeKey"})}}catch(bt){He(ci.create("storage-open",{originalErrorMessage:bt?.message}))}})}()){this.appId=He,this.appName=bt,this.namespace=ln,this.openDbPromise=zn}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(He){return this.set("last_fetch_status",He)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(He){return this.set("last_successful_fetch_timestamp_millis",He)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(He){return this.set("last_successful_fetch_response",He)}getActiveConfig(){return this.get("active_config")}setActiveConfig(He){return this.set("active_config",He)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(He){return this.set("active_config_etag",He)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(He){return this.set("throttle_metadata",He)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(He){var bt=this;return(0,O.Z)(function*(){const ln=yield bt.openDbPromise;return new Promise((zn,Zn)=>{const or=ln.transaction([Hs],"readonly").objectStore(Hs),br=bt.createCompositeKey(He);try{const yr=or.get(br);yr.onerror=Xr=>{Zn(Ws(Xr,"storage-get"))},yr.onsuccess=Xr=>{const Qi=Xr.target.result;zn(Qi?Qi.value:void 0)}}catch(yr){Zn(ci.create("storage-get",{originalErrorMessage:yr?.message}))}})})()}set(He,bt){var ln=this;return(0,O.Z)(function*(){const zn=yield ln.openDbPromise;return new Promise((Zn,Ai)=>{const br=zn.transaction([Hs],"readwrite").objectStore(Hs),yr=ln.createCompositeKey(He);try{const Xr=br.put({compositeKey:yr,value:bt});Xr.onerror=Qi=>{Ai(Ws(Qi,"storage-set"))},Xr.onsuccess=()=>{Zn()}}catch(Xr){Ai(ci.create("storage-set",{originalErrorMessage:Xr?.message}))}})})()}delete(He){var bt=this;return(0,O.Z)(function*(){const ln=yield bt.openDbPromise;return new Promise((zn,Zn)=>{const or=ln.transaction([Hs],"readwrite").objectStore(Hs),br=bt.createCompositeKey(He);try{const yr=or.delete(br);yr.onerror=Xr=>{Zn(Ws(Xr,"storage-delete"))},yr.onsuccess=()=>{zn()}}catch(yr){Zn(ci.create("storage-delete",{originalErrorMessage:yr?.message}))}})})()}createCompositeKey(He){return[this.appId,this.appName,this.namespace,He].join()}}class os{constructor(He){this.storage=He}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var He=this;return(0,O.Z)(function*(){const bt=He.storage.getLastFetchStatus(),ln=He.storage.getLastSuccessfulFetchTimestampMillis(),zn=He.storage.getActiveConfig(),Zn=yield bt;Zn&&(He.lastFetchStatus=Zn);const Ai=yield ln;Ai&&(He.lastSuccessfulFetchTimestampMillis=Ai);const or=yield zn;or&&(He.activeConfig=or)})()}setLastFetchStatus(He){return this.lastFetchStatus=He,this.storage.setLastFetchStatus(He)}setLastSuccessfulFetchTimestampMillis(He){return this.lastSuccessfulFetchTimestampMillis=He,this.storage.setLastSuccessfulFetchTimestampMillis(He)}setActiveConfig(He){return this.activeConfig=He,this.storage.setActiveConfig(He)}}function Eo(){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,O.Z)(function*(){if(!(0,R.hl)())return!1;try{return yield(0,R.eu)()}catch{return!1}})).apply(this,arguments)}!function Ta(){(0,ue._registerComponent)(new Ee.wA("remote-config",function _e(He,{instanceIdentifier:bt}){const ln=He.getProvider("app").getImmediate(),zn=He.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ci.create("registration-window");if(!(0,R.hl)())throw ci.create("indexed-db-unavailable");const{projectId:Zn,apiKey:Ai,appId:or}=ln.options;if(!Zn)throw ci.create("registration-project-id");if(!Ai)throw ci.create("registration-api-key");if(!or)throw ci.create("registration-app-id");const br=new Rr(or,ln.name,bt=bt||"firebase"),yr=new os(br),Xr=new Re.Yd(Yt);Xr.logLevel=Re.in.ERROR;const Qi=new Ra(zn,ue.SDK_VERSION,bt,Zn,Ai,or),Yr=new Dl(Qi,br),bo=new ja(Yr,br,yr,Xr),xc=new wa(ln,bo,yr,br,Xr);return function nr(_e){const He=(0,R.m9)(_e);He._initializePromise||(He._initializePromise=He._storageCache.loadFromStorage().then(()=>{He._isInitializationComplete=!0}))}(xc),xc},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(Yt,Y),(0,ue.registerVersion)(Yt,Y,"esm2017")}();const Oo="/firebase-messaging-sw.js",mo="/firebase-cloud-messaging-push-scope",gs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",tl="google.c.a.c_id",Fa="google.c.a.c_l",Mo="google.c.a.ts",Sa="google.c.a.e";var Zo=(()=>{return(_e=Zo||(Zo={})).PUSH_RECEIVED="push-received",_e.NOTIFICATION_CLICKED="notification-clicked",Zo;var _e})();function lo(_e){const He=new Uint8Array(_e);return btoa(String.fromCharCode(...He)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function wr(_e){const bt=(_e+"=".repeat((4-_e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ln=atob(bt),zn=new Uint8Array(ln.length);for(let Zn=0;Zn<ln.length;++Zn)zn[Zn]=ln.charCodeAt(Zn);return zn}const Ea="fcm_token_details_db",Ms="fcm_token_object_Store";function To(_e){return dl.apply(this,arguments)}function dl(){return dl=(0,O.Z)(function*(_e){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Zn=>Zn.name).includes(Ea))return null;let He=null;return(yield(0,xe.X3)(Ea,5,{upgrade:(ln=(0,O.Z)(function*(zn,Zn,Ai,or){var br;if(Zn<2||!zn.objectStoreNames.contains(Ms))return;const yr=or.objectStore(Ms),Xr=yield yr.index("fcmSenderId").get(_e);if(yield yr.clear(),Xr)if(2===Zn){const Qi=Xr;if(!Qi.auth||!Qi.p256dh||!Qi.endpoint)return;He={token:Qi.fcmToken,createTime:null!==(br=Qi.createTime)&&void 0!==br?br:Date.now(),subscriptionOptions:{auth:Qi.auth,p256dh:Qi.p256dh,endpoint:Qi.endpoint,swScope:Qi.swScope,vapidKey:"string"==typeof Qi.vapidKey?Qi.vapidKey:lo(Qi.vapidKey)}}}else if(3===Zn){const Qi=Xr;He={token:Qi.fcmToken,createTime:Qi.createTime,subscriptionOptions:{auth:lo(Qi.auth),p256dh:lo(Qi.p256dh),endpoint:Qi.endpoint,swScope:Qi.swScope,vapidKey:lo(Qi.vapidKey)}}}else if(4===Zn){const Qi=Xr;He={token:Qi.fcmToken,createTime:Qi.createTime,subscriptionOptions:{auth:lo(Qi.auth),p256dh:lo(Qi.p256dh),endpoint:Qi.endpoint,swScope:Qi.swScope,vapidKey:lo(Qi.vapidKey)}}}}),function(Zn,Ai,or,br){return ln.apply(this,arguments)})})).close(),yield(0,xe.Lj)(Ea),yield(0,xe.Lj)("fcm_vapid_details_db"),yield(0,xe.Lj)("undefined"),Kr(He)?He:null;var ln}),dl.apply(this,arguments)}function Kr(_e){if(!_e||!_e.subscriptionOptions)return!1;const{subscriptionOptions:He}=_e;return"number"==typeof _e.createTime&&_e.createTime>0&&"string"==typeof _e.token&&_e.token.length>0&&"string"==typeof He.auth&&He.auth.length>0&&"string"==typeof He.p256dh&&He.p256dh.length>0&&"string"==typeof He.endpoint&&He.endpoint.length>0&&"string"==typeof He.swScope&&He.swScope.length>0&&"string"==typeof He.vapidKey&&He.vapidKey.length>0}const Us="firebase-messaging-store";let go=null;function Lo(){return go||(go=(0,xe.X3)("firebase-messaging-database",1,{upgrade:(_e,He)=>{0===He&&_e.createObjectStore(Us)}})),go}function Na(_e){return zs.apply(this,arguments)}function zs(){return(zs=(0,O.Z)(function*(_e){const He=Vo(_e),ln=yield(yield Lo()).transaction(Us).objectStore(Us).get(He);if(ln)return ln;{const zn=yield To(_e.appConfig.senderId);if(zn)return yield Vr(_e,zn),zn}})).apply(this,arguments)}function Vr(_e,He){return hl.apply(this,arguments)}function hl(){return(hl=(0,O.Z)(function*(_e,He){const bt=Vo(_e),zn=(yield Lo()).transaction(Us,"readwrite");return yield zn.objectStore(Us).put(He,bt),yield zn.done,He})).apply(this,arguments)}function eo(_e){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,O.Z)(function*(_e){const He=Vo(_e),ln=(yield Lo()).transaction(Us,"readwrite");yield ln.objectStore(Us).delete(He),yield ln.done})).apply(this,arguments)}function Vo({appConfig:_e}){return _e.appId}const js=new R.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function lr(_e,He){return Do.apply(this,arguments)}function Do(){return(Do=(0,O.Z)(function*(_e,He){const bt=yield Ma(_e),ln=_i(He),zn={method:"POST",headers:bt,body:JSON.stringify(ln)};let Zn;try{Zn=yield(yield fetch(na(_e.appConfig),zn)).json()}catch(Ai){throw js.create("token-subscribe-failed",{errorInfo:Ai?.toString()})}if(Zn.error)throw js.create("token-subscribe-failed",{errorInfo:Zn.error.message});if(!Zn.token)throw js.create("token-subscribe-no-token");return Zn.token})).apply(this,arguments)}function nl(_e,He){return $a.apply(this,arguments)}function $a(){return($a=(0,O.Z)(function*(_e,He){const bt=yield Ma(_e),ln=_i(He.subscriptionOptions),zn={method:"PATCH",headers:bt,body:JSON.stringify(ln)};let Zn;try{Zn=yield(yield fetch(`${na(_e.appConfig)}/${He.token}`,zn)).json()}catch(Ai){throw js.create("token-update-failed",{errorInfo:Ai?.toString()})}if(Zn.error)throw js.create("token-update-failed",{errorInfo:Zn.error.message});if(!Zn.token)throw js.create("token-update-no-token");return Zn.token})).apply(this,arguments)}function Ba(_e,He){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,O.Z)(function*(_e,He){const ln={method:"DELETE",headers:yield Ma(_e)};try{const Zn=yield(yield fetch(`${na(_e.appConfig)}/${He}`,ln)).json();if(Zn.error)throw js.create("token-unsubscribe-failed",{errorInfo:Zn.error.message})}catch(zn){throw js.create("token-unsubscribe-failed",{errorInfo:zn?.toString()})}})).apply(this,arguments)}function na({projectId:_e}){return`https://fcmregistrations.googleapis.com/v1/projects/${_e}/registrations`}function Ma(_e){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,O.Z)(function*({appConfig:_e,installations:He}){const bt=yield He.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":_e.apiKey,"x-goog-firebase-installations-auth":`FIS ${bt}`})})).apply(this,arguments)}function _i({p256dh:_e,auth:He,endpoint:bt,vapidKey:ln}){const zn={web:{endpoint:bt,auth:He,p256dh:_e}};return ln!==gs&&(zn.web.applicationPubKey=ln),zn}const Cr=6048e5;function ac(_e){return ka.apply(this,arguments)}function ka(){return(ka=(0,O.Z)(function*(_e){const He=yield Vi(_e.swRegistration,_e.vapidKey),bt={vapidKey:_e.vapidKey,swScope:_e.swRegistration.scope,endpoint:He.endpoint,auth:lo(He.getKey("auth")),p256dh:lo(He.getKey("p256dh"))},ln=yield Na(_e.firebaseDependencies);if(ln){if(Rs(ln.subscriptionOptions,bt))return Date.now()>=ln.createTime+Cr?De(_e,{token:ln.token,createTime:Date.now(),subscriptionOptions:bt}):ln.token;try{yield Ba(_e.firebaseDependencies,ln.token)}catch(zn){console.warn(zn)}return Et(_e.firebaseDependencies,bt)}return Et(_e.firebaseDependencies,bt)})).apply(this,arguments)}function ks(_e){return Se.apply(this,arguments)}function Se(){return(Se=(0,O.Z)(function*(_e){const He=yield Na(_e.firebaseDependencies);He&&(yield Ba(_e.firebaseDependencies,He.token),yield eo(_e.firebaseDependencies));const bt=yield _e.swRegistration.pushManager.getSubscription();return!bt||bt.unsubscribe()})).apply(this,arguments)}function De(_e,He){return he.apply(this,arguments)}function he(){return(he=(0,O.Z)(function*(_e,He){try{const bt=yield nl(_e.firebaseDependencies,He),ln=Object.assign(Object.assign({},He),{token:bt,createTime:Date.now()});return yield Vr(_e.firebaseDependencies,ln),bt}catch(bt){throw yield ks(_e),bt}})).apply(this,arguments)}function Et(_e,He){return qn.apply(this,arguments)}function qn(){return(qn=(0,O.Z)(function*(_e,He){const ln={token:yield lr(_e,He),createTime:Date.now(),subscriptionOptions:He};return yield Vr(_e,ln),ln.token})).apply(this,arguments)}function Vi(_e,He){return ds.apply(this,arguments)}function ds(){return(ds=(0,O.Z)(function*(_e,He){return(yield _e.pushManager.getSubscription())||_e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:wr(He)})})).apply(this,arguments)}function Rs(_e,He){return He.vapidKey===_e.vapidKey&&He.endpoint===_e.endpoint&&He.auth===_e.auth&&He.p256dh===_e.p256dh}function to(_e){const He={from:_e.from,collapseKey:_e.collapse_key,messageId:_e.fcmMessageId};return function _s(_e,He){if(!He.notification)return;_e.notification={};const bt=He.notification.title;bt&&(_e.notification.title=bt);const ln=He.notification.body;ln&&(_e.notification.body=ln);const zn=He.notification.image;zn&&(_e.notification.image=zn);const Zn=He.notification.icon;Zn&&(_e.notification.icon=Zn)}(He,_e),function Ao(_e,He){!He.data||(_e.data=He.data)}(He,_e),function _o(_e,He){var bt,ln,zn,Zn,Ai;if(!(He.fcmOptions||null!==(bt=He.notification)&&void 0!==bt&&bt.click_action))return;_e.fcmOptions={};const or=null!==(zn=null===(ln=He.fcmOptions)||void 0===ln?void 0:ln.link)&&void 0!==zn?zn:null===(Zn=He.notification)||void 0===Zn?void 0:Zn.click_action;or&&(_e.fcmOptions.link=or);const br=null===(Ai=He.fcmOptions)||void 0===Ai?void 0:Ai.analytics_label;br&&(_e.fcmOptions.analyticsLabel=br)}(He,_e),He}function aa(_e){return"object"==typeof _e&&!!_e&&tl in _e}function la(_e,He){const bt=[];for(let ln=0;ln<_e.length;ln++)bt.push(_e.charAt(ln)),ln<He.length&&bt.push(He.charAt(ln));return bt.join("")}function Fl(_e){return js.create("missing-app-config-values",{valueName:_e})}la("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),la("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Wa{constructor(He,bt,ln){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const zn=function Sc(_e){if(!_e||!_e.options)throw Fl("App Configuration Object");if(!_e.name)throw Fl("App Name");const He=["projectId","apiKey","appId","messagingSenderId"],{options:bt}=_e;for(const ln of He)if(!bt[ln])throw Fl(ln);return{appName:_e.name,projectId:bt.projectId,apiKey:bt.apiKey,appId:bt.appId,senderId:bt.messagingSenderId}}(He);this.firebaseDependencies={app:He,appConfig:zn,installations:bt,analyticsProvider:ln}}_delete(){return Promise.resolve()}}function lc(_e){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,O.Z)(function*(_e){try{_e.swRegistration=yield navigator.serviceWorker.register(Oo,{scope:mo}),_e.swRegistration.update().catch(()=>{})}catch(He){throw js.create("failed-service-worker-registration",{browserErrorMessage:He?.message})}})).apply(this,arguments)}function pa(_e,He){return cc.apply(this,arguments)}function cc(){return(cc=(0,O.Z)(function*(_e,He){if(!He&&!_e.swRegistration&&(yield lc(_e)),He||!_e.swRegistration){if(!(He instanceof ServiceWorkerRegistration))throw js.create("invalid-sw-registration");_e.swRegistration=He}})).apply(this,arguments)}function ca(_e,He){return ar.apply(this,arguments)}function ar(){return(ar=(0,O.Z)(function*(_e,He){He?_e.vapidKey=He:_e.vapidKey||(_e.vapidKey=gs)})).apply(this,arguments)}function il(){return(il=(0,O.Z)(function*(_e,He){if(!navigator)throw js.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw js.create("permission-blocked");return yield ca(_e,He?.vapidKey),yield pa(_e,He?.serviceWorkerRegistration),ac(_e)})).apply(this,arguments)}function co(_e,He,bt){return ua.apply(this,arguments)}function ua(){return(ua=(0,O.Z)(function*(_e,He,bt){const ln=Gs(He);(yield _e.firebaseDependencies.analyticsProvider.get()).logEvent(ln,{message_id:bt[tl],message_name:bt[Fa],message_time:bt[Mo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Gs(_e){switch(_e){case Zo.NOTIFICATION_CLICKED:return"notification_open";case Zo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Xe(){return(Xe=(0,O.Z)(function*(_e,He){const bt=He.data;if(!bt.isFirebaseMessaging)return;_e.onMessageHandler&&bt.messageType===Zo.PUSH_RECEIVED&&("function"==typeof _e.onMessageHandler?_e.onMessageHandler(to(bt)):_e.onMessageHandler.next(to(bt)));const ln=bt.data;aa(ln)&&"1"===ln[Sa]&&(yield co(_e,bt.messageType,ln))})).apply(this,arguments)}const ve="@firebase/messaging",un=_e=>{const He=new Wa(_e.getProvider("app").getImmediate(),_e.getProvider("installations-internal").getImmediate(),_e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",bt=>function ae(_e,He){return Xe.apply(this,arguments)}(He,bt)),He},jn=_e=>{const He=_e.getProvider("messaging").getImmediate();return{getToken:ln=>function xr(_e,He){return il.apply(this,arguments)}(He,ln)}};function Ji(){return ki.apply(this,arguments)}function ki(){return(ki=(0,O.Z)(function*(){try{yield(0,R.eu)()}catch{return!1}return typeof window<"u"&&(0,R.hl)()&&(0,R.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function si(){(0,ue._registerComponent)(new Ee.wA("messaging",un,"PUBLIC")),(0,ue._registerComponent)(new Ee.wA("messaging-internal",jn,"PRIVATE")),(0,ue.registerVersion)(ve,"0.12.1"),(0,ue.registerVersion)(ve,"0.12.1","esm2017")}();const yo="analytics",Va="firebase_id",ma="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_c="https://www.googletagmanager.com/gtag/js",Ys=new Re.Yd("@firebase/analytics");function $s(_e){return Promise.all(_e.map(He=>He.catch(bt=>bt)))}function Nl(_e,He){const bt=document.createElement("script");bt.src=`${_c}?l=${_e}&id=${He}`,bt.async=!0,document.head.appendChild(bt)}function Ec(_e,He,bt,ln,zn,Zn){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,O.Z)(function*(_e,He,bt,ln,zn,Zn){const Ai=ln[zn];try{if(Ai)yield He[Ai];else{const br=(yield $s(bt)).find(yr=>yr.measurementId===zn);br&&(yield He[br.appId])}}catch(or){Ys.error(or)}_e("config",zn,Zn)})).apply(this,arguments)}function vc(_e,He,bt,ln,zn){return no.apply(this,arguments)}function no(){return(no=(0,O.Z)(function*(_e,He,bt,ln,zn){try{let Zn=[];if(zn&&zn.send_to){let Ai=zn.send_to;Array.isArray(Ai)||(Ai=[Ai]);const or=yield $s(bt);for(const br of Ai){const yr=or.find(Qi=>Qi.measurementId===br),Xr=yr&&He[yr.appId];if(!Xr){Zn=[];break}Zn.push(Xr)}}0===Zn.length&&(Zn=Object.values(He)),yield Promise.all(Zn),_e("event",ln,zn||{})}catch(Zn){Ys.error(Zn)}})).apply(this,arguments)}function da(_e){const He=window.document.getElementsByTagName("script");for(const bt of Object.values(He))if(bt.src&&bt.src.includes(_c)&&bt.src.includes(_e))return bt;return null}const ne=new R.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Dn=new class hn{constructor(He={},bt=1e3){this.throttleMetadata=He,this.intervalMillis=bt}getThrottleMetadata(He){return this.throttleMetadata[He]}setThrottleMetadata(He,bt){this.throttleMetadata[He]=bt}deleteThrottleMetadata(He){delete this.throttleMetadata[He]}};function Gi(_e){return new Headers({Accept:"application/json","x-goog-api-key":_e})}function vs(_e){return es.apply(this,arguments)}function es(){return(es=(0,O.Z)(function*(_e){var He;const{appId:bt,apiKey:ln}=_e,zn={method:"GET",headers:Gi(ln)},Zn=ma.replace("{app-id}",bt),Ai=yield fetch(Zn,zn);if(200!==Ai.status&&304!==Ai.status){let or="";try{const br=yield Ai.json();null!==(He=br.error)&&void 0!==He&&He.message&&(or=br.error.message)}catch{}throw ne.create("config-fetch-failed",{httpStatus:Ai.status,responseMessage:or})}return Ai.json()})).apply(this,arguments)}function wi(_e){return $i.apply(this,arguments)}function $i(){return($i=(0,O.Z)(function*(_e,He=Dn,bt){const{appId:ln,apiKey:zn,measurementId:Zn}=_e.options;if(!ln)throw ne.create("no-app-id");if(!zn){if(Zn)return{measurementId:Zn,appId:ln};throw ne.create("no-api-key")}const Ai=He.getThrottleMetadata(ln)||{backoffCount:0,throttleEndTimeMillis:Date.now()},or=new f;return setTimeout((0,O.Z)(function*(){or.abort()}),void 0!==bt?bt:6e4),io({appId:ln,apiKey:zn,measurementId:Zn},Ai,or,He)})).apply(this,arguments)}function io(_e,He,bt){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,O.Z)(function*(_e,{throttleEndTimeMillis:He,backoffCount:bt},ln,zn=Dn){var Zn;const{appId:Ai,measurementId:or}=_e;try{yield Kn(ln,He)}catch(br){if(or)return Ys.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${or} provided in the "measurementId" field in the local Firebase config. [${br?.message}]`),{appId:Ai,measurementId:or};throw br}try{const br=yield vs(_e);return zn.deleteThrottleMetadata(Ai),br}catch(br){const yr=br;if(!vi(yr)){if(zn.deleteThrottleMetadata(Ai),or)return Ys.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${or} provided in the "measurementId" field in the local Firebase config. [${yr?.message}]`),{appId:Ai,measurementId:or};throw br}const Xr=503===Number(null===(Zn=yr?.customData)||void 0===Zn?void 0:Zn.httpStatus)?(0,R.$s)(bt,zn.intervalMillis,30):(0,R.$s)(bt,zn.intervalMillis),Qi={throttleEndTimeMillis:Date.now()+Xr,backoffCount:bt+1};return zn.setThrottleMetadata(Ai,Qi),Ys.debug(`Calling attemptFetch again in ${Xr} millis`),io(_e,Qi,ln,zn)}})).apply(this,arguments)}function Kn(_e,He){return new Promise((bt,ln)=>{const zn=Math.max(He-Date.now(),0),Zn=setTimeout(bt,zn);_e.addEventListener(()=>{clearTimeout(Zn),ln(ne.create("fetch-throttle",{throttleEndTimeMillis:He}))})})}function vi(_e){if(!(_e instanceof R.ZR&&_e.customData))return!1;const He=Number(_e.customData.httpStatus);return 429===He||500===He||503===He||504===He}class f{constructor(){this.listeners=[]}addEventListener(He){this.listeners.push(He)}abort(){this.listeners.forEach(He=>He())}}let w,Pi;function ee(){return(ee=(0,O.Z)(function*(_e,He,bt,ln,zn){if(zn&&zn.global)_e("event",bt,ln);else{const Zn=yield He;_e("event",bt,Object.assign(Object.assign({},ln),{send_to:Zn}))}})).apply(this,arguments)}function Is(_e){Pi=_e}function Al(_e){w=_e}function Zs(){return rr.apply(this,arguments)}function rr(){return(rr=(0,O.Z)(function*(){if(!(0,R.hl)())return Ys.warn(ne.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,R.eu)()}catch(_e){return Ys.warn(ne.create("indexeddb-unavailable",{errorInfo:_e?.toString()}).message),!1}return!0})).apply(this,arguments)}function Qr(){return(Qr=(0,O.Z)(function*(_e,He,bt,ln,zn,Zn,Ai){var or;const br=wi(_e);br.then(bo=>{bt[bo.measurementId]=bo.appId,_e.options.measurementId&&bo.measurementId!==_e.options.measurementId&&Ys.warn(`The measurement ID in the local Firebase config (${_e.options.measurementId}) does not match the measurement ID fetched from the server (${bo.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(bo=>Ys.error(bo)),He.push(br);const yr=Zs().then(bo=>{if(bo)return ln.getId()}),[Xr,Qi]=yield Promise.all([br,yr]);da(Zn)||Nl(Zn,Xr.measurementId),Pi&&(zn("consent","default",Pi),Is(void 0)),zn("js",new Date);const Yr=null!==(or=Ai?.config)&&void 0!==or?or:{};return Yr.origin="firebase",Yr.update=!0,null!=Qi&&(Yr[Va]=Qi),zn("config",Xr.measurementId,Yr),w&&(zn("set",w),Al(void 0)),Xr.measurementId})).apply(this,arguments)}class fl{constructor(He){this.app=He}_delete(){return delete Ts[this.app.options.appId],Promise.resolve()}}let Ts={},Oi=[];const Ro={};let Sl,pl,rl="dataLayer",Ya=!1;function Au(_e,He,bt){!function ou(){const _e=[];if((0,R.ru)()&&_e.push("This is a browser extension environment."),(0,R.zI)()||_e.push("Cookies are not available."),_e.length>0){const He=_e.map((ln,zn)=>`(${zn+1}) ${ln}`).join(" "),bt=ne.create("invalid-analytics-context",{errorInfo:He});Ys.warn(bt.message)}}();const ln=_e.options.appId;if(!ln)throw ne.create("no-app-id");if(!_e.options.apiKey){if(!_e.options.measurementId)throw ne.create("no-api-key");Ys.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${_e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ts[ln])throw ne.create("already-exists",{id:ln});if(!Ya){!function ga(_e){let He=[];Array.isArray(window[_e])?He=window[_e]:window[_e]=He}(rl);const{wrappedGtag:Zn,gtagCore:Ai}=function yc(_e,He,bt,ln,zn){let Zn=function(...Ai){window[ln].push(arguments)};return window[zn]&&"function"==typeof window[zn]&&(Zn=window[zn]),window[zn]=function Kl(_e,He,bt,ln){function Zn(){return(Zn=(0,O.Z)(function*(Ai,or,br){try{"event"===Ai?yield vc(_e,He,bt,or,br):"config"===Ai?yield Ec(_e,He,bt,ln,or,br):"consent"===Ai?_e("consent","update",br):_e("set",or)}catch(yr){Ys.error(yr)}})).apply(this,arguments)}return function zn(Ai,or,br){return Zn.apply(this,arguments)}}(Zn,_e,He,bt),{gtagCore:Zn,wrappedGtag:window[zn]}}(Ts,Oi,Ro,rl,"gtag");pl=Zn,Sl=Ai,Ya=!0}return Ts[ln]=function zo(_e,He,bt,ln,zn,Zn,Ai){return Qr.apply(this,arguments)}(_e,Oi,Ro,He,Sl,rl,bt),new fl(_e)}function ad(){return ql.apply(this,arguments)}function ql(){return(ql=(0,O.Z)(function*(){if((0,R.ru)()||!(0,R.zI)()||!(0,R.hl)())return!1;try{return yield(0,R.eu)()}catch{return!1}})).apply(this,arguments)}const uc="@firebase/analytics";!function fs(){(0,ue._registerComponent)(new Ee.wA(yo,(He,{options:bt})=>Au(He.getProvider("app").getImmediate(),He.getProvider("installations-internal").getImmediate(),bt),"PUBLIC")),(0,ue._registerComponent)(new Ee.wA("analytics-internal",function _e(He){try{const bt=He.getProvider(yo).getImmediate();return{logEvent:(ln,zn,Zn)=>function bc(_e,He,bt,ln){_e=(0,R.m9)(_e),function H(_e,He,bt,ln,zn){return ee.apply(this,arguments)}(pl,Ts[_e.app.options.appId],He,bt,ln).catch(zn=>Ys.error(zn))}(bt,ln,zn,Zn)}}catch(bt){throw ne.create("interop-component-reg-failed",{reason:bt})}},"PRIVATE")),(0,ue.registerVersion)(uc,"0.9.1"),(0,ue.registerVersion)(uc,"0.9.1","esm2017")}();var ia=N(4408),ea=N(7565);const Q=new class q extends ea.v{}(class Ql extends ia.o{constructor(He,bt){super(He,bt),this.scheduler=He,this.work=bt}schedule(He,bt=0){return bt>0?super.schedule(He,bt):(this.delay=bt,this.state=He,this.scheduler.flush(this),this)}execute(He,bt){return bt>0||this.closed?super.execute(He,bt):this._execute(He,bt)}requestAsyncId(He,bt,ln=0){return null!=ln&&ln>0||null==ln&&this.delay>0?super.requestAsyncId(He,bt,ln):(He.flush(this),0)}});var de=N(4986),Pe=N(8505),Ct=N(9468),on=N(5363);const dn=new a.GfV("7.5.0"),di="__angularfire_symbol__analyticsIsSupportedValue",Ni="__angularfire_symbol__analyticsIsSupported",Nr="__angularfire_symbol__remoteConfigIsSupportedValue",Fi="__angularfire_symbol__remoteConfigIsSupported",qs="__angularfire_symbol__messagingIsSupportedValue",Fo="__angularfire_symbol__messagingIsSupported";function Ua(_e,He,bt){if(He){if(1===He.length)return He[0];const Zn=He.filter(Ai=>Ai.app===bt);if(1===Zn.length)return Zn[0]}return bt.container.getProvider(_e).getImmediate({optional:!0})}globalThis[Ni]||(globalThis[Ni]=ad().then(_e=>globalThis[di]=_e).catch(()=>globalThis[di]=!1)),globalThis[Fo]||(globalThis[Fo]=Ji().then(_e=>globalThis[qs]=_e).catch(()=>globalThis[qs]=!1)),globalThis[Fi]||(globalThis[Fi]=Eo().then(_e=>globalThis[Nr]=_e).catch(()=>globalThis[Nr]=!1));const Za=(_e,He)=>{const bt=He?[He]:(0,T.C6)(),ln=[];return bt.forEach(zn=>{zn.container.getProvider(_e).instances.forEach(Ai=>{ln.includes(Ai)||ln.push(Ai)})}),ln};function Xl(){}class El{constructor(He,bt=Q){this.zone=He,this.delegate=bt}now(){return this.delegate.now()}schedule(He,bt,ln){const zn=this.zone;return this.delegate.schedule(function(Ai){zn.runGuarded(()=>{He.apply(this,[Ai])})},bt,ln)}}class kc{constructor(He){this.zone=He,this.task=null}call(He,bt){const ln=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xl,{},Xl,Xl)),bt.pipe((0,Pe.b)({next:ln,complete:ln,error:ln})).subscribe(He).add(ln)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ml=(()=>{class _e{constructor(bt){this.ngZone=bt,this.outsideAngular=bt.runOutsideAngular(()=>new El(Zone.current)),this.insideAngular=bt.run(()=>new El(Zone.current,de.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return _e.\u0275fac=function(bt){return new(bt||_e)(a.LFG(a.R0b))},_e.\u0275prov=a.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})();function Vl(){const _e=globalThis.\u0275AngularFireScheduler;if(!_e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return _e}function Ka(_e){return Vl(),function ll(_e){return function(bt){return(bt=bt.lift(new kc(_e.ngZone))).pipe((0,Ct.R)(_e.outsideAngular),(0,on.Q)(_e.insideAngular))}}(Vl())(_e)}},2090:(ai,qt,N)=>{"use strict";N.d(qt,{$s:()=>Ie,BH:()=>tt,G6:()=>Tn,L:()=>xe,LL:()=>Vt,Pz:()=>pt,Sg:()=>je,UG:()=>me,US:()=>Ee,ZB:()=>ce,ZR:()=>et,aH:()=>ft,b$:()=>an,eu:()=>Ht,hl:()=>Wn,jU:()=>St,m9:()=>st,ne:()=>Lt,pd:()=>ot,r3:()=>pn,ru:()=>vt,tV:()=>Ce,uI:()=>Me,vZ:()=>Rt,w1:()=>In,xO:()=>le,xb:()=>Nt,z$:()=>Ye,zI:()=>Bt,zd:()=>Ae});const ue=function(Ue){const Te=[];let ct=0;for(let Fe=0;Fe<Ue.length;Fe++){let qe=Ue.charCodeAt(Fe);qe<128?Te[ct++]=qe:qe<2048?(Te[ct++]=qe>>6|192,Te[ct++]=63&qe|128):55296==(64512&qe)&&Fe+1<Ue.length&&56320==(64512&Ue.charCodeAt(Fe+1))?(qe=65536+((1023&qe)<<10)+(1023&Ue.charCodeAt(++Fe)),Te[ct++]=qe>>18|240,Te[ct++]=qe>>12&63|128,Te[ct++]=qe>>6&63|128,Te[ct++]=63&qe|128):(Te[ct++]=qe>>12|224,Te[ct++]=qe>>6&63|128,Te[ct++]=63&qe|128)}return Te},Ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ue,Te){if(!Array.isArray(Ue))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ct=Te?this.byteToCharMapWebSafe_:this.byteToCharMap_,Fe=[];for(let qe=0;qe<Ue.length;qe+=3){const Zt=Ue[qe],wn=qe+1<Ue.length,ti=wn?Ue[qe+1]:0,Ui=qe+2<Ue.length,Li=Ui?Ue[qe+2]:0;let K=(15&ti)<<2|Li>>6,ge=63&Li;Ui||(ge=64,wn||(K=64)),Fe.push(ct[Zt>>2],ct[(3&Zt)<<4|ti>>4],ct[K],ct[ge])}return Fe.join("")},encodeString(Ue,Te){return this.HAS_NATIVE_SUPPORT&&!Te?btoa(Ue):this.encodeByteArray(ue(Ue),Te)},decodeString(Ue,Te){return this.HAS_NATIVE_SUPPORT&&!Te?atob(Ue):function(Ue){const Te=[];let ct=0,Fe=0;for(;ct<Ue.length;){const qe=Ue[ct++];if(qe<128)Te[Fe++]=String.fromCharCode(qe);else if(qe>191&&qe<224){const Zt=Ue[ct++];Te[Fe++]=String.fromCharCode((31&qe)<<6|63&Zt)}else if(qe>239&&qe<365){const Ui=((7&qe)<<18|(63&Ue[ct++])<<12|(63&Ue[ct++])<<6|63&Ue[ct++])-65536;Te[Fe++]=String.fromCharCode(55296+(Ui>>10)),Te[Fe++]=String.fromCharCode(56320+(1023&Ui))}else{const Zt=Ue[ct++],wn=Ue[ct++];Te[Fe++]=String.fromCharCode((15&qe)<<12|(63&Zt)<<6|63&wn)}}return Te.join("")}(this.decodeStringToByteArray(Ue,Te))},decodeStringToByteArray(Ue,Te){this.init_();const ct=Te?this.charToByteMapWebSafe_:this.charToByteMap_,Fe=[];for(let qe=0;qe<Ue.length;){const Zt=ct[Ue.charAt(qe++)],ti=qe<Ue.length?ct[Ue.charAt(qe)]:0;++qe;const Li=qe<Ue.length?ct[Ue.charAt(qe)]:64;++qe;const ie=qe<Ue.length?ct[Ue.charAt(qe)]:64;if(++qe,null==Zt||null==ti||null==Li||null==ie)throw Error();Fe.push(Zt<<2|ti>>4),64!==Li&&(Fe.push(ti<<4&240|Li>>2),64!==ie&&Fe.push(Li<<6&192|ie))}return Fe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ue=0;Ue<this.ENCODED_VALS.length;Ue++)this.byteToCharMap_[Ue]=this.ENCODED_VALS.charAt(Ue),this.charToByteMap_[this.byteToCharMap_[Ue]]=Ue,this.byteToCharMapWebSafe_[Ue]=this.ENCODED_VALS_WEBSAFE.charAt(Ue),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ue]]=Ue,Ue>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ue)]=Ue,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ue)]=Ue)}}},xe=function(Ue){return function(Ue){const Te=ue(Ue);return Ee.encodeByteArray(Te,!0)}(Ue).replace(/\./g,"")},Ce=function(Ue){try{return Ee.decodeString(Ue,!0)}catch(Te){console.error("base64Decode failed: ",Te)}return null};function ce(Ue,Te){if(!(Te instanceof Object))return Te;switch(Te.constructor){case Date:return new Date(Te.getTime());case Object:void 0===Ue&&(Ue={});break;case Array:Ue=[];break;default:return Te}for(const ct in Te)!Te.hasOwnProperty(ct)||!be(ct)||(Ue[ct]=ce(Ue[ct],Te[ct]));return Ue}function be(Ue){return"__proto__"!==Ue}const Ke=()=>{try{return function Ve(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ue=process.env.__FIREBASE_DEFAULTS__;return Ue?JSON.parse(Ue):void 0})()||(()=>{if(typeof document>"u")return;let Ue;try{Ue=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Te=Ue&&Ce(Ue[1]);return Te&&JSON.parse(Te)})()}catch(Ue){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ue}`)}},ft=()=>{var Ue;return null===(Ue=Ke())||void 0===Ue?void 0:Ue.config},pt=Ue=>{var Te;return null===(Te=Ke())||void 0===Te?void 0:Te[`_${Ue}`]};class tt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Te,ct)=>{this.resolve=Te,this.reject=ct})}wrapCallback(Te){return(ct,Fe)=>{ct?this.reject(ct):this.resolve(Fe),"function"==typeof Te&&(this.promise.catch(()=>{}),1===Te.length?Te(ct):Te(ct,Fe))}}}function je(Ue,Te){if(Ue.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Fe=Te||"demo-project",qe=Ue.iat||0,Zt=Ue.sub||Ue.user_id;if(!Zt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const wn=Object.assign({iss:`https://securetoken.google.com/${Fe}`,aud:Fe,iat:qe,exp:qe+3600,auth_time:qe,sub:Zt,user_id:Zt,firebase:{sign_in_provider:"custom",identities:{}}},Ue);return[xe(JSON.stringify({alg:"none",type:"JWT"})),xe(JSON.stringify(wn)),""].join(".")}function Ye(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Me(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function me(){var Ue;const Te=null===(Ue=Ke())||void 0===Ue?void 0:Ue.forceEnvironment;if("node"===Te)return!0;if("browser"===Te)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function St(){return"object"==typeof self&&self.self===self}function vt(){const Ue="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ue&&void 0!==Ue.id}function an(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function In(){const Ue=Ye();return Ue.indexOf("MSIE ")>=0||Ue.indexOf("Trident/")>=0}function Tn(){return!me()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wn(){try{return"object"==typeof indexedDB}catch{return!1}}function Ht(){return new Promise((Ue,Te)=>{try{let ct=!0;const Fe="validate-browser-context-for-indexeddb-analytics-module",qe=self.indexedDB.open(Fe);qe.onsuccess=()=>{qe.result.close(),ct||self.indexedDB.deleteDatabase(Fe),Ue(!0)},qe.onupgradeneeded=()=>{ct=!1},qe.onerror=()=>{var Zt;Te((null===(Zt=qe.error)||void 0===Zt?void 0:Zt.message)||"")}}catch(ct){Te(ct)}})}function Bt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class et extends Error{constructor(Te,ct,Fe){super(ct),this.code=Te,this.customData=Fe,this.name="FirebaseError",Object.setPrototypeOf(this,et.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vt.prototype.create)}}class Vt{constructor(Te,ct,Fe){this.service=Te,this.serviceName=ct,this.errors=Fe}create(Te,...ct){const Fe=ct[0]||{},qe=`${this.service}/${Te}`,Zt=this.errors[Te],wn=Zt?function jt(Ue,Te){return Ue.replace(Yn,(ct,Fe)=>{const qe=Te[Fe];return null!=qe?String(qe):`<${Fe}?>`})}(Zt,Fe):"Error";return new et(qe,`${this.serviceName}: ${wn} (${qe}).`,Fe)}}const Yn=/\{\$([^}]+)}/g;function pn(Ue,Te){return Object.prototype.hasOwnProperty.call(Ue,Te)}function Nt(Ue){for(const Te in Ue)if(Object.prototype.hasOwnProperty.call(Ue,Te))return!1;return!0}function Rt(Ue,Te){if(Ue===Te)return!0;const ct=Object.keys(Ue),Fe=Object.keys(Te);for(const qe of ct){if(!Fe.includes(qe))return!1;const Zt=Ue[qe],wn=Te[qe];if(bn(Zt)&&bn(wn)){if(!Rt(Zt,wn))return!1}else if(Zt!==wn)return!1}for(const qe of Fe)if(!ct.includes(qe))return!1;return!0}function bn(Ue){return null!==Ue&&"object"==typeof Ue}function le(Ue){const Te=[];for(const[ct,Fe]of Object.entries(Ue))Array.isArray(Fe)?Fe.forEach(qe=>{Te.push(encodeURIComponent(ct)+"="+encodeURIComponent(qe))}):Te.push(encodeURIComponent(ct)+"="+encodeURIComponent(Fe));return Te.length?"&"+Te.join("&"):""}function Ae(Ue){const Te={};return Ue.replace(/^\?/,"").split("&").forEach(Fe=>{if(Fe){const[qe,Zt]=Fe.split("=");Te[decodeURIComponent(qe)]=decodeURIComponent(Zt)}}),Te}function ot(Ue){const Te=Ue.indexOf("?");if(!Te)return"";const ct=Ue.indexOf("#",Te);return Ue.substring(Te,ct>0?ct:void 0)}function Lt(Ue,Te){const ct=new Mt(Ue,Te);return ct.subscribe.bind(ct)}class Mt{constructor(Te,ct){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ct,this.task.then(()=>{Te(this)}).catch(Fe=>{this.error(Fe)})}next(Te){this.forEachObserver(ct=>{ct.next(Te)})}error(Te){this.forEachObserver(ct=>{ct.error(Te)}),this.close(Te)}complete(){this.forEachObserver(Te=>{Te.complete()}),this.close()}subscribe(Te,ct,Fe){let qe;if(void 0===Te&&void 0===ct&&void 0===Fe)throw new Error("Missing Observer.");qe=function mn(Ue,Te){if("object"!=typeof Ue||null===Ue)return!1;for(const ct of Te)if(ct in Ue&&"function"==typeof Ue[ct])return!0;return!1}(Te,["next","error","complete"])?Te:{next:Te,error:ct,complete:Fe},void 0===qe.next&&(qe.next=An),void 0===qe.error&&(qe.error=An),void 0===qe.complete&&(qe.complete=An);const Zt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?qe.error(this.finalError):qe.complete()}catch{}}),this.observers.push(qe),Zt}unsubscribeOne(Te){void 0===this.observers||void 0===this.observers[Te]||(delete this.observers[Te],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Te){if(!this.finalized)for(let ct=0;ct<this.observers.length;ct++)this.sendOne(ct,Te)}sendOne(Te,ct){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Te])try{ct(this.observers[Te])}catch(Fe){typeof console<"u"&&console.error&&console.error(Fe)}})}close(Te){this.finalized||(this.finalized=!0,void 0!==Te&&(this.finalError=Te),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function An(){}function Ie(Ue,Te=1e3,ct=2){const Fe=Te*Math.pow(ct,Ue),qe=Math.round(.5*Fe*(Math.random()-.5)*2);return Math.min(144e5,Fe+qe)}function st(Ue){return Ue&&Ue._delegate?Ue._delegate:Ue}},162:(ai,qt,N)=>{"use strict";N.d(qt,{J:()=>Ce});var a=N(5861),T=N(2340),O=N(529),ue=N(9646),R=N(1281),Ee=N(4650),Re=N(4307);const xe=T.N.apiURL+"/uploads";let Ce=(()=>{class re{constructor(be,Ve){this.http=be,this.usuarioService=Ve,this.apiURL=T.N.apiURL+"/uploads"}get token(){return localStorage.getItem("token")||""}get headers_NET_Content_Type(){return{headers:{"Content-Type":"application/json"}}}get headers_NET_FromBody(){return{headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.token}`}}}get headers_NET_FromForm(){return{headers:{Authorization:`Bearer ${this.token}`}}}get headers_NET_FromFormProgress(){return{headers:{Authorization:`Bearer ${this.token}`,reportProgress:"true",observe:"events"}}}CreatePorForm(be,Ve,Ne){let Be={tipoId:Ne.toString(),tipo:Ve,img:be},Je=`${this.apiURL}`;const Ke=this.GenerateFormData(Be);return this.http.post(Je,Ke,this.headers_NET_FromForm)}CreatePorForm_V2(be,Ve,Ne){let Be={tipoId:Ne.toString(),tipo:Ve,img:be},Je=`${this.apiURL}`;const Ke=this.GenerateFormData(Be);return this.http.post(Je,Ke,this.headers_NET_FromFormProgress)}GenerateFormData(be){const Ve=new FormData;return be.tipoId&&Ve.append("tipoid",be.tipoId),be.tipo&&Ve.append("tipo",be.tipo),be.img&&Ve.append("img",be.img),Ve}actualizarFoto_NET(be,Ve,Ne){var Be=this;return(0,a.Z)(function*(){try{new O.WM({"Content-Type":"application/json",Authorization:`Bearer ${Be.usuarioService.token}`});const Ke=`${xe}`,nt=Be.ConstruirFormData(be,Ve,Ne),ft=yield(yield fetch(Ke,{method:"POST",headers:{Authorization:`Bearer ${Be.usuarioService.token}`},body:nt})).json();return ft.ok?ft.nombreArchivo:(console.log(ft.msg),!1)}catch(Je){return console.log(Je),!1}})()}ConstruirFormData(be,Ve,Ne){const Be=new FormData;return 1==(0,R.t6)(Ne)?parseInt(Ne)>0&&Be.append("tipoid",Ne.toString()):""!=Ne&&Be.append("tipoid",Ne.toString()),Be.append("tipo",Ve),be&&Be.append("img",be),Be}actualizarFoto(be,Ve,Ne){var Be=this;return(0,a.Z)(function*(){try{const Je=`${xe}/${Ve}/${Ne}`,Ke=new FormData;Ke.append("imgn",be);const We=yield(yield fetch(Je,{method:"POST",headers:{"x-token":Be.usuarioService.token},body:Ke})).json();return We.ok?We.nombreArchivo:(console.log(We.msg),!1)}catch(Je){return console.log(Je),!1}})()}actualizarFoto_V1(be,Ve,Ne){try{const Be=`${xe}/${Ve}/${Ne}`,Je=new FormData;return Je.append("img",be),this.http.post(Be,Je,{headers:{"x-token":this.usuarioService.token}})}catch(Be){return console.log(Be),(0,ue.of)(!1)}}upload(be,Ve,Ne){const Be=new FormData;Be.append("img",be);const Je=new O.aW("POST",`${xe}/${Ve}/${Ne}`,Be);return this.http.request(Je)}}return re.\u0275fac=function(be){return new(be||re)(Ee.LFG(O.eN),Ee.LFG(Re.m))},re.\u0275prov=Ee.Yz7({token:re,factory:re.\u0275fac,providedIn:"root"}),re})()},9867:(ai,qt,N)=>{"use strict";N.d(qt,{$:()=>R});var a=N(4650),T=N(2340),O=(()=>{return(Ee=O||(O={}))[Ee.usuarios=0]="usuarios",Ee[Ee.medicos=1]="medicos",Ee[Ee.hospitales=2]="hospitales",O;var Ee})();const ue=T.N.apiURL_Image;let R=(()=>{class Ee{constructor(){this._ocultarModal=!0,this.tipo="Usuarios",this.tipoEntidad=O.hospitales,this.img="",this.nuevaImagen=new a.vpe}get ocultarModal(){return this._ocultarModal}abrirModal_NET(xe,Ce,re=""){this._ocultarModal=!1,this.tipo=xe,this.id=Ce,this.img=re?re.startsWith("https")||re.startsWith("http")?re:re?`${ue}/images/${xe}/${re}`:`${ue}/images/SinImagen/no-imagen.jpg`:`${ue}/images/SinImagen/no-imagen.jpg`}cerrarModal(){this._ocultarModal=!0}}return Ee.\u0275fac=function(xe){return new(xe||Ee)},Ee.\u0275prov=a.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})()},452:(ai,qt,N)=>{"use strict";N.d(qt,{g:()=>T});var a=N(4650);let T=(()=>{class O{constructor(){this.linkThema=document.querySelector("#theme");const R=localStorage.getItem("thema")||"./assets/css/colors/default-dark.css";this.linkThema?.setAttribute("href",R)}changeThema(R){const Ee=`./assets/css/colors/${R}.css`;this.linkThema?.setAttribute("href",Ee),localStorage.setItem("theme",Ee),this.chechCurrentTheme()}chechCurrentTheme(){document.querySelectorAll(".selector").forEach(Ee=>{Ee.classList.remove("working");const xe=`./assets/css/colors/${Ee.getAttribute("data-theme")}.css`,Ce=this.linkThema?.getAttribute("href");xe===Ce&&Ee.classList.add("working")})}}return O.\u0275fac=function(R){return new(R||O)},O.\u0275prov=a.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})()},4307:(ai,qt,N)=>{"use strict";N.d(qt,{m:()=>ce});var a=N(529),T=N(2340),O=N(8505),ue=N(4004),R=N(262),Ee=N(9646);const Re=T.N.apiURL;class xe{constructor(Ve,Ne,Be,Je,Ke,nt,We){this.nombre=Ve,this.email=Ne,this.password=Be,this.img=Je,this.google=Ke,this.role=nt,this.id=We}get imagenUrl(){return this.img?this.img.includes("https")?this.img:this.img?`${Re}/uploads/usuarios/${this.img}`:`${Re}/uploads/no-image.jpg`:`${Re}/uploads/no-image.jpg`}}var Ce=N(4650),re=N(6806);let ce=(()=>{class be{constructor(Ne,Be,Je){this.http=Ne,this.router=Be,this.ngZone=Je,this.apiURL=T.N.apiURL+"/usuarios",this.URL_Imagen=T.N.apiURL_Image,this.llaveToken="token",this.miMenu="menu",this.llaveExpiracion="token-expiracion",this.campoRol="Role",this.llaveGoogle="emailGoogle"}googleInit(){return new Promise(Ne=>{gapi.load("auth2",()=>{this.auth2=gapi.auth2.init({client_id:"48604389956-vl7g7ss3h6mpqfodm57vtgckgv1iknl2.apps.googleusercontent.com",cookiepolicy:"single_host_origin"}),this.auth2.resolve()})})}GetRol(){return this.GetCampoJWT(this.campoRol)}get token(){return localStorage.getItem(this.llaveToken)||""}get role(){return this.usuarioNETDTO.role}get id(){return this.usuarioNETDTO.id||0}get headers_NET_Content_Type(){return{headers:{"Content-Type":"application/json"}}}get headers_NET_FromBody(){return{headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.token}`}}}get headers_NET_FromForm(){return{headers:{Authorization:`Bearer ${this.token}`}}}GetPropiedadesDisplayNames(){return this.http.get(`${this.apiURL}/GetPropiedadesDisplayNames`)}GetExportExcel(){return this.http.get(`${this.apiURL}/GetExportExcel`)}GetPorId(Ne){return this.http.get(`${this.apiURL}/GetTipoBombaPorId/${Ne}`)}GetPorNombre(Ne){return this.http.post(`${this.apiURL}/GetPorNombre`,JSON.stringify(Ne),this.headers_NET_Content_Type)}GetListaPaginado(Ne,Be){let Je=new a.LE;return Je=Je.append("pagina",Ne.toString()),Je=Je.append("cantidadRegistrosPorPagina",Be.toString()),this.http.get(`${this.apiURL}/GetLista`,{observe:"response",params:Je})}GetTodo(){return this.http.get(`${this.apiURL}/GetTodo`)}Filter(Ne){let Be=`${this.apiURL}/Filter`;const Je=new a.LE({fromObject:Ne});return this.http.get(Be,{observe:"response",params:Je})}Exists(Ne){return this.http.post(`${this.apiURL}/Exists`,Ne)}CreatePorBody(Ne){return this.http.post(`${this.apiURL}/CreatePorBody`,Ne,this.headers_NET_FromBody)}CreatePorForm(Ne){let Be=`${this.apiURL}/CreatePorForm`;const Je=this.GenerateFormData(Ne);return this.http.post(Be,Je,this.headers_NET_FromForm)}UpdatePorBody(Ne,Be){return this.http.put(`${this.apiURL}/UpdatePorBody/${Ne}`,Be,this.headers_NET_FromBody)}UpdatePorForm(Ne,Be){let Je=`${this.apiURL}/UpdatePorForm/${Ne}`;const Ke=this.GenerateFormData(Be);return this.http.put(Je,Ke,this.headers_NET_FromForm)}Delete(Ne){return this.http.delete(`${this.apiURL}/${Ne}`,this.headers_NET_FromBody)}DeleteLogico(Ne){return this.http.delete(`${this.apiURL}/DeleteLogico/${Ne}`,this.headers_NET_FromBody)}GenerateFormData(Ne){const Be=new FormData;return Ne.email&&Be.append("email",Ne.email),Be}CreatePorUsuarioNETCredencial(Ne){return this.http.post(this.apiURL+"/CreatePorBody",Ne)}CreatePorFormBuilder(Ne){return this.http.post(`${this.apiURL}/CreatePorForm`,Ne).pipe((0,O.b)(Je=>{console.log(Je),this.SaveLocalStorage(Je.token,Je.menu,Je.expiracion)}))}Login(Ne){return this.http.post(`${this.apiURL}/Login`,Ne).pipe((0,O.b)(Je=>{this.usuarioNETDTO=Je.usuario,this.SaveLocalStorage(Je.token,Je.menu,Je.expiracion)}))}login(Ne){return this.http.post(this.apiURL+"/Login",Ne)}LoginGoogle(Ne){return this.http.post(`${this.apiURL}/Login/google`,{token:Ne}).pipe((0,O.b)(Je=>{this.SaveLocalStorage(Je.token,Je.menu,Je.expiracion),localStorage.setItem(this.llaveGoogle,Je.email)}))}SaveLocalStorage(Ne,Be,Je){localStorage.setItem(this.llaveToken,Ne),localStorage.setItem(this.miMenu,JSON.stringify(Be)),localStorage.setItem(this.llaveExpiracion,Je.toString())}SaveToken(Ne){localStorage.setItem(this.llaveToken,Ne.token),localStorage.setItem(this.miMenu,JSON.stringify(Ne.menu)),localStorage.setItem(this.llaveExpiracion,Ne.expiracion.toString())}Logout(){localStorage.removeItem(this.llaveToken),google.accounts.id.revoke(localStorage.getItem(this.llaveGoogle),()=>{}),this.router.navigateByUrl("/login")}Logout_V1(){localStorage.removeItem(this.llaveToken),localStorage.removeItem(this.miMenu),localStorage.removeItem(this.llaveExpiracion),this.router.navigateByUrl("/login")}logout_V2(){localStorage.removeItem(this.llaveToken),localStorage.removeItem(this.llaveExpiracion)}ValidateToken_V1(){let Ne=!1;return this.http.get(`${this.apiURL}/RenewToken`,this.headers_NET_FromBody).pipe((0,ue.U)(Je=>(this.usuarioNETDTO=Je.usuario,this.SaveLocalStorage(Je.token,Je.menu,Je.expiracion),Ne=!0,Ne)),(0,R.K)(Je=>(0,Ee.of)(!1)))}UpdatePerfil(Ne){return Ne={...Ne,role:this.usuarioNETDTO.role},this.http.put(`${this.apiURL}/${this.id}`,Ne,this.headers_NET_FromBody)}GetListaDesde(Ne=0){return this.http.get(`${this.apiURL}/usuarios?desde=${Ne}`,this.headers_NET_FromBody).pipe((0,ue.U)(Je=>{const Ke=Je.usuarios.map(nt=>new xe(nt.nombre,nt.email,"",nt.img,nt.google,nt.role,nt.id));return{total:Je.total,usuarios:Ke}}))}SaveUsuario(Ne){return this.http.put(`${this.apiURL}/${Ne.id}`,Ne,this.headers_NET_FromBody)}DeleteUsuario(Ne){return this.http.delete(`${this.apiURL}/${Ne.id}`,this.headers_NET_FromBody)}SetAdmin(Ne){return this.http.post(`${this.apiURL}/SetAdmin`,JSON.stringify(Ne),this.headers_NET_Content_Type)}RemoveAdmin(Ne){return this.http.post(`${this.apiURL}/RemoveAdmin`,JSON.stringify(Ne),this.headers_NET_Content_Type)}GetCampoJWT(Ne){const Be=localStorage.getItem(this.llaveToken);return Be?JSON.parse(atob(Be.split(".")[1]))[this.GetClaimNombre(Ne)]:""}IsLogueado(){if(!localStorage.getItem(this.llaveToken))return!1;const Be=localStorage.getItem(this.llaveExpiracion);return!(new Date(Be)<=new Date&&(this.Logout_V1(),1))}get imagenUrl(){return this.usuarioNETDTO.img?this.usuarioNETDTO.img.includes("https")||this.usuarioNETDTO.img.includes("http")?this.usuarioNETDTO.img:this.usuarioNETDTO.img?`${this.URL_Imagen}/images/Usuarios/${this.usuarioNETDTO.img}`:`${this.URL_Imagen}/images/SinImagen/no-imagen.jpg`:`${this.URL_Imagen}/images/SinImagen/no-imagen.jpg`}GetClaimNombre(Ne){let Be="";switch(Ne){case"emailaddress":Be="http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress";break;case"name":Be="http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name";break;case"nameidentifier":Be="http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier";break;default:Be=Ne}return Be}}return be.\u0275fac=function(Ne){return new(Ne||be)(Ce.LFG(a.eN),Ce.LFG(re.F0),Ce.LFG(Ce.R0b))},be.\u0275prov=Ce.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})()},2340:(ai,qt,N)=>{"use strict";N.d(qt,{N:()=>a});const a={production:!0,base_url:"http://localhost:3000/api",apiURL:"https://apirisopos.somee.com/api",apiURL_Bmx:"https://www.banxico.org.mx/SieAPIRest/service/v1",apiURL_Image:"https://apirisopos.somee.com",url:"http://localhost:5000/firestore-grafica-f3ae3/us-central1",firebase:{apiKey:"AIzaSyBpgjiSLnn-0IofDHr87wdNOxFzRngINhg",authDomain:"firestore-grafica-f3ae3.firebaseapp.com",projectId:"firestore-grafica-f3ae3",storageBucket:"firestore-grafica-f3ae3.appspot.com",messagingSenderId:"465053378869",appId:"1:465053378869:web:0a29bba2cc3f6ff089047c"}}},3950:(ai,qt,N)=>{"use strict";var a=N(1481),T=N(4650),O=N(7340);function R(B){return new T.vHH(3e3,!1)}function Yn(){return typeof window<"u"&&typeof window.document<"u"}function en(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function gn(B){switch(B.length){case 0:return new O.ZN;case 1:return B[0];default:return new O.ZE(B)}}function On(B,g,_,M,W=new Map,we=new Map){const ht=[],gt=[];let nn=-1,Cn=null;if(M.forEach(ui=>{const gi=ui.get("offset"),Wi=gi==nn,sr=Wi&&Cn||new Map;ui.forEach((mr,Mr)=>{let ps=Mr,so=mr;if("offset"!==Mr)switch(ps=g.normalizePropertyName(ps,ht),so){case O.k1:so=W.get(Mr);break;case O.l3:so=we.get(Mr);break;default:so=g.normalizeStyleValue(Mr,ps,so,ht)}sr.set(ps,so)}),Wi||gt.push(sr),Cn=sr,nn=gi}),ht.length)throw function an(B){return new T.vHH(3502,!1)}();return gt}function Qn(B,g,_,M){switch(g){case"start":B.onStart(()=>M(_&&_n(_,"start",B)));break;case"done":B.onDone(()=>M(_&&_n(_,"done",B)));break;case"destroy":B.onDestroy(()=>M(_&&_n(_,"destroy",B)))}}function _n(B,g,_){const we=Nn(B.element,B.triggerName,B.fromState,B.toState,g||B.phaseName,_.totalTime??B.totalTime,!!_.disabled),ht=B._data;return null!=ht&&(we._data=ht),we}function Nn(B,g,_,M,W="",we=0,ht){return{element:B,triggerName:g,fromState:_,toState:M,phaseName:W,totalTime:we,disabled:!!ht}}function yn(B,g,_){let M=B.get(g);return M||B.set(g,M=_),M}function pn(B){const g=B.indexOf(":");return[B.substring(1,g),B.slice(g+1)]}let Pn=(B,g)=>!1,Nt=(B,g,_)=>[],tn=null;function Rt(B){const g=B.parentNode||B.host;return g===tn?null:g}(en()||typeof Element<"u")&&(Yn()?(tn=(()=>document.documentElement)(),Pn=(B,g)=>{for(;g;){if(g===B)return!0;g=Rt(g)}return!1}):Pn=(B,g)=>B.contains(g),Nt=(B,g,_)=>{if(_)return Array.from(B.querySelectorAll(g));const M=B.querySelector(g);return M?[M]:[]});let le=null,Ae=!1;const Mt=Pn,Tt=Nt;let An=(()=>{class B{validateStyleProperty(_){return function ot(B){le||(le=function Lt(){return typeof document<"u"?document.body:null}()||{},Ae=!!le.style&&"WebkitAppearance"in le.style);let g=!0;return le.style&&!function lt(B){return"ebkit"==B.substring(1,6)}(B)&&(g=B in le.style,!g&&Ae&&(g="Webkit"+B.charAt(0).toUpperCase()+B.slice(1)in le.style)),g}(_)}matchesElement(_,M){return!1}containsElement(_,M){return Mt(_,M)}getParentElement(_){return Rt(_)}query(_,M,W){return Tt(_,M,W)}computeStyle(_,M,W){return W||""}animate(_,M,W,we,ht,gt=[],nn){return new O.ZN(W,we)}}return B.\u0275fac=function(_){return new(_||B)},B.\u0275prov=T.Yz7({token:B,factory:B.\u0275fac}),B})(),Ln=(()=>{class B{}return B.NOOP=new An,B})();const Bi="ng-enter",Si="ng-leave",_r="ng-trigger",En=".ng-trigger",sn="ng-animating",It=".ng-animating";function xt(B){if("number"==typeof B)return B;const g=B.match(/^(-?[\.\d]+)(m?s)/);return!g||g.length<2?0:wt(parseFloat(g[1]),g[2])}function wt(B,g){return"s"===g?1e3*B:B}function Ie(B,g,_){return B.hasOwnProperty("duration")?B:function pe(B,g,_){let W,we=0,ht="";if("string"==typeof B){const gt=B.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===gt)return g.push(R()),{duration:0,delay:0,easing:""};W=wt(parseFloat(gt[1]),gt[2]);const nn=gt[3];null!=nn&&(we=wt(parseFloat(nn),gt[4]));const Cn=gt[5];Cn&&(ht=Cn)}else W=B;if(!_){let gt=!1,nn=g.length;W<0&&(g.push(function Ee(){return new T.vHH(3100,!1)}()),gt=!0),we<0&&(g.push(function Re(){return new T.vHH(3101,!1)}()),gt=!0),gt&&g.splice(nn,0,R())}return{duration:W,delay:we,easing:ht}}(B,g,_)}function ye(B,g={}){return Object.keys(B).forEach(_=>{g[_]=B[_]}),g}function st(B){const g=new Map;return Object.keys(B).forEach(_=>{g.set(_,B[_])}),g}function ct(B,g=new Map,_){if(_)for(let[M,W]of _)g.set(M,W);for(let[M,W]of B)g.set(M,W);return g}function Fe(B,g,_){return _?g+":"+_+";":""}function qe(B){let g="";for(let _=0;_<B.style.length;_++){const M=B.style.item(_);g+=Fe(0,M,B.style.getPropertyValue(M))}for(const _ in B.style)B.style.hasOwnProperty(_)&&!_.startsWith("_")&&(g+=Fe(0,rn(_),B.style[_]));B.setAttribute("style",g)}function Zt(B,g,_){B.style&&(g.forEach((M,W)=>{const we=Ge(W);_&&!_.has(W)&&_.set(W,B.style[we]),B.style[we]=M}),en()&&qe(B))}function wn(B,g){B.style&&(g.forEach((_,M)=>{const W=Ge(M);B.style[W]=""}),en()&&qe(B))}function ti(B){return Array.isArray(B)?1==B.length?B[0]:(0,O.vP)(B):B}const Li=new RegExp("{{\\s*(.+?)\\s*}}","g");function ut(B){let g=[];if("string"==typeof B){let _;for(;_=Li.exec(B);)g.push(_[1]);Li.lastIndex=0}return g}function ie(B,g,_){const M=B.toString(),W=M.replace(Li,(we,ht)=>{let gt=g[ht];return null==gt&&(_.push(function Ce(B){return new T.vHH(3003,!1)}()),gt=""),gt.toString()});return W==M?B:W}function K(B){const g=[];let _=B.next();for(;!_.done;)g.push(_.value),_=B.next();return g}const ge=/-+([a-z0-9])/g;function Ge(B){return B.replace(ge,(...g)=>g[1].toUpperCase())}function rn(B){return B.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function pi(B,g,_){switch(g.type){case 7:return B.visitTrigger(g,_);case 0:return B.visitState(g,_);case 1:return B.visitTransition(g,_);case 2:return B.visitSequence(g,_);case 3:return B.visitGroup(g,_);case 4:return B.visitAnimate(g,_);case 5:return B.visitKeyframes(g,_);case 6:return B.visitStyle(g,_);case 8:return B.visitReference(g,_);case 9:return B.visitAnimateChild(g,_);case 10:return B.visitAnimateRef(g,_);case 11:return B.visitQuery(g,_);case 12:return B.visitStagger(g,_);default:throw function re(B){return new T.vHH(3004,!1)}()}}function mt(B,g){return window.getComputedStyle(B)[g]}function Xt(B,g){const _=[];return"string"==typeof B?B.split(/\s*,\s*/).forEach(M=>function ci(B,g,_){if(":"==B[0]){const nn=function zi(B,g){switch(B){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(_,M)=>parseFloat(M)>parseFloat(_);case":decrement":return(_,M)=>parseFloat(M)<parseFloat(_);default:return g.push(function Me(B){return new T.vHH(3016,!1)}()),"* => *"}}(B,_);if("function"==typeof nn)return void g.push(nn);B=nn}const M=B.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==M||M.length<4)return _.push(function Ye(B){return new T.vHH(3015,!1)}()),g;const W=M[1],we=M[2],ht=M[3];g.push(vr(W,ht));"<"==we[0]&&!("*"==W&&"*"==ht)&&g.push(vr(ht,W))}(M,_,g)):_.push(B),_}const ji=new Set(["true","1"]),Hr=new Set(["false","0"]);function vr(B,g){const _=ji.has(B)||Hr.has(B),M=ji.has(g)||Hr.has(g);return(W,we)=>{let ht="*"==B||B==W,gt="*"==g||g==we;return!ht&&_&&"boolean"==typeof W&&(ht=W?ji.has(B):Hr.has(B)),!gt&&M&&"boolean"==typeof we&&(gt=we?ji.has(g):Hr.has(g)),ht&&gt}}const xs=new RegExp("s*:selfs*,?","g");function $r(B,g,_,M){return new wo(B).build(g,_,M)}class wo{constructor(g){this._driver=g}build(g,_,M){const W=new Ps(_);return this._resetContextStyleTimingState(W),pi(this,ti(g),W)}_resetContextStyleTimingState(g){g.currentQuerySelector="",g.collectedStyles=new Map,g.collectedStyles.set("",new Map),g.currentTime=0}visitTrigger(g,_){let M=_.queryCount=0,W=_.depCount=0;const we=[],ht=[];return"@"==g.name.charAt(0)&&_.errors.push(function be(){return new T.vHH(3006,!1)}()),g.definitions.forEach(gt=>{if(this._resetContextStyleTimingState(_),0==gt.type){const nn=gt,Cn=nn.name;Cn.toString().split(/\s*,\s*/).forEach(ui=>{nn.name=ui,we.push(this.visitState(nn,_))}),nn.name=Cn}else if(1==gt.type){const nn=this.visitTransition(gt,_);M+=nn.queryCount,W+=nn.depCount,ht.push(nn)}else _.errors.push(function Ve(){return new T.vHH(3007,!1)}())}),{type:7,name:g.name,states:we,transitions:ht,queryCount:M,depCount:W,options:null}}visitState(g,_){const M=this.visitStyle(g.styles,_),W=g.options&&g.options.params||null;if(M.containsDynamicStyles){const we=new Set,ht=W||{};M.styles.forEach(gt=>{gt instanceof Map&&gt.forEach(nn=>{ut(nn).forEach(Cn=>{ht.hasOwnProperty(Cn)||we.add(Cn)})})}),we.size&&(K(we.values()),_.errors.push(function Ne(B,g){return new T.vHH(3008,!1)}()))}return{type:0,name:g.name,style:M,options:W?{params:W}:null}}visitTransition(g,_){_.queryCount=0,_.depCount=0;const M=pi(this,ti(g.animation),_);return{type:1,matchers:Xt(g.expr,_.errors),animation:M,queryCount:_.queryCount,depCount:_.depCount,options:Wo(g.options)}}visitSequence(g,_){return{type:2,steps:g.steps.map(M=>pi(this,M,_)),options:Wo(g.options)}}visitGroup(g,_){const M=_.currentTime;let W=0;const we=g.steps.map(ht=>{_.currentTime=M;const gt=pi(this,ht,_);return W=Math.max(W,_.currentTime),gt});return _.currentTime=W,{type:3,steps:we,options:Wo(g.options)}}visitAnimate(g,_){const M=function Co(B,g){if(B.hasOwnProperty("duration"))return B;if("number"==typeof B)return fa(Ie(B,g).duration,0,"");const _=B;if(_.split(/\s+/).some(we=>"{"==we.charAt(0)&&"{"==we.charAt(1))){const we=fa(0,0,"");return we.dynamic=!0,we.strValue=_,we}const W=Ie(_,g);return fa(W.duration,W.delay,W.easing)}(g.timings,_.errors);_.currentAnimateTimings=M;let W,we=g.styles?g.styles:(0,O.oB)({});if(5==we.type)W=this.visitKeyframes(we,_);else{let ht=g.styles,gt=!1;if(!ht){gt=!0;const Cn={};M.easing&&(Cn.easing=M.easing),ht=(0,O.oB)(Cn)}_.currentTime+=M.duration+M.delay;const nn=this.visitStyle(ht,_);nn.isEmptyStep=gt,W=nn}return _.currentAnimateTimings=null,{type:4,timings:M,style:W,options:null}}visitStyle(g,_){const M=this._makeStyleAst(g,_);return this._validateStyleAst(M,_),M}_makeStyleAst(g,_){const M=[],W=Array.isArray(g.styles)?g.styles:[g.styles];for(let gt of W)"string"==typeof gt?gt===O.l3?M.push(gt):_.errors.push(new T.vHH(3002,!1)):M.push(st(gt));let we=!1,ht=null;return M.forEach(gt=>{if(gt instanceof Map&&(gt.has("easing")&&(ht=gt.get("easing"),gt.delete("easing")),!we))for(let nn of gt.values())if(nn.toString().indexOf("{{")>=0){we=!0;break}}),{type:6,styles:M,easing:ht,offset:g.offset,containsDynamicStyles:we,options:null}}_validateStyleAst(g,_){const M=_.currentAnimateTimings;let W=_.currentTime,we=_.currentTime;M&&we>0&&(we-=M.duration+M.delay),g.styles.forEach(ht=>{"string"!=typeof ht&&ht.forEach((gt,nn)=>{const Cn=_.collectedStyles.get(_.currentQuerySelector),ui=Cn.get(nn);let gi=!0;ui&&(we!=W&&we>=ui.startTime&&W<=ui.endTime&&(_.errors.push(function Ke(B,g,_,M,W){return new T.vHH(3010,!1)}()),gi=!1),we=ui.startTime),gi&&Cn.set(nn,{startTime:we,endTime:W}),_.options&&function Ui(B,g,_){const M=g.params||{},W=ut(B);W.length&&W.forEach(we=>{M.hasOwnProperty(we)||_.push(function xe(B){return new T.vHH(3001,!1)}())})}(gt,_.options,_.errors)})})}visitKeyframes(g,_){const M={type:5,styles:[],options:null};if(!_.currentAnimateTimings)return _.errors.push(function nt(){return new T.vHH(3011,!1)}()),M;let we=0;const ht=[];let gt=!1,nn=!1,Cn=0;const ui=g.steps.map(so=>{const va=this._makeStyleAst(so,_);let cl=null!=va.offset?va.offset:function qo(B){if("string"==typeof B)return null;let g=null;if(Array.isArray(B))B.forEach(_=>{if(_ instanceof Map&&_.has("offset")){const M=_;g=parseFloat(M.get("offset")),M.delete("offset")}});else if(B instanceof Map&&B.has("offset")){const _=B;g=parseFloat(_.get("offset")),_.delete("offset")}return g}(va.styles),ic=0;return null!=cl&&(we++,ic=va.offset=cl),nn=nn||ic<0||ic>1,gt=gt||ic<Cn,Cn=ic,ht.push(ic),va});nn&&_.errors.push(function We(){return new T.vHH(3012,!1)}()),gt&&_.errors.push(function ft(){return new T.vHH(3200,!1)}());const gi=g.steps.length;let Wi=0;we>0&&we<gi?_.errors.push(function pt(){return new T.vHH(3202,!1)}()):0==we&&(Wi=1/(gi-1));const sr=gi-1,mr=_.currentTime,Mr=_.currentAnimateTimings,ps=Mr.duration;return ui.forEach((so,va)=>{const cl=Wi>0?va==sr?1:Wi*va:ht[va],ic=cl*ps;_.currentTime=mr+Mr.delay+ic,Mr.duration=ic,this._validateStyleAst(so,_),so.offset=cl,M.styles.push(so)}),M}visitReference(g,_){return{type:8,animation:pi(this,ti(g.animation),_),options:Wo(g.options)}}visitAnimateChild(g,_){return _.depCount++,{type:9,options:Wo(g.options)}}visitAnimateRef(g,_){return{type:10,animation:this.visitReference(g.animation,_),options:Wo(g.options)}}visitQuery(g,_){const M=_.currentQuerySelector,W=g.options||{};_.queryCount++,_.currentQuery=g;const[we,ht]=function nr(B){const g=!!B.split(/\s*,\s*/).find(_=>":self"==_);return g&&(B=B.replace(xs,"")),B=B.replace(/@\*/g,En).replace(/@\w+/g,_=>En+"-"+_.slice(1)).replace(/:animating/g,It),[B,g]}(g.selector);_.currentQuerySelector=M.length?M+" "+we:we,yn(_.collectedStyles,_.currentQuerySelector,new Map);const gt=pi(this,ti(g.animation),_);return _.currentQuery=null,_.currentQuerySelector=M,{type:11,selector:we,limit:W.limit||0,optional:!!W.optional,includeSelf:ht,animation:gt,originalSelector:g.selector,options:Wo(g.options)}}visitStagger(g,_){_.currentQuery||_.errors.push(function tt(){return new T.vHH(3013,!1)}());const M="full"===g.timings?{duration:0,delay:0,easing:"full"}:Ie(g.timings,_.errors,!0);return{type:12,animation:pi(this,ti(g.animation),_),timings:M,options:null}}}class Ps{constructor(g){this.errors=g,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Wo(B){return B?(B=ye(B)).params&&(B.params=function Jr(B){return B?ye(B):null}(B.params)):B={},B}function fa(B,g,_){return{duration:B,delay:g,easing:_}}function ws(B,g,_,M,W,we,ht=null,gt=!1){return{type:1,element:B,keyframes:g,preStyleProps:_,postStyleProps:M,duration:W,delay:we,totalTime:W+we,easing:ht,subTimeline:gt}}class Es{constructor(){this._map=new Map}get(g){return this._map.get(g)||[]}append(g,_){let M=this._map.get(g);M||this._map.set(g,M=[]),M.push(..._)}has(g){return this._map.has(g)}clear(){this._map.clear()}}const Os=new RegExp(":enter","g"),cs=new RegExp(":leave","g");function Po(B,g,_,M,W,we=new Map,ht=new Map,gt,nn,Cn=[]){return(new Dl).buildKeyframes(B,g,_,M,W,we,ht,gt,nn,Cn)}class Dl{buildKeyframes(g,_,M,W,we,ht,gt,nn,Cn,ui=[]){Cn=Cn||new Es;const gi=new Ga(g,_,Cn,W,we,ui,[]);gi.options=nn;const Wi=nn.delay?xt(nn.delay):0;gi.currentTimeline.delayNextStep(Wi),gi.currentTimeline.setStyles([ht],null,gi.errors,nn),pi(this,M,gi);const sr=gi.timelines.filter(mr=>mr.containsAnimation());if(sr.length&&gt.size){let mr;for(let Mr=sr.length-1;Mr>=0;Mr--){const ps=sr[Mr];if(ps.element===_){mr=ps;break}}mr&&!mr.allowOnlyTimelineStyles()&&mr.setStyles([gt],null,gi.errors,nn)}return sr.length?sr.map(mr=>mr.buildKeyframes()):[ws(_,[],[],[],0,Wi,"",!1)]}visitTrigger(g,_){}visitState(g,_){}visitTransition(g,_){}visitAnimateChild(g,_){const M=_.subInstructions.get(_.element);if(M){const W=_.createSubContext(g.options),we=_.currentTimeline.currentTime,ht=this._visitSubInstructions(M,W,W.options);we!=ht&&_.transformIntoNewTimeline(ht)}_.previousNode=g}visitAnimateRef(g,_){const M=_.createSubContext(g.options);M.transformIntoNewTimeline(),this._applyAnimationRefDelays([g.options,g.animation.options],_,M),this.visitReference(g.animation,M),_.transformIntoNewTimeline(M.currentTimeline.currentTime),_.previousNode=g}_applyAnimationRefDelays(g,_,M){for(const W of g){const we=W?.delay;if(we){const ht="number"==typeof we?we:xt(ie(we,W?.params??{},_.errors));M.delayNextStep(ht)}}}_visitSubInstructions(g,_,M){let we=_.currentTimeline.currentTime;const ht=null!=M.duration?xt(M.duration):null,gt=null!=M.delay?xt(M.delay):null;return 0!==ht&&g.forEach(nn=>{const Cn=_.appendInstructionToTimeline(nn,ht,gt);we=Math.max(we,Cn.duration+Cn.delay)}),we}visitReference(g,_){_.updateOptions(g.options,!0),pi(this,g.animation,_),_.previousNode=g}visitSequence(g,_){const M=_.subContextCount;let W=_;const we=g.options;if(we&&(we.params||we.delay)&&(W=_.createSubContext(we),W.transformIntoNewTimeline(),null!=we.delay)){6==W.previousNode.type&&(W.currentTimeline.snapshotCurrentStyles(),W.previousNode=Ls);const ht=xt(we.delay);W.delayNextStep(ht)}g.steps.length&&(g.steps.forEach(ht=>pi(this,ht,W)),W.currentTimeline.applyStylesToKeyframe(),W.subContextCount>M&&W.transformIntoNewTimeline()),_.previousNode=g}visitGroup(g,_){const M=[];let W=_.currentTimeline.currentTime;const we=g.options&&g.options.delay?xt(g.options.delay):0;g.steps.forEach(ht=>{const gt=_.createSubContext(g.options);we&&gt.delayNextStep(we),pi(this,ht,gt),W=Math.max(W,gt.currentTimeline.currentTime),M.push(gt.currentTimeline)}),M.forEach(ht=>_.currentTimeline.mergeTimelineCollectedStyles(ht)),_.transformIntoNewTimeline(W),_.previousNode=g}_visitTiming(g,_){if(g.dynamic){const M=g.strValue;return Ie(_.params?ie(M,_.params,_.errors):M,_.errors)}return{duration:g.duration,delay:g.delay,easing:g.easing}}visitAnimate(g,_){const M=_.currentAnimateTimings=this._visitTiming(g.timings,_),W=_.currentTimeline;M.delay&&(_.incrementTime(M.delay),W.snapshotCurrentStyles());const we=g.style;5==we.type?this.visitKeyframes(we,_):(_.incrementTime(M.duration),this.visitStyle(we,_),W.applyStylesToKeyframe()),_.currentAnimateTimings=null,_.previousNode=g}visitStyle(g,_){const M=_.currentTimeline,W=_.currentAnimateTimings;!W&&M.hasCurrentStyleProperties()&&M.forwardFrame();const we=W&&W.easing||g.easing;g.isEmptyStep?M.applyEmptyStep(we):M.setStyles(g.styles,we,_.errors,_.options),_.previousNode=g}visitKeyframes(g,_){const M=_.currentAnimateTimings,W=_.currentTimeline.duration,we=M.duration,gt=_.createSubContext().currentTimeline;gt.easing=M.easing,g.styles.forEach(nn=>{gt.forwardTime((nn.offset||0)*we),gt.setStyles(nn.styles,nn.easing,_.errors,_.options),gt.applyStylesToKeyframe()}),_.currentTimeline.mergeTimelineCollectedStyles(gt),_.transformIntoNewTimeline(W+we),_.previousNode=g}visitQuery(g,_){const M=_.currentTimeline.currentTime,W=g.options||{},we=W.delay?xt(W.delay):0;we&&(6===_.previousNode.type||0==M&&_.currentTimeline.hasCurrentStyleProperties())&&(_.currentTimeline.snapshotCurrentStyles(),_.previousNode=Ls);let ht=M;const gt=_.invokeQuery(g.selector,g.originalSelector,g.limit,g.includeSelf,!!W.optional,_.errors);_.currentQueryTotal=gt.length;let nn=null;gt.forEach((Cn,ui)=>{_.currentQueryIndex=ui;const gi=_.createSubContext(g.options,Cn);we&&gi.delayNextStep(we),Cn===_.element&&(nn=gi.currentTimeline),pi(this,g.animation,gi),gi.currentTimeline.applyStylesToKeyframe(),ht=Math.max(ht,gi.currentTimeline.currentTime)}),_.currentQueryIndex=0,_.currentQueryTotal=0,_.transformIntoNewTimeline(ht),nn&&(_.currentTimeline.mergeTimelineCollectedStyles(nn),_.currentTimeline.snapshotCurrentStyles()),_.previousNode=g}visitStagger(g,_){const M=_.parentContext,W=_.currentTimeline,we=g.timings,ht=Math.abs(we.duration),gt=ht*(_.currentQueryTotal-1);let nn=ht*_.currentQueryIndex;switch(we.duration<0?"reverse":we.easing){case"reverse":nn=gt-nn;break;case"full":nn=M.currentStaggerTime}const ui=_.currentTimeline;nn&&ui.delayNextStep(nn);const gi=ui.currentTime;pi(this,g.animation,_),_.previousNode=g,M.currentStaggerTime=W.currentTime-gi+(W.startTime-M.currentTimeline.startTime)}}const Ls={};class Ga{constructor(g,_,M,W,we,ht,gt,nn){this._driver=g,this.element=_,this.subInstructions=M,this._enterClassName=W,this._leaveClassName=we,this.errors=ht,this.timelines=gt,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ls,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=nn||new wa(this._driver,_,0),gt.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(g,_){if(!g)return;const M=g;let W=this.options;null!=M.duration&&(W.duration=xt(M.duration)),null!=M.delay&&(W.delay=xt(M.delay));const we=M.params;if(we){let ht=W.params;ht||(ht=this.options.params={}),Object.keys(we).forEach(gt=>{(!_||!ht.hasOwnProperty(gt))&&(ht[gt]=ie(we[gt],ht,this.errors))})}}_copyOptions(){const g={};if(this.options){const _=this.options.params;if(_){const M=g.params={};Object.keys(_).forEach(W=>{M[W]=_[W]})}}return g}createSubContext(g=null,_,M){const W=_||this.element,we=new Ga(this._driver,W,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(W,M||0));return we.previousNode=this.previousNode,we.currentAnimateTimings=this.currentAnimateTimings,we.options=this._copyOptions(),we.updateOptions(g),we.currentQueryIndex=this.currentQueryIndex,we.currentQueryTotal=this.currentQueryTotal,we.parentContext=this,this.subContextCount++,we}transformIntoNewTimeline(g){return this.previousNode=Ls,this.currentTimeline=this.currentTimeline.fork(this.element,g),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(g,_,M){const W={duration:_??g.duration,delay:this.currentTimeline.currentTime+(M??0)+g.delay,easing:""},we=new Ws(this._driver,g.element,g.keyframes,g.preStyleProps,g.postStyleProps,W,g.stretchStartingKeyframe);return this.timelines.push(we),W}incrementTime(g){this.currentTimeline.forwardTime(this.currentTimeline.duration+g)}delayNextStep(g){g>0&&this.currentTimeline.delayNextStep(g)}invokeQuery(g,_,M,W,we,ht){let gt=[];if(W&&gt.push(this.element),g.length>0){g=(g=g.replace(Os,"."+this._enterClassName)).replace(cs,"."+this._leaveClassName);let Cn=this._driver.query(this.element,g,1!=M);0!==M&&(Cn=M<0?Cn.slice(Cn.length+M,Cn.length):Cn.slice(0,M)),gt.push(...Cn)}return!we&&0==gt.length&&ht.push(function je(B){return new T.vHH(3014,!1)}()),gt}}class wa{constructor(g,_,M,W){this._driver=g,this.element=_,this.startTime=M,this._elementTimelineStylesLookup=W,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(_),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(_,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(g){const _=1===this._keyframes.size&&this._pendingStyles.size;this.duration||_?(this.forwardTime(this.currentTime+g),_&&this.snapshotCurrentStyles()):this.startTime+=g}fork(g,_){return this.applyStylesToKeyframe(),new wa(this._driver,g,_||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(g){this.applyStylesToKeyframe(),this.duration=g,this._loadKeyframe()}_updateStyle(g,_){this._localTimelineStyles.set(g,_),this._globalTimelineStyles.set(g,_),this._styleSummary.set(g,{time:this.currentTime,value:_})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(g){g&&this._previousKeyframe.set("easing",g);for(let[_,M]of this._globalTimelineStyles)this._backFill.set(_,M||O.l3),this._currentKeyframe.set(_,O.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(g,_,M,W){_&&this._previousKeyframe.set("easing",_);const we=W&&W.params||{},ht=function Ca(B,g){const _=new Map;let M;return B.forEach(W=>{if("*"===W){M=M||g.keys();for(let we of M)_.set(we,O.l3)}else ct(W,_)}),_}(g,this._globalTimelineStyles);for(let[gt,nn]of ht){const Cn=ie(nn,we,M);this._pendingStyles.set(gt,Cn),this._localTimelineStyles.has(gt)||this._backFill.set(gt,this._globalTimelineStyles.get(gt)??O.l3),this._updateStyle(gt,Cn)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((g,_)=>{this._currentKeyframe.set(_,g)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((g,_)=>{this._currentKeyframe.has(_)||this._currentKeyframe.set(_,g)}))}snapshotCurrentStyles(){for(let[g,_]of this._localTimelineStyles)this._pendingStyles.set(g,_),this._updateStyle(g,_)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const g=[];for(let _ in this._currentKeyframe)g.push(_);return g}mergeTimelineCollectedStyles(g){g._styleSummary.forEach((_,M)=>{const W=this._styleSummary.get(M);(!W||_.time>W.time)&&this._updateStyle(M,_.value)})}buildKeyframes(){this.applyStylesToKeyframe();const g=new Set,_=new Set,M=1===this._keyframes.size&&0===this.duration;let W=[];this._keyframes.forEach((gt,nn)=>{const Cn=ct(gt,new Map,this._backFill);Cn.forEach((ui,gi)=>{ui===O.k1?g.add(gi):ui===O.l3&&_.add(gi)}),M||Cn.set("offset",nn/this.duration),W.push(Cn)});const we=g.size?K(g.values()):[],ht=_.size?K(_.values()):[];if(M){const gt=W[0],nn=new Map(gt);gt.set("offset",0),nn.set("offset",1),W=[gt,nn]}return ws(this.element,W,we,ht,this.duration,this.startTime,this.easing,!1)}}class Ws extends wa{constructor(g,_,M,W,we,ht,gt=!1){super(g,_,ht.delay),this.keyframes=M,this.preStyleProps=W,this.postStyleProps=we,this._stretchStartingKeyframe=gt,this.timings={duration:ht.duration,delay:ht.delay,easing:ht.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let g=this.keyframes,{delay:_,duration:M,easing:W}=this.timings;if(this._stretchStartingKeyframe&&_){const we=[],ht=M+_,gt=_/ht,nn=ct(g[0]);nn.set("offset",0),we.push(nn);const Cn=ct(g[0]);Cn.set("offset",Hs(gt)),we.push(Cn);const ui=g.length-1;for(let gi=1;gi<=ui;gi++){let Wi=ct(g[gi]);const sr=Wi.get("offset");Wi.set("offset",Hs((_+sr*M)/ht)),we.push(Wi)}M=ht,_=0,W="",g=we}return ws(this.element,g,this.preStyleProps,this.postStyleProps,M,_,W,!0)}}function Hs(B,g=3){const _=Math.pow(10,g-1);return Math.round(B*_)/_}class Sr{}const os=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ta extends Sr{normalizePropertyName(g,_){return Ge(g)}normalizeStyleValue(g,_,M,W){let we="";const ht=M.toString().trim();if(os.has(_)&&0!==M&&"0"!==M)if("number"==typeof M)we="px";else{const gt=M.match(/^[+-]?[\d\.]+([a-z]*)$/);gt&&0==gt[1].length&&W.push(function ce(B,g){return new T.vHH(3005,!1)}())}return ht+we}}function Da(B,g,_,M,W,we,ht,gt,nn,Cn,ui,gi,Wi){return{type:0,element:B,triggerName:g,isRemovalTransition:W,fromState:_,fromStyles:we,toState:M,toStyles:ht,timelines:gt,queriedElements:nn,preStyleProps:Cn,postStyleProps:ui,totalTime:gi,errors:Wi}}const Bo={};class Eo{constructor(g,_,M){this._triggerName=g,this.ast=_,this._stateStyles=M}match(g,_,M,W){return function Oo(B,g,_,M,W){return B.some(we=>we(g,_,M,W))}(this.ast.matchers,g,_,M,W)}buildStyles(g,_,M){let W=this._stateStyles.get("*");return void 0!==g&&(W=this._stateStyles.get(g?.toString())||W),W?W.buildStyles(_,M):new Map}build(g,_,M,W,we,ht,gt,nn,Cn,ui){const gi=[],Wi=this.ast.options&&this.ast.options.params||Bo,mr=this.buildStyles(M,gt&&gt.params||Bo,gi),Mr=nn&&nn.params||Bo,ps=this.buildStyles(W,Mr,gi),so=new Set,va=new Map,cl=new Map,ic="void"===W,Ru={params:mo(Mr,Wi),delay:this.ast.options?.delay},Ac=ui?[]:Po(g,_,this.ast.animation,we,ht,mr,ps,Ru,Cn,gi);let zl=0;if(Ac.forEach(Fu=>{zl=Math.max(Fu.duration+Fu.delay,zl)}),gi.length)return Da(_,this._triggerName,M,W,ic,mr,ps,[],[],va,cl,zl,gi);Ac.forEach(Fu=>{const Rc=Fu.element,hh=yn(va,Rc,new Set);Fu.preStyleProps.forEach(Nu=>hh.add(Nu));const fh=yn(cl,Rc,new Set);Fu.postStyleProps.forEach(Nu=>fh.add(Nu)),Rc!==_&&so.add(Rc)});const Cu=K(so.values());return Da(_,this._triggerName,M,W,ic,mr,ps,Ac,Cu,va,cl,zl)}}function mo(B,g){const _=ye(g);for(const M in B)B.hasOwnProperty(M)&&null!=B[M]&&(_[M]=B[M]);return _}class gs{constructor(g,_,M){this.styles=g,this.defaultParams=_,this.normalizer=M}buildStyles(g,_){const M=new Map,W=ye(this.defaultParams);return Object.keys(g).forEach(we=>{const ht=g[we];null!==ht&&(W[we]=ht)}),this.styles.styles.forEach(we=>{"string"!=typeof we&&we.forEach((ht,gt)=>{ht&&(ht=ie(ht,W,_));const nn=this.normalizer.normalizePropertyName(gt,_);ht=this.normalizer.normalizeStyleValue(gt,nn,ht,_),M.set(nn,ht)})}),M}}class tl{constructor(g,_,M){this.name=g,this.ast=_,this._normalizer=M,this.transitionFactories=[],this.states=new Map,_.states.forEach(W=>{this.states.set(W.name,new gs(W.style,W.options&&W.options.params||{},M))}),Mo(this.states,"true","1"),Mo(this.states,"false","0"),_.transitions.forEach(W=>{this.transitionFactories.push(new Eo(g,W,this.states))}),this.fallbackTransition=function Fa(B,g,_){return new Eo(B,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ht,gt)=>!0],options:null,queryCount:0,depCount:0},g)}(g,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(g,_,M,W){return this.transitionFactories.find(ht=>ht.match(g,_,M,W))||null}matchStyles(g,_,M){return this.fallbackTransition.buildStyles(g,_,M)}}function Mo(B,g,_){B.has(g)?B.has(_)||B.set(_,B.get(g)):B.has(_)&&B.set(g,B.get(_))}const Sa=new Es;class Yo{constructor(g,_,M){this.bodyNode=g,this._driver=_,this._normalizer=M,this._animations=new Map,this._playersById=new Map,this.players=[]}register(g,_){const M=[],we=$r(this._driver,_,M,[]);if(M.length)throw function xn(B){return new T.vHH(3503,!1)}();this._animations.set(g,we)}_buildPlayer(g,_,M){const W=g.element,we=On(0,this._normalizer,0,g.keyframes,_,M);return this._driver.animate(W,we,g.duration,g.delay,g.easing,[],!0)}create(g,_,M={}){const W=[],we=this._animations.get(g);let ht;const gt=new Map;if(we?(ht=Po(this._driver,_,we,Bi,Si,new Map,new Map,M,Sa,W),ht.forEach(ui=>{const gi=yn(gt,ui.element,new Map);ui.postStyleProps.forEach(Wi=>gi.set(Wi,null))})):(W.push(function In(){return new T.vHH(3300,!1)}()),ht=[]),W.length)throw function cn(B){return new T.vHH(3504,!1)}();gt.forEach((ui,gi)=>{ui.forEach((Wi,sr)=>{ui.set(sr,this._driver.computeStyle(gi,sr,O.l3))})});const Cn=gn(ht.map(ui=>{const gi=gt.get(ui.element);return this._buildPlayer(ui,new Map,gi)}));return this._playersById.set(g,Cn),Cn.onDestroy(()=>this.destroy(g)),this.players.push(Cn),Cn}destroy(g){const _=this._getPlayer(g);_.destroy(),this._playersById.delete(g);const M=this.players.indexOf(_);M>=0&&this.players.splice(M,1)}_getPlayer(g){const _=this._playersById.get(g);if(!_)throw function Gn(B){return new T.vHH(3301,!1)}();return _}listen(g,_,M,W){const we=Nn(_,"","","");return Qn(this._getPlayer(g),M,we,W),()=>{}}command(g,_,M,W){if("register"==M)return void this.register(g,W[0]);if("create"==M)return void this.create(g,_,W[0]||{});const we=this._getPlayer(g);switch(M){case"play":we.play();break;case"pause":we.pause();break;case"reset":we.reset();break;case"restart":we.restart();break;case"finish":we.finish();break;case"init":we.init();break;case"setPosition":we.setPosition(parseFloat(W[0]));break;case"destroy":this.destroy(g)}}}const Zo="ng-animate-queued",wr="ng-animate-disabled",To=[],dl={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Kr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},us="__ng_removed";class Ir{constructor(g,_=""){this.namespaceId=_;const M=g&&g.hasOwnProperty("value");if(this.value=function hl(B){return B??null}(M?g.value:g),M){const we=ye(g);delete we.value,this.options=we}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(g){const _=g.params;if(_){const M=this.options.params;Object.keys(_).forEach(W=>{null==M[W]&&(M[W]=_[W])})}}}const Us="void",go=new Ir(Us);class Lo{constructor(g,_,M){this.id=g,this.hostElement=_,this._engine=M,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+g,lr(_,this._hostClassName)}listen(g,_,M,W){if(!this._triggers.has(_))throw function Tn(B,g){return new T.vHH(3302,!1)}();if(null==M||0==M.length)throw function Wn(B){return new T.vHH(3303,!1)}();if(!function Qo(B){return"start"==B||"done"==B}(M))throw function Ht(B,g){return new T.vHH(3400,!1)}();const we=yn(this._elementListeners,g,[]),ht={name:_,phase:M,callback:W};we.push(ht);const gt=yn(this._engine.statesByElement,g,new Map);return gt.has(_)||(lr(g,_r),lr(g,_r+"-"+_),gt.set(_,go)),()=>{this._engine.afterFlush(()=>{const nn=we.indexOf(ht);nn>=0&&we.splice(nn,1),this._triggers.has(_)||gt.delete(_)})}}register(g,_){return!this._triggers.has(g)&&(this._triggers.set(g,_),!0)}_getTrigger(g){const _=this._triggers.get(g);if(!_)throw function Bt(B){return new T.vHH(3401,!1)}();return _}trigger(g,_,M,W=!0){const we=this._getTrigger(_),ht=new zs(this.id,_,g);let gt=this._engine.statesByElement.get(g);gt||(lr(g,_r),lr(g,_r+"-"+_),this._engine.statesByElement.set(g,gt=new Map));let nn=gt.get(_);const Cn=new Ir(M,this.id);if(!(M&&M.hasOwnProperty("value"))&&nn&&Cn.absorbOptions(nn.options),gt.set(_,Cn),nn||(nn=go),Cn.value!==Us&&nn.value===Cn.value){if(!function Jo(B,g){const _=Object.keys(B),M=Object.keys(g);if(_.length!=M.length)return!1;for(let W=0;W<_.length;W++){const we=_[W];if(!g.hasOwnProperty(we)||B[we]!==g[we])return!1}return!0}(nn.params,Cn.params)){const Mr=[],ps=we.matchStyles(nn.value,nn.params,Mr),so=we.matchStyles(Cn.value,Cn.params,Mr);Mr.length?this._engine.reportError(Mr):this._engine.afterFlush(()=>{wn(g,ps),Zt(g,so)})}return}const Wi=yn(this._engine.playersByElement,g,[]);Wi.forEach(Mr=>{Mr.namespaceId==this.id&&Mr.triggerName==_&&Mr.queued&&Mr.destroy()});let sr=we.matchTransition(nn.value,Cn.value,g,Cn.params),mr=!1;if(!sr){if(!W)return;sr=we.fallbackTransition,mr=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:g,triggerName:_,transition:sr,fromState:nn,toState:Cn,player:ht,isFallbackTransition:mr}),mr||(lr(g,Zo),ht.onStart(()=>{Do(g,Zo)})),ht.onDone(()=>{let Mr=this.players.indexOf(ht);Mr>=0&&this.players.splice(Mr,1);const ps=this._engine.playersByElement.get(g);if(ps){let so=ps.indexOf(ht);so>=0&&ps.splice(so,1)}}),this.players.push(ht),Wi.push(ht),ht}deregister(g){this._triggers.delete(g),this._engine.statesByElement.forEach(_=>_.delete(g)),this._elementListeners.forEach((_,M)=>{this._elementListeners.set(M,_.filter(W=>W.name!=g))})}clearElementCache(g){this._engine.statesByElement.delete(g),this._elementListeners.delete(g);const _=this._engine.playersByElement.get(g);_&&(_.forEach(M=>M.destroy()),this._engine.playersByElement.delete(g))}_signalRemovalForInnerTriggers(g,_){const M=this._engine.driver.query(g,En,!0);M.forEach(W=>{if(W[us])return;const we=this._engine.fetchNamespacesByElement(W);we.size?we.forEach(ht=>ht.triggerLeaveAnimation(W,_,!1,!0)):this.clearElementCache(W)}),this._engine.afterFlushAnimationsDone(()=>M.forEach(W=>this.clearElementCache(W)))}triggerLeaveAnimation(g,_,M,W){const we=this._engine.statesByElement.get(g),ht=new Map;if(we){const gt=[];if(we.forEach((nn,Cn)=>{if(ht.set(Cn,nn.value),this._triggers.has(Cn)){const ui=this.trigger(g,Cn,Us,W);ui&&gt.push(ui)}}),gt.length)return this._engine.markElementAsRemoved(this.id,g,!0,_,ht),M&&gn(gt).onDone(()=>this._engine.processLeaveNode(g)),!0}return!1}prepareLeaveAnimationListeners(g){const _=this._elementListeners.get(g),M=this._engine.statesByElement.get(g);if(_&&M){const W=new Set;_.forEach(we=>{const ht=we.name;if(W.has(ht))return;W.add(ht);const nn=this._triggers.get(ht).fallbackTransition,Cn=M.get(ht)||go,ui=new Ir(Us),gi=new zs(this.id,ht,g);this._engine.totalQueuedPlayers++,this._queue.push({element:g,triggerName:ht,transition:nn,fromState:Cn,toState:ui,player:gi,isFallbackTransition:!0})})}}removeNode(g,_){const M=this._engine;if(g.childElementCount&&this._signalRemovalForInnerTriggers(g,_),this.triggerLeaveAnimation(g,_,!0))return;let W=!1;if(M.totalAnimations){const we=M.players.length?M.playersByQueriedElement.get(g):[];if(we&&we.length)W=!0;else{let ht=g;for(;ht=ht.parentNode;)if(M.statesByElement.get(ht)){W=!0;break}}}if(this.prepareLeaveAnimationListeners(g),W)M.markElementAsRemoved(this.id,g,!1,_);else{const we=g[us];(!we||we===dl)&&(M.afterFlush(()=>this.clearElementCache(g)),M.destroyInnerAnimations(g),M._onRemovalComplete(g,_))}}insertNode(g,_){lr(g,this._hostClassName)}drainQueuedTransitions(g){const _=[];return this._queue.forEach(M=>{const W=M.player;if(W.destroyed)return;const we=M.element,ht=this._elementListeners.get(we);ht&&ht.forEach(gt=>{if(gt.name==M.triggerName){const nn=Nn(we,M.triggerName,M.fromState.value,M.toState.value);nn._data=g,Qn(M.player,gt.phase,nn,gt.callback)}}),W.markedForDestroy?this._engine.afterFlush(()=>{W.destroy()}):_.push(M)}),this._queue=[],_.sort((M,W)=>{const we=M.transition.ast.depCount,ht=W.transition.ast.depCount;return 0==we||0==ht?we-ht:this._engine.driver.containsElement(M.element,W.element)?1:-1})}destroy(g){this.players.forEach(_=>_.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,g)}elementContainsData(g){let _=!1;return this._elementListeners.has(g)&&(_=!0),_=!!this._queue.find(M=>M.element===g)||_,_}}class Na{constructor(g,_,M){this.bodyNode=g,this.driver=_,this._normalizer=M,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(W,we)=>{}}_onRemovalComplete(g,_){this.onRemovalComplete(g,_)}get queuedPlayers(){const g=[];return this._namespaceList.forEach(_=>{_.players.forEach(M=>{M.queued&&g.push(M)})}),g}createNamespace(g,_){const M=new Lo(g,_,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,_)?this._balanceNamespaceList(M,_):(this.newHostElements.set(_,M),this.collectEnterElement(_)),this._namespaceLookup[g]=M}_balanceNamespaceList(g,_){const M=this._namespaceList,W=this.namespacesByHostElement;if(M.length-1>=0){let ht=!1,gt=this.driver.getParentElement(_);for(;gt;){const nn=W.get(gt);if(nn){const Cn=M.indexOf(nn);M.splice(Cn+1,0,g),ht=!0;break}gt=this.driver.getParentElement(gt)}ht||M.unshift(g)}else M.push(g);return W.set(_,g),g}register(g,_){let M=this._namespaceLookup[g];return M||(M=this.createNamespace(g,_)),M}registerTrigger(g,_,M){let W=this._namespaceLookup[g];W&&W.register(_,M)&&this.totalAnimations++}destroy(g,_){if(!g)return;const M=this._fetchNamespace(g);this.afterFlush(()=>{this.namespacesByHostElement.delete(M.hostElement),delete this._namespaceLookup[g];const W=this._namespaceList.indexOf(M);W>=0&&this._namespaceList.splice(W,1)}),this.afterFlushAnimationsDone(()=>M.destroy(_))}_fetchNamespace(g){return this._namespaceLookup[g]}fetchNamespacesByElement(g){const _=new Set,M=this.statesByElement.get(g);if(M)for(let W of M.values())if(W.namespaceId){const we=this._fetchNamespace(W.namespaceId);we&&_.add(we)}return _}trigger(g,_,M,W){if(eo(_)){const we=this._fetchNamespace(g);if(we)return we.trigger(_,M,W),!0}return!1}insertNode(g,_,M,W){if(!eo(_))return;const we=_[us];if(we&&we.setForRemoval){we.setForRemoval=!1,we.setForMove=!0;const ht=this.collectedLeaveElements.indexOf(_);ht>=0&&this.collectedLeaveElements.splice(ht,1)}if(g){const ht=this._fetchNamespace(g);ht&&ht.insertNode(_,M)}W&&this.collectEnterElement(_)}collectEnterElement(g){this.collectedEnterElements.push(g)}markElementAsDisabled(g,_){_?this.disabledNodes.has(g)||(this.disabledNodes.add(g),lr(g,wr)):this.disabledNodes.has(g)&&(this.disabledNodes.delete(g),Do(g,wr))}removeNode(g,_,M,W){if(eo(_)){const we=g?this._fetchNamespace(g):null;if(we?we.removeNode(_,W):this.markElementAsRemoved(g,_,!1,W),M){const ht=this.namespacesByHostElement.get(_);ht&&ht.id!==g&&ht.removeNode(_,W)}}else this._onRemovalComplete(_,W)}markElementAsRemoved(g,_,M,W,we){this.collectedLeaveElements.push(_),_[us]={namespaceId:g,setForRemoval:W,hasAnimation:M,removedBeforeQueried:!1,previousTriggersValues:we}}listen(g,_,M,W,we){return eo(_)?this._fetchNamespace(g).listen(_,M,W,we):()=>{}}_buildInstruction(g,_,M,W,we){return g.transition.build(this.driver,g.element,g.fromState.value,g.toState.value,M,W,g.fromState.options,g.toState.options,_,we)}destroyInnerAnimations(g){let _=this.driver.query(g,En,!0);_.forEach(M=>this.destroyActiveAnimationsForElement(M)),0!=this.playersByQueriedElement.size&&(_=this.driver.query(g,It,!0),_.forEach(M=>this.finishActiveQueriedAnimationOnElement(M)))}destroyActiveAnimationsForElement(g){const _=this.playersByElement.get(g);_&&_.forEach(M=>{M.queued?M.markedForDestroy=!0:M.destroy()})}finishActiveQueriedAnimationOnElement(g){const _=this.playersByQueriedElement.get(g);_&&_.forEach(M=>M.finish())}whenRenderingDone(){return new Promise(g=>{if(this.players.length)return gn(this.players).onDone(()=>g());g()})}processLeaveNode(g){const _=g[us];if(_&&_.setForRemoval){if(g[us]=dl,_.namespaceId){this.destroyInnerAnimations(g);const M=this._fetchNamespace(_.namespaceId);M&&M.clearElementCache(g)}this._onRemovalComplete(g,_.setForRemoval)}g.classList?.contains(wr)&&this.markElementAsDisabled(g,!1),this.driver.query(g,".ng-animate-disabled",!0).forEach(M=>{this.markElementAsDisabled(M,!1)})}flush(g=-1){let _=[];if(this.newHostElements.size&&(this.newHostElements.forEach((M,W)=>this._balanceNamespaceList(M,W)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let M=0;M<this.collectedEnterElements.length;M++)lr(this.collectedEnterElements[M],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const M=[];try{_=this._flushAnimations(M,g)}finally{for(let W=0;W<M.length;W++)M[W]()}}else for(let M=0;M<this.collectedLeaveElements.length;M++)this.processLeaveNode(this.collectedLeaveElements[M]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(M=>M()),this._flushFns=[],this._whenQuietFns.length){const M=this._whenQuietFns;this._whenQuietFns=[],_.length?gn(_).onDone(()=>{M.forEach(W=>W())}):M.forEach(W=>W())}}reportError(g){throw function Kt(B){return new T.vHH(3402,!1)}()}_flushAnimations(g,_){const M=new Es,W=[],we=new Map,ht=[],gt=new Map,nn=new Map,Cn=new Map,ui=new Set;this.disabledNodes.forEach(Dr=>{ui.add(Dr);const Ar=this.driver.query(Dr,".ng-animate-queued",!0);for(let jr=0;jr<Ar.length;jr++)ui.add(Ar[jr])});const gi=this.bodyNode,Wi=Array.from(this.statesByElement.keys()),sr=js(Wi,this.collectedEnterElements),mr=new Map;let Mr=0;sr.forEach((Dr,Ar)=>{const jr=Bi+Mr++;mr.set(Ar,jr),Dr.forEach(ko=>lr(ko,jr))});const ps=[],so=new Set,va=new Set;for(let Dr=0;Dr<this.collectedLeaveElements.length;Dr++){const Ar=this.collectedLeaveElements[Dr],jr=Ar[us];jr&&jr.setForRemoval&&(ps.push(Ar),so.add(Ar),jr.hasAnimation?this.driver.query(Ar,".ng-star-inserted",!0).forEach(ko=>so.add(ko)):va.add(Ar))}const cl=new Map,ic=js(Wi,Array.from(so));ic.forEach((Dr,Ar)=>{const jr=Si+Mr++;cl.set(Ar,jr),Dr.forEach(ko=>lr(ko,jr))}),g.push(()=>{sr.forEach((Dr,Ar)=>{const jr=mr.get(Ar);Dr.forEach(ko=>Do(ko,jr))}),ic.forEach((Dr,Ar)=>{const jr=cl.get(Ar);Dr.forEach(ko=>Do(ko,jr))}),ps.forEach(Dr=>{this.processLeaveNode(Dr)})});const Ru=[],Ac=[];for(let Dr=this._namespaceList.length-1;Dr>=0;Dr--)this._namespaceList[Dr].drainQueuedTransitions(_).forEach(jr=>{const ko=jr.player,za=jr.element;if(Ru.push(ko),this.collectedEnterElements.length){const jl=za[us];if(jl&&jl.setForMove){if(jl.previousTriggersValues&&jl.previousTriggersValues.has(jr.triggerName)){const tu=jl.previousTriggersValues.get(jr.triggerName),Gl=this.statesByElement.get(jr.element);if(Gl&&Gl.has(jr.triggerName)){const Nc=Gl.get(jr.triggerName);Nc.value=tu,Gl.set(jr.triggerName,Nc)}}return void ko.destroy()}}const Fc=!gi||!this.driver.containsElement(gi,za),yl=cl.get(za),uu=mr.get(za),sa=this._buildInstruction(jr,M,uu,yl,Fc);if(sa.errors&&sa.errors.length)return void Ac.push(sa);if(Fc)return ko.onStart(()=>wn(za,sa.fromStyles)),ko.onDestroy(()=>Zt(za,sa.toStyles)),void W.push(ko);if(jr.isFallbackTransition)return ko.onStart(()=>wn(za,sa.fromStyles)),ko.onDestroy(()=>Zt(za,sa.toStyles)),void W.push(ko);const jf=[];sa.timelines.forEach(jl=>{jl.stretchStartingKeyframe=!0,this.disabledNodes.has(jl.element)||jf.push(jl)}),sa.timelines=jf,M.append(za,sa.timelines),ht.push({instruction:sa,player:ko,element:za}),sa.queriedElements.forEach(jl=>yn(gt,jl,[]).push(ko)),sa.preStyleProps.forEach((jl,tu)=>{if(jl.size){let Gl=nn.get(tu);Gl||nn.set(tu,Gl=new Set),jl.forEach((Nc,lf)=>Gl.add(lf))}}),sa.postStyleProps.forEach((jl,tu)=>{let Gl=Cn.get(tu);Gl||Cn.set(tu,Gl=new Set),jl.forEach((Nc,lf)=>Gl.add(lf))})});if(Ac.length){const Dr=[];Ac.forEach(Ar=>{Dr.push(function Vt(B,g){return new T.vHH(3505,!1)}())}),Ru.forEach(Ar=>Ar.destroy()),this.reportError(Dr)}const zl=new Map,Cu=new Map;ht.forEach(Dr=>{const Ar=Dr.element;M.has(Ar)&&(Cu.set(Ar,Ar),this._beforeAnimationBuild(Dr.player.namespaceId,Dr.instruction,zl))}),W.forEach(Dr=>{const Ar=Dr.element;this._getPreviousPlayers(Ar,!1,Dr.namespaceId,Dr.triggerName,null).forEach(ko=>{yn(zl,Ar,[]).push(ko),ko.destroy()})});const Fu=ps.filter(Dr=>na(Dr,nn,Cn)),Rc=new Map;Xo(Rc,this.driver,va,Cn,O.l3).forEach(Dr=>{na(Dr,nn,Cn)&&Fu.push(Dr)});const fh=new Map;sr.forEach((Dr,Ar)=>{Xo(fh,this.driver,new Set(Dr),nn,O.k1)}),Fu.forEach(Dr=>{const Ar=Rc.get(Dr),jr=fh.get(Dr);Rc.set(Dr,new Map([...Array.from(Ar?.entries()??[]),...Array.from(jr?.entries()??[])]))});const Nu=[],rd=[],ph={};ht.forEach(Dr=>{const{element:Ar,player:jr,instruction:ko}=Dr;if(M.has(Ar)){if(ui.has(Ar))return jr.onDestroy(()=>Zt(Ar,ko.toStyles)),jr.disabled=!0,jr.overrideTotalTime(ko.totalTime),void W.push(jr);let za=ph;if(Cu.size>1){let yl=Ar;const uu=[];for(;yl=yl.parentNode;){const sa=Cu.get(yl);if(sa){za=sa;break}uu.push(yl)}uu.forEach(sa=>Cu.set(sa,za))}const Fc=this._buildAnimation(jr.namespaceId,ko,zl,we,fh,Rc);if(jr.setRealPlayer(Fc),za===ph)Nu.push(jr);else{const yl=this.playersByElement.get(za);yl&&yl.length&&(jr.parentPlayer=gn(yl)),W.push(jr)}}else wn(Ar,ko.fromStyles),jr.onDestroy(()=>Zt(Ar,ko.toStyles)),rd.push(jr),ui.has(Ar)&&W.push(jr)}),rd.forEach(Dr=>{const Ar=we.get(Dr.element);if(Ar&&Ar.length){const jr=gn(Ar);Dr.setRealPlayer(jr)}}),W.forEach(Dr=>{Dr.parentPlayer?Dr.syncPlayerEvents(Dr.parentPlayer):Dr.destroy()});for(let Dr=0;Dr<ps.length;Dr++){const Ar=ps[Dr],jr=Ar[us];if(Do(Ar,Si),jr&&jr.hasAnimation)continue;let ko=[];if(gt.size){let Fc=gt.get(Ar);Fc&&Fc.length&&ko.push(...Fc);let yl=this.driver.query(Ar,It,!0);for(let uu=0;uu<yl.length;uu++){let sa=gt.get(yl[uu]);sa&&sa.length&&ko.push(...sa)}}const za=ko.filter(Fc=>!Fc.destroyed);za.length?nl(this,Ar,za):this.processLeaveNode(Ar)}return ps.length=0,Nu.forEach(Dr=>{this.players.push(Dr),Dr.onDone(()=>{Dr.destroy();const Ar=this.players.indexOf(Dr);this.players.splice(Ar,1)}),Dr.play()}),Nu}elementContainsData(g,_){let M=!1;const W=_[us];return W&&W.setForRemoval&&(M=!0),this.playersByElement.has(_)&&(M=!0),this.playersByQueriedElement.has(_)&&(M=!0),this.statesByElement.has(_)&&(M=!0),this._fetchNamespace(g).elementContainsData(_)||M}afterFlush(g){this._flushFns.push(g)}afterFlushAnimationsDone(g){this._whenQuietFns.push(g)}_getPreviousPlayers(g,_,M,W,we){let ht=[];if(_){const gt=this.playersByQueriedElement.get(g);gt&&(ht=gt)}else{const gt=this.playersByElement.get(g);if(gt){const nn=!we||we==Us;gt.forEach(Cn=>{Cn.queued||!nn&&Cn.triggerName!=W||ht.push(Cn)})}}return(M||W)&&(ht=ht.filter(gt=>!(M&&M!=gt.namespaceId||W&&W!=gt.triggerName))),ht}_beforeAnimationBuild(g,_,M){const we=_.element,ht=_.isRemovalTransition?void 0:g,gt=_.isRemovalTransition?void 0:_.triggerName;for(const nn of _.timelines){const Cn=nn.element,ui=Cn!==we,gi=yn(M,Cn,[]);this._getPreviousPlayers(Cn,ui,ht,gt,_.toState).forEach(sr=>{const mr=sr.getRealPlayer();mr.beforeDestroy&&mr.beforeDestroy(),sr.destroy(),gi.push(sr)})}wn(we,_.fromStyles)}_buildAnimation(g,_,M,W,we,ht){const gt=_.triggerName,nn=_.element,Cn=[],ui=new Set,gi=new Set,Wi=_.timelines.map(mr=>{const Mr=mr.element;ui.add(Mr);const ps=Mr[us];if(ps&&ps.removedBeforeQueried)return new O.ZN(mr.duration,mr.delay);const so=Mr!==nn,va=function $a(B){const g=[];return Ba(B,g),g}((M.get(Mr)||To).map(zl=>zl.getRealPlayer())).filter(zl=>!!zl.element&&zl.element===Mr),cl=we.get(Mr),ic=ht.get(Mr),Ru=On(0,this._normalizer,0,mr.keyframes,cl,ic),Ac=this._buildPlayer(mr,Ru,va);if(mr.subTimeline&&W&&gi.add(Mr),so){const zl=new zs(g,gt,Mr);zl.setRealPlayer(Ac),Cn.push(zl)}return Ac});Cn.forEach(mr=>{yn(this.playersByQueriedElement,mr.element,[]).push(mr),mr.onDone(()=>function Vr(B,g,_){let M=B.get(g);if(M){if(M.length){const W=M.indexOf(_);M.splice(W,1)}0==M.length&&B.delete(g)}return M}(this.playersByQueriedElement,mr.element,mr))}),ui.forEach(mr=>lr(mr,sn));const sr=gn(Wi);return sr.onDestroy(()=>{ui.forEach(mr=>Do(mr,sn)),Zt(nn,_.toStyles)}),gi.forEach(mr=>{yn(W,mr,[]).push(sr)}),sr}_buildPlayer(g,_,M){return _.length>0?this.driver.animate(g.element,_,g.duration,g.delay,g.easing,M):new O.ZN(g.duration,g.delay)}}class zs{constructor(g,_,M){this.namespaceId=g,this.triggerName=_,this.element=M,this._player=new O.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(g){this._containsRealPlayer||(this._player=g,this._queuedCallbacks.forEach((_,M)=>{_.forEach(W=>Qn(g,M,void 0,W))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(g.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(g){this.totalTime=g}syncPlayerEvents(g){const _=this._player;_.triggerCallback&&g.onStart(()=>_.triggerCallback("start")),g.onDone(()=>this.finish()),g.onDestroy(()=>this.destroy())}_queueEvent(g,_){yn(this._queuedCallbacks,g,[]).push(_)}onDone(g){this.queued&&this._queueEvent("done",g),this._player.onDone(g)}onStart(g){this.queued&&this._queueEvent("start",g),this._player.onStart(g)}onDestroy(g){this.queued&&this._queueEvent("destroy",g),this._player.onDestroy(g)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(g){this.queued||this._player.setPosition(g)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(g){const _=this._player;_.triggerCallback&&_.triggerCallback(g)}}function eo(B){return B&&1===B.nodeType}function Vo(B,g){const _=B.style.display;return B.style.display=g??"none",_}function Xo(B,g,_,M,W){const we=[];_.forEach(nn=>we.push(Vo(nn)));const ht=[];M.forEach((nn,Cn)=>{const ui=new Map;nn.forEach(gi=>{const Wi=g.computeStyle(Cn,gi,W);ui.set(gi,Wi),(!Wi||0==Wi.length)&&(Cn[us]=Kr,ht.push(Cn))}),B.set(Cn,ui)});let gt=0;return _.forEach(nn=>Vo(nn,we[gt++])),ht}function js(B,g){const _=new Map;if(B.forEach(gt=>_.set(gt,[])),0==g.length)return _;const W=new Set(g),we=new Map;function ht(gt){if(!gt)return 1;let nn=we.get(gt);if(nn)return nn;const Cn=gt.parentNode;return nn=_.has(Cn)?Cn:W.has(Cn)?1:ht(Cn),we.set(gt,nn),nn}return g.forEach(gt=>{const nn=ht(gt);1!==nn&&_.get(nn).push(gt)}),_}function lr(B,g){B.classList?.add(g)}function Do(B,g){B.classList?.remove(g)}function nl(B,g,_){gn(_).onDone(()=>B.processLeaveNode(g))}function Ba(B,g){for(let _=0;_<B.length;_++){const M=B[_];M instanceof O.ZE?Ba(M.players,g):g.push(M)}}function na(B,g,_){const M=_.get(B);if(!M)return!1;let W=g.get(B);return W?M.forEach(we=>W.add(we)):g.set(B,M),_.delete(B),!0}class Ma{constructor(g,_,M){this.bodyNode=g,this._driver=_,this._normalizer=M,this._triggerCache={},this.onRemovalComplete=(W,we)=>{},this._transitionEngine=new Na(g,_,M),this._timelineEngine=new Yo(g,_,M),this._transitionEngine.onRemovalComplete=(W,we)=>this.onRemovalComplete(W,we)}registerTrigger(g,_,M,W,we){const ht=g+"-"+W;let gt=this._triggerCache[ht];if(!gt){const nn=[],ui=$r(this._driver,we,nn,[]);if(nn.length)throw function vt(B,g){return new T.vHH(3404,!1)}();gt=function Ur(B,g,_){return new tl(B,g,_)}(W,ui,this._normalizer),this._triggerCache[ht]=gt}this._transitionEngine.registerTrigger(_,W,gt)}register(g,_){this._transitionEngine.register(g,_)}destroy(g,_){this._transitionEngine.destroy(g,_)}onInsert(g,_,M,W){this._transitionEngine.insertNode(g,_,M,W)}onRemove(g,_,M,W){this._transitionEngine.removeNode(g,_,W||!1,M)}disableAnimations(g,_){this._transitionEngine.markElementAsDisabled(g,_)}process(g,_,M,W){if("@"==M.charAt(0)){const[we,ht]=pn(M);this._timelineEngine.command(we,_,ht,W)}else this._transitionEngine.trigger(g,_,M,W)}listen(g,_,M,W,we){if("@"==M.charAt(0)){const[ht,gt]=pn(M);return this._timelineEngine.listen(ht,_,gt,we)}return this._transitionEngine.listen(g,_,M,W,we)}flush(g=-1){this._transitionEngine.flush(g)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let _i=(()=>{class B{constructor(_,M,W){this._element=_,this._startStyles=M,this._endStyles=W,this._state=0;let we=B.initialStylesByElement.get(_);we||B.initialStylesByElement.set(_,we=new Map),this._initialStyles=we}start(){this._state<1&&(this._startStyles&&Zt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zt(this._element,this._initialStyles),this._endStyles&&(Zt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(B.initialStylesByElement.delete(this._element),this._startStyles&&(wn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(wn(this._element,this._endStyles),this._endStyles=null),Zt(this._element,this._initialStyles),this._state=3)}}return B.initialStylesByElement=new WeakMap,B})();function Cr(B){let g=null;return B.forEach((_,M)=>{(function ac(B){return"display"===B||"position"===B})(M)&&(g=g||new Map,g.set(M,_))}),g}class ka{constructor(g,_,M,W){this.element=g,this.keyframes=_,this.options=M,this._specialStyles=W,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=M.duration,this._delay=M.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(g=>g()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const g=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,g,this.options),this._finalKeyframe=g.length?g[g.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(g){const _=[];return g.forEach(M=>{_.push(Object.fromEntries(M))}),_}_triggerWebAnimation(g,_,M){return g.animate(this._convertKeyframesToObject(_),M)}onStart(g){this._originalOnStartFns.push(g),this._onStartFns.push(g)}onDone(g){this._originalOnDoneFns.push(g),this._onDoneFns.push(g)}onDestroy(g){this._onDestroyFns.push(g)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(g=>g()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(g=>g()),this._onDestroyFns=[])}setPosition(g){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=g*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const g=new Map;this.hasStarted()&&this._finalKeyframe.forEach((M,W)=>{"offset"!==W&&g.set(W,this._finished?M:mt(this.element,W))}),this.currentSnapshot=g}triggerCallback(g){const _="start"===g?this._onStartFns:this._onDoneFns;_.forEach(M=>M()),_.length=0}}class ks{validateStyleProperty(g){return!0}validateAnimatableStyleProperty(g){return!0}matchesElement(g,_){return!1}containsElement(g,_){return Mt(g,_)}getParentElement(g){return Rt(g)}query(g,_,M){return Tt(g,_,M)}computeStyle(g,_,M){return window.getComputedStyle(g)[_]}animate(g,_,M,W,we,ht=[]){const nn={duration:M,delay:W,fill:0==W?"both":"forwards"};we&&(nn.easing=we);const Cn=new Map,ui=ht.filter(sr=>sr instanceof ka);(function Hn(B,g){return 0===B||0===g})(M,W)&&ui.forEach(sr=>{sr.currentSnapshot.forEach((mr,Mr)=>Cn.set(Mr,mr))});let gi=function Ue(B){return B.length?B[0]instanceof Map?B:B.map(g=>st(g)):[]}(_).map(sr=>ct(sr));gi=function Un(B,g,_){if(_.size&&g.length){let M=g[0],W=[];if(_.forEach((we,ht)=>{M.has(ht)||W.push(ht),M.set(ht,we)}),W.length)for(let we=1;we<g.length;we++){let ht=g[we];W.forEach(gt=>ht.set(gt,mt(B,gt)))}}return g}(g,gi,Cn);const Wi=function Ho(B,g){let _=null,M=null;return Array.isArray(g)&&g.length?(_=Cr(g[0]),g.length>1&&(M=Cr(g[g.length-1]))):g instanceof Map&&(_=Cr(g)),_||M?new _i(B,_,M):null}(g,gi);return new ka(g,gi,nn,Wi)}}var Se=N(6895);let De=(()=>{class B extends O._j{constructor(_,M){super(),this._nextAnimationId=0,this._renderer=_.createRenderer(M.body,{id:"0",encapsulation:T.ifc.None,styles:[],data:{animation:[]}})}build(_){const M=this._nextAnimationId.toString();this._nextAnimationId++;const W=Array.isArray(_)?(0,O.vP)(_):_;return qn(this._renderer,null,M,"register",[W]),new he(M,this._renderer)}}return B.\u0275fac=function(_){return new(_||B)(T.LFG(T.FYo),T.LFG(Se.K0))},B.\u0275prov=T.Yz7({token:B,factory:B.\u0275fac}),B})();class he extends O.LC{constructor(g,_){super(),this._id=g,this._renderer=_}create(g,_){return new Et(this._id,g,_||{},this._renderer)}}class Et{constructor(g,_,M,W){this.id=g,this.element=_,this._renderer=W,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",M)}_listen(g,_){return this._renderer.listen(this.element,`@@${this.id}:${g}`,_)}_command(g,..._){return qn(this._renderer,this.element,this.id,g,_)}onDone(g){this._listen("done",g)}onStart(g){this._listen("start",g)}onDestroy(g){this._listen("destroy",g)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(g){this._command("setPosition",g)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function qn(B,g,_,M,W){return B.setProperty(g,`@@${_}:${M}`,W)}const ds="@.disabled";let Rs=(()=>{class B{constructor(_,M,W){this.delegate=_,this.engine=M,this._zone=W,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),M.onRemovalComplete=(we,ht)=>{const gt=ht?.parentNode(we);gt&&ht.removeChild(gt,we)}}createRenderer(_,M){const we=this.delegate.createRenderer(_,M);if(!(_&&M&&M.data&&M.data.animation)){let ui=this._rendererCache.get(we);return ui||(ui=new to("",we,this.engine,()=>this._rendererCache.delete(we)),this._rendererCache.set(we,ui)),ui}const ht=M.id,gt=M.id+"-"+this._currentId;this._currentId++,this.engine.register(gt,_);const nn=ui=>{Array.isArray(ui)?ui.forEach(nn):this.engine.registerTrigger(ht,gt,_,ui.name,ui)};return M.data.animation.forEach(nn),new _s(this,gt,we,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(_,M,W){_>=0&&_<this._microtaskId?this._zone.run(()=>M(W)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(we=>{const[ht,gt]=we;ht(gt)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([M,W]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return B.\u0275fac=function(_){return new(_||B)(T.LFG(T.FYo),T.LFG(Ma),T.LFG(T.R0b))},B.\u0275prov=T.Yz7({token:B,factory:B.\u0275fac}),B})();class to{constructor(g,_,M,W){this.namespaceId=g,this.delegate=_,this.engine=M,this._onDestroy=W,this.destroyNode=this.delegate.destroyNode?we=>_.destroyNode(we):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(g,_){return this.delegate.createElement(g,_)}createComment(g){return this.delegate.createComment(g)}createText(g){return this.delegate.createText(g)}appendChild(g,_){this.delegate.appendChild(g,_),this.engine.onInsert(this.namespaceId,_,g,!1)}insertBefore(g,_,M,W=!0){this.delegate.insertBefore(g,_,M),this.engine.onInsert(this.namespaceId,_,g,W)}removeChild(g,_,M){this.engine.onRemove(this.namespaceId,_,this.delegate,M)}selectRootElement(g,_){return this.delegate.selectRootElement(g,_)}parentNode(g){return this.delegate.parentNode(g)}nextSibling(g){return this.delegate.nextSibling(g)}setAttribute(g,_,M,W){this.delegate.setAttribute(g,_,M,W)}removeAttribute(g,_,M){this.delegate.removeAttribute(g,_,M)}addClass(g,_){this.delegate.addClass(g,_)}removeClass(g,_){this.delegate.removeClass(g,_)}setStyle(g,_,M,W){this.delegate.setStyle(g,_,M,W)}removeStyle(g,_,M){this.delegate.removeStyle(g,_,M)}setProperty(g,_,M){"@"==_.charAt(0)&&_==ds?this.disableAnimations(g,!!M):this.delegate.setProperty(g,_,M)}setValue(g,_){this.delegate.setValue(g,_)}listen(g,_,M){return this.delegate.listen(g,_,M)}disableAnimations(g,_){this.engine.disableAnimations(g,_)}}class _s extends to{constructor(g,_,M,W,we){super(_,M,W,we),this.factory=g,this.namespaceId=_}setProperty(g,_,M){"@"==_.charAt(0)?"."==_.charAt(1)&&_==ds?this.disableAnimations(g,M=void 0===M||!!M):this.engine.process(this.namespaceId,g,_.slice(1),M):this.delegate.setProperty(g,_,M)}listen(g,_,M){if("@"==_.charAt(0)){const W=function Ao(B){switch(B){case"body":return document.body;case"document":return document;case"window":return window;default:return B}}(g);let we=_.slice(1),ht="";return"@"!=we.charAt(0)&&([we,ht]=function _o(B){const g=B.indexOf(".");return[B.substring(0,g),B.slice(g+1)]}(we)),this.engine.listen(this.namespaceId,W,we,ht,gt=>{this.factory.scheduleListenerCallback(gt._data||-1,M,gt)})}return this.delegate.listen(g,_,M)}}const Fl=[{provide:O._j,useClass:De},{provide:Sr,useFactory:function la(){return new Ta}},{provide:Ma,useClass:(()=>{class B extends Ma{constructor(_,M,W,we){super(_.body,M,W)}ngOnDestroy(){this.flush()}}return B.\u0275fac=function(_){return new(_||B)(T.LFG(Se.K0),T.LFG(Ln),T.LFG(Sr),T.LFG(T.z2F))},B.\u0275prov=T.Yz7({token:B,factory:B.\u0275fac}),B})()},{provide:T.FYo,useFactory:function Sc(B,g,_){return new Rs(B,g,_)},deps:[a.se,Ma,T.R0b]}],Wa=[{provide:Ln,useFactory:()=>new ks},{provide:T.QbO,useValue:"BrowserAnimations"},...Fl],lc=[{provide:Ln,useClass:An},{provide:T.QbO,useValue:"NoopAnimations"},...Fl];let Vs=(()=>{class B{static withConfig(_){return{ngModule:B,providers:_.disableAnimations?lc:Wa}}}return B.\u0275fac=function(_){return new(_||B)},B.\u0275mod=T.oAB({type:B}),B.\u0275inj=T.cJS({providers:Wa,imports:[a.b2]}),B})();var ar=N(4006),xr=N(6806),il=N(529),co=N(5471),ua=N(580),Gs=N(6134),ae=N(2011),Xe=N(7102),ve=N(452);let yt=(()=>{class B{constructor(){this.miMenu="menu",this.menu=[{titulo:"Dashboard",icono:"mdi mdi-gauge",subMenu:[{titulo:"Main",url:"/"},{titulo:"Gr\xe1ficas",url:"grafica1"},{titulo:"rxjs",url:"rxjs"},{titulo:"Promesas",url:"promesas"},{titulo:"ProgressBar",url:"progress"}]},{titulo:"Mantenimientos",icono:"mdi mdi-folder-lock-open",subMenu:[{titulo:"Usuarios",url:"usuarios"},{titulo:"Hospitales",url:"hospitales"},{titulo:"M\xe9dicos",url:"medicos"},{titulo:"Pozos",url:"pozos"}]}]}cargarMenu(){this.menu=JSON.parse(localStorage.getItem(this.miMenu))||[]}}return B.\u0275fac=function(_){return new(_||B)},B.\u0275prov=T.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})();var un=N(5226),jn=N.n(un),si=N(9867),Ji=N(162),ki=N(5861),Wr=typeof self<"u"?self:global;const qr=typeof navigator<"u",Pr=qr&&typeof HTMLImageElement>"u",vo=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),hs=Wr.Buffer,Cs=Wr.BigInt,Ia=!!hs,Uo=B=>B;function yo(B,g=Uo){if(vo)try{return"function"==typeof require?Promise.resolve(g(require(B))):import(B).then(g)}catch{console.warn(`Couldn't load ${B}`)}}let Va=Wr.fetch;if(!Wr.fetch){const B=yo("http",M=>M),g=yo("https",M=>M),_=(M,{headers:W}={})=>new Promise(function(){var we=(0,ki.Z)(function*(ht,gt){let{port:nn,hostname:Cn,pathname:ui,protocol:gi,search:Wi}=new URL(M);const sr={method:"GET",hostname:Cn,path:encodeURI(ui)+Wi,headers:W};""!==nn&&(sr.port=Number(nn));const mr=("https:"===gi?yield g:yield B).request(sr,Mr=>{if(301===Mr.statusCode||302===Mr.statusCode){let ps=new URL(Mr.headers.location,M).toString();return _(ps,{headers:W}).then(ht).catch(gt)}ht({status:Mr.statusCode,arrayBuffer:()=>new Promise(ps=>{let so=[];Mr.on("data",va=>so.push(va)),Mr.on("end",()=>ps(Buffer.concat(so)))})})});mr.on("error",gt),mr.end()});return function(ht,gt){return we.apply(this,arguments)}}());(B=>{Va=B})(_)}function qi(B,g,_){return g in B?Object.defineProperty(B,g,{value:_,enumerable:!0,configurable:!0,writable:!0}):B[g]=_,B}const ma=B=>Ys(B)?void 0:B,_c=B=>void 0!==B;function Ys(B){return void 0===B||(B instanceof Map?0===B.size:0===Object.values(B).filter(_c).length)}function $s(B){let g=new Error(B);throw delete g.stack,g}function Nl(B){return""===(B=function(g){for(;g.endsWith("\0");)g=g.slice(0,-1);return g}(B).trim())?void 0:B}function ga(B){let g=function(_){let M=0;return _.ifd0.enabled&&(M+=1024),_.exif.enabled&&(M+=2048),_.makerNote&&(M+=2048),_.userComment&&(M+=1024),_.gps.enabled&&(M+=512),_.interop.enabled&&(M+=100),_.ifd1.enabled&&(M+=1024),M+2048}(B);return B.jfif.enabled&&(g+=50),B.xmp.enabled&&(g+=2e4),B.iptc.enabled&&(g+=14e3),B.icc.enabled&&(g+=6e3),g}const Ec=B=>String.fromCharCode.apply(null,B),Mc=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;function vc(B){return Mc?Mc.decode(B):Ia?Buffer.from(B).toString("utf8"):decodeURIComponent(escape(Ec(B)))}class no{static from(g,_){return g instanceof this&&g.le===_?g:new no(g,void 0,void 0,_)}constructor(g,_=0,M,W){if("boolean"==typeof W&&(this.le=W),Array.isArray(g)&&(g=new Uint8Array(g)),0===g)this.byteOffset=0,this.byteLength=0;else if(g instanceof ArrayBuffer){void 0===M&&(M=g.byteLength-_);let we=new DataView(g,_,M);this._swapDataView(we)}else if(g instanceof Uint8Array||g instanceof DataView||g instanceof no){void 0===M&&(M=g.byteLength-_),(_+=g.byteOffset)+M>g.byteOffset+g.byteLength&&$s("Creating view outside of available memory in ArrayBuffer");let we=new DataView(g.buffer,_,M);this._swapDataView(we)}else if("number"==typeof g){let we=new DataView(new ArrayBuffer(g));this._swapDataView(we)}else $s("Invalid input argument for BufferView: "+g)}_swapArrayBuffer(g){this._swapDataView(new DataView(g))}_swapBuffer(g){this._swapDataView(new DataView(g.buffer,g.byteOffset,g.byteLength))}_swapDataView(g){this.dataView=g,this.buffer=g.buffer,this.byteOffset=g.byteOffset,this.byteLength=g.byteLength}_lengthToEnd(g){return this.byteLength-g}set(g,_,M=no){return g instanceof DataView||g instanceof no?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):g instanceof ArrayBuffer&&(g=new Uint8Array(g)),g instanceof Uint8Array||$s("BufferView.set(): Invalid data argument."),this.toUint8().set(g,_),new M(this,_,g.byteLength)}subarray(g,_){return _=_||this._lengthToEnd(g),new no(this,g,_)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(g,_){return new Uint8Array(this.buffer,this.byteOffset+g,_)}getString(g=0,_=this.byteLength){return vc(this.getUint8Array(g,_))}getLatin1String(g=0,_=this.byteLength){let M=this.getUint8Array(g,_);return Ec(M)}getUnicodeString(g=0,_=this.byteLength){const M=[];for(let W=0;W<_&&g+W<this.byteLength;W+=2)M.push(this.getUint16(g+W));return Ec(M)}getInt8(g){return this.dataView.getInt8(g)}getUint8(g){return this.dataView.getUint8(g)}getInt16(g,_=this.le){return this.dataView.getInt16(g,_)}getInt32(g,_=this.le){return this.dataView.getInt32(g,_)}getUint16(g,_=this.le){return this.dataView.getUint16(g,_)}getUint32(g,_=this.le){return this.dataView.getUint32(g,_)}getFloat32(g,_=this.le){return this.dataView.getFloat32(g,_)}getFloat64(g,_=this.le){return this.dataView.getFloat64(g,_)}getFloat(g,_=this.le){return this.dataView.getFloat32(g,_)}getDouble(g,_=this.le){return this.dataView.getFloat64(g,_)}getUintBytes(g,_,M){switch(_){case 1:return this.getUint8(g,M);case 2:return this.getUint16(g,M);case 4:return this.getUint32(g,M);case 8:return this.getUint64&&this.getUint64(g,M)}}getUint(g,_,M){switch(_){case 8:return this.getUint8(g,M);case 16:return this.getUint16(g,M);case 32:return this.getUint32(g,M);case 64:return this.getUint64&&this.getUint64(g,M)}}toString(g){return this.dataView.toString(g,this.constructor.name)}ensureChunk(){}}function Kl(B,g){$s(`${B} '${g}' was not loaded, try using full build of exifr.`)}class yc extends Map{constructor(g){super(),this.kind=g}get(g,_){return this.has(g)||Kl(this.kind,g),_&&(g in _||$s(`Unknown ${this.kind} '${g}'.`),_[g].enabled||Kl(this.kind,g)),super.get(g)}keyList(){return Array.from(this.keys())}}var da=new yc("file parser"),Fr=new yc("segment parser"),ne=new yc("file reader");function dt(B,g){return(_=B).startsWith("data:")||_.length>1e4?Gi(B,g,"base64"):vo&&B.includes("://")?hn(B,g,"url",es):vo?Gi(B,g,"fs"):qr?hn(B,g,"url",es):void $s("Invalid input argument");var _}function hn(B,g,_,M){return Dn.apply(this,arguments)}function Dn(){return Dn=(0,ki.Z)(function*(B,g,_,M){return ne.has(_)?Gi(B,g,_):M?(W=(0,ki.Z)(function*(we,ht){let gt=yield ht(we);return new no(gt)}),function(we,ht){return W.apply(this,arguments)})(B,M):void $s(`Parser ${_} is not loaded`);var W}),Dn.apply(this,arguments)}function Gi(B,g,_){return vs.apply(this,arguments)}function vs(){return(vs=(0,ki.Z)(function*(B,g,_){let M=new(ne.get(_))(B,g);return yield M.read(),M})).apply(this,arguments)}const es=B=>Va(B).then(g=>g.arrayBuffer()),wi=B=>new Promise((g,_)=>{let M=new FileReader;M.onloadend=()=>g(M.result||new ArrayBuffer),M.onerror=_,M.readAsArrayBuffer(B)});class $i extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function io(B,g,_){let M=new $i;for(let[W,we]of _)M.set(W,we);if(Array.isArray(g))for(let W of g)B.set(W,M);else B.set(g,M);return M}function Ri(B,g,_){let M,W=B.get(g);for(M of _)W.set(M[0],M[1])}const Kn=new Map,vi=new Map,f=new Map,w=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],H=["jfif","xmp","icc","iptc","ihdr"],ee=["tiff",...H],Le=["ifd0","ifd1","exif","gps","interop"],Dt=[...ee,...Le],fn=["makerNote","userComment"],$n=["translateKeys","translateValues","reviveValues","multiSegment"],Xn=[...$n,"sanitize","mergeOutput","silentErrors"];class xi{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class Hi extends xi{get needed(){return this.enabled||this.deps.size>0}constructor(g,_,M,W){if(super(),qi(this,"enabled",!1),qi(this,"skip",new Set),qi(this,"pick",new Set),qi(this,"deps",new Set),qi(this,"translateKeys",!1),qi(this,"translateValues",!1),qi(this,"reviveValues",!1),this.key=g,this.enabled=_,this.parse=this.enabled,this.applyInheritables(W),this.canBeFiltered=Le.includes(g),this.canBeFiltered&&(this.dict=Kn.get(g)),void 0!==M)if(Array.isArray(M))this.parse=this.enabled=!0,this.canBeFiltered&&M.length>0&&this.translateTagSet(M,this.pick);else if("object"==typeof M){if(this.enabled=!0,this.parse=!1!==M.parse,this.canBeFiltered){let{pick:we,skip:ht}=M;we&&we.length>0&&this.translateTagSet(we,this.pick),ht&&ht.length>0&&this.translateTagSet(ht,this.skip)}this.applyInheritables(M)}else!0===M||!1===M?this.parse=this.enabled=M:$s(`Invalid options argument: ${M}`)}applyInheritables(g){let _,M;for(_ of $n)M=g[_],void 0!==M&&(this[_]=M)}translateTagSet(g,_){if(this.dict){let M,W,{tagKeys:we,tagValues:ht}=this.dict;for(M of g)"string"==typeof M?(W=ht.indexOf(M),-1===W&&(W=we.indexOf(Number(M))),-1!==W&&_.add(Number(we[W]))):_.add(M)}else for(let M of g)_.add(M)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,rr(this.pick,this.deps)):this.enabled&&this.pick.size>0&&rr(this.pick,this.deps)}}var hr={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},Pi=new Map;class Is extends xi{static useCached(g){let _=Pi.get(g);return void 0!==_||(_=new this(g),Pi.set(g,_)),_}constructor(g){super(),!0===g?this.setupFromTrue():void 0===g?this.setupFromUndefined():Array.isArray(g)?this.setupFromArray(g):"object"==typeof g?this.setupFromObject(g):$s(`Invalid options argument ${g}`),void 0===this.firstChunkSize&&(this.firstChunkSize=qr?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let g;for(g of w)this[g]=hr[g];for(g of Xn)this[g]=hr[g];for(g of fn)this[g]=hr[g];for(g of Dt)this[g]=new Hi(g,hr[g],void 0,this)}setupFromTrue(){let g;for(g of w)this[g]=hr[g];for(g of Xn)this[g]=hr[g];for(g of fn)this[g]=!0;for(g of Dt)this[g]=new Hi(g,!0,void 0,this)}setupFromArray(g){let _;for(_ of w)this[_]=hr[_];for(_ of Xn)this[_]=hr[_];for(_ of fn)this[_]=hr[_];for(_ of Dt)this[_]=new Hi(_,!1,void 0,this);this.setupGlobalFilters(g,void 0,Le)}setupFromObject(g){let _;for(_ of(Le.ifd0=Le.ifd0||Le.image,Le.ifd1=Le.ifd1||Le.thumbnail,Object.assign(this,g),w))this[_]=Zs(g[_],hr[_]);for(_ of Xn)this[_]=Zs(g[_],hr[_]);for(_ of fn)this[_]=Zs(g[_],hr[_]);for(_ of ee)this[_]=new Hi(_,hr[_],g[_],this);for(_ of Le)this[_]=new Hi(_,hr[_],g[_],this.tiff);this.setupGlobalFilters(g.pick,g.skip,Le,Dt),!0===g.tiff?this.batchEnableWithBool(Le,!0):!1===g.tiff?this.batchEnableWithUserValue(Le,g):Array.isArray(g.tiff)?this.setupGlobalFilters(g.tiff,void 0,Le):"object"==typeof g.tiff&&this.setupGlobalFilters(g.tiff.pick,g.tiff.skip,Le)}batchEnableWithBool(g,_){for(let M of g)this[M].enabled=_}batchEnableWithUserValue(g,_){for(let M of g){let W=_[M];this[M].enabled=!1!==W&&void 0!==W}}setupGlobalFilters(g,_,M,W=M){if(g&&g.length){for(let ht of W)this[ht].enabled=!1;let we=Al(g,M);for(let[ht,gt]of we)rr(this[ht].pick,gt),this[ht].enabled=!0}else if(_&&_.length){let we=Al(_,M);for(let[ht,gt]of we)rr(this[ht].skip,gt)}}filterNestedSegmentTags(){let{ifd0:g,exif:_,xmp:M,iptc:W,icc:we}=this;this.makerNote?_.deps.add(37500):_.skip.add(37500),this.userComment?_.deps.add(37510):_.skip.add(37510),M.enabled||g.skip.add(700),W.enabled||g.skip.add(33723),we.enabled||g.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:g,exif:_,gps:M,interop:W}=this;W.needed&&(_.deps.add(40965),g.deps.add(40965)),_.needed&&g.deps.add(34665),M.needed&&g.deps.add(34853),this.tiff.enabled=Le.some(we=>!0===this[we].enabled)||this.makerNote||this.userComment;for(let we of Le)this[we].finalizeFilters()}get onlyTiff(){return!H.map(g=>this[g].enabled).some(g=>!0===g)&&this.tiff.enabled}checkLoadedPlugins(){for(let g of ee)this[g].enabled&&!Fr.has(g)&&Kl("segment parser",g)}}function Al(B,g){let _,M,W,we,ht=[];for(W of g){for(we of(_=Kn.get(W),M=[],_))(B.includes(we[0])||B.includes(we[1]))&&M.push(we[0]);M.length&&ht.push([W,M])}return ht}function Zs(B,g){return void 0!==B?B:void 0!==g?g:void 0}function rr(B,g){for(let _ of g)B.add(_)}qi(Is,"default",hr);class zo{constructor(g){qi(this,"parsers",{}),qi(this,"output",{}),qi(this,"errors",[]),qi(this,"pushToErrors",_=>this.errors.push(_)),this.options=Is.useCached(g)}read(g){var _=this;return(0,ki.Z)(function*(){_.file=yield function oe(B,g){return"string"==typeof B?dt(B,g):qr&&!Pr&&B instanceof HTMLImageElement?dt(B.src,g):B instanceof Uint8Array||B instanceof ArrayBuffer||B instanceof DataView?new no(B):qr&&B instanceof Blob?hn(B,g,"blob",wi):void $s("Invalid input argument")}(g,_.options)})()}setup(){if(this.fileParser)return;let{file:g}=this,_=g.getUint16(0);for(let[M,W]of da)if(W.canHandle(g,_))return this.fileParser=new W(this.options,this.file,this.parsers),g[M]=!0;this.file.close&&this.file.close(),$s("Unknown file format")}parse(){var g=this;return(0,ki.Z)(function*(){let{output:_,errors:M}=g;return g.setup(),g.options.silentErrors?(yield g.executeParsers().catch(g.pushToErrors),M.push(...g.fileParser.errors)):yield g.executeParsers(),g.file.close&&g.file.close(),g.options.silentErrors&&M.length>0&&(_.errors=M),ma(_)})()}executeParsers(){var g=this;return(0,ki.Z)(function*(){let{output:_}=g;yield g.fileParser.parse();let M=Object.values(g.parsers).map(function(){var W=(0,ki.Z)(function*(we){let ht=yield we.parse();we.assignToOutput(_,ht)});return function(we){return W.apply(this,arguments)}}());g.options.silentErrors&&(M=M.map(W=>W.catch(g.pushToErrors))),yield Promise.all(M)})()}extractThumbnail(){var g=this;return(0,ki.Z)(function*(){g.setup();let{options:_,file:M}=g,W=Fr.get("tiff",_);var we;if(M.tiff?we={start:0,type:"tiff"}:M.jpeg&&(we=yield g.fileParser.getOrFindSegment("tiff")),void 0===we)return;let ht=yield g.fileParser.ensureSegmentChunk(we),gt=g.parsers.tiff=new W(ht,_,M),nn=yield gt.extractThumbnail();return M.close&&M.close(),nn})()}}function Qr(B,g){return fl.apply(this,arguments)}function fl(){return(fl=(0,ki.Z)(function*(B,g){let _=new zo(g);return yield _.read(B),_.parse()})).apply(this,arguments)}var Ts=Object.freeze({__proto__:null,parse:Qr,Exifr:zo,fileParsers:da,segmentParsers:Fr,fileReaders:ne,tagKeys:Kn,tagValues:vi,tagRevivers:f,createDictionary:io,extendDictionary:Ri,fetchUrlAsArrayBuffer:es,readBlobAsArrayBuffer:wi,chunkedProps:w,otherSegments:H,segments:ee,tiffBlocks:Le,segmentsAndBlocks:Dt,tiffExtractables:fn,inheritables:$n,allFormatters:Xn,Options:Is});class Oi{constructor(g,_,M){var W=this;qi(this,"errors",[]),qi(this,"ensureSegmentChunk",function(){var we=(0,ki.Z)(function*(ht){let gt=ht.start,nn=ht.size||65536;if(W.file.chunked)if(W.file.available(gt,nn))ht.chunk=W.file.subarray(gt,nn);else try{ht.chunk=yield W.file.readChunk(gt,nn)}catch(Cn){$s(`Couldn't read segment: ${JSON.stringify(ht)}. ${Cn.message}`)}else W.file.byteLength>gt+nn?ht.chunk=W.file.subarray(gt,nn):void 0===ht.size?ht.chunk=W.file.subarray(gt):$s("Segment unreachable: "+JSON.stringify(ht));return ht.chunk});return function(ht){return we.apply(this,arguments)}}()),this.extendOptions&&this.extendOptions(g),this.options=g,this.file=_,this.parsers=M}injectSegment(g,_){this.options[g].enabled&&this.createParser(g,_)}createParser(g,_){let M=new(Fr.get(g))(_,this.options,this.file);return this.parsers[g]=M}createParsers(g){for(let _ of g){let{type:M,chunk:W}=_,we=this.options[M];if(we&&we.enabled){let ht=this.parsers[M];ht&&ht.append||ht||this.createParser(M,W)}}}readSegments(g){var _=this;return(0,ki.Z)(function*(){let M=g.map(_.ensureSegmentChunk);yield Promise.all(M)})()}}class Ro{static findPosition(g,_){let M=g.getUint16(_+2)+2,W="function"==typeof this.headerLength?this.headerLength(g,_,M):this.headerLength,we=_+W,ht=M-W;return{offset:_,length:M,headerLength:W,start:we,size:ht,end:we+ht}}static parse(g,_={}){return new this(g,new Is({[this.type]:_}),g).parse()}normalizeInput(g){return g instanceof no?g:new no(g)}constructor(g,_={},M){qi(this,"errors",[]),qi(this,"raw",new Map),qi(this,"handleError",W=>{if(!this.options.silentErrors)throw W;this.errors.push(W.message)}),this.chunk=this.normalizeInput(g),this.file=M,this.type=this.constructor.type,this.globalOptions=this.options=_,this.localOptions=_[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(g,_){let M=f.get(_),W=vi.get(_),we=Kn.get(_),ht=this.options[_],gt=ht.reviveValues&&!!M,nn=ht.translateValues&&!!W,Cn=ht.translateKeys&&!!we,ui={};for(let[gi,Wi]of g)gt&&M.has(gi)?Wi=M.get(gi)(Wi):nn&&W.has(gi)&&(Wi=this.translateValue(Wi,W.get(gi))),Cn&&we.has(gi)&&(gi=we.get(gi)||gi),ui[gi]=Wi;return ui}translateValue(g,_){return _[g]||_.DEFAULT||g}assignToOutput(g,_){this.assignObjectToOutput(g,this.constructor.type,_)}assignObjectToOutput(g,_,M){if(this.globalOptions.mergeOutput)return Object.assign(g,M);g[_]?Object.assign(g[_],M):g[_]=M}}function rl(B){return 192===B||194===B||196===B||219===B||221===B||218===B||254===B}function Sl(B,g,_){for(let[M,W]of Fr)if(W.canHandle(B,g,_))return M}qi(Ro,"headerLength",4),qi(Ro,"type",void 0),qi(Ro,"multiSegment",!1),qi(Ro,"canHandle",()=>!1);class pl extends Oi{constructor(...g){super(...g),qi(this,"appSegments",[]),qi(this,"jpegSegments",[]),qi(this,"unknownSegments",[])}static canHandle(g,_){return 65496===_}parse(){var g=this;return(0,ki.Z)(function*(){yield g.findAppSegments(),yield g.readSegments(g.appSegments),g.mergeMultiSegments(),g.createParsers(g.mergedAppSegments||g.appSegments)})()}setupSegmentFinderArgs(g){!0===g?(this.findAll=!0,this.wanted=new Set(Fr.keyList())):(g=void 0===g?Fr.keyList().filter(_=>this.options[_].enabled):g.filter(_=>this.options[_].enabled&&Fr.has(_)),this.findAll=!1,this.remaining=new Set(g),this.wanted=new Set(g)),this.unfinishedMultiSegment=!1}findAppSegments(g=0,_){var M=this;return(0,ki.Z)(function*(){M.setupSegmentFinderArgs(_);let{file:W,findAll:we,wanted:ht,remaining:gt}=M;if(!we&&M.file.chunked&&(we=Array.from(ht).some(nn=>Fr.get(nn).multiSegment&&M.options[nn].multiSegment),we&&(yield M.file.readWhole())),g=M.findAppSegmentsInRange(g,W.byteLength),!M.options.onlyTiff&&W.chunked){let nn=!1;for(;gt.size>0&&!nn&&(W.canReadNextChunk||M.unfinishedMultiSegment);){let{nextChunkOffset:Cn}=W,ui=M.appSegments.some(gi=>!M.file.available(gi.offset||gi.start,gi.length||gi.size));if(nn=g>Cn&&!ui?!(yield W.readNextChunk(g)):!(yield W.readNextChunk(Cn)),void 0===(g=M.findAppSegmentsInRange(g,W.byteLength)))return}}})()}findAppSegmentsInRange(g,_){_-=2;let M,W,we,ht,gt,nn,{file:Cn,findAll:ui,wanted:gi,remaining:Wi,options:sr}=this;for(;g<_;g++)if(255===Cn.getUint8(g))if(M=Cn.getUint8(g+1),(B=M)>=224&&B<=239){if(W=Cn.getUint16(g+2),we=Sl(Cn,g,W),we&&gi.has(we)&&(ht=Fr.get(we),gt=ht.findPosition(Cn,g),nn=sr[we],gt.type=we,this.appSegments.push(gt),!ui&&(ht.multiSegment&&nn.multiSegment?(this.unfinishedMultiSegment=gt.chunkNumber<gt.chunkCount,this.unfinishedMultiSegment||Wi.delete(we)):Wi.delete(we),0===Wi.size)))break;sr.recordUnknownSegments&&(gt=Ro.findPosition(Cn,g),gt.marker=M,this.unknownSegments.push(gt)),g+=W+1}else if(rl(M)){if(W=Cn.getUint16(g+2),218===M&&!1!==sr.stopAfterSos)return;sr.recordJpegSegments&&this.jpegSegments.push({offset:g,length:W,marker:M}),g+=W+1}var B;return g}mergeMultiSegments(){if(!this.appSegments.some(_=>_.multiSegment))return;let g=function(_,M){let W,we,ht,gt=new Map;for(let nn=0;nn<_.length;nn++)W=_[nn],we=W.type,gt.has(we)?ht=gt.get(we):gt.set(we,ht=[]),ht.push(W);return Array.from(gt)}(this.appSegments);this.mergedAppSegments=g.map(([_,M])=>{let W=Fr.get(_,this.options);return W.handleMultiSegments?{type:_,chunk:W.handleMultiSegments(M)}:M[0]})}getSegment(g){return this.appSegments.find(_=>_.type===g)}getOrFindSegment(g){var _=this;return(0,ki.Z)(function*(){let M=_.getSegment(g);return void 0===M&&(yield _.findAppSegments(0,[g]),M=_.getSegment(g)),M})()}}qi(pl,"type","jpeg"),da.set("jpeg",pl);const Ya=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class Ks extends Ro{parseHeader(){var g=this.chunk.getUint16();18761===g?this.le=!0:19789===g&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(g,_,M=new Map){let{pick:W,skip:we}=this.options[_];W=new Set(W);let ht=W.size>0,gt=0===we.size,nn=this.chunk.getUint16(g);g+=2;for(let Cn=0;Cn<nn;Cn++){let ui=this.chunk.getUint16(g);if(ht){if(W.has(ui)&&(M.set(ui,this.parseTag(g,ui,_)),W.delete(ui),0===W.size))break}else!gt&&we.has(ui)||M.set(ui,this.parseTag(g,ui,_));g+=12}return M}parseTag(g,_,M){let{chunk:W}=this,we=W.getUint16(g+2),ht=W.getUint32(g+4),gt=Ya[we];if(gt*ht<=4?g+=8:g=W.getUint32(g+8),(we<1||we>13)&&$s(`Invalid TIFF value type. block: ${M.toUpperCase()}, tag: ${_.toString(16)}, type: ${we}, offset ${g}`),g>W.byteLength&&$s(`Invalid TIFF value offset. block: ${M.toUpperCase()}, tag: ${_.toString(16)}, type: ${we}, offset ${g} is outside of chunk size ${W.byteLength}`),1===we)return W.getUint8Array(g,ht);if(2===we)return Nl(W.getString(g,ht));if(7===we)return W.getUint8Array(g,ht);if(1===ht)return this.parseTagValue(we,g);{let nn=new(function(ui){switch(ui){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:case 10:default:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 11:return Float32Array;case 12:return Float64Array}}(we))(ht),Cn=gt;for(let ui=0;ui<ht;ui++)nn[ui]=this.parseTagValue(we,g),g+=Cn;return nn}}parseTagValue(g,_){let{chunk:M}=this;switch(g){case 1:return M.getUint8(_);case 3:return M.getUint16(_);case 4:case 13:return M.getUint32(_);case 5:return M.getUint32(_)/M.getUint32(_+4);case 6:return M.getInt8(_);case 8:return M.getInt16(_);case 9:return M.getInt32(_);case 10:return M.getInt32(_)/M.getInt32(_+4);case 11:return M.getFloat(_);case 12:return M.getDouble(_);default:$s(`Invalid tiff type ${g}`)}}}class ou extends Ks{static canHandle(g,_){return 225===g.getUint8(_+1)&&1165519206===g.getUint32(_+4)&&0===g.getUint16(_+8)}parse(){var g=this;return(0,ki.Z)(function*(){g.parseHeader();let{options:_}=g;return _.ifd0.enabled&&(yield g.parseIfd0Block()),_.exif.enabled&&(yield g.safeParse("parseExifBlock")),_.gps.enabled&&(yield g.safeParse("parseGpsBlock")),_.interop.enabled&&(yield g.safeParse("parseInteropBlock")),_.ifd1.enabled&&(yield g.safeParse("parseThumbnailBlock")),g.createOutput()})()}safeParse(g){let _=this[g]();return void 0!==_.catch&&(_=_.catch(this.handleError)),_}findIfd0Offset(){void 0===this.ifd0Offset&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(void 0===this.ifd1Offset){this.findIfd0Offset();let g=this.chunk.getUint16(this.ifd0Offset);this.ifd1Offset=this.chunk.getUint32(this.ifd0Offset+2+12*g)}}parseBlock(g,_){let M=new Map;return this[_]=M,this.parseTags(g,_,M),M}parseIfd0Block(){var g=this;return(0,ki.Z)(function*(){if(g.ifd0)return;let{file:_}=g;g.findIfd0Offset(),g.ifd0Offset<8&&$s("Malformed EXIF data"),!_.chunked&&g.ifd0Offset>_.byteLength&&$s(`IFD0 offset points to outside of file.\nthis.ifd0Offset: ${g.ifd0Offset}, file.byteLength: ${_.byteLength}`),_.tiff&&(yield _.ensureChunk(g.ifd0Offset,ga(g.options)));let M=g.parseBlock(g.ifd0Offset,"ifd0");return 0!==M.size?(g.exifOffset=M.get(34665),g.interopOffset=M.get(40965),g.gpsOffset=M.get(34853),g.xmp=M.get(700),g.iptc=M.get(33723),g.icc=M.get(34675),g.options.sanitize&&(M.delete(34665),M.delete(40965),M.delete(34853),M.delete(700),M.delete(33723),M.delete(34675)),M):void 0})()}parseExifBlock(){var g=this;return(0,ki.Z)(function*(){if(g.exif||(g.ifd0||(yield g.parseIfd0Block()),void 0===g.exifOffset))return;g.file.tiff&&(yield g.file.ensureChunk(g.exifOffset,ga(g.options)));let _=g.parseBlock(g.exifOffset,"exif");return g.interopOffset||(g.interopOffset=_.get(40965)),g.makerNote=_.get(37500),g.userComment=_.get(37510),g.options.sanitize&&(_.delete(40965),_.delete(37500),_.delete(37510)),g.unpack(_,41728),g.unpack(_,41729),_})()}unpack(g,_){let M=g.get(_);M&&1===M.length&&g.set(_,M[0])}parseGpsBlock(){var g=this;return(0,ki.Z)(function*(){if(g.gps||(g.ifd0||(yield g.parseIfd0Block()),void 0===g.gpsOffset))return;let _=g.parseBlock(g.gpsOffset,"gps");return _&&_.has(2)&&_.has(4)&&(_.set("latitude",Au(..._.get(2),_.get(1))),_.set("longitude",Au(..._.get(4),_.get(3)))),_})()}parseInteropBlock(){var g=this;return(0,ki.Z)(function*(){if(!g.interop&&(g.ifd0||(yield g.parseIfd0Block()),void 0!==g.interopOffset||g.exif||(yield g.parseExifBlock()),void 0!==g.interopOffset))return g.parseBlock(g.interopOffset,"interop")})()}parseThumbnailBlock(g=!1){var _=this;return(0,ki.Z)(function*(){if(!_.ifd1&&!_.ifd1Parsed&&(!_.options.mergeOutput||g))return _.findIfd1Offset(),_.ifd1Offset>0&&(_.parseBlock(_.ifd1Offset,"ifd1"),_.ifd1Parsed=!0),_.ifd1})()}extractThumbnail(){var g=this;return(0,ki.Z)(function*(){if(g.headerParsed||g.parseHeader(),g.ifd1Parsed||(yield g.parseThumbnailBlock(!0)),void 0===g.ifd1)return;let _=g.ifd1.get(513),M=g.ifd1.get(514);return g.chunk.getUint8Array(_,M)})()}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let g,_,M,W={};for(_ of Le)if(g=this[_],!Ys(g))if(M=this.canTranslate?this.translateBlock(g,_):Object.fromEntries(g),this.options.mergeOutput){if("ifd1"===_)continue;Object.assign(W,M)}else W[_]=M;return this.makerNote&&(W.makerNote=this.makerNote),this.userComment&&(W.userComment=this.userComment),W}assignToOutput(g,_){if(this.globalOptions.mergeOutput)Object.assign(g,_);else for(let[M,W]of Object.entries(_))this.assignObjectToOutput(g,M,W)}}function Au(B,g,_,M){var W=B+g/60+_/3600;return"S"!==M&&"W"!==M||(W*=-1),W}qi(ou,"type","tiff"),qi(ou,"headerLength",10),Fr.set("tiff",ou);var sl=Object.freeze({__proto__:null,default:Ts,Exifr:zo,fileParsers:da,segmentParsers:Fr,fileReaders:ne,tagKeys:Kn,tagValues:vi,tagRevivers:f,createDictionary:io,extendDictionary:Ri,fetchUrlAsArrayBuffer:es,readBlobAsArrayBuffer:wi,chunkedProps:w,otherSegments:H,segments:ee,tiffBlocks:Le,segmentsAndBlocks:Dt,tiffExtractables:fn,inheritables:$n,allFormatters:Xn,Options:Is,parse:Qr});const qc={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},ad=Object.assign({},qc,{firstChunkSize:4e4,gps:[1,2,3,4]});function ql(B){return au.apply(this,arguments)}function au(){return(au=(0,ki.Z)(function*(B){let g=new zo(ad);yield g.read(B);let _=yield g.parse();if(_&&_.gps){let{latitude:M,longitude:W}=_.gps;return{latitude:M,longitude:W}}})).apply(this,arguments)}const Hc=Object.assign({},qc,{tiff:!1,ifd1:!0,mergeOutput:!1});function ii(B){return Su.apply(this,arguments)}function Su(){return(Su=(0,ki.Z)(function*(B){let g=new zo(Hc);yield g.read(B);let _=yield g.extractThumbnail();return _&&Ia?hs.from(_):_})).apply(this,arguments)}function ro(B){return bc.apply(this,arguments)}function bc(){return(bc=(0,ki.Z)(function*(B){let g=yield this.thumbnail(B);if(void 0!==g){let _=new Blob([g]);return URL.createObjectURL(_)}})).apply(this,arguments)}const ol=Object.assign({},qc,{firstChunkSize:4e4,ifd0:[274]});function uc(B){return _a.apply(this,arguments)}function _a(){return(_a=(0,ki.Z)(function*(B){let g=new zo(ol);yield g.read(B);let _=yield g.parse();if(_&&_.ifd0)return _.ifd0[274]})).apply(this,arguments)}const fs=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let ia=!0,Ql=!0;if("object"==typeof navigator){let B=navigator.userAgent;if(B.includes("iPad")||B.includes("iPhone")){let g=B.match(/OS (\d+)_(\d+)/);if(g){let[,_,M]=g;ia=Number(_)+.1*Number(M)<13.4,Ql=!1}}else if(B.includes("OS X 10")){let[,g]=B.match(/OS X 10[_.](\d+)/);ia=Ql=Number(g)<15}if(B.includes("Chrome/")){let[,g]=B.match(/Chrome\/(\d+)/);ia=Ql=Number(g)<81}else if(B.includes("Firefox/")){let[,g]=B.match(/Firefox\/(\d+)/);ia=Ql=Number(g)<77}}function ea(B){return q.apply(this,arguments)}function q(){return(q=(0,ki.Z)(function*(B){let g=yield uc(B);return Object.assign({canvas:ia,css:Ql},fs[g])})).apply(this,arguments)}class Q extends no{constructor(...g){super(...g),qi(this,"ranges",new G),0!==this.byteLength&&this.ranges.add(0,this.byteLength)}_tryExtend(g,_,M){if(0===g&&0===this.byteLength&&M){let W=new DataView(M.buffer||M,M.byteOffset,M.byteLength);this._swapDataView(W)}else{let W=g+_;if(W>this.byteLength){let{dataView:we}=this._extend(W);this._swapDataView(we)}}}_extend(g){let _;_=Ia?hs.allocUnsafe(g):new Uint8Array(g);let M=new DataView(_.buffer,_.byteOffset,_.byteLength);return _.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:_,dataView:M}}subarray(g,_,M=!1){return _=_||this._lengthToEnd(g),M&&this._tryExtend(g,_),this.ranges.add(g,_),super.subarray(g,_)}set(g,_,M=!1){M&&this._tryExtend(_,g.byteLength,g);let W=super.set(g,_);return this.ranges.add(_,W.byteLength),W}ensureChunk(g,_){var M=this;return(0,ki.Z)(function*(){M.chunked&&(M.ranges.available(g,_)||(yield M.readChunk(g,_)))})()}available(g,_){return this.ranges.available(g,_)}}class G{constructor(){qi(this,"list",[])}get length(){return this.list.length}add(g,_,M=0){let W=g+_,we=this.list.filter(ht=>de(g,ht.offset,W)||de(g,ht.end,W));if(we.length>0){g=Math.min(g,...we.map(gt=>gt.offset)),W=Math.max(W,...we.map(gt=>gt.end)),_=W-g;let ht=we.shift();ht.offset=g,ht.length=_,ht.end=W,this.list=this.list.filter(gt=>!we.includes(gt))}else this.list.push({offset:g,length:_,end:W})}available(g,_){let M=g+_;return this.list.some(W=>W.offset<=g&&M<=W.end)}}function de(B,g,_){return B<=g&&g<=_}class Pe extends Q{constructor(g,_){super(0),qi(this,"chunksRead",0),this.input=g,this.options=_}readWhole(){var g=this;return(0,ki.Z)(function*(){g.chunked=!1,yield g.readChunk(g.nextChunkOffset)})()}readChunked(){var g=this;return(0,ki.Z)(function*(){g.chunked=!0,yield g.readChunk(0,g.options.firstChunkSize)})()}readNextChunk(g=this.nextChunkOffset){var _=this;return(0,ki.Z)(function*(){if(_.fullyRead)return _.chunksRead++,!1;let M=_.options.chunkSize,W=yield _.readChunk(g,M);return!!W&&W.byteLength===M})()}readChunk(g,_){var M=this;return(0,ki.Z)(function*(){if(M.chunksRead++,0!==(_=M.safeWrapAddress(g,_)))return M._readChunk(g,_)})()}safeWrapAddress(g,_){return void 0!==this.size&&g+_>this.size?Math.max(0,this.size-g):_}get nextChunkOffset(){if(0!==this.ranges.list.length)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return void 0!==this.size&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}ne.set("blob",class extends Pe{readWhole(){var B=this;return(0,ki.Z)(function*(){B.chunked=!1;let g=yield wi(B.input);B._swapArrayBuffer(g)})()}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}_readChunk(B,g){var _=this;return(0,ki.Z)(function*(){let W=_.input.slice(B,g?B+g:void 0),we=yield wi(W);return _.set(we,B,!0)})()}});var Ct=Object.freeze({__proto__:null,default:sl,Exifr:zo,fileParsers:da,segmentParsers:Fr,fileReaders:ne,tagKeys:Kn,tagValues:vi,tagRevivers:f,createDictionary:io,extendDictionary:Ri,fetchUrlAsArrayBuffer:es,readBlobAsArrayBuffer:wi,chunkedProps:w,otherSegments:H,segments:ee,tiffBlocks:Le,segmentsAndBlocks:Dt,tiffExtractables:fn,inheritables:$n,allFormatters:Xn,Options:Is,parse:Qr,gpsOnlyOptions:ad,gps:ql,thumbnailOnlyOptions:Hc,thumbnail:ii,thumbnailUrl:ro,orientationOnlyOptions:ol,orientation:uc,rotations:fs,get rotateCanvas(){return ia},get rotateCss(){return Ql},rotation:ea});ne.set("url",class extends Pe{readWhole(){var B=this;return(0,ki.Z)(function*(){B.chunked=!1;let g=yield es(B.input);g instanceof ArrayBuffer?B._swapArrayBuffer(g):g instanceof Uint8Array&&B._swapBuffer(g)})()}_readChunk(B,g){var _=this;return(0,ki.Z)(function*(){let M=g?B+g-1:void 0,W=_.options.httpHeaders||{};(B||M)&&(W.range=`bytes=${[B,M].join("-")}`);let we=yield Va(_.input,{headers:W}),ht=yield we.arrayBuffer(),gt=ht.byteLength;if(416!==we.status)return gt!==g&&(_.size=B+gt),_.set(ht,B,!0)})()}}),no.prototype.getUint64=function(B){let g=this.getUint32(B),_=this.getUint32(B+4);return g<1048575?g<<32|_:void 0!==typeof Cs?(console.warn("Using BigInt because of type 64uint but JS can only handle 53b numbers."),Cs(g)<<Cs(32)|Cs(_)):void $s("Trying to read 64b value but JS can only handle 53b numbers.")};class on extends Oi{parseBoxes(g=0){let _=[];for(;g<this.file.byteLength-4;){let M=this.parseBoxHead(g);if(_.push(M),0===M.length)break;g+=M.length}return _}parseSubBoxes(g){g.boxes=this.parseBoxes(g.start)}findBox(g,_){return void 0===g.boxes&&this.parseSubBoxes(g),g.boxes.find(M=>M.kind===_)}parseBoxHead(g){let _=this.file.getUint32(g),M=this.file.getString(g+4,4),W=g+8;return 1===_&&(_=this.file.getUint64(g+8),W+=8),{offset:g,length:_,kind:M,start:W}}parseBoxFullHead(g){if(void 0!==g.version)return;let _=this.file.getUint32(g.start);g.version=_>>24,g.start+=4}}class dn extends on{static canHandle(g,_){if(0!==_)return!1;let M=g.getUint16(2);if(M>50)return!1;let W=16,we=[];for(;W<M;)we.push(g.getString(W,4)),W+=4;return we.includes(this.type)}parse(){var g=this;return(0,ki.Z)(function*(){let _=g.file.getUint32(0),M=g.parseBoxHead(_);for(;"meta"!==M.kind;)_+=M.length,yield g.file.ensureChunk(_,16),M=g.parseBoxHead(_);yield g.file.ensureChunk(M.offset,M.length),g.parseBoxFullHead(M),g.parseSubBoxes(M),g.options.icc.enabled&&(yield g.findIcc(M)),g.options.tiff.enabled&&(yield g.findExif(M))})()}registerSegment(g,_,M){var W=this;return(0,ki.Z)(function*(){yield W.file.ensureChunk(_,M);let we=W.file.subarray(_,M);W.createParser(g,we)})()}findIcc(g){var _=this;return(0,ki.Z)(function*(){let M=_.findBox(g,"iprp");if(void 0===M)return;let W=_.findBox(M,"ipco");if(void 0===W)return;let we=_.findBox(W,"colr");void 0!==we&&(yield _.registerSegment("icc",we.offset+12,we.length))})()}findExif(g){var _=this;return(0,ki.Z)(function*(){let M=_.findBox(g,"iinf");if(void 0===M)return;let W=_.findBox(g,"iloc");if(void 0===W)return;let we=_.findExifLocIdInIinf(M),ht=_.findExtentInIloc(W,we);if(void 0===ht)return;let[gt,nn]=ht;yield _.file.ensureChunk(gt,nn);let Cn=4+_.file.getUint32(gt);gt+=Cn,nn-=Cn,yield _.registerSegment("tiff",gt,nn)})()}findExifLocIdInIinf(g){this.parseBoxFullHead(g);let _,M,W,we,ht=g.start,gt=this.file.getUint16(ht);for(ht+=2;gt--;){if(_=this.parseBoxHead(ht),this.parseBoxFullHead(_),M=_.start,_.version>=2&&(W=3===_.version?4:2,we=this.file.getString(M+W+2,4),"Exif"===we))return this.file.getUintBytes(M,W);ht+=_.length}}get8bits(g){let _=this.file.getUint8(g);return[_>>4,15&_]}findExtentInIloc(g,_){this.parseBoxFullHead(g);let M=g.start,[W,we]=this.get8bits(M++),[ht,gt]=this.get8bits(M++),nn=2===g.version?4:2,Cn=1===g.version||2===g.version?2:0,ui=gt+W+we,gi=2===g.version?4:2,Wi=this.file.getUintBytes(M,gi);for(M+=gi;Wi--;){let sr=this.file.getUintBytes(M,nn);M+=nn+Cn+2+ht;let mr=this.file.getUint16(M);if(M+=2,sr===_)return mr>1&&console.warn("ILOC box has more than one extent but we're only processing one\nPlease create an issue at https://github.com/MikeKovarik/exifr with this file"),[this.file.getUintBytes(M+gt,W),this.file.getUintBytes(M+gt+W,we)];M+=mr*ui}}}class di extends dn{}qi(di,"type","heic");class Ni extends dn{}qi(Ni,"type","avif"),da.set("heic",di),da.set("avif",Ni),io(Kn,["ifd0","ifd1"],[[256,"ImageWidth"],[257,"ImageHeight"],[258,"BitsPerSample"],[259,"Compression"],[262,"PhotometricInterpretation"],[270,"ImageDescription"],[271,"Make"],[272,"Model"],[273,"StripOffsets"],[274,"Orientation"],[277,"SamplesPerPixel"],[278,"RowsPerStrip"],[279,"StripByteCounts"],[282,"XResolution"],[283,"YResolution"],[284,"PlanarConfiguration"],[296,"ResolutionUnit"],[301,"TransferFunction"],[305,"Software"],[306,"ModifyDate"],[315,"Artist"],[316,"HostComputer"],[317,"Predictor"],[318,"WhitePoint"],[319,"PrimaryChromaticities"],[513,"ThumbnailOffset"],[514,"ThumbnailLength"],[529,"YCbCrCoefficients"],[530,"YCbCrSubSampling"],[531,"YCbCrPositioning"],[532,"ReferenceBlackWhite"],[700,"ApplicationNotes"],[33432,"Copyright"],[33723,"IPTC"],[34665,"ExifIFD"],[34675,"ICC"],[34853,"GpsIFD"],[330,"SubIFD"],[40965,"InteropIFD"],[40091,"XPTitle"],[40092,"XPComment"],[40093,"XPAuthor"],[40094,"XPKeywords"],[40095,"XPSubject"]]),io(Kn,"exif",[[33434,"ExposureTime"],[33437,"FNumber"],[34850,"ExposureProgram"],[34852,"SpectralSensitivity"],[34855,"ISO"],[34858,"TimeZoneOffset"],[34859,"SelfTimerMode"],[34864,"SensitivityType"],[34865,"StandardOutputSensitivity"],[34866,"RecommendedExposureIndex"],[34867,"ISOSpeed"],[34868,"ISOSpeedLatitudeyyy"],[34869,"ISOSpeedLatitudezzz"],[36864,"ExifVersion"],[36867,"DateTimeOriginal"],[36868,"CreateDate"],[36873,"GooglePlusUploadCode"],[36880,"OffsetTime"],[36881,"OffsetTimeOriginal"],[36882,"OffsetTimeDigitized"],[37121,"ComponentsConfiguration"],[37122,"CompressedBitsPerPixel"],[37377,"ShutterSpeedValue"],[37378,"ApertureValue"],[37379,"BrightnessValue"],[37380,"ExposureCompensation"],[37381,"MaxApertureValue"],[37382,"SubjectDistance"],[37383,"MeteringMode"],[37384,"LightSource"],[37385,"Flash"],[37386,"FocalLength"],[37393,"ImageNumber"],[37394,"SecurityClassification"],[37395,"ImageHistory"],[37396,"SubjectArea"],[37500,"MakerNote"],[37510,"UserComment"],[37520,"SubSecTime"],[37521,"SubSecTimeOriginal"],[37522,"SubSecTimeDigitized"],[37888,"AmbientTemperature"],[37889,"Humidity"],[37890,"Pressure"],[37891,"WaterDepth"],[37892,"Acceleration"],[37893,"CameraElevationAngle"],[40960,"FlashpixVersion"],[40961,"ColorSpace"],[40962,"ExifImageWidth"],[40963,"ExifImageHeight"],[40964,"RelatedSoundFile"],[41483,"FlashEnergy"],[41486,"FocalPlaneXResolution"],[41487,"FocalPlaneYResolution"],[41488,"FocalPlaneResolutionUnit"],[41492,"SubjectLocation"],[41493,"ExposureIndex"],[41495,"SensingMethod"],[41728,"FileSource"],[41729,"SceneType"],[41730,"CFAPattern"],[41985,"CustomRendered"],[41986,"ExposureMode"],[41987,"WhiteBalance"],[41988,"DigitalZoomRatio"],[41989,"FocalLengthIn35mmFormat"],[41990,"SceneCaptureType"],[41991,"GainControl"],[41992,"Contrast"],[41993,"Saturation"],[41994,"Sharpness"],[41996,"SubjectDistanceRange"],[42016,"ImageUniqueID"],[42032,"OwnerName"],[42033,"SerialNumber"],[42034,"LensInfo"],[42035,"LensMake"],[42036,"LensModel"],[42037,"LensSerialNumber"],[42080,"CompositeImage"],[42081,"CompositeImageCount"],[42082,"CompositeImageExposureTimes"],[42240,"Gamma"],[59932,"Padding"],[59933,"OffsetSchema"],[65e3,"OwnerName"],[65001,"SerialNumber"],[65002,"Lens"],[65100,"RawFile"],[65101,"Converter"],[65102,"WhiteBalance"],[65105,"Exposure"],[65106,"Shadows"],[65107,"Brightness"],[65108,"Contrast"],[65109,"Saturation"],[65110,"Sharpness"],[65111,"Smoothness"],[65112,"MoireFilter"],[40965,"InteropIFD"]]),io(Kn,"gps",[[0,"GPSVersionID"],[1,"GPSLatitudeRef"],[2,"GPSLatitude"],[3,"GPSLongitudeRef"],[4,"GPSLongitude"],[5,"GPSAltitudeRef"],[6,"GPSAltitude"],[7,"GPSTimeStamp"],[8,"GPSSatellites"],[9,"GPSStatus"],[10,"GPSMeasureMode"],[11,"GPSDOP"],[12,"GPSSpeedRef"],[13,"GPSSpeed"],[14,"GPSTrackRef"],[15,"GPSTrack"],[16,"GPSImgDirectionRef"],[17,"GPSImgDirection"],[18,"GPSMapDatum"],[19,"GPSDestLatitudeRef"],[20,"GPSDestLatitude"],[21,"GPSDestLongitudeRef"],[22,"GPSDestLongitude"],[23,"GPSDestBearingRef"],[24,"GPSDestBearing"],[25,"GPSDestDistanceRef"],[26,"GPSDestDistance"],[27,"GPSProcessingMethod"],[28,"GPSAreaInformation"],[29,"GPSDateStamp"],[30,"GPSDifferential"],[31,"GPSHPositioningError"]]),io(vi,["ifd0","ifd1"],[[274,{1:"Horizontal (normal)",2:"Mirror horizontal",3:"Rotate 180",4:"Mirror vertical",5:"Mirror horizontal and rotate 270 CW",6:"Rotate 90 CW",7:"Mirror horizontal and rotate 90 CW",8:"Rotate 270 CW"}],[296,{1:"None",2:"inches",3:"cm"}]]);let Nr=io(vi,"exif",[[34850,{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"}],[37121,{0:"-",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}],[37383,{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"}],[37384,{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"}],[37385,{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"}],[41495,{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"}],[41728,{1:"Film Scanner",2:"Reflection Print Scanner",3:"Digital Camera"}],[41729,{1:"Directly photographed"}],[41985,{0:"Normal",1:"Custom",2:"HDR (no original saved)",3:"HDR (original saved)",4:"Original (for HDR)",6:"Panorama",7:"Portrait HDR",8:"Portrait"}],[41986,{0:"Auto",1:"Manual",2:"Auto bracket"}],[41987,{0:"Auto",1:"Manual"}],[41990,{0:"Standard",1:"Landscape",2:"Portrait",3:"Night",4:"Other"}],[41991,{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"}],[41996,{0:"Unknown",1:"Macro",2:"Close",3:"Distant"}],[42080,{0:"Unknown",1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"}]]);const Fi={1:"No absolute unit of measurement",2:"Inch",3:"Centimeter"};Nr.set(37392,Fi),Nr.set(41488,Fi);const qs={0:"Normal",1:"Low",2:"High"};function Fo(B){return"object"==typeof B&&void 0!==B.length?B[0]:B}function Fs(B){let g=Array.from(B).slice(1);return g[1]>15&&(g=g.map(_=>String.fromCharCode(_))),"0"!==g[2]&&0!==g[2]||g.pop(),g.join(".")}function Bl(B){if("string"==typeof B){var[g,_,M,W,we,ht]=B.trim().split(/[-: ]/g).map(Number),gt=new Date(g,_-1,M);return Number.isNaN(W)||Number.isNaN(we)||Number.isNaN(ht)||(gt.setHours(W),gt.setMinutes(we),gt.setSeconds(ht)),Number.isNaN(+gt)?B:gt}}function al(B){if("string"==typeof B)return B;let g=[];if(0===B[1]&&0===B[B.length-1])for(let _=0;_<B.length;_+=2)g.push(Eu(B[_+1],B[_]));else for(let _=0;_<B.length;_+=2)g.push(Eu(B[_],B[_+1]));return Nl(String.fromCodePoint(...g))}function Eu(B,g){return B<<8|g}Nr.set(41992,qs),Nr.set(41993,qs),Nr.set(41994,qs),io(f,["ifd0","ifd1"],[[50827,function(B){return"string"!=typeof B?vc(B):B}],[306,Bl],[40091,al],[40092,al],[40093,al],[40094,al],[40095,al]]),io(f,"exif",[[40960,Fs],[36864,Fs],[36867,Bl],[36868,Bl],[40962,Fo],[40963,Fo]]),io(f,"gps",[[0,B=>Array.from(B).join(".")],[7,B=>Array.from(B).join(":")]]);class Ua extends Ro{static canHandle(g,_){return 225===g.getUint8(_+1)&&1752462448===g.getUint32(_+4)&&"http://ns.adobe.com/"===g.getString(_+4,20)}static headerLength(g,_){return"http://ns.adobe.com/xmp/extension/"===g.getString(_+4,34)?79:33}static findPosition(g,_){let M=super.findPosition(g,_);return M.multiSegment=M.extended=79===M.headerLength,M.multiSegment?(M.chunkCount=g.getUint8(_+72),M.chunkNumber=g.getUint8(_+76),0!==g.getUint8(_+77)&&M.chunkNumber++):(M.chunkCount=1/0,M.chunkNumber=-1),M}static handleMultiSegments(g){return g.map(_=>_.chunk.getString()).join("")}normalizeInput(g){return"string"==typeof g?g:no.from(g).getString()}parse(g=this.chunk){if(!this.localOptions.parse)return g;g=function(we){let ht={},gt={};for(let nn of Zu)ht[nn]=[],gt[nn]=0;return we.replace(dc,(nn,Cn,ui)=>{if("<"===Cn){let gi=++gt[ui];return ht[ui].push(gi),`${nn}#${gi}`}return`${nn}#${ht[ui].pop()}`})}(g);let _=Xl.findAll(g,"rdf","Description");0===_.length&&_.push(new Xl("rdf","Description",void 0,g));let M,W={};for(let we of _)for(let ht of we.properties)M=Vl(ht.ns,W),El(ht,M);return function(we){let ht;for(let gt in we)ht=we[gt]=ma(we[gt]),void 0===ht&&delete we[gt];return ma(we)}(W)}assignToOutput(g,_){if(this.localOptions.parse)for(let[M,W]of Object.entries(_))switch(M){case"tiff":this.assignObjectToOutput(g,"ifd0",W);break;case"exif":this.assignObjectToOutput(g,"exif",W);break;case"xmlns":break;default:this.assignObjectToOutput(g,M,W)}else g.xmp=_}}qi(Ua,"type","xmp"),qi(Ua,"multiSegment",!0),Fr.set("xmp",Ua);class Za{static findAll(g){return pu(g,/([a-zA-Z0-9-]+):([a-zA-Z0-9-]+)=("[^"]*"|'[^']*')/gm).map(Za.unpackMatch)}static unpackMatch(g){let _=g[1],M=g[2],W=g[3].slice(1,-1);return W=Jl(W),new Za(_,M,W)}constructor(g,_,M){this.ns=g,this.name=_,this.value=M}serialize(){return this.value}}class Xl{static findAll(g,_,M){if(void 0!==_||void 0!==M){_=_||"[\\w\\d-]+",M=M||"[\\w\\d-]+";var W=new RegExp(`<(${_}):(${M})(#\\d+)?((\\s+?[\\w\\d-:]+=("[^"]*"|'[^']*'))*\\s*)(\\/>|>([\\s\\S]*?)<\\/\\1:\\2\\3>)`,"gm")}else W=/<([\w\d-]+):([\w\d-]+)(#\d+)?((\s+?[\w\d-:]+=("[^"]*"|'[^']*'))*\s*)(\/>|>([\s\S]*?)<\/\1:\2\3>)/gm;return pu(g,W).map(Xl.unpackMatch)}static unpackMatch(g){return new Xl(g[1],g[2],g[4],g[8])}constructor(g,_,M,W){this.ns=g,this.name=_,this.attrString=M,this.innerXml=W,this.attrs=Za.findAll(M),this.children=Xl.findAll(W),this.value=0===this.children.length?Jl(W):void 0,this.properties=[...this.attrs,...this.children]}get isPrimitive(){return void 0!==this.value&&0===this.attrs.length&&0===this.children.length}get isListContainer(){return 1===this.children.length&&this.children[0].isList}get isList(){let{ns:g,name:_}=this;return"rdf"===g&&("Seq"===_||"Bag"===_||"Alt"===_)}get isListItem(){return"rdf"===this.ns&&"li"===this.name}serialize(){if(0===this.properties.length&&void 0===this.value)return;if(this.isPrimitive)return this.value;if(this.isListContainer)return this.children[0].serialize();if(this.isList)return ml(this.children.map(kc));if(this.isListItem&&1===this.children.length&&0===this.attrs.length)return this.children[0].serialize();let g={};for(let _ of this.properties)El(_,g);return void 0!==this.value&&(g.value=this.value),ma(g)}}function El(B,g){let _=B.serialize();void 0!==_&&(g[B.name]=_)}var kc=B=>B.serialize(),ml=B=>1===B.length?B[0]:B,Vl=(B,g)=>g[B]?g[B]:g[B]={};function pu(B,g){let _,M=[];if(!B)return M;for(;null!==(_=g.exec(B));)M.push(_);return M}function Jl(B){if(null==(M=B)||"null"===M||"undefined"===M||""===M||""===M.trim())return;var M;let g=Number(B);if(!Number.isNaN(g))return g;let _=B.toLowerCase();return"true"===_||"false"!==_&&B.trim()}const Zu=["rdf:li","rdf:Seq","rdf:Bag","rdf:Alt","rdf:Description"],dc=new RegExp(`(<|\\/)(${Zu.join("|")})`,"g");Object.freeze({__proto__:null,default:Ct,Exifr:zo,fileParsers:da,segmentParsers:Fr,fileReaders:ne,tagKeys:Kn,tagValues:vi,tagRevivers:f,createDictionary:io,extendDictionary:Ri,fetchUrlAsArrayBuffer:es,readBlobAsArrayBuffer:wi,chunkedProps:w,otherSegments:H,segments:ee,tiffBlocks:Le,segmentsAndBlocks:Dt,tiffExtractables:fn,inheritables:$n,allFormatters:Xn,Options:Is,parse:Qr,gpsOnlyOptions:ad,gps:ql,thumbnailOnlyOptions:Hc,thumbnail:ii,thumbnailUrl:ro,orientationOnlyOptions:ol,orientation:uc,rotations:fs,get rotateCanvas(){return ia},get rotateCss(){return Ql},rotation:ea});let ln=yo("fs",B=>B.promises);ne.set("fs",class extends Pe{readWhole(){var B=this;return(0,ki.Z)(function*(){B.chunked=!1,B.fs=yield ln;let g=yield B.fs.readFile(B.input);B._swapBuffer(g)})()}readChunked(){var B=this;return(0,ki.Z)(function*(){B.chunked=!0,B.fs=yield ln,yield B.open(),yield B.readChunk(0,B.options.firstChunkSize)})()}open(){var B=this;return(0,ki.Z)(function*(){void 0===B.fh&&(B.fh=yield B.fs.open(B.input,"r"),B.size=(yield B.fh.stat(B.input)).size)})()}_readChunk(B,g){var _=this;return(0,ki.Z)(function*(){void 0===_.fh&&(yield _.open()),B+g>_.size&&(g=_.size-B);var M=_.subarray(B,g,!0);return yield _.fh.read(M.dataView,0,g,B),M})()}close(){var B=this;return(0,ki.Z)(function*(){if(B.fh){let g=B.fh;B.fh=void 0,yield g.close()}})()}}),ne.set("base64",class extends Pe{constructor(...B){super(...B),this.input=this.input.replace(/^data:([^;]+);base64,/gim,""),this.size=this.input.length/4*3,this.input.endsWith("==")?this.size-=2:this.input.endsWith("=")&&(this.size-=1)}_readChunk(B,g){var _=this;return(0,ki.Z)(function*(){let M,W,we=_.input;void 0===B?(B=0,M=0,W=0):(M=4*Math.floor(B/3),W=B-M/4*3),void 0===g&&(g=_.size);let gt=M+4*Math.ceil((B+g)/3);we=we.slice(M,gt);let nn=Math.min(g,_.size-B);if(Ia){let Cn=hs.from(we,"base64").slice(W,W+nn);return _.set(Cn,B,!0)}{let Cn=_.subarray(B,nn,!0),ui=atob(we),gi=Cn.toUint8();for(let Wi=0;Wi<nn;Wi++)gi[Wi]=ui.charCodeAt(W+Wi);return Cn}})()}});class zn extends Oi{static canHandle(g,_){return 18761===_||19789===_}extendOptions(g){let{ifd0:_,xmp:M,iptc:W,icc:we}=g;M.enabled&&_.deps.add(700),W.enabled&&_.deps.add(33723),we.enabled&&_.deps.add(34675),_.finalizeFilters()}parse(){var g=this;return(0,ki.Z)(function*(){let{tiff:_,xmp:M,iptc:W,icc:we}=g.options;if(_.enabled||M.enabled||W.enabled||we.enabled){let ht=Math.max(ga(g.options),g.options.chunkSize);yield g.file.ensureChunk(0,ht),g.createParser("tiff",g.file),g.parsers.tiff.parseHeader(),yield g.parsers.tiff.parseIfd0Block(),g.adaptTiffPropAsSegment("xmp"),g.adaptTiffPropAsSegment("iptc"),g.adaptTiffPropAsSegment("icc")}})()}adaptTiffPropAsSegment(g){this.parsers.tiff[g]&&this.injectSegment(g,this.parsers.tiff[g])}}qi(zn,"type","tiff"),da.set("tiff",zn);let Zn=yo("zlib");const Ai=["ihdr","iccp","text","itxt","exif"];class or extends Oi{constructor(...g){super(...g),qi(this,"catchError",_=>this.errors.push(_)),qi(this,"metaChunks",[]),qi(this,"unknownChunks",[])}static canHandle(g,_){return 35152===_&&2303741511===g.getUint32(0)&&218765834===g.getUint32(4)}parse(){var g=this;return(0,ki.Z)(function*(){let{file:_}=g;yield g.findPngChunksInRange(8,_.byteLength),yield g.readSegments(g.metaChunks),g.findIhdr(),g.parseTextChunks(),yield g.findExif().catch(g.catchError),yield g.findXmp().catch(g.catchError),yield g.findIcc().catch(g.catchError)})()}findPngChunksInRange(g,_){var M=this;return(0,ki.Z)(function*(){let{file:W}=M;for(;g<_;){let we=W.getUint32(g),ht=W.getUint32(g+4),gt=W.getString(g+4,4).toLowerCase(),nn=we+4+4+4,Cn={type:gt,offset:g,length:nn,start:g+4+4,size:we,marker:ht};Ai.includes(gt)?M.metaChunks.push(Cn):M.unknownChunks.push(Cn),g+=nn}})()}parseTextChunks(){let g=this.metaChunks.filter(_=>"text"===_.type);for(let _ of g){let[M,W]=this.file.getString(_.start,_.size).split("\0");this.injectKeyValToIhdr(M,W)}}injectKeyValToIhdr(g,_){let M=this.parsers.ihdr;M&&M.raw.set(g,_)}findIhdr(){let g=this.metaChunks.find(_=>"ihdr"===_.type);g&&!1!==this.options.ihdr.enabled&&this.createParser("ihdr",g.chunk)}findExif(){var g=this;return(0,ki.Z)(function*(){let _=g.metaChunks.find(M=>"exif"===M.type);_&&g.injectSegment("tiff",_.chunk)})()}findXmp(){var g=this;return(0,ki.Z)(function*(){let _=g.metaChunks.filter(M=>"itxt"===M.type);for(let M of _)"XML:com.adobe.xmp"===M.chunk.getString(0,17)&&g.injectSegment("xmp",M.chunk)})()}findIcc(){var g=this;return(0,ki.Z)(function*(){let _=g.metaChunks.find(nn=>"iccp"===nn.type);if(!_)return;let{chunk:M}=_,W=M.getUint8Array(0,81),we=0;for(;we<80&&0!==W[we];)we++;let ht=we+2,gt=M.getString(0,we);if(g.injectKeyValToIhdr("ProfileName",gt),vo){let nn=yield Zn,Cn=M.getUint8Array(ht);Cn=nn.inflateSync(Cn),g.injectSegment("icc",Cn)}})()}}qi(or,"type","png"),da.set("png",or),io(Kn,"interop",[[1,"InteropIndex"],[2,"InteropVersion"],[4096,"RelatedImageFileFormat"],[4097,"RelatedImageWidth"],[4098,"RelatedImageHeight"]]),Ri(Kn,"ifd0",[[11,"ProcessingSoftware"],[254,"SubfileType"],[255,"OldSubfileType"],[263,"Thresholding"],[264,"CellWidth"],[265,"CellLength"],[266,"FillOrder"],[269,"DocumentName"],[280,"MinSampleValue"],[281,"MaxSampleValue"],[285,"PageName"],[286,"XPosition"],[287,"YPosition"],[290,"GrayResponseUnit"],[297,"PageNumber"],[321,"HalftoneHints"],[322,"TileWidth"],[323,"TileLength"],[332,"InkSet"],[337,"TargetPrinter"],[18246,"Rating"],[18249,"RatingPercent"],[33550,"PixelScale"],[34264,"ModelTransform"],[34377,"PhotoshopSettings"],[50706,"DNGVersion"],[50707,"DNGBackwardVersion"],[50708,"UniqueCameraModel"],[50709,"LocalizedCameraModel"],[50736,"DNGLensInfo"],[50739,"ShadowScale"],[50740,"DNGPrivateData"],[33920,"IntergraphMatrix"],[33922,"ModelTiePoint"],[34118,"SEMInfo"],[34735,"GeoTiffDirectory"],[34736,"GeoTiffDoubleParams"],[34737,"GeoTiffAsciiParams"],[50341,"PrintIM"],[50721,"ColorMatrix1"],[50722,"ColorMatrix2"],[50723,"CameraCalibration1"],[50724,"CameraCalibration2"],[50725,"ReductionMatrix1"],[50726,"ReductionMatrix2"],[50727,"AnalogBalance"],[50728,"AsShotNeutral"],[50729,"AsShotWhiteXY"],[50730,"BaselineExposure"],[50731,"BaselineNoise"],[50732,"BaselineSharpness"],[50734,"LinearResponseLimit"],[50735,"CameraSerialNumber"],[50741,"MakerNoteSafety"],[50778,"CalibrationIlluminant1"],[50779,"CalibrationIlluminant2"],[50781,"RawDataUniqueID"],[50827,"OriginalRawFileName"],[50828,"OriginalRawFileData"],[50831,"AsShotICCProfile"],[50832,"AsShotPreProfileMatrix"],[50833,"CurrentICCProfile"],[50834,"CurrentPreProfileMatrix"],[50879,"ColorimetricReference"],[50885,"SRawType"],[50898,"PanasonicTitle"],[50899,"PanasonicTitle2"],[50931,"CameraCalibrationSig"],[50932,"ProfileCalibrationSig"],[50933,"ProfileIFD"],[50934,"AsShotProfileName"],[50936,"ProfileName"],[50937,"ProfileHueSatMapDims"],[50938,"ProfileHueSatMapData1"],[50939,"ProfileHueSatMapData2"],[50940,"ProfileToneCurve"],[50941,"ProfileEmbedPolicy"],[50942,"ProfileCopyright"],[50964,"ForwardMatrix1"],[50965,"ForwardMatrix2"],[50966,"PreviewApplicationName"],[50967,"PreviewApplicationVersion"],[50968,"PreviewSettingsName"],[50969,"PreviewSettingsDigest"],[50970,"PreviewColorSpace"],[50971,"PreviewDateTime"],[50972,"RawImageDigest"],[50973,"OriginalRawFileDigest"],[50981,"ProfileLookTableDims"],[50982,"ProfileLookTableData"],[51043,"TimeCodes"],[51044,"FrameRate"],[51058,"TStop"],[51081,"ReelName"],[51089,"OriginalDefaultFinalSize"],[51090,"OriginalBestQualitySize"],[51091,"OriginalDefaultCropSize"],[51105,"CameraLabel"],[51107,"ProfileHueSatMapEncoding"],[51108,"ProfileLookTableEncoding"],[51109,"BaselineExposureOffset"],[51110,"DefaultBlackRender"],[51111,"NewRawImageDigest"],[51112,"RawToPreviewGain"]]);let br=[[273,"StripOffsets"],[279,"StripByteCounts"],[288,"FreeOffsets"],[289,"FreeByteCounts"],[291,"GrayResponseCurve"],[292,"T4Options"],[293,"T6Options"],[300,"ColorResponseUnit"],[320,"ColorMap"],[324,"TileOffsets"],[325,"TileByteCounts"],[326,"BadFaxLines"],[327,"CleanFaxData"],[328,"ConsecutiveBadFaxLines"],[330,"SubIFD"],[333,"InkNames"],[334,"NumberofInks"],[336,"DotRange"],[338,"ExtraSamples"],[339,"SampleFormat"],[340,"SMinSampleValue"],[341,"SMaxSampleValue"],[342,"TransferRange"],[343,"ClipPath"],[344,"XClipPathUnits"],[345,"YClipPathUnits"],[346,"Indexed"],[347,"JPEGTables"],[351,"OPIProxy"],[400,"GlobalParametersIFD"],[401,"ProfileType"],[402,"FaxProfile"],[403,"CodingMethods"],[404,"VersionYear"],[405,"ModeNumber"],[433,"Decode"],[434,"DefaultImageColor"],[435,"T82Options"],[437,"JPEGTables"],[512,"JPEGProc"],[515,"JPEGRestartInterval"],[517,"JPEGLosslessPredictors"],[518,"JPEGPointTransforms"],[519,"JPEGQTables"],[520,"JPEGDCTables"],[521,"JPEGACTables"],[559,"StripRowCounts"],[999,"USPTOMiscellaneous"],[18247,"XP_DIP_XML"],[18248,"StitchInfo"],[28672,"SonyRawFileType"],[28688,"SonyToneCurve"],[28721,"VignettingCorrection"],[28722,"VignettingCorrParams"],[28724,"ChromaticAberrationCorrection"],[28725,"ChromaticAberrationCorrParams"],[28726,"DistortionCorrection"],[28727,"DistortionCorrParams"],[29895,"SonyCropTopLeft"],[29896,"SonyCropSize"],[32781,"ImageID"],[32931,"WangTag1"],[32932,"WangAnnotation"],[32933,"WangTag3"],[32934,"WangTag4"],[32953,"ImageReferencePoints"],[32954,"RegionXformTackPoint"],[32955,"WarpQuadrilateral"],[32956,"AffineTransformMat"],[32995,"Matteing"],[32996,"DataType"],[32997,"ImageDepth"],[32998,"TileDepth"],[33300,"ImageFullWidth"],[33301,"ImageFullHeight"],[33302,"TextureFormat"],[33303,"WrapModes"],[33304,"FovCot"],[33305,"MatrixWorldToScreen"],[33306,"MatrixWorldToCamera"],[33405,"Model2"],[33421,"CFARepeatPatternDim"],[33422,"CFAPattern2"],[33423,"BatteryLevel"],[33424,"KodakIFD"],[33445,"MDFileTag"],[33446,"MDScalePixel"],[33447,"MDColorTable"],[33448,"MDLabName"],[33449,"MDSampleInfo"],[33450,"MDPrepDate"],[33451,"MDPrepTime"],[33452,"MDFileUnits"],[33589,"AdventScale"],[33590,"AdventRevision"],[33628,"UIC1Tag"],[33629,"UIC2Tag"],[33630,"UIC3Tag"],[33631,"UIC4Tag"],[33918,"IntergraphPacketData"],[33919,"IntergraphFlagRegisters"],[33921,"INGRReserved"],[34016,"Site"],[34017,"ColorSequence"],[34018,"IT8Header"],[34019,"RasterPadding"],[34020,"BitsPerRunLength"],[34021,"BitsPerExtendedRunLength"],[34022,"ColorTable"],[34023,"ImageColorIndicator"],[34024,"BackgroundColorIndicator"],[34025,"ImageColorValue"],[34026,"BackgroundColorValue"],[34027,"PixelIntensityRange"],[34028,"TransparencyIndicator"],[34029,"ColorCharacterization"],[34030,"HCUsage"],[34031,"TrapIndicator"],[34032,"CMYKEquivalent"],[34152,"AFCP_IPTC"],[34232,"PixelMagicJBIGOptions"],[34263,"JPLCartoIFD"],[34306,"WB_GRGBLevels"],[34310,"LeafData"],[34687,"TIFF_FXExtensions"],[34688,"MultiProfiles"],[34689,"SharedData"],[34690,"T88Options"],[34732,"ImageLayer"],[34750,"JBIGOptions"],[34856,"Opto-ElectricConvFactor"],[34857,"Interlace"],[34908,"FaxRecvParams"],[34909,"FaxSubAddress"],[34910,"FaxRecvTime"],[34929,"FedexEDR"],[34954,"LeafSubIFD"],[37387,"FlashEnergy"],[37388,"SpatialFrequencyResponse"],[37389,"Noise"],[37390,"FocalPlaneXResolution"],[37391,"FocalPlaneYResolution"],[37392,"FocalPlaneResolutionUnit"],[37397,"ExposureIndex"],[37398,"TIFF-EPStandardID"],[37399,"SensingMethod"],[37434,"CIP3DataFile"],[37435,"CIP3Sheet"],[37436,"CIP3Side"],[37439,"StoNits"],[37679,"MSDocumentText"],[37680,"MSPropertySetStorage"],[37681,"MSDocumentTextPosition"],[37724,"ImageSourceData"],[40965,"InteropIFD"],[40976,"SamsungRawPointersOffset"],[40977,"SamsungRawPointersLength"],[41217,"SamsungRawByteOrder"],[41218,"SamsungRawUnknown"],[41484,"SpatialFrequencyResponse"],[41485,"Noise"],[41489,"ImageNumber"],[41490,"SecurityClassification"],[41491,"ImageHistory"],[41494,"TIFF-EPStandardID"],[41995,"DeviceSettingDescription"],[42112,"GDALMetadata"],[42113,"GDALNoData"],[44992,"ExpandSoftware"],[44993,"ExpandLens"],[44994,"ExpandFilm"],[44995,"ExpandFilterLens"],[44996,"ExpandScanner"],[44997,"ExpandFlashLamp"],[46275,"HasselbladRawImage"],[48129,"PixelFormat"],[48130,"Transformation"],[48131,"Uncompressed"],[48132,"ImageType"],[48256,"ImageWidth"],[48257,"ImageHeight"],[48258,"WidthResolution"],[48259,"HeightResolution"],[48320,"ImageOffset"],[48321,"ImageByteCount"],[48322,"AlphaOffset"],[48323,"AlphaByteCount"],[48324,"ImageDataDiscard"],[48325,"AlphaDataDiscard"],[50215,"OceScanjobDesc"],[50216,"OceApplicationSelector"],[50217,"OceIDNumber"],[50218,"OceImageLogic"],[50255,"Annotations"],[50459,"HasselbladExif"],[50547,"OriginalFileName"],[50560,"USPTOOriginalContentType"],[50656,"CR2CFAPattern"],[50710,"CFAPlaneColor"],[50711,"CFALayout"],[50712,"LinearizationTable"],[50713,"BlackLevelRepeatDim"],[50714,"BlackLevel"],[50715,"BlackLevelDeltaH"],[50716,"BlackLevelDeltaV"],[50717,"WhiteLevel"],[50718,"DefaultScale"],[50719,"DefaultCropOrigin"],[50720,"DefaultCropSize"],[50733,"BayerGreenSplit"],[50737,"ChromaBlurRadius"],[50738,"AntiAliasStrength"],[50752,"RawImageSegmentation"],[50780,"BestQualityScale"],[50784,"AliasLayerMetadata"],[50829,"ActiveArea"],[50830,"MaskedAreas"],[50935,"NoiseReductionApplied"],[50974,"SubTileBlockSize"],[50975,"RowInterleaveFactor"],[51008,"OpcodeList1"],[51009,"OpcodeList2"],[51022,"OpcodeList3"],[51041,"NoiseProfile"],[51114,"CacheVersion"],[51125,"DefaultUserCrop"],[51157,"NikonNEFInfo"],[65024,"KdcIFD"]];Ri(Kn,"ifd0",br),Ri(Kn,"exif",br),io(vi,"gps",[[23,{M:"Magnetic North",T:"True North"}],[25,{K:"Kilometers",M:"Miles",N:"Nautical Miles"}]]);class yr extends Ro{static canHandle(g,_){return 224===g.getUint8(_+1)&&1246120262===g.getUint32(_+4)&&0===g.getUint8(_+8)}parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint16(0)],[2,this.chunk.getUint8(2)],[3,this.chunk.getUint16(3)],[5,this.chunk.getUint16(5)],[7,this.chunk.getUint8(7)],[8,this.chunk.getUint8(8)]])}}qi(yr,"type","jfif"),qi(yr,"headerLength",9),Fr.set("jfif",yr),io(Kn,"jfif",[[0,"JFIFVersion"],[2,"ResolutionUnit"],[3,"XResolution"],[5,"YResolution"],[7,"ThumbnailWidth"],[8,"ThumbnailHeight"]]);class Xr extends Ro{parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint32(0)],[4,this.chunk.getUint32(4)],[8,this.chunk.getUint8(8)],[9,this.chunk.getUint8(9)],[10,this.chunk.getUint8(10)],[11,this.chunk.getUint8(11)],[12,this.chunk.getUint8(12)],...Array.from(this.raw)])}}qi(Xr,"type","ihdr"),Fr.set("ihdr",Xr),io(Kn,"ihdr",[[0,"ImageWidth"],[4,"ImageHeight"],[8,"BitDepth"],[9,"ColorType"],[10,"Compression"],[11,"Filter"],[12,"Interlace"]]),io(vi,"ihdr",[[9,{0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha",DEFAULT:"Unknown"}],[10,{0:"Deflate/Inflate",DEFAULT:"Unknown"}],[11,{0:"Adaptive",DEFAULT:"Unknown"}],[12,{0:"Noninterlaced",1:"Adam7 Interlace",DEFAULT:"Unknown"}]]);class Qi extends Ro{static canHandle(g,_){return 226===g.getUint8(_+1)&&1229144927===g.getUint32(_+4)}static findPosition(g,_){let M=super.findPosition(g,_);return M.chunkNumber=g.getUint8(_+16),M.chunkCount=g.getUint8(_+17),M.multiSegment=M.chunkCount>1,M}static handleMultiSegments(g){return function(_){let M=function(W){let we=W[0].constructor,ht=0;for(let Cn of W)ht+=Cn.length;let gt=new we(ht),nn=0;for(let Cn of W)gt.set(Cn,nn),nn+=Cn.length;return gt}(_.map(W=>W.chunk.toUint8()));return new no(M)}(g)}parse(){return this.raw=new Map,this.parseHeader(),this.parseTags(),this.translate(),this.output}parseHeader(){let{raw:g}=this;this.chunk.byteLength<84&&$s("ICC header is too short");for(let[_,M]of Object.entries(Yr)){_=parseInt(_,10);let W=M(this.chunk,_);"\0\0\0\0"!==W&&g.set(_,W)}}parseTags(){let g,_,M,W,we,{raw:ht}=this,gt=this.chunk.getUint32(128),nn=132,Cn=this.chunk.byteLength;for(;gt--;){if(g=this.chunk.getString(nn,4),_=this.chunk.getUint32(nn+4),M=this.chunk.getUint32(nn+8),W=this.chunk.getString(_,4),_+M>Cn)return void console.warn("reached the end of the first ICC chunk. Enable options.tiff.multiSegment to read all ICC segments.");we=this.parseTag(W,_,M),void 0!==we&&"\0\0\0\0"!==we&&ht.set(g,we),nn+=12}}parseTag(g,_,M){switch(g){case"desc":return this.parseDesc(_);case"mluc":return this.parseMluc(_);case"text":return this.parseText(_,M);case"sig ":return this.parseSig(_)}if(!(_+M>this.chunk.byteLength))return this.chunk.getUint8Array(_,M)}parseDesc(g){let _=this.chunk.getUint32(g+8)-1;return Nl(this.chunk.getString(g+12,_))}parseText(g,_){return Nl(this.chunk.getString(g+8,_-8))}parseSig(g){return Nl(this.chunk.getString(g+8,4))}parseMluc(g){let{chunk:_}=this,M=_.getUint32(g+8),W=_.getUint32(g+12),we=g+16,ht=[];for(let gt=0;gt<M;gt++){let nn=_.getString(we+0,2),Cn=_.getString(we+2,2),ui=_.getUint32(we+4),gi=_.getUint32(we+8)+g,Wi=Nl(_.getUnicodeString(gi,ui));ht.push({lang:nn,country:Cn,text:Wi}),we+=W}return 1===M?ht[0].text:ht}translateValue(g,_){return"string"==typeof g?_[g]||_[g.toLowerCase()]||g:_[g]||g}}qi(Qi,"type","icc"),qi(Qi,"multiSegment",!0),qi(Qi,"headerLength",18);const Yr={4:bo,8:function(B,g){return[B.getUint8(g),B.getUint8(g+1)>>4,B.getUint8(g+1)%16].map(_=>_.toString(10)).join(".")},12:bo,16:bo,20:bo,24:function(B,g){const _=B.getUint16(g),M=B.getUint16(g+2)-1,W=B.getUint16(g+4),we=B.getUint16(g+6),ht=B.getUint16(g+8),gt=B.getUint16(g+10);return new Date(Date.UTC(_,M,W,we,ht,gt))},36:bo,40:bo,48:bo,52:bo,64:(B,g)=>B.getUint32(g),80:bo};function bo(B,g){return Nl(B.getString(g,4))}Fr.set("icc",Qi),io(Kn,"icc",[[4,"ProfileCMMType"],[8,"ProfileVersion"],[12,"ProfileClass"],[16,"ColorSpaceData"],[20,"ProfileConnectionSpace"],[24,"ProfileDateTime"],[36,"ProfileFileSignature"],[40,"PrimaryPlatform"],[44,"CMMFlags"],[48,"DeviceManufacturer"],[52,"DeviceModel"],[56,"DeviceAttributes"],[64,"RenderingIntent"],[68,"ConnectionSpaceIlluminant"],[80,"ProfileCreator"],[84,"ProfileID"],["Header","ProfileHeader"],["MS00","WCSProfiles"],["bTRC","BlueTRC"],["bXYZ","BlueMatrixColumn"],["bfd","UCRBG"],["bkpt","MediaBlackPoint"],["calt","CalibrationDateTime"],["chad","ChromaticAdaptation"],["chrm","Chromaticity"],["ciis","ColorimetricIntentImageState"],["clot","ColorantTableOut"],["clro","ColorantOrder"],["clrt","ColorantTable"],["cprt","ProfileCopyright"],["crdi","CRDInfo"],["desc","ProfileDescription"],["devs","DeviceSettings"],["dmdd","DeviceModelDesc"],["dmnd","DeviceMfgDesc"],["dscm","ProfileDescriptionML"],["fpce","FocalPlaneColorimetryEstimates"],["gTRC","GreenTRC"],["gXYZ","GreenMatrixColumn"],["gamt","Gamut"],["kTRC","GrayTRC"],["lumi","Luminance"],["meas","Measurement"],["meta","Metadata"],["mmod","MakeAndModel"],["ncl2","NamedColor2"],["ncol","NamedColor"],["ndin","NativeDisplayInfo"],["pre0","Preview0"],["pre1","Preview1"],["pre2","Preview2"],["ps2i","PS2RenderingIntent"],["ps2s","PostScript2CSA"],["psd0","PostScript2CRD0"],["psd1","PostScript2CRD1"],["psd2","PostScript2CRD2"],["psd3","PostScript2CRD3"],["pseq","ProfileSequenceDesc"],["psid","ProfileSequenceIdentifier"],["psvm","PS2CRDVMSize"],["rTRC","RedTRC"],["rXYZ","RedMatrixColumn"],["resp","OutputResponse"],["rhoc","ReflectionHardcopyOrigColorimetry"],["rig0","PerceptualRenderingIntentGamut"],["rig2","SaturationRenderingIntentGamut"],["rpoc","ReflectionPrintOutputColorimetry"],["sape","SceneAppearanceEstimates"],["scoe","SceneColorimetryEstimates"],["scrd","ScreeningDesc"],["scrn","Screening"],["targ","CharTarget"],["tech","Technology"],["vcgt","VideoCardGamma"],["view","ViewingConditions"],["vued","ViewingCondDesc"],["wtpt","MediaWhitePoint"]]);const xc={"4d2p":"Erdt Systems",AAMA:"Aamazing Technologies",ACER:"Acer",ACLT:"Acolyte Color Research",ACTI:"Actix Sytems",ADAR:"Adara Technology",ADBE:"Adobe",ADI:"ADI Systems",AGFA:"Agfa Graphics",ALMD:"Alps Electric",ALPS:"Alps Electric",ALWN:"Alwan Color Expertise",AMTI:"Amiable Technologies",AOC:"AOC International",APAG:"Apago",APPL:"Apple Computer",AST:"AST","AT&T":"AT&T",BAEL:"BARBIERI electronic",BRCO:"Barco NV",BRKP:"Breakpoint",BROT:"Brother",BULL:"Bull",BUS:"Bus Computer Systems","C-IT":"C-Itoh",CAMR:"Intel",CANO:"Canon",CARR:"Carroll Touch",CASI:"Casio",CBUS:"Colorbus PL",CEL:"Crossfield",CELx:"Crossfield",CGS:"CGS Publishing Technologies International",CHM:"Rochester Robotics",CIGL:"Colour Imaging Group, London",CITI:"Citizen",CL00:"Candela",CLIQ:"Color IQ",CMCO:"Chromaco",CMiX:"CHROMiX",COLO:"Colorgraphic Communications",COMP:"Compaq",COMp:"Compeq/Focus Technology",CONR:"Conrac Display Products",CORD:"Cordata Technologies",CPQ:"Compaq",CPRO:"ColorPro",CRN:"Cornerstone",CTX:"CTX International",CVIS:"ColorVision",CWC:"Fujitsu Laboratories",DARI:"Darius Technology",DATA:"Dataproducts",DCP:"Dry Creek Photo",DCRC:"Digital Contents Resource Center, Chung-Ang University",DELL:"Dell Computer",DIC:"Dainippon Ink and Chemicals",DICO:"Diconix",DIGI:"Digital","DL&C":"Digital Light & Color",DPLG:"Doppelganger",DS:"Dainippon Screen",DSOL:"DOOSOL",DUPN:"DuPont",EPSO:"Epson",ESKO:"Esko-Graphics",ETRI:"Electronics and Telecommunications Research Institute",EVER:"Everex Systems",EXAC:"ExactCODE",Eizo:"Eizo",FALC:"Falco Data Products",FF:"Fuji Photo Film",FFEI:"FujiFilm Electronic Imaging",FNRD:"Fnord Software",FORA:"Fora",FORE:"Forefront Technology",FP:"Fujitsu",FPA:"WayTech Development",FUJI:"Fujitsu",FX:"Fuji Xerox",GCC:"GCC Technologies",GGSL:"Global Graphics Software",GMB:"Gretagmacbeth",GMG:"GMG",GOLD:"GoldStar Technology",GOOG:"Google",GPRT:"Giantprint",GTMB:"Gretagmacbeth",GVC:"WayTech Development",GW2K:"Sony",HCI:"HCI",HDM:"Heidelberger Druckmaschinen",HERM:"Hermes",HITA:"Hitachi America",HP:"Hewlett-Packard",HTC:"Hitachi",HiTi:"HiTi Digital",IBM:"IBM",IDNT:"Scitex",IEC:"Hewlett-Packard",IIYA:"Iiyama North America",IKEG:"Ikegami Electronics",IMAG:"Image Systems",IMI:"Ingram Micro",INTC:"Intel",INTL:"N/A (INTL)",INTR:"Intra Electronics",IOCO:"Iocomm International Technology",IPS:"InfoPrint Solutions Company",IRIS:"Scitex",ISL:"Ichikawa Soft Laboratory",ITNL:"N/A (ITNL)",IVM:"IVM",IWAT:"Iwatsu Electric",Idnt:"Scitex",Inca:"Inca Digital Printers",Iris:"Scitex",JPEG:"Joint Photographic Experts Group",JSFT:"Jetsoft Development",JVC:"JVC Information Products",KART:"Scitex",KFC:"KFC Computek Components",KLH:"KLH Computers",KMHD:"Konica Minolta",KNCA:"Konica",KODA:"Kodak",KYOC:"Kyocera",Kart:"Scitex",LCAG:"Leica",LCCD:"Leeds Colour",LDAK:"Left Dakota",LEAD:"Leading Technology",LEXM:"Lexmark International",LINK:"Link Computer",LINO:"Linotronic",LITE:"Lite-On",Leaf:"Leaf",Lino:"Linotronic",MAGC:"Mag Computronic",MAGI:"MAG Innovision",MANN:"Mannesmann",MICN:"Micron Technology",MICR:"Microtek",MICV:"Microvitec",MINO:"Minolta",MITS:"Mitsubishi Electronics America",MITs:"Mitsuba",MNLT:"Minolta",MODG:"Modgraph",MONI:"Monitronix",MONS:"Monaco Systems",MORS:"Morse Technology",MOTI:"Motive Systems",MSFT:"Microsoft",MUTO:"MUTOH INDUSTRIES",Mits:"Mitsubishi Electric",NANA:"NANAO",NEC:"NEC",NEXP:"NexPress Solutions",NISS:"Nissei Sangyo America",NKON:"Nikon",NONE:"none",OCE:"Oce Technologies",OCEC:"OceColor",OKI:"Oki",OKID:"Okidata",OKIP:"Okidata",OLIV:"Olivetti",OLYM:"Olympus",ONYX:"Onyx Graphics",OPTI:"Optiquest",PACK:"Packard Bell",PANA:"Matsushita Electric Industrial",PANT:"Pantone",PBN:"Packard Bell",PFU:"PFU",PHIL:"Philips Consumer Electronics",PNTX:"HOYA",POne:"Phase One A/S",PREM:"Premier Computer Innovations",PRIN:"Princeton Graphic Systems",PRIP:"Princeton Publishing Labs",QLUX:"Hong Kong",QMS:"QMS",QPCD:"QPcard AB",QUAD:"QuadLaser",QUME:"Qume",RADI:"Radius",RDDx:"Integrated Color Solutions",RDG:"Roland DG",REDM:"REDMS Group",RELI:"Relisys",RGMS:"Rolf Gierling Multitools",RICO:"Ricoh",RNLD:"Edmund Ronald",ROYA:"Royal",RPC:"Ricoh Printing Systems",RTL:"Royal Information Electronics",SAMP:"Sampo",SAMS:"Samsung",SANT:"Jaime Santana Pomares",SCIT:"Scitex",SCRN:"Dainippon Screen",SDP:"Scitex",SEC:"Samsung",SEIK:"Seiko Instruments",SEIk:"Seikosha",SGUY:"ScanGuy.com",SHAR:"Sharp Laboratories",SICC:"International Color Consortium",SONY:"Sony",SPCL:"SpectraCal",STAR:"Star",STC:"Sampo Technology",Scit:"Scitex",Sdp:"Scitex",Sony:"Sony",TALO:"Talon Technology",TAND:"Tandy",TATU:"Tatung",TAXA:"TAXAN America",TDS:"Tokyo Denshi Sekei",TECO:"TECO Information Systems",TEGR:"Tegra",TEKT:"Tektronix",TI:"Texas Instruments",TMKR:"TypeMaker",TOSB:"Toshiba",TOSH:"Toshiba",TOTK:"TOTOKU ELECTRIC",TRIU:"Triumph",TSBT:"Toshiba",TTX:"TTX Computer Products",TVM:"TVM Professional Monitor",TW:"TW Casper",ULSX:"Ulead Systems",UNIS:"Unisys",UTZF:"Utz Fehlau & Sohn",VARI:"Varityper",VIEW:"Viewsonic",VISL:"Visual communication",VIVO:"Vivo Mobile Communication",WANG:"Wang",WLBR:"Wilbur Imaging",WTG2:"Ware To Go",WYSE:"WYSE Technology",XERX:"Xerox",XRIT:"X-Rite",ZRAN:"Zoran",Zebr:"Zebra Technologies",appl:"Apple Computer",bICC:"basICColor",berg:"bergdesign",ceyd:"Integrated Color Solutions",clsp:"MacDermid ColorSpan",ds:"Dainippon Screen",dupn:"DuPont",ffei:"FujiFilm Electronic Imaging",flux:"FluxData",iris:"Scitex",kart:"Scitex",lcms:"Little CMS",lino:"Linotronic",none:"none",ob4d:"Erdt Systems",obic:"Medigraph",quby:"Qubyx Sarl",scit:"Scitex",scrn:"Dainippon Screen",sdp:"Scitex",siwi:"SIWI GRAFIKA",yxym:"YxyMaster"},ec={scnr:"Scanner",mntr:"Monitor",prtr:"Printer",link:"Device Link",abst:"Abstract",spac:"Color Space Conversion Profile",nmcl:"Named Color",cenc:"ColorEncodingSpace profile",mid:"MultiplexIdentification profile",mlnk:"MultiplexLink profile",mvis:"MultiplexVisualization profile",nkpf:"Nikon Input Device Profile (NON-STANDARD!)"};io(vi,"icc",[[4,xc],[12,ec],[40,Object.assign({},xc,ec)],[48,xc],[80,xc],[64,{0:"Perceptual",1:"Relative Colorimetric",2:"Saturation",3:"Absolute Colorimetric"}],["tech",{amd:"Active Matrix Display",crt:"Cathode Ray Tube Display",kpcd:"Photo CD",pmd:"Passive Matrix Display",dcam:"Digital Camera",dcpj:"Digital Cinema Projector",dmpc:"Digital Motion Picture Camera",dsub:"Dye Sublimation Printer",epho:"Electrophotographic Printer",esta:"Electrostatic Printer",flex:"Flexography",fprn:"Film Writer",fscn:"Film Scanner",grav:"Gravure",ijet:"Ink Jet Printer",imgs:"Photo Image Setter",mpfr:"Motion Picture Film Recorder",mpfs:"Motion Picture Film Scanner",offs:"Offset Lithography",pjtv:"Projection Television",rpho:"Photographic Paper Printer",rscn:"Reflective Scanner",silk:"Silkscreen",twax:"Thermal Wax Printer",vidc:"Video Camera",vidm:"Video Monitor"}]]);class Uc extends Ro{static canHandle(g,_,M){return 237===g.getUint8(_+1)&&"Photoshop"===g.getString(_+4,9)&&void 0!==this.containsIptc8bim(g,_,M)}static headerLength(g,_,M){let W,we=this.containsIptc8bim(g,_,M);if(void 0!==we)return W=g.getUint8(_+we+7),W%2!=0&&(W+=1),0===W&&(W=4),we+8+W}static containsIptc8bim(g,_,M){for(let W=0;W<M;W++)if(this.isIptcSegmentHead(g,_+W))return W}static isIptcSegmentHead(g,_){return 56===g.getUint8(_)&&943868237===g.getUint32(_)&&1028===g.getUint16(_+4)}parse(){let{raw:g}=this,_=this.chunk.byteLength-1,M=!1;for(let W=0;W<_;W++)if(28===this.chunk.getUint8(W)&&2===this.chunk.getUint8(W+1)){M=!0;let we=this.chunk.getUint16(W+3),ht=this.chunk.getUint8(W+2),gt=this.chunk.getLatin1String(W+5,we);g.set(ht,this.pluralizeValue(g.get(ht),gt)),W+=4+we}else if(M)break;return this.translate(),this.output}pluralizeValue(g,_){return void 0!==g?g instanceof Array?(g.push(_),g):[g,_]:_}}qi(Uc,"type","iptc"),qi(Uc,"translateValues",!1),qi(Uc,"reviveValues",!1),Fr.set("iptc",Uc),io(Kn,"iptc",[[0,"ApplicationRecordVersion"],[3,"ObjectTypeReference"],[4,"ObjectAttributeReference"],[5,"ObjectName"],[7,"EditStatus"],[8,"EditorialUpdate"],[10,"Urgency"],[12,"SubjectReference"],[15,"Category"],[20,"SupplementalCategories"],[22,"FixtureIdentifier"],[25,"Keywords"],[26,"ContentLocationCode"],[27,"ContentLocationName"],[30,"ReleaseDate"],[35,"ReleaseTime"],[37,"ExpirationDate"],[38,"ExpirationTime"],[40,"SpecialInstructions"],[42,"ActionAdvised"],[45,"ReferenceService"],[47,"ReferenceDate"],[50,"ReferenceNumber"],[55,"DateCreated"],[60,"TimeCreated"],[62,"DigitalCreationDate"],[63,"DigitalCreationTime"],[65,"OriginatingProgram"],[70,"ProgramVersion"],[75,"ObjectCycle"],[80,"Byline"],[85,"BylineTitle"],[90,"City"],[92,"Sublocation"],[95,"State"],[100,"CountryCode"],[101,"Country"],[103,"OriginalTransmissionReference"],[105,"Headline"],[110,"Credit"],[115,"Source"],[116,"CopyrightNotice"],[118,"Contact"],[120,"Caption"],[121,"LocalCaption"],[122,"Writer"],[125,"RasterizedCaption"],[130,"ImageType"],[131,"ImageOrientation"],[135,"LanguageIdentifier"],[150,"AudioType"],[151,"AudioSamplingRate"],[152,"AudioSamplingResolution"],[153,"AudioDuration"],[154,"AudioOutcue"],[184,"JobID"],[185,"MasterDocumentID"],[186,"ShortDocumentID"],[187,"UniqueDocumentID"],[188,"OwnerID"],[200,"ObjectPreviewFileFormat"],[201,"ObjectPreviewFileVersion"],[202,"ObjectPreviewData"],[221,"Prefs"],[225,"ClassifyState"],[228,"SimilarityIndex"],[230,"DocumentNotes"],[231,"DocumentHistory"],[232,"ExifCameraInfo"],[255,"CatalogSets"]]),io(vi,"iptc",[[10,{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"}],[75,{a:"Morning",b:"Both Morning and Evening",p:"Evening"}],[131,{L:"Landscape",P:"Portrait",S:"Square"}]]);var qa=N(7579),Id=N(1520);let Zh=(()=>{class B{getOrientedImage(_){return new Promise(M=>{let W;uc(_).catch(we=>{}).then(we=>{if(1!=we){let ht=document.createElement("canvas"),gt=ht.getContext("2d"),nn=_.width,Cn=_.height,ui=0,gi=0,Wi=0;switch(we){case 3:case 4:ui=-_.width,gi=-_.height,Wi=180;break;case 5:case 6:nn=_.height,Cn=_.width,gi=-_.height,Wi=90;break;case 7:case 8:nn=_.height,Cn=_.width,ui=-_.width,Wi=270}ht.width=nn,ht.height=Cn,we&&[2,4,5,7].indexOf(we)>-1&&(gt.translate(nn,0),gt.scale(-1,1)),gt.rotate(Wi*Math.PI/180),gt.drawImage(_,ui,gi),W=document.createElement("img"),W.width=nn,W.height=Cn,W.addEventListener("load",function(){M(W)}),W.src=ht.toDataURL("image/png")}else M(_)})})}}return B.\u0275fac=function(_){return new(_||B)},B.\u0275prov=T.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})(),Pf=(()=>{class B{constructor(_){this.imageExifService=_,this.timeAtStart=0}compressImage(_,M,W=!1,we=!1){let ht=new qa.x;if(this.timeAtStart=(new Date).getTime(),this.initialFile=_,"image/jpeg"!==_.type&&"image/png"!==_.type)return setTimeout(()=>{ht.error({compressedFile:_,reason:"File provided is neither of type jpg nor of type png.",error:"INVALID_EXTENSION"})},0),ht.asObservable();if(_.size/1024/1024<M)return setTimeout(()=>{ht.next(_)},0),ht.asObservable();let nn=document.createElement("canvas"),Cn=nn.getContext("2d"),ui=new Image,gi=this;return ui.onload=()=>{this.imageExifService.getOrientedImage(ui).then(Wi=>{window.URL.revokeObjectURL(ui.src),nn.width=Wi.width,nn.height=Wi.height,Cn?.drawImage(Wi,0,0);let sr=Cn?.getImageData(0,0,Wi.width,Wi.height);"image/png"===_.type&&this.isImgUsingAlpha(sr)&&!W&&ht.error({compressedFile:_,reason:"File provided is a png image which uses the alpha channel. No compression possible.",error:"PNG_WITH_ALPHA"}),Cn=nn.getContext("2d",{alpha:!1}),Cn?.drawImage(Wi,0,0),gi.getCompressedFile(nn,50,M,1).then(mr=>{ht.next(mr),gi.logExecutionTime(we)}).catch(mr=>{ht.error(mr),gi.logExecutionTime(we)})})},ui.src=window.URL.createObjectURL(_),ht.asObservable()}getCompressedFile(_,M,W,we){return new Promise((gt,nn)=>{_.toBlob(Cn=>{if(!Cn)return nn({compressedFile:null,reason:"Blob error",error:"BAD_BLOB"});if(we+1>15)nn({compressedFile:this.getResultFile(Cn),reason:"Could not find the correct compression quality in 15 steps.",error:"MAX_STEPS_EXCEEDED"});else{let ui=this.getCalculatedQuality(Cn,M,W,we);this.checkCompressionStatus(_,Cn,M,W,we,ui).then(gi=>{gt(gi)}).catch(gi=>{nn(gi)})}},"image/jpeg",M/100)})}getResultFile(_){return this.initialFile?this.generateResultFile(_,this.initialFile.name,this.initialFile.type,(new Date).getTime()):null}generateResultFile(_,M,W,we){let ht=new Blob([_],{type:W});return this.blobToFile(ht,M,we)}blobToFile(_,M,W){let we=_;return we.name=M,we.lastModified=W,we}getCalculatedQuality(_,M,W,we){if(!this.initialFile)return 0;let ht=_.size/1024/1024,gt=W/ht;gt>5&&(gt=5);let nn=ht/(this.initialFile.size/1024/1024);nn<.05&&(nn=.05);let Cn=0,ui=10*Math.abs(nn-1)/(1.7*we)/gt;return ui<1&&(ui=1),Cn=gt>=1?M+10*(gt-1)*ui:M-10*(1-gt)*ui,Cn>100&&(Cn=M+(100-M)/2),Cn<0&&(Cn=M-M/2),Cn}checkCompressionStatus(_,M,W,we,ht,gt){return new Promise((Cn,ui)=>{100===W&&gt>=100?ui({compressedFile:this.initialFile,reason:"Unfortunately there was an error while compressing the file.",error:"FILE_BIGGER_THAN_INITIAL_FILE"}):W<1&&gt<W?ui({compressedFile:this.getResultFile(M),reason:"Could not compress image enough to fit the maximal file size limit.",error:"UNABLE_TO_COMPRESS_ENOUGH"}):gt>W&&Math.round(W)==Math.round(gt)||ht>5&&gt>W&&gt<W+2||gt>W&&Number.isInteger(W)&&Math.floor(gt)==W?Cn(this.getResultFile(M)):(W>gt&&Math.round(W)==Math.round(gt)&&(gt=Math.round(gt)-1),Cn(this.getCompressedFile(_,gt,we,ht+1)))})}isImgUsingAlpha(_){for(var M=0;M<_.data.length;M+=4)if(255!==_.data[M+3])return!0;return!1}logExecutionTime(_){_&&console.info("Execution time: ",(new Date).getTime()-this.timeAtStart+"ms")}}return B.\u0275fac=function(_){return new(_||B)(T.LFG(Zh))},B.\u0275prov=T.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})();const Of=Id(),lu=window;let Pd=(()=>{class B{constructor(_){this.imageExifService=_}resize(_,M,W,we=!1){let ht=new qa.x;for(let gt=0;gt<_.length;gt++)this.resizeFile(_[gt],M,W,we).then(nn=>{ht.next(nn)}).catch(nn=>{ht.error(nn)});return ht.asObservable()}resizeCanvas(_,M,W){return new Promise((ht,gt)=>{let nn=Of;(!nn||!nn.resize)&&(nn=new lu.pica),nn.resize(_,M,W).then(Cn=>{ht(Cn)},Cn=>{gt(Cn)})})}resizeBuffer(_){return new Promise((W,we)=>{let ht=Of;(!ht||!ht.resizeBuffer)&&(ht=new lu.pica),ht.resizeBuffer(_).then(gt=>{W(gt)},gt=>{we(gt)})})}resizeFile(_,M,W,we=!1){return new Promise((gt,nn)=>{let Cn=document.createElement("canvas"),ui=Cn.getContext("2d"),gi=new Image;gi.onload=()=>{this.imageExifService.getOrientedImage(gi).then(Wi=>{lu.URL.revokeObjectURL(gi.src),Cn.width=Wi.width,Cn.height=Wi.height,ui?.drawImage(Wi,0,0);let sr=ui?.getImageData(0,0,Wi.width,Wi.height);if(we&&sr){let ps=Math.min(M/sr.width,W/sr.height);M=Math.round(sr.width*ps),W=Math.round(sr.height*ps)}let mr=!0;("image/jpeg"===_.type||"image/png"===_.type&&!this.isImgUsingAlpha(sr))&&(mr=!1,ui=Cn.getContext("2d",{alpha:!1}),ui?.drawImage(Wi,0,0));let Mr=document.createElement("canvas");Mr.width=M,Mr.height=W,this.resizeCanvas(Cn,Mr,{alpha:mr}).then(ps=>{ps.toBlob(so=>{if(!so)return nn("error blob");let va=this.generateResultFile(so,_.name,_.type,(new Date).getTime());gt(va)},_.type)}).catch(ps=>{nn(ps)})})},gi.src=lu.URL.createObjectURL(_)})}isImgUsingAlpha(_){for(var M=0;M<_.data.length;M+=4)if(255!==_.data[M+3])return!0;return!1}generateResultFile(_,M,W,we){let ht=new Blob([_],{type:W});return this.blobToFile(ht,M,we)}blobToFile(_,M,W){let we=_;return we.name=M,we.lastModified=W,we}}return B.\u0275fac=function(_){return new(_||B)(T.LFG(Zh))},B.\u0275prov=T.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})(),Kh=(()=>{class B{constructor(_,M){this.ng2PicaService=_,this.imageExifService=M,this.timeAtStart=0}resizeImage(_,M,W,we=!1){let ht=new qa.x;if(this.timeAtStart=(new Date).getTime(),"image/jpeg"!==_.type&&"image/png"!==_.type)return setTimeout(()=>{ht.error({resizedFile:_,reason:"The provided File is neither of type jpg nor of type png.",error:"INVALID_EXTENSION"})},0),ht.asObservable();let gt=new Image,nn=this;return gt.onload=()=>{this.imageExifService.getOrientedImage(gt).then(Cn=>{window.URL.revokeObjectURL(gt.src);let ui=Cn.width,gi=Cn.height,Wi=ui,sr=gi;Wi>M&&(Wi=M,sr*=M/ui),gi=sr,sr>W&&(sr=W,Wi*=W/gi),sr===Cn.height&&Wi===Cn.width?(ht.next(_),nn.logExecutionTime(we)):nn.ng2PicaService.resize([_],Wi,sr).subscribe(mr=>{ht.next(mr),nn.logExecutionTime(we)},mr=>{ht.error({resizedFile:_,reason:mr,error:"PICA_ERROR"}),nn.logExecutionTime(we)})})},gt.src=window.URL.createObjectURL(_),ht.asObservable()}logExecutionTime(_){_&&console.info("Execution time: ",(new Date).getTime()-this.timeAtStart+"ms")}}return B.\u0275fac=function(_){return new(_||B)(T.LFG(Pd),T.LFG(Zh))},B.\u0275prov=T.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})(),rh=(()=>{class B{constructor(_,M,W){this.imgMaxSizeService=_,this.imgMaxPXSizeService=M,this.imageExifService=W}compress(_,M,W=!1,we=!1){let ht=new qa.x;return _.forEach(gt=>{this.compressImage(gt,M,W,we).subscribe(nn=>{ht.next(nn)},nn=>{ht.error(nn)})}),ht.asObservable()}resize(_,M,W,we=!1){let ht=new qa.x;return _.forEach(gt=>{this.resizeImage(gt,M,W,we).subscribe(nn=>{ht.next(nn)},nn=>{ht.error(nn)})}),ht.asObservable()}compressImage(_,M,W=!1,we=!1){return this.imgMaxSizeService.compressImage(_,M,W,we)}resizeImage(_,M,W,we=!1){return this.imgMaxPXSizeService.resizeImage(_,M,W,we)}getEXIFOrientedImage(_){return this.imageExifService.getOrientedImage(_)}}return B.\u0275fac=function(_){return new(_||B)(T.LFG(Pf),T.LFG(Kh),T.LFG(Zh))},B.\u0275prov=T.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})();function Od(B,g){if(1&B&&T._UZ(0,"img",15),2&B){const _=T.oxw();T.Q6J("src",_.modalImagenService.img,T.LSH)}}function qh(B,g){if(1&B&&T._UZ(0,"img",15),2&B){const _=T.oxw();T.Q6J("src",_.imgTemp,T.LSH)}}let Qa=(()=>{class B{constructor(_,M,W){this.modalImagenService=_,this.fileUploadService=M,this.ng2ImgMax=W,this.imgTemp=null,this.imagenVisualizada=!1,this.imagenReducida=!1}ngOnInit(){}cerrarModal(){this.imgTemp=null,this.imagenSubir=null,this.modalImagenService.img="",this.modalImagenService.cerrarModal(),this.imagenVisualizada=!1,this.imagenReducida=!1}cambiarImagen_V2(_){const M=_.target.files?.item(0);if(!M)return this.imgTemp=null;M.size<=5e5?(this.imagenSubir=M,this.imagenReducida=!0):this.compressImage(M,.050000000000000044*M.size*1e-6);const W=new FileReader;W.readAsDataURL(M),W.onloadend=()=>{this.imgTemp=W.result,this.imagenVisualizada=!0}}compressImage(_,M){this.ng2ImgMax.compressImage(_,M).subscribe(W=>{this.imagenSubir=W,this.imagenReducida=!0},W=>{console.log(W.reason)})}onFileSelected(_){const M=_.target.files?.item(0);M&&(new FormData).append("thumbnail",M)}subirImagen(){this.fileUploadService.CreatePorForm(this.imagenSubir,this.modalImagenService.tipo,this.modalImagenService.id).subscribe(W=>{0==W.ok?jn().fire("Error",W.msg,"error"):jn().fire("Guardado","Imagen Actualizada","success"),this.modalImagenService.nuevaImagen.emit(W),this.cerrarModal()},W=>{console.error(W),jn().fire("Error","No se pudo subir la imagen","error"),this.cerrarModal()})}subirImagen_V2(){this.fileUploadService.CreatePorForm_V2(this.imagenSubir,this.modalImagenService.tipo,this.modalImagenService.id).subscribe(W=>{jn().fire("Guardado","Imagen Actualizada","success"),this.modalImagenService.nuevaImagen.emit(W),this.cerrarModal()},W=>{console.error(W),jn().fire("Error","No se pudo subir la imagen","error"),this.cerrarModal()})}cambiarImagen_V1(_){const M=_.target.files?.item(0);if(this.imagenSubir=M,!M)return this.imgTemp=null;const W=new FileReader;W.readAsDataURL(M),W.onloadend=()=>{this.imgTemp=W.result}}}return B.\u0275fac=function(_){return new(_||B)(T.Y36(si.$),T.Y36(Ji.J),T.Y36(rh))},B.\u0275cmp=T.Xpm({type:B,selectors:[["app-modal-imagen"]],decls:22,vars:5,consts:[[1,"fondo-modal-imagen","animated","fadeIn","fast"],["id","exampleModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel1",1,"modal","fade","show",2,"display","block"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel1",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"text-center"],["class","img-avatar",3,"src",4,"ngIf"],["type","file",3,"change"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-default",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"img-avatar",3,"src"]],template:function(_,M){1&_&&(T.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),T._uU(6,"Cargar imagen"),T.qZA(),T.TgZ(7,"button",6),T.NdJ("click",function(){return M.cerrarModal()}),T.TgZ(8,"span",7),T._uU(9,"\xd7"),T.qZA()()(),T.TgZ(10,"div",8)(11,"h3"),T._uU(12,"Seleccione una imagen"),T.qZA(),T.TgZ(13,"div",9),T.YNc(14,Od,1,1,"img",10),T.YNc(15,qh,1,1,"img",10),T.qZA(),T.TgZ(16,"input",11),T.NdJ("change",function(we){return M.cambiarImagen_V2(we)}),T.qZA()(),T.TgZ(17,"div",12)(18,"button",13),T.NdJ("click",function(){return M.cerrarModal()}),T._uU(19," Cancelar "),T.qZA(),T.TgZ(20,"button",14),T.NdJ("click",function(){return M.subirImagen()}),T._uU(21," Actualizar foto "),T.qZA()()()()()()),2&_&&(T.ekj("oculto",M.modalImagenService.ocultarModal),T.xp6(14),T.Q6J("ngIf",!M.imgTemp),T.xp6(1),T.Q6J("ngIf",M.imgTemp),T.xp6(5),T.Q6J("disabled",0==M.imagenVisualizada&&0==M.imagenReducida))},dependencies:[Se.O5],encapsulation:2}),B})();var Ku=N(9300),Ml=N(4004);let ra=(()=>{class B{constructor(_){this.router=_,this.tituloSubs$=this.getArgumentosRuta().subscribe(({titulo:M})=>{this.titulo=M,document.title=`POSH - ${M}`})}ngOnDestroy(){this.tituloSubs$.unsubscribe()}getArgumentosRuta(){return this.router.events.pipe((0,Ku.h)(_=>_ instanceof xr.jw),(0,Ku.h)(_=>null===_.snapshot.firstChild),(0,Ml.U)(_=>_.snapshot.data))}ngOnInit(){}}return B.\u0275fac=function(_){return new(_||B)(T.Y36(xr.F0))},B.\u0275cmp=T.Xpm({type:B,selectors:[["app-breadcrumbs"]],decls:11,vars:2,consts:[[1,"row","page-titles"],[1,"col-md-5","align-self-center"],[1,"text-themecolor"],[1,"col-md-7","align-self-center"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],[1,"breadcrumb-item","active"]],template:function(_,M){1&_&&(T.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),T._uU(3),T.qZA()(),T.TgZ(4,"div",3)(5,"ol",4)(6,"li",5)(7,"a",6),T._uU(8,"Inicio"),T.qZA()(),T.TgZ(9,"li",7),T._uU(10),T.qZA()()()()),2&_&&(T.xp6(3),T.Oqu(M.titulo),T.xp6(7),T.Oqu(M.titulo))},dependencies:[xr.yS]}),B})();var ld=N(4307);const cd=function(){return{exact:!0}};function Ic(B,g){if(1&B&&(T.TgZ(0,"li")(1,"a",16),T._uU(2),T.qZA()()),2&B){const _=g.$implicit;T.xp6(1),T.Q6J("routerLink",_.url)("routerLinkActiveOptions",T.DdM(3,cd)),T.xp6(1),T.hij(" ",_.titulo," ")}}function wc(B,g){if(1&B&&(T.TgZ(0,"li")(1,"a",5),T._UZ(2,"i"),T.TgZ(3,"span",7),T._uU(4),T.TgZ(5,"span",15),T._uU(6),T.qZA()()(),T.TgZ(7,"ul",8),T.YNc(8,Ic,3,4,"li",14),T.qZA()()),2&B){const _=g.$implicit;T.xp6(2),T.Tol(_.icono),T.xp6(2),T.hij(" ",_.titulo," "),T.xp6(2),T.hij(" ",_.subMenu.length," "),T.xp6(2),T.Q6J("ngForOf",_.subMenu)}}let mu=(()=>{class B{constructor(_,M){this.sidebarService=_,this.usuarioService=M,this.usuarioNETDTO=M.usuarioNETDTO}ngOnInit(){}logout(){this.usuarioService.Logout_V1()}}return B.\u0275fac=function(_){return new(_||B)(T.Y36(yt),T.Y36(ld.m))},B.\u0275cmp=T.Xpm({type:B,selectors:[["app-sidebar"]],decls:23,vars:3,consts:[[1,"left-sidebar"],[1,"scroll-sidebar"],[1,"sidebar-nav"],["id","sidebarnav"],[1,"user-profile"],["href","#","aria-expanded","false",1,"has-arrow","waves-effect","waves-dark"],["alt","user",3,"src"],[1,"hide-menu"],["aria-expanded","false",1,"collapse"],["routerLinkActive","active","routerLink","./perfil"],["routerLink","account-settings"],["href","javascript:void()",1,"cursor",3,"click"],[1,"nav-devider"],[1,"nav-small-cap"],[4,"ngFor","ngForOf"],[1,"label","label-rouded","label-themecolor","pull-right"],["routerLinkActive","active",3,"routerLink","routerLinkActiveOptions"]],template:function(_,M){1&_&&(T.TgZ(0,"aside",0)(1,"div",1)(2,"nav",2)(3,"ul",3)(4,"li",4)(5,"a",5),T._UZ(6,"img",6),T.TgZ(7,"span",7),T._uU(8),T.qZA()(),T.TgZ(9,"ul",8)(10,"li")(11,"a",9),T._uU(12,"Mi Perfil"),T.qZA()(),T.TgZ(13,"li")(14,"a",10),T._uU(15,"Configurar Cuenta"),T.qZA()(),T.TgZ(16,"li")(17,"a",11),T.NdJ("click",function(){return M.logout()}),T._uU(18,"Salir"),T.qZA()()()(),T._UZ(19,"li",12),T.TgZ(20,"li",13),T._uU(21,"Menu Personal"),T.qZA(),T.YNc(22,wc,9,5,"li",14),T.qZA()()()()),2&_&&(T.xp6(6),T.Q6J("src",M.usuarioService.imagenUrl,T.LSH),T.xp6(2),T.hij("",M.usuarioNETDTO.nombre," "),T.xp6(14),T.Q6J("ngForOf",M.sidebarService.menu))},dependencies:[Se.sg,xr.yS,xr.Od],encapsulation:2}),B})(),ha=(()=>{class B{constructor(_,M){this.router=_,this.usuarioService=M,this.usuarioNETDTO=M.usuarioNETDTO}logout(){this.usuarioService.Logout_V1()}buscar(_){0!==_.length&&this.router.navigateByUrl(`/dashboard/buscar/${_}`)}}return B.\u0275fac=function(_){return new(_||B)(T.Y36(xr.F0),T.Y36(ld.m))},B.\u0275cmp=T.Xpm({type:B,selectors:[["app-header"]],decls:51,vars:4,consts:[[1,"topbar"],[1,"navbar","top-navbar","navbar-expand-md","navbar-light"],[1,"navbar-header"],["href","index.html",1,"navbar-brand"],["src","../../../RISO-POS-PRODUCCION/assets/images/logo-icon.png","alt","homepage",1,"dark-logo"],["src","../../../RISO-POS-PRODUCCION/assets/images/logo-light-icon.png","alt","homepage",1,"light-logo"],["src","../../../RISO-POS-PRODUCCION/assets/images/logo-text.png","alt","homepage",1,"dark-logo"],["src","../../../RISO-POS-PRODUCCION/assets/images/logo-light-text.png","alt","homepage",1,"light-logo"],[1,"navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],["href","javascript:void(0)",1,"nav-link","nav-toggler","hidden-md-up","waves-effect","waves-dark"],[1,"ti-menu"],["href","javascript:void(0)",1,"nav-link","sidebartoggler","hidden-sm-down","waves-effect","waves-dark"],[1,"nav-item","hidden-sm-down"],[1,"navbar-nav","my-lg-0"],[1,"nav-item","dropdown"],["href","","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle","waves-effect","waves-dark"],["alt","user",1,"profile-pic",3,"src"],[1,"dropdown-menu","dropdown-menu-right","animated","fadeIn","fast"],[1,"dropdown-user"],[1,"dw-user-box"],[1,"u-img"],["alt","user",3,"src"],[1,"u-text"],[1,"text-muted"],["routerLinkActive","active","routerLink","./perfil",1,"btn","btn-rounded","btn-danger","btn-sm"],["role","separator",1,"divider"],["routerLink","./perfil"],[1,"ti-user"],["routerLink","account-settings"],[1,"ti-settings"],[1,"cursor",3,"click"],[1,"fa","fa-power-off"]],template:function(_,M){1&_&&(T.TgZ(0,"header",0)(1,"nav",1)(2,"div",2)(3,"a",3)(4,"b"),T._UZ(5,"img",4)(6,"img",5),T.qZA(),T.TgZ(7,"span"),T._UZ(8,"img",6)(9,"img",7),T.qZA()()(),T.TgZ(10,"div",8)(11,"ul",9)(12,"li",10)(13,"a",11),T._UZ(14,"i",12),T.qZA()(),T.TgZ(15,"li",10)(16,"a",13),T._UZ(17,"i",12),T.qZA()(),T._UZ(18,"li",14),T.qZA(),T.TgZ(19,"ul",15)(20,"li",16)(21,"a",17),T._UZ(22,"img",18),T.qZA(),T.TgZ(23,"div",19)(24,"ul",20)(25,"li")(26,"div",21)(27,"div",22),T._UZ(28,"img",23),T.qZA(),T.TgZ(29,"div",24)(30,"h4"),T._uU(31),T.qZA(),T.TgZ(32,"p",25),T._uU(33),T.qZA(),T.TgZ(34,"a",26),T._uU(35,"Mi Perfil"),T.qZA()()()(),T._UZ(36,"li",27),T.TgZ(37,"li")(38,"a",28),T._UZ(39,"i",29),T._uU(40," Mi Perfil"),T.qZA()(),T._UZ(41,"li",27),T.TgZ(42,"li")(43,"a",30),T._UZ(44,"i",31),T._uU(45," Configurar Cuenta"),T.qZA()(),T._UZ(46,"li",27),T.TgZ(47,"li")(48,"a",32),T.NdJ("click",function(){return M.logout()}),T._UZ(49,"i",33),T._uU(50," Salir "),T.qZA()()()()()()()()()),2&_&&(T.xp6(22),T.Q6J("src",M.usuarioService.imagenUrl,T.LSH),T.xp6(6),T.Q6J("src",M.usuarioService.imagenUrl,T.LSH),T.xp6(3),T.Oqu(M.usuarioNETDTO.nombre),T.xp6(2),T.hij(" ",M.usuarioService.GetCampoJWT("email")," "))},dependencies:[xr.yS,xr.Od],encapsulation:2}),B})(),pp=(()=>{class B{constructor(_,M){this.settingsService=_,this.sidebarService=M}ngOnInit(){customInitFunctions(),this.sidebarService.cargarMenu()}manejarRated(_){console.log(_)}}return B.\u0275fac=function(_){return new(_||B)(T.Y36(ve.g),T.Y36(yt))},B.\u0275cmp=T.Xpm({type:B,selectors:[["app-pages"]],decls:10,vars:0,consts:[["id","main-wrapper"],[1,"page-wrapper"],[1,"container-fluid"],[1,"footer"]],template:function(_,M){1&_&&(T.TgZ(0,"div",0),T._UZ(1,"app-header")(2,"app-sidebar"),T.TgZ(3,"div",1)(4,"div",2),T._UZ(5,"app-breadcrumbs")(6,"router-outlet"),T.qZA(),T.TgZ(7,"footer",3),T._uU(8," \xa9 2024 RISO-POS by JCRS "),T.qZA()()(),T._UZ(9,"app-modal-imagen"))},dependencies:[xr.lC,Qa,ra,mu,ha],encapsulation:2}),B})();var Qh=N(8505);const oh=[{path:"dashboard",component:pp,canActivate:[(()=>{class B{constructor(_,M){this.usuarioService=_,this.router=M,this.errores=[]}canActivate(_,M){return this.usuarioService.ValidateToken_V1().pipe((0,Qh.b)(W=>{W||this.router.navigateByUrl("/login")}))}canLoad(_,M){return!0}}return B.\u0275fac=function(_){return new(_||B)(T.LFG(ld.m),T.LFG(xr.F0))},B.\u0275prov=T.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})()],loadChildren:()=>N.e(776).then(N.bind(N,4776)).then(B=>B.ChildRoutesModule)}];let ud=(()=>{class B{}return B.\u0275fac=function(_){return new(_||B)},B.\u0275mod=T.oAB({type:B}),B.\u0275inj=T.cJS({imports:[xr.Bz.forChild(oh),xr.Bz]}),B})();function Rd(B,g){1&B&&(T.TgZ(0,"p"),T._uU(1,"* El nombre es obligatorio"),T.qZA())}function Xh(B,g){1&B&&(T.TgZ(0,"p"),T._uU(1,"* El email es obligatorio y tiene que ser v\xe1lido"),T.qZA())}function Ch(B,g){1&B&&(T.TgZ(0,"p"),T._uU(1,"* Las contrase\xf1as deben de ser iguales"),T.qZA())}function Mu(B,g){1&B&&(T.TgZ(0,"p"),T._uU(1,"* Debe de aceptar los t\xe9rminos de uso"),T.qZA())}const Cc=["googleBtn"],Lf=[{path:"register",component:(()=>{class B{constructor(_,M,W){this.formBuilder=_,this.router=M,this.usuarioService=W,this.formSubmitted=!1,this.registerForm=this.formBuilder.group({nombre:["",ar.kI.required],email:["",[ar.kI.required,ar.kI.email]],password:["",ar.kI.required],password2:["",ar.kI.required],terminos:[!0,ar.kI.required]},{validators:[this.PasswordsIguales_V1("password","password2")]})}ngOnInit(){this.registerForm.reset({nombre:"Julio Rivera",email:"Julio100@test.com",password:"1234567",password2:"1234567",terminos:!0})}CreateUsuario(){this.formSubmitted=!0,!this.registerForm.invalid&&this.usuarioService.CreatePorFormBuilder(this.registerForm.value).subscribe(_=>{this.router.navigateByUrl("/")},_=>{jn().fire("Error",_.error.msg,"error"),console.log(_)})}FieldNoValido(_){return!(!this.registerForm.get(_)?.invalid||!this.formSubmitted)}PasswordsNoValidos(){const _=this.registerForm.get("password")?.value,M=this.registerForm.get("password2")?.value;return!(_===M||!this.formSubmitted)}PasswordsIguales_V1(_,M){return W=>{const we=W.get(_)?.value,ht=W.get(M)?.value;return we!==ht?(W.get(M)?.setErrors({noIguales:!0}),{noIguales:!0}):(W.get(M)?.setErrors(null),null)}}PasswordsIguales_V2(_,M){return W=>{const ht=W.controls[M];ht.setErrors(W.controls[_].value===ht.value?null:{noEsIgual:!0})}}AcceptTerminos(){return!this.registerForm.get("terminos")?.value&&this.formSubmitted}}return B.\u0275fac=function(_){return new(_||B)(T.Y36(ar.qu),T.Y36(xr.F0),T.Y36(ld.m))},B.\u0275cmp=T.Xpm({type:B,selectors:[["app-register"]],decls:49,vars:5,consts:[["id","wrapper",1,"login-register","login-sidebar",2,"background-image","url(../RISO-POS-PRODUCCION/assets/images/background/login-register.jpg)"],[1,"login-box","card"],[1,"card-body"],["id","loginform","autocomplete","off",1,"form-horizontal","form-material",3,"formGroup","ngSubmit"],["href","javascript:void(0)",1,"text-center","db"],["src","../RISO-POS-PRODUCCION/assets/images/logo-icon.png","alt","Home"],["src","../RISO-POS-PRODUCCION/assets/images/logo-text.png","alt","Home"],[1,"box-title","m-t-40","m-b-0"],[1,"form-group","m-t-20"],[1,"col-xs-12"],["type","text","placeholder","Name","formControlName","nombre",1,"form-control"],[1,"form-group"],["type","text","placeholder","Email","formControlName","email",1,"form-control"],["type","password","placeholder","Password","formControlName","password",1,"form-control"],["type","password","placeholder","Confirm Password","formControlName","password2",1,"form-control"],[1,"form-group","row"],[1,"col-md-12"],[1,"checkbox","checkbox-primary","p-t-0"],["id","checkbox-signup","type","checkbox","formControlName","terminos"],["for","checkbox-signup"],["href","#"],[1,"row"],[1,"col","text-danger"],[4,"ngIf"],[1,"form-group","text-center","m-t-20"],["type","submit",1,"btn","btn-info","btn-lg","btn-block","text-uppercase","waves-effect","waves-light"],[1,"form-group","m-b-0"],[1,"col-sm-12","text-center"],["routerLink","/login",1,"text-info","m-l-5"]],template:function(_,M){1&_&&(T.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"form",3),T.NdJ("ngSubmit",function(){return M.CreateUsuario()}),T.TgZ(4,"a",4),T._UZ(5,"img",5)(6,"br")(7,"img",6),T.qZA(),T.TgZ(8,"h3",7),T._uU(9,"Registrate"),T.qZA(),T.TgZ(10,"small"),T._uU(11,"Crea una cuenta"),T.qZA(),T.TgZ(12,"div",8)(13,"div",9),T._UZ(14,"input",10),T.qZA()(),T.TgZ(15,"div",11)(16,"div",9),T._UZ(17,"input",12),T.qZA()(),T.TgZ(18,"div",11)(19,"div",9),T._UZ(20,"input",13),T.qZA()(),T.TgZ(21,"div",11)(22,"div",9),T._UZ(23,"input",14),T.qZA()(),T.TgZ(24,"div",15)(25,"div",16)(26,"div",17),T._UZ(27,"input",18),T.TgZ(28,"label",19),T._uU(29," Acepto "),T.TgZ(30,"a",20),T._uU(31,"Terminos"),T.qZA()()()()(),T.TgZ(32,"div",21)(33,"div",22),T.YNc(34,Rd,2,0,"p",23),T.YNc(35,Xh,2,0,"p",23),T.YNc(36,Ch,2,0,"p",23),T.YNc(37,Mu,2,0,"p",23),T.qZA()(),T.TgZ(38,"div",24)(39,"div",9)(40,"button",25),T._uU(41,"Ingresar"),T.qZA()()(),T.TgZ(42,"div",26)(43,"div",27)(44,"p"),T._uU(45,"Ya tienes una cuenta? "),T.TgZ(46,"a",28)(47,"b"),T._uU(48,"Ingresar"),T.qZA()()()()()()()()()),2&_&&(T.xp6(3),T.Q6J("formGroup",M.registerForm),T.xp6(31),T.Q6J("ngIf",M.FieldNoValido("nombre")),T.xp6(1),T.Q6J("ngIf",M.FieldNoValido("email")),T.xp6(1),T.Q6J("ngIf",M.PasswordsNoValidos()),T.xp6(1),T.Q6J("ngIf",M.AcceptTerminos()))},dependencies:[Se.O5,xr.yS,ar._Y,ar.Fj,ar.Wl,ar.JJ,ar.JL,ar.sg,ar.u],styles:[".login-register[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat;background-position:center center;height:100%;width:100%;padding:10% 0;position:fixed}.login-box[_ngcontent-%COMP%]{width:400px;margin:0 auto}.login-box[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{width:100%;left:0;right:0}.login-box[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]{display:block;margin-bottom:30px}#recoverform[_ngcontent-%COMP%]{display:none}.login-sidebar[_ngcontent-%COMP%]{padding:0;margin-top:0}.login-sidebar[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]{right:0;position:absolute;height:100%}"]}),B})()},{path:"login",component:(()=>{class B{constructor(_,M,W,we){this.formBuilder=_,this.router=M,this.ngZone=W,this.usuarioService=we,this.myRemember="remember",this.myEmail="email",this.formSubmitted=!1,this.loginform=this.formBuilder.group({email:["",[ar.kI.required,ar.kI.email]],password:["",ar.kI.required],remember:[!1]})}ngOnInit(){this.loginform.reset({email:localStorage.getItem(this.myEmail)||"",password:"",remember:!0})}login(){this.usuarioService.Login(this.loginform.value).subscribe(_=>{this.loginform.get(this.myRemember)?.value?localStorage.setItem(this.myEmail,this.loginform.get("email")?.value):localStorage.removeItem(this.myEmail),this.router.navigateByUrl("/")},_=>{jn().fire("Error",_.error.msg,"error"),console.log(_)})}ngAfterViewInit(){this.googleInit()}googleInit(){google.accounts.id.initialize({client_id:"48604389956-vl7g7ss3h6mpqfodm57vtgckgv1iknl2.apps.googleusercontent.com",callback:_=>this.handleCredentialResponse(_)}),google.accounts.id.renderButton(this.googleBtn.nativeElement,{theme:"outline",size:"large"})}handleCredentialResponse(_){console.log("Encoded JWT ID token: "+_.credential),this.usuarioService.LoginGoogle(_.credential).subscribe(M=>{this.router.navigateByUrl("/")})}renderButton(){gapi.signin2.render("my-signin2",{scope:"profile email",width:240,height:50,longtitle:!0,theme:"dark"}),this.startApp()}startApp(){var _=this;return(0,ki.Z)(function*(){yield _.usuarioService.googleInit(),_.auth2=_.usuarioService.auth2,_.attachSignin(document.getElementById("my-signin2"))})()}attachSignin(_){this.auth2.attachClickHandler(_,{},M=>{const W=M.getAuthResponse().id_token;this.usuarioService.LoginGoogle(W).subscribe(we=>{this.ngZone.run(()=>{this.router.navigateByUrl("/")})})},M=>{alert(JSON.stringify(M,void 0,2))})}}return B.\u0275fac=function(_){return new(_||B)(T.Y36(ar.qu),T.Y36(xr.F0),T.Y36(T.R0b),T.Y36(ld.m))},B.\u0275cmp=T.Xpm({type:B,selectors:[["app-login"]],viewQuery:function(_,M){if(1&_&&T.Gf(Cc,5),2&_){let W;T.iGM(W=T.CRH())&&(M.googleBtn=W.first)}},decls:50,vars:1,consts:[["id","wrapper",1,"login-register","login-sidebar",2,"background-image","url(../../../RISO-POS-PRODUCCION/assets/images/background/login-register.jpg)"],[1,"login-box","card"],[1,"card-body"],["autocomplete","off","id","loginform",1,"form-horizontal","form-material",3,"formGroup","ngSubmit"],["href","javascript:void(0)",1,"text-center","db"],["src","../../../RISO-POS-PRODUCCION/assets/images/logo-icon.png","alt","Home"],["src","../../../RISO-POS-PRODUCCION/assets/images/logo-text.png","alt","Home"],[1,"form-group","m-t-40"],[1,"col-xs-12"],["type","email","placeholder","Email","formControlName","email",1,"form-control"],[1,"form-group"],["type","password","placeholder","Password","formControlName","password",1,"form-control"],[1,"form-group","row"],[1,"col-md-12"],[1,"checkbox","checkbox-primary","pull-left","p-t-0"],["id","checkbox-signup","type","checkbox","formControlName","remember",1,"filled-in","chk-col-light-blue"],["for","checkbox-signup"],["href","javascript:void(0)","id","to-recover",1,"text-dark","pull-right"],[1,"fa","fa-lock","m-r-5"],[1,"form-group","text-center","m-t-20"],["type","submit",1,"btn","btn-info","btn-lg","btn-block","text-uppercase","btn-rounded"],[1,"row"],["id","google-btn",1,"col-xs-12","col-sm-12","col-md-12","m-t-10","mb-4","text-center"],["id","my-signin2"],[1,"form-group","m-b-0"],[1,"col-sm-12","text-center"],["routerLink","/register",1,"text-primary","m-l-5"],["id","recoverform","action","index.html",1,"form-horizontal"],[1,"text-muted"],["type","text","required","","placeholder","Email",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block","text-uppercase","waves-effect","waves-light"]],template:function(_,M){1&_&&(T.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"form",3),T.NdJ("ngSubmit",function(){return M.login()}),T.TgZ(4,"a",4),T._UZ(5,"img",5)(6,"br")(7,"img",6),T.qZA(),T.TgZ(8,"div",7)(9,"div",8),T._UZ(10,"input",9),T.qZA()(),T.TgZ(11,"div",10)(12,"div",8),T._UZ(13,"input",11),T.qZA()(),T.TgZ(14,"div",12)(15,"div",13)(16,"div",14),T._UZ(17,"input",15),T.TgZ(18,"label",16),T._uU(19," Recuerdame "),T.qZA()(),T.TgZ(20,"a",17),T._UZ(21,"i",18),T._uU(22," Olvide pwd?"),T.qZA()()(),T.TgZ(23,"div",19)(24,"div",8)(25,"button",20),T._uU(26,"Ingresar"),T.qZA()()(),T.TgZ(27,"div",21)(28,"div",22),T._UZ(29,"div",23),T.qZA()(),T.TgZ(30,"div",24)(31,"div",25),T._uU(32," No tienes cuenta? "),T.TgZ(33,"a",26)(34,"b"),T._uU(35,"Registrate"),T.qZA()()()()(),T.TgZ(36,"form",27)(37,"div",10)(38,"div",8)(39,"h3"),T._uU(40,"Recuperar Password"),T.qZA(),T.TgZ(41,"p",28),T._uU(42,"Ingresa tu Email y se te enviaran instrucciones! "),T.qZA()()(),T.TgZ(43,"div",10)(44,"div",8),T._UZ(45,"input",29),T.qZA()(),T.TgZ(46,"div",19)(47,"div",8)(48,"button",30),T._uU(49,"Reset"),T.qZA()()()()()()()),2&_&&(T.xp6(3),T.Q6J("formGroup",M.loginform))},dependencies:[xr.yS,ar._Y,ar.Fj,ar.Wl,ar.JJ,ar.JL,ar.F,ar.sg,ar.u],styles:[".login-register[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat;background-position:center center;height:100%;width:100%;padding:10% 0;position:fixed}.login-box[_ngcontent-%COMP%]{width:400px;margin:0 auto}.login-box[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{width:100%;left:0;right:0}.login-box[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]{display:block;margin-bottom:30px}#recoverform[_ngcontent-%COMP%]{display:none}.login-sidebar[_ngcontent-%COMP%]{padding:0;margin-top:0}.login-sidebar[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]{right:0;position:absolute;height:100%}"]}),B})()}];let qu=(()=>{class B{}return B.\u0275fac=function(_){return new(_||B)},B.\u0275mod=T.oAB({type:B}),B.\u0275inj=T.cJS({imports:[xr.Bz.forChild(Lf),xr.Bz]}),B})();const Pc=[{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"**",component:(()=>{class B{constructor(){this.year=(new Date).getFullYear()}}return B.\u0275fac=function(_){return new(_||B)},B.\u0275cmp=T.Xpm({type:B,selectors:[["app-nopagefound"]],decls:13,vars:1,consts:[["id","wrapper",1,"error-page"],[1,"error-box"],[1,"error-body","text-center"],[1,"text-uppercase"],[1,"text-muted","m-t-30","m-b-30"],["href","index.html",1,"btn","btn-info","btn-rounded","waves-effect","waves-light","m-b-40"],[1,"footer","text-center"]],template:function(_,M){1&_&&(T.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1"),T._uU(4,"404"),T.qZA(),T.TgZ(5,"h3",3),T._uU(6,"Page Not Found !"),T.qZA(),T.TgZ(7,"p",4),T._uU(8,"YOU SEEM TO BE TRYING TO FIND HIS WAY HOME"),T.qZA(),T.TgZ(9,"a",5),T._uU(10,"Back to home"),T.qZA()(),T.TgZ(11,"footer",6),T._uU(12),T.qZA()()()),2&_&&(T.xp6(12),T.hij("\xa9 ",M.year," Admin Pro."))},styles:[".error-box[_ngcontent-%COMP%]{height:100%;position:fixed;background:url(error-bg.bfc09c8c0a3c8185.jpg) no-repeat center center #fff;width:100%}.error-box[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{width:100%;left:0;right:0}.error-body[_ngcontent-%COMP%]{padding-top:5%}.error-body[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:210px;font-weight:900;text-shadow:4px 4px 0 #ffffff,6px 6px 0 #263238;line-height:210px}"]}),B})()}];let Tc=(()=>{class B{}return B.\u0275fac=function(_){return new(_||B)},B.\u0275mod=T.oAB({type:B}),B.\u0275inj=T.cJS({imports:[xr.Bz.forRoot(Pc),ud,qu,xr.Bz]}),B})(),Fd=(()=>{class B{}return B.\u0275fac=function(_){return new(_||B)},B.\u0275mod=T.oAB({type:B}),B.\u0275inj=T.cJS({imports:[Se.ez,xr.Bz,ar.u5,ar.UX,il.JF]}),B})();var Nd=N(5943),gl=N(3238);let kl=(()=>{class B{}return B.\u0275fac=function(_){return new(_||B)},B.\u0275mod=T.oAB({type:B}),B.\u0275inj=T.cJS({imports:[gl.BQ,gl.BQ]}),B})();var Qu=N(7392),jc=N(4859),ef=N(9549),ah=N(4144),Xu=N(4385),hd=N(6709),Gc=N(9602),fd=N(3848),ku=N(7957),Dc=N(7155),tf=N(3555),Xc=N(8184),Th=(N(3353),N(6270));const cu={provide:new T.OlP("mat-menu-scroll-strategy"),deps:[Xc.aV],useFactory:function Bf(B){return()=>B.scrollStrategies.reposition()}};let yu=(()=>{class B{}return B.\u0275fac=function(_){return new(_||B)},B.\u0275mod=T.oAB({type:B}),B.\u0275inj=T.cJS({providers:[cu],imports:[Se.ez,gl.BQ,gl.si,Xc.U8,Th.ZD,gl.BQ]}),B})();var Jc=N(8739),Mh=N(1572),_d=N(7331),hc=N(4850),vd=N(1733),as=N(3546);let wu=(()=>{class B{}return B.\u0275fac=function(_){return new(_||B)},B.\u0275mod=T.oAB({type:B}),B.\u0275inj=T.cJS({imports:[Se.ez,gl.BQ,Th.ZD,Th.ZD,gl.BQ]}),B})(),Oh=(()=>{class B{}return B.\u0275fac=function(_){return new(_||B)},B.\u0275mod=T.oAB({type:B}),B.\u0275inj=T.cJS({imports:[gl.uc,gl.BQ,gl.uc,gl.BQ]}),B})(),Ko=(()=>{class B{}return B.\u0275fac=function(_){return new(_||B)},B.\u0275mod=T.oAB({type:B}),B.\u0275inj=T.cJS({imports:[Se.ez,kl,Qu.Ps,jc.ot,ef.lN,ah.c,Xu.LD,hd.p9,Gc.FA,gl.XK,fd.Nh,ku.Bb,Dc.p0,tf._t,yu,Jc.TU,Mh.Cq,_d.Hi,hc.t,vd.AV,as.QW,wu,Oh]}),B})();var Pl=N(3803),Yd=N(2340);let Lc=(()=>{class B{}return B.\u0275fac=function(_){return new(_||B)},B.\u0275mod=T.oAB({type:B}),B.\u0275inj=T.cJS({imports:[Se.ez]}),B})(),Ja=(()=>{class B{}return B.\u0275fac=function(_){return new(_||B)},B.\u0275mod=T.oAB({type:B}),B.\u0275inj=T.cJS({imports:[xr.Bz,Se.ez,ar.u5,ar.UX,Nd.vQ,Ko,Pl.a4,ae.hO.initializeApp(Yd.N.firebase),Xe.yb,ua.UO,co.JP.forRoot(),Lc]}),B})(),Rh=(()=>{class B{}return B.\u0275fac=function(_){return new(_||B)},B.\u0275mod=T.oAB({type:B}),B.\u0275inj=T.cJS({imports:[Se.ez,xr.Bz,ar.u5]}),B})(),wd=(()=>{class B{}return B.\u0275fac=function(_){return new(_||B)},B.\u0275mod=T.oAB({type:B}),B.\u0275inj=T.cJS({imports:[a.b2,Vs,Se.ez,ar.u5,ar.UX,xr.Bz,Ja,Ko,Lc]}),B})(),Lu=(()=>{class B{}return B.\u0275fac=function(_){return new(_||B)},B.\u0275mod=T.oAB({type:B}),B.\u0275inj=T.cJS({imports:[a.b2,Vs,Se.ez,ar.u5,ar.UX,xr.Bz,Ja,Ko,Lc]}),B})(),Zd=(()=>{class B{}return B.\u0275fac=function(_){return new(_||B)},B.\u0275mod=T.oAB({type:B}),B.\u0275inj=T.cJS({imports:[a.b2,Vs,Se.ez,ar.u5,ar.UX,xr.Bz,Gs.ii.forChild(),Ja,Ko,Lc,ua.UO,co.JP.forChild()]}),B})(),qp=(()=>{class B{}return B.\u0275fac=function(_){return new(_||B)},B.\u0275mod=T.oAB({type:B}),B.\u0275inj=T.cJS({imports:[a.b2,Vs,Se.ez,ar.u5,ar.UX,xr.Bz,Gs.ii.forChild(),Ja,Ko,Lc,ua.UO,co.JP.forChild()]}),B})(),yp=(()=>{class B{}return B.\u0275fac=function(_){return new(_||B)},B.\u0275mod=T.oAB({type:B}),B.\u0275inj=T.cJS({imports:[a.b2,Vs,Se.ez,ar.u5,ar.UX,xr.Bz,Gs.ii.forChild(),Ja,Ko,Lc,ua.UO,co.JP.forChild()]}),B})(),sf=(()=>{class B{}return B.\u0275fac=function(_){return new(_||B)},B.\u0275mod=T.oAB({type:B}),B.\u0275inj=T.cJS({imports:[a.b2,Vs,Se.ez,ar.u5,ar.UX,xr.Bz,Gs.ii.forChild(),Ja,Ko,Lc,ua.UO,co.JP.forChild()]}),B})(),bp=(()=>{class B{}return B.\u0275fac=function(_){return new(_||B)},B.\u0275mod=T.oAB({type:B}),B.\u0275inj=T.cJS({imports:[a.b2,Vs,Se.ez,ar.u5,ar.UX,xr.Bz,Gs.ii.forChild(),Ja,Ko,Lc,ua.UO,co.JP.forChild()]}),B})(),Hf=(()=>{class B{}return B.\u0275fac=function(_){return new(_||B)},B.\u0275mod=T.oAB({type:B}),B.\u0275inj=T.cJS({imports:[a.b2,Vs,Se.ez,ar.u5,ar.UX,xr.Bz,Gs.ii.forChild(),Ja,Ko,Lc,ua.UO,co.JP.forChild()]}),B})(),Fh=(()=>{class B{}return B.\u0275fac=function(_){return new(_||B)},B.\u0275mod=T.oAB({type:B}),B.\u0275inj=T.cJS({imports:[a.b2,Vs,Se.ez,ar.u5,ar.UX,xr.Bz,Gs.ii.forChild(),Ja,Ko,Lc,ua.UO,co.JP.forChild()]}),B})(),Uf=(()=>{class B{}return B.\u0275fac=function(_){return new(_||B)},B.\u0275mod=T.oAB({type:B}),B.\u0275inj=T.cJS({imports:[a.b2,Vs,Se.ez,ar.u5,ar.UX,xr.Bz,Gs.ii.forChild(),Ja,Ko,Lc,ua.UO,co.JP.forChild(),qp,yp,bp,Hf,sf,Fh]}),B})(),zf=(()=>{class B{}return B.\u0275fac=function(_){return new(_||B)},B.\u0275mod=T.oAB({type:B}),B.\u0275inj=T.cJS({imports:[a.b2,Vs,Se.ez,ar.u5,ar.UX,xr.Bz,Ja,Ko,Rh,Lc,wd,Lu,Zd,Uf,ae.hO.initializeApp(Yd.N.firebase),Xe.yb,co.JP.forChild()]}),B})(),Qg=(()=>{class B{constructor(){this.title="RISO - POS"}}return B.\u0275fac=function(_){return new(_||B)},B.\u0275cmp=T.Xpm({type:B,selectors:[["app-root"]],decls:1,vars:0,template:function(_,M){1&_&&T._UZ(0,"router-outlet")},dependencies:[xr.lC]}),B})(),Xg=(()=>{class B{}return B.\u0275fac=function(_){return new(_||B)},B.\u0275mod=T.oAB({type:B}),B.\u0275inj=T.cJS({imports:[Se.ez,xr.Bz,ar.u5,ar.UX,il.JF,Ja,Ko,Gs.ii.forChild()]}),B})();var af=N(3947);let xp=(()=>{class B{constructor(_){this.usuarioNETService=_}intercept(_,M){let W=this.usuarioNETService.token;return W&&(_=_.clone({setHeaders:{Authorization:`Bearer ${W}`}})),M.handle(_)}}return B.\u0275fac=function(_){return new(_||B)(T.LFG(ld.m))},B.\u0275prov=T.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})(),Gm=(()=>{class B{}return B.\u0275fac=function(_){return new(_||B)},B.\u0275mod=T.oAB({type:B,bootstrap:[Qg]}),B.\u0275inj=T.cJS({providers:[{provide:il.TP,useClass:xp,multi:!0}],imports:[a.b2,Vs,Se.ez,ar.u5,ar.UX,xr.Bz,Gs.ii.forRoot(),Tc,Fd,zf,Ja,Ko,Xg,ae.hO.initializeApp(Yd.N.firebase),Xe.yb,ua.UO,co.JP.forRoot(),af.pL]}),B})();Yd.N.production&&(0,T.G48)(),a.q6().bootstrapModule(Gm).catch(B=>console.error(B))},4327:function(ai,qt){var T;void 0!==(T=function(){"use strict";function ue(re,ce,be){var Ve=new XMLHttpRequest;Ve.open("GET",re),Ve.responseType="blob",Ve.onload=function(){Ce(Ve.response,ce,be)},Ve.onerror=function(){console.error("could not download file")},Ve.send()}function R(re){var ce=new XMLHttpRequest;ce.open("HEAD",re,!1);try{ce.send()}catch{}return 200<=ce.status&&299>=ce.status}function Ee(re){try{re.dispatchEvent(new MouseEvent("click"))}catch{var ce=document.createEvent("MouseEvents");ce.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),re.dispatchEvent(ce)}}var Re="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,xe=Re.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),Ce=Re.saveAs||("object"!=typeof window||window!==Re?function(){}:"download"in HTMLAnchorElement.prototype&&!xe?function(re,ce,be){var Ve=Re.URL||Re.webkitURL,Ne=document.createElement("a");Ne.download=ce=ce||re.name||"download",Ne.rel="noopener","string"==typeof re?(Ne.href=re,Ne.origin===location.origin?Ee(Ne):R(Ne.href)?ue(re,ce,be):Ee(Ne,Ne.target="_blank")):(Ne.href=Ve.createObjectURL(re),setTimeout(function(){Ve.revokeObjectURL(Ne.href)},4e4),setTimeout(function(){Ee(Ne)},0))}:"msSaveOrOpenBlob"in navigator?function(re,ce,be){if(ce=ce||re.name||"download","string"!=typeof re)navigator.msSaveOrOpenBlob(function O(re,ce){return typeof ce>"u"?ce={autoBom:!1}:"object"!=typeof ce&&(console.warn("Deprecated: Expected third argument to be a object"),ce={autoBom:!ce}),ce.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(re.type)?new Blob(["\ufeff",re],{type:re.type}):re}(re,be),ce);else if(R(re))ue(re,ce,be);else{var Ve=document.createElement("a");Ve.href=re,Ve.target="_blank",setTimeout(function(){Ee(Ve)})}}:function(re,ce,be,Ve){if((Ve=Ve||open("","_blank"))&&(Ve.document.title=Ve.document.body.innerText="downloading..."),"string"==typeof re)return ue(re,ce,be);var Ne="application/octet-stream"===re.type,Be=/constructor/i.test(Re.HTMLElement)||Re.safari,Je=/CriOS\/[\d]+/.test(navigator.userAgent);if((Je||Ne&&Be||xe)&&typeof FileReader<"u"){var Ke=new FileReader;Ke.onloadend=function(){var ft=Ke.result;ft=Je?ft:ft.replace(/^data:[^;]*;/,"data:attachment/file;"),Ve?Ve.location.href=ft:location=ft,Ve=null},Ke.readAsDataURL(re)}else{var nt=Re.URL||Re.webkitURL,We=nt.createObjectURL(re);Ve?Ve.location=We:location.href=We,Ve=null,setTimeout(function(){nt.revokeObjectURL(We)},4e4)}});Re.saveAs=Ce.saveAs=Ce,ai.exports=Ce}.apply(qt,[]))&&(ai.exports=T)},8407:function(ai,qt){!function(N){"use strict";function T(f){var w,H,ee,Le;for(H=1,ee=arguments.length;H<ee;H++)for(w in Le=arguments[H])f[w]=Le[w];return f}var O=Object.create||function(){function f(){}return function(w){return f.prototype=w,new f}}();function ue(f,w){var H=Array.prototype.slice;if(f.bind)return f.bind.apply(f,H.call(arguments,1));var ee=H.call(arguments,2);return function(){return f.apply(w,ee.length?ee.concat(H.call(arguments)):arguments)}}var R=0;function Ee(f){return"_leaflet_id"in f||(f._leaflet_id=++R),f._leaflet_id}function Re(f,w,H){var ee,Le,Dt,fn;return fn=function(){ee=!1,Le&&(Dt.apply(H,Le),Le=!1)},Dt=function(){ee?Le=arguments:(f.apply(H,arguments),setTimeout(fn,w),ee=!0)},Dt}function xe(f,w,H){var ee=w[1],Le=w[0],Dt=ee-Le;return f===ee&&H?f:((f-Le)%Dt+Dt)%Dt+Le}function Ce(){return!1}function re(f,w){if(!1===w)return f;var H=Math.pow(10,void 0===w?6:w);return Math.round(f*H)/H}function ce(f){return f.trim?f.trim():f.replace(/^\s+|\s+$/g,"")}function be(f){return ce(f).split(/\s+/)}function Ve(f,w){for(var H in Object.prototype.hasOwnProperty.call(f,"options")||(f.options=f.options?O(f.options):{}),w)f.options[H]=w[H];return f.options}function Ne(f,w,H){var ee=[];for(var Le in f)ee.push(encodeURIComponent(H?Le.toUpperCase():Le)+"="+encodeURIComponent(f[Le]));return(w&&-1!==w.indexOf("?")?"&":"?")+ee.join("&")}var Be=/\{ *([\w_ -]+) *\}/g;function Je(f,w){return f.replace(Be,function(H,ee){var Le=w[ee];if(void 0===Le)throw new Error("No value provided for variable "+H);return"function"==typeof Le&&(Le=Le(w)),Le})}var Ke=Array.isArray||function(f){return"[object Array]"===Object.prototype.toString.call(f)};function nt(f,w){for(var H=0;H<f.length;H++)if(f[H]===w)return H;return-1}var We="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ft(f){return window["webkit"+f]||window["moz"+f]||window["ms"+f]}var pt=0;function tt(f){var w=+new Date,H=Math.max(0,16-(w-pt));return pt=w+H,window.setTimeout(f,H)}var je=window.requestAnimationFrame||ft("RequestAnimationFrame")||tt,Ye=window.cancelAnimationFrame||ft("CancelAnimationFrame")||ft("CancelRequestAnimationFrame")||function(f){window.clearTimeout(f)};function Me(f,w,H){if(!H||je!==tt)return je.call(window,ue(f,w));f.call(w)}function me(f){f&&Ye.call(window,f)}var St={__proto__:null,extend:T,create:O,bind:ue,get lastId(){return R},stamp:Ee,throttle:Re,wrapNum:xe,falseFn:Ce,formatNum:re,trim:ce,splitWords:be,setOptions:Ve,getParamString:Ne,template:Je,isArray:Ke,indexOf:nt,emptyImageUrl:We,requestFn:je,cancelFn:Ye,requestAnimFrame:Me,cancelAnimFrame:me};function vt(){}vt.extend=function(f){var w=function(){Ve(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},H=w.__super__=this.prototype,ee=O(H);for(var Le in ee.constructor=w,w.prototype=ee,this)Object.prototype.hasOwnProperty.call(this,Le)&&"prototype"!==Le&&"__super__"!==Le&&(w[Le]=this[Le]);return f.statics&&T(w,f.statics),f.includes&&(function an(f){if(!(typeof L>"u")&&L&&L.Mixin){f=Ke(f)?f:[f];for(var w=0;w<f.length;w++)f[w]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(f.includes),T.apply(null,[ee].concat(f.includes))),T(ee,f),delete ee.statics,delete ee.includes,ee.options&&(ee.options=H.options?O(H.options):{},T(ee.options,f.options)),ee._initHooks=[],ee.callInitHooks=function(){if(!this._initHooksCalled){H.callInitHooks&&H.callInitHooks.call(this),this._initHooksCalled=!0;for(var Dt=0,fn=ee._initHooks.length;Dt<fn;Dt++)ee._initHooks[Dt].call(this)}},w},vt.include=function(f){var w=this.prototype.options;return T(this.prototype,f),f.options&&(this.prototype.options=w,this.mergeOptions(f.options)),this},vt.mergeOptions=function(f){return T(this.prototype.options,f),this},vt.addInitHook=function(f){var w=Array.prototype.slice.call(arguments,1),H="function"==typeof f?f:function(){this[f].apply(this,w)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(H),this};var xn={on:function(f,w,H){if("object"==typeof f)for(var ee in f)this._on(ee,f[ee],w);else for(var Le=0,Dt=(f=be(f)).length;Le<Dt;Le++)this._on(f[Le],w,H);return this},off:function(f,w,H){if(arguments.length)if("object"==typeof f)for(var ee in f)this._off(ee,f[ee],w);else{f=be(f);for(var Le=1===arguments.length,Dt=0,fn=f.length;Dt<fn;Dt++)Le?this._off(f[Dt]):this._off(f[Dt],w,H)}else delete this._events;return this},_on:function(f,w,H,ee){if("function"==typeof w){if(!1===this._listens(f,w,H)){H===this&&(H=void 0);var Le={fn:w,ctx:H};ee&&(Le.once=!0),this._events=this._events||{},this._events[f]=this._events[f]||[],this._events[f].push(Le)}}else console.warn("wrong listener type: "+typeof w)},_off:function(f,w,H){var ee,Le,Dt;if(this._events&&(ee=this._events[f])){if(1===arguments.length){if(this._firingCount)for(Le=0,Dt=ee.length;Le<Dt;Le++)ee[Le].fn=Ce;return void delete this._events[f]}if("function"!=typeof w)return void console.warn("wrong listener type: "+typeof w);var fn=this._listens(f,w,H);!1!==fn&&(this._firingCount&&(ee[fn].fn=Ce,this._events[f]=ee=ee.slice()),ee.splice(fn,1))}},fire:function(f,w,H){if(!this.listens(f,H))return this;var ee=T({},w,{type:f,target:this,sourceTarget:w&&w.sourceTarget||this});if(this._events){var Le=this._events[f];if(Le){this._firingCount=this._firingCount+1||1;for(var Dt=0,fn=Le.length;Dt<fn;Dt++){var $n=Le[Dt],Xn=$n.fn;$n.once&&this.off(f,Xn,$n.ctx),Xn.call($n.ctx||this,ee)}this._firingCount--}}return H&&this._propagateEvent(ee),this},listens:function(f,w,H,ee){"string"!=typeof f&&console.warn('"string" type argument expected');var Le=w;"function"!=typeof w&&(ee=!!w,Le=void 0,H=void 0);var Dt=this._events&&this._events[f];if(Dt&&Dt.length&&!1!==this._listens(f,Le,H))return!0;if(ee)for(var fn in this._eventParents)if(this._eventParents[fn].listens(f,w,H,ee))return!0;return!1},_listens:function(f,w,H){if(!this._events)return!1;var ee=this._events[f]||[];if(!w)return!!ee.length;H===this&&(H=void 0);for(var Le=0,Dt=ee.length;Le<Dt;Le++)if(ee[Le].fn===w&&ee[Le].ctx===H)return Le;return!1},once:function(f,w,H){if("object"==typeof f)for(var ee in f)this._on(ee,f[ee],w,!0);else for(var Le=0,Dt=(f=be(f)).length;Le<Dt;Le++)this._on(f[Le],w,H,!0);return this},addEventParent:function(f){return this._eventParents=this._eventParents||{},this._eventParents[Ee(f)]=f,this},removeEventParent:function(f){return this._eventParents&&delete this._eventParents[Ee(f)],this},_propagateEvent:function(f){for(var w in this._eventParents)this._eventParents[w].fire(f.type,T({layer:f.target,propagatedFrom:f.target},f),!0)}};xn.addEventListener=xn.on,xn.removeEventListener=xn.clearAllEventListeners=xn.off,xn.addOneTimeEventListener=xn.once,xn.fireEvent=xn.fire,xn.hasEventListeners=xn.listens;var In=vt.extend(xn);function cn(f,w,H){this.x=H?Math.round(f):f,this.y=H?Math.round(w):w}var Gn=Math.trunc||function(f){return f>0?Math.floor(f):Math.ceil(f)};function Tn(f,w,H){return f instanceof cn?f:Ke(f)?new cn(f[0],f[1]):null==f?f:"object"==typeof f&&"x"in f&&"y"in f?new cn(f.x,f.y):new cn(f,w,H)}function Wn(f,w){if(f)for(var H=w?[f,w]:f,ee=0,Le=H.length;ee<Le;ee++)this.extend(H[ee])}function Ht(f,w){return!f||f instanceof Wn?f:new Wn(f,w)}function Bt(f,w){if(f)for(var H=w?[f,w]:f,ee=0,Le=H.length;ee<Le;ee++)this.extend(H[ee])}function Kt(f,w){return f instanceof Bt?f:new Bt(f,w)}function et(f,w,H){if(isNaN(f)||isNaN(w))throw new Error("Invalid LatLng object: ("+f+", "+w+")");this.lat=+f,this.lng=+w,void 0!==H&&(this.alt=+H)}function Vt(f,w,H){return f instanceof et?f:Ke(f)&&"object"!=typeof f[0]?3===f.length?new et(f[0],f[1],f[2]):2===f.length?new et(f[0],f[1]):null:null==f?f:"object"==typeof f&&"lat"in f?new et(f.lat,"lng"in f?f.lng:f.lon,f.alt):void 0===w?null:new et(f,w,H)}cn.prototype={clone:function(){return new cn(this.x,this.y)},add:function(f){return this.clone()._add(Tn(f))},_add:function(f){return this.x+=f.x,this.y+=f.y,this},subtract:function(f){return this.clone()._subtract(Tn(f))},_subtract:function(f){return this.x-=f.x,this.y-=f.y,this},divideBy:function(f){return this.clone()._divideBy(f)},_divideBy:function(f){return this.x/=f,this.y/=f,this},multiplyBy:function(f){return this.clone()._multiplyBy(f)},_multiplyBy:function(f){return this.x*=f,this.y*=f,this},scaleBy:function(f){return new cn(this.x*f.x,this.y*f.y)},unscaleBy:function(f){return new cn(this.x/f.x,this.y/f.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Gn(this.x),this.y=Gn(this.y),this},distanceTo:function(f){var w=(f=Tn(f)).x-this.x,H=f.y-this.y;return Math.sqrt(w*w+H*H)},equals:function(f){return(f=Tn(f)).x===this.x&&f.y===this.y},contains:function(f){return f=Tn(f),Math.abs(f.x)<=Math.abs(this.x)&&Math.abs(f.y)<=Math.abs(this.y)},toString:function(){return"Point("+re(this.x)+", "+re(this.y)+")"}},Wn.prototype={extend:function(f){var w,H;if(!f)return this;if(f instanceof cn||"number"==typeof f[0]||"x"in f)w=H=Tn(f);else if(H=(f=Ht(f)).max,!(w=f.min)||!H)return this;return this.min||this.max?(this.min.x=Math.min(w.x,this.min.x),this.max.x=Math.max(H.x,this.max.x),this.min.y=Math.min(w.y,this.min.y),this.max.y=Math.max(H.y,this.max.y)):(this.min=w.clone(),this.max=H.clone()),this},getCenter:function(f){return Tn((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,f)},getBottomLeft:function(){return Tn(this.min.x,this.max.y)},getTopRight:function(){return Tn(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(f){var w,H;return(f="number"==typeof f[0]||f instanceof cn?Tn(f):Ht(f))instanceof Wn?(w=f.min,H=f.max):w=H=f,w.x>=this.min.x&&H.x<=this.max.x&&w.y>=this.min.y&&H.y<=this.max.y},intersects:function(f){f=Ht(f);var w=this.min,H=this.max,ee=f.min,Le=f.max;return Le.x>=w.x&&ee.x<=H.x&&Le.y>=w.y&&ee.y<=H.y},overlaps:function(f){f=Ht(f);var w=this.min,H=this.max,ee=f.min,Le=f.max;return Le.x>w.x&&ee.x<H.x&&Le.y>w.y&&ee.y<H.y},isValid:function(){return!(!this.min||!this.max)},pad:function(f){var w=this.min,H=this.max,ee=Math.abs(w.x-H.x)*f,Le=Math.abs(w.y-H.y)*f;return Ht(Tn(w.x-ee,w.y-Le),Tn(H.x+ee,H.y+Le))},equals:function(f){return!!f&&(f=Ht(f),this.min.equals(f.getTopLeft())&&this.max.equals(f.getBottomRight()))}},Bt.prototype={extend:function(f){var ee,Le,w=this._southWest,H=this._northEast;if(f instanceof et)ee=f,Le=f;else{if(!(f instanceof Bt))return f?this.extend(Vt(f)||Kt(f)):this;if(Le=f._northEast,!(ee=f._southWest)||!Le)return this}return w||H?(w.lat=Math.min(ee.lat,w.lat),w.lng=Math.min(ee.lng,w.lng),H.lat=Math.max(Le.lat,H.lat),H.lng=Math.max(Le.lng,H.lng)):(this._southWest=new et(ee.lat,ee.lng),this._northEast=new et(Le.lat,Le.lng)),this},pad:function(f){var w=this._southWest,H=this._northEast,ee=Math.abs(w.lat-H.lat)*f,Le=Math.abs(w.lng-H.lng)*f;return new Bt(new et(w.lat-ee,w.lng-Le),new et(H.lat+ee,H.lng+Le))},getCenter:function(){return new et((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new et(this.getNorth(),this.getWest())},getSouthEast:function(){return new et(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(f){f="number"==typeof f[0]||f instanceof et||"lat"in f?Vt(f):Kt(f);var ee,Le,w=this._southWest,H=this._northEast;return f instanceof Bt?(ee=f.getSouthWest(),Le=f.getNorthEast()):ee=Le=f,ee.lat>=w.lat&&Le.lat<=H.lat&&ee.lng>=w.lng&&Le.lng<=H.lng},intersects:function(f){f=Kt(f);var w=this._southWest,H=this._northEast,ee=f.getSouthWest(),Le=f.getNorthEast();return Le.lat>=w.lat&&ee.lat<=H.lat&&Le.lng>=w.lng&&ee.lng<=H.lng},overlaps:function(f){f=Kt(f);var w=this._southWest,H=this._northEast,ee=f.getSouthWest(),Le=f.getNorthEast();return Le.lat>w.lat&&ee.lat<H.lat&&Le.lng>w.lng&&ee.lng<H.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(f,w){return!!f&&(f=Kt(f),this._southWest.equals(f.getSouthWest(),w)&&this._northEast.equals(f.getNorthEast(),w))},isValid:function(){return!(!this._southWest||!this._northEast)}},et.prototype={equals:function(f,w){return!!f&&(f=Vt(f),Math.max(Math.abs(this.lat-f.lat),Math.abs(this.lng-f.lng))<=(void 0===w?1e-9:w))},toString:function(f){return"LatLng("+re(this.lat,f)+", "+re(this.lng,f)+")"},distanceTo:function(f){return Yn.distance(this,Vt(f))},wrap:function(){return Yn.wrapLatLng(this)},toBounds:function(f){var w=180*f/40075017,H=w/Math.cos(Math.PI/180*this.lat);return Kt([this.lat-w,this.lng-H],[this.lat+w,this.lng+H])},clone:function(){return new et(this.lat,this.lng,this.alt)}};var f,jt={latLngToPoint:function(f,w){var H=this.projection.project(f),ee=this.scale(w);return this.transformation._transform(H,ee)},pointToLatLng:function(f,w){var H=this.scale(w),ee=this.transformation.untransform(f,H);return this.projection.unproject(ee)},project:function(f){return this.projection.project(f)},unproject:function(f){return this.projection.unproject(f)},scale:function(f){return 256*Math.pow(2,f)},zoom:function(f){return Math.log(f/256)/Math.LN2},getProjectedBounds:function(f){if(this.infinite)return null;var w=this.projection.bounds,H=this.scale(f);return new Wn(this.transformation.transform(w.min,H),this.transformation.transform(w.max,H))},infinite:!1,wrapLatLng:function(f){var w=this.wrapLng?xe(f.lng,this.wrapLng,!0):f.lng;return new et(this.wrapLat?xe(f.lat,this.wrapLat,!0):f.lat,w,f.alt)},wrapLatLngBounds:function(f){var w=f.getCenter(),H=this.wrapLatLng(w),ee=w.lat-H.lat,Le=w.lng-H.lng;if(0===ee&&0===Le)return f;var Dt=f.getSouthWest(),fn=f.getNorthEast();return new Bt(new et(Dt.lat-ee,Dt.lng-Le),new et(fn.lat-ee,fn.lng-Le))}},Yn=T({},jt,{wrapLng:[-180,180],R:6371e3,distance:function(f,w){var H=Math.PI/180,ee=f.lat*H,Le=w.lat*H,Dt=Math.sin((w.lat-f.lat)*H/2),fn=Math.sin((w.lng-f.lng)*H/2),$n=Dt*Dt+Math.cos(ee)*Math.cos(Le)*fn*fn,Xn=2*Math.atan2(Math.sqrt($n),Math.sqrt(1-$n));return this.R*Xn}}),gn={R:6378137,MAX_LATITUDE:85.0511287798,project:function(f){var w=Math.PI/180,H=this.MAX_LATITUDE,ee=Math.max(Math.min(H,f.lat),-H),Le=Math.sin(ee*w);return new cn(this.R*f.lng*w,this.R*Math.log((1+Le)/(1-Le))/2)},unproject:function(f){var w=180/Math.PI;return new et((2*Math.atan(Math.exp(f.y/this.R))-Math.PI/2)*w,f.x*w/this.R)},bounds:(f=6378137*Math.PI,new Wn([-f,-f],[f,f]))};function On(f,w,H,ee){if(Ke(f))return this._a=f[0],this._b=f[1],this._c=f[2],void(this._d=f[3]);this._a=f,this._b=w,this._c=H,this._d=ee}function Qn(f,w,H,ee){return new On(f,w,H,ee)}On.prototype={transform:function(f,w){return this._transform(f.clone(),w)},_transform:function(f,w){return f.x=(w=w||1)*(this._a*f.x+this._b),f.y=w*(this._c*f.y+this._d),f},untransform:function(f,w){return new cn((f.x/(w=w||1)-this._b)/this._a,(f.y/w-this._d)/this._c)}};var _n=T({},Yn,{code:"EPSG:3857",projection:gn,transformation:function(){var f=.5/(Math.PI*gn.R);return Qn(f,.5,-f,.5)}()}),Nn=T({},_n,{code:"EPSG:900913"});function yn(f){return document.createElementNS("http://www.w3.org/2000/svg",f)}function pn(f,w){var ee,Le,Dt,fn,$n,Xn,H="";for(ee=0,Dt=f.length;ee<Dt;ee++){for(Le=0,fn=($n=f[ee]).length;Le<fn;Le++)H+=(Le?"L":"M")+(Xn=$n[Le]).x+" "+Xn.y;H+=w?ti.svg?"z":"x":""}return H||"M0 0"}var Pn=document.documentElement.style,Nt="ActiveXObject"in window,tn=Nt&&!document.addEventListener,Rt="msLaunchUri"in navigator&&!("documentMode"in document),bn=wn("webkit"),lt=wn("android"),le=wn("android 2")||wn("android 3"),Ae=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ot=lt&&wn("Google")&&Ae<537&&!("AudioNode"in window),zt=!!window.opera,Lt=!Rt&&wn("chrome"),Mt=wn("gecko")&&!bn&&!zt&&!Nt,Tt=!Lt&&wn("safari"),mn=wn("phantom"),An="OTransition"in Pn,Ln=0===navigator.platform.indexOf("Win"),mi=Nt&&"transition"in Pn,Xi="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!le,li="MozPerspective"in Pn,Bi=!window.L_DISABLE_3D&&(mi||Xi||li)&&!An&&!mn,Si=typeof orientation<"u"||wn("mobile"),_r=Si&&bn,En=Si&&Xi,sn=!window.PointerEvent&&window.MSPointerEvent,It=!(!window.PointerEvent&&!sn),xt="ontouchstart"in window||!!window.TouchEvent,wt=!window.L_NO_TOUCH&&(xt||It),Ie=Si&&zt,pe=Si&&Mt,ye=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,st=function(){var f=!1;try{var w=Object.defineProperty({},"passive",{get:function(){f=!0}});window.addEventListener("testPassiveEventSupport",Ce,w),window.removeEventListener("testPassiveEventSupport",Ce,w)}catch{}return f}(),Ue=!!document.createElement("canvas").getContext,Te=!(!document.createElementNS||!yn("svg").createSVGRect),ct=!!Te&&function(){var f=document.createElement("div");return f.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(f.firstChild&&f.firstChild.namespaceURI)}(),Fe=!Te&&function(){try{var f=document.createElement("div");f.innerHTML='<v:shape adj="1"/>';var w=f.firstChild;return w.style.behavior="url(#default#VML)",w&&"object"==typeof w.adj}catch{return!1}}();function wn(f){return navigator.userAgent.toLowerCase().indexOf(f)>=0}var ti={ie:Nt,ielt9:tn,edge:Rt,webkit:bn,android:lt,android23:le,androidStock:ot,opera:zt,chrome:Lt,gecko:Mt,safari:Tt,phantom:mn,opera12:An,win:Ln,ie3d:mi,webkit3d:Xi,gecko3d:li,any3d:Bi,mobile:Si,mobileWebkit:_r,mobileWebkit3d:En,msPointer:sn,pointer:It,touch:wt,touchNative:xt,mobileOpera:Ie,mobileGecko:pe,retina:ye,passiveEvents:st,canvas:Ue,svg:Te,vml:Fe,inlineSvg:ct,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},Ui=ti.msPointer?"MSPointerDown":"pointerdown",Li=ti.msPointer?"MSPointerMove":"pointermove",ut=ti.msPointer?"MSPointerUp":"pointerup",ie=ti.msPointer?"MSPointerCancel":"pointercancel",K={touchstart:Ui,touchmove:Li,touchend:ut,touchcancel:ie},ge={touchstart:function at(f,w){w.MSPOINTER_TYPE_TOUCH&&w.pointerType===w.MSPOINTER_TYPE_TOUCH&&gs(w),Wt(f,w)},touchmove:Wt,touchend:Wt,touchcancel:Wt},Ge={},rn=!1;function Hn(f,w,H){return"touchstart"===w&&function it(){rn||(document.addEventListener(Ui,pi,!0),document.addEventListener(Li,mt,!0),document.addEventListener(ut,Ft,!0),document.addEventListener(ie,Ft,!0),rn=!0)}(),ge[w]?(H=ge[w].bind(this,H),f.addEventListener(K[w],H,!1),H):(console.warn("wrong event specified:",w),Ce)}function pi(f){Ge[f.pointerId]=f}function mt(f){Ge[f.pointerId]&&(Ge[f.pointerId]=f)}function Ft(f){delete Ge[f.pointerId]}function Wt(f,w){if(w.pointerType!==(w.MSPOINTER_TYPE_MOUSE||"mouse")){for(var H in w.touches=[],Ge)w.touches.push(Ge[H]);w.changedTouches=[w],f(w)}}var ja,Os,Ra,Ls,Ga,Xt=fa(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ci=fa(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),zi="webkitTransition"===ci||"OTransition"===ci?ci+"End":"transitionend";function ji(f){return"string"==typeof f?document.getElementById(f):f}function Hr(f,w){var H=f.style[w]||f.currentStyle&&f.currentStyle[w];if((!H||"auto"===H)&&document.defaultView){var ee=document.defaultView.getComputedStyle(f,null);H=ee?ee[w]:null}return"auto"===H?null:H}function vr(f,w,H){var ee=document.createElement(f);return ee.className=w||"",H&&H.appendChild(ee),ee}function ur(f){var w=f.parentNode;w&&w.removeChild(f)}function xs(f){for(;f.firstChild;)f.removeChild(f.firstChild)}function $r(f){var w=f.parentNode;w&&w.lastChild!==f&&w.appendChild(f)}function ss(f){var w=f.parentNode;w&&w.firstChild!==f&&w.insertBefore(f,w.firstChild)}function wo(f,w){if(void 0!==f.classList)return f.classList.contains(w);var H=qo(f);return H.length>0&&new RegExp("(^|\\s)"+w+"(\\s|$)").test(H)}function nr(f,w){if(void 0!==f.classList)for(var H=be(w),ee=0,Le=H.length;ee<Le;ee++)f.classList.add(H[ee]);else if(!wo(f,w)){var Dt=qo(f);Ps(f,(Dt?Dt+" ":"")+w)}}function Jr(f,w){void 0!==f.classList?f.classList.remove(w):Ps(f,ce((" "+qo(f)+" ").replace(" "+w+" "," ")))}function Ps(f,w){void 0===f.className.baseVal?f.className=w:f.className.baseVal=w}function qo(f){return f.correspondingElement&&(f=f.correspondingElement),void 0===f.className.baseVal?f.className:f.className.baseVal}function Co(f,w){"opacity"in f.style?f.style.opacity=w:"filter"in f.style&&function Wo(f,w){var H=!1,ee="DXImageTransform.Microsoft.Alpha";try{H=f.filters.item(ee)}catch{if(1===w)return}w=Math.round(100*w),H?(H.Enabled=100!==w,H.Opacity=w):f.style.filter+=" progid:"+ee+"(opacity="+w+")"}(f,w)}function fa(f){for(var w=document.documentElement.style,H=0;H<f.length;H++)if(f[H]in w)return f[H];return!1}function ws(f,w,H){var ee=w||new cn(0,0);f.style[Xt]=(ti.ie3d?"translate("+ee.x+"px,"+ee.y+"px)":"translate3d("+ee.x+"px,"+ee.y+"px,0)")+(H?" scale("+H+")":"")}function Es(f,w){f._leaflet_pos=w,ti.any3d?ws(f,w):(f.style.left=w.x+"px",f.style.top=w.y+"px")}function ta(f){return f._leaflet_pos||new cn(0,0)}if("onselectstart"in document)ja=function(){Sr(window,"selectstart",gs)},Os=function(){os(window,"selectstart",gs)};else{var cs=fa(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ja=function(){if(cs){var f=document.documentElement.style;Ra=f[cs],f[cs]="none"}},Os=function(){cs&&(document.documentElement.style[cs]=Ra,Ra=void 0)}}function Po(){Sr(window,"dragstart",gs)}function Dl(){os(window,"dragstart",gs)}function wa(f){for(;-1===f.tabIndex;)f=f.parentNode;!f.style||(Ws(),Ls=f,Ga=f.style.outline,f.style.outline="none",Sr(window,"keydown",Ws))}function Ws(){!Ls||(Ls.style.outline=Ga,Ls=void 0,Ga=void 0,os(window,"keydown",Ws))}function Hs(f){do{f=f.parentNode}while(!(f.offsetWidth&&f.offsetHeight||f===document.body));return f}function Ca(f){var w=f.getBoundingClientRect();return{x:w.width/f.offsetWidth||1,y:w.height/f.offsetHeight||1,boundingClientRect:w}}var Rl={__proto__:null,TRANSFORM:Xt,TRANSITION:ci,TRANSITION_END:zi,get:ji,getStyle:Hr,create:vr,remove:ur,empty:xs,toFront:$r,toBack:ss,hasClass:wo,addClass:nr,removeClass:Jr,setClass:Ps,getClass:qo,setOpacity:Co,testProp:fa,setTransform:ws,setPosition:Es,getPosition:ta,get disableTextSelection(){return ja},get enableTextSelection(){return Os},disableImageDrag:Po,enableImageDrag:Dl,preventOutline:wa,restoreOutline:Ws,getSizedParentNode:Hs,getScale:Ca};function Sr(f,w,H,ee){if(w&&"object"==typeof w)for(var Le in w)Bo(f,Le,w[Le],H);else for(var Dt=0,fn=(w=be(w)).length;Dt<fn;Dt++)Bo(f,w[Dt],H,ee);return this}var Rr="_leaflet_events";function os(f,w,H,ee){if(1===arguments.length)Ta(f),delete f[Rr];else if(w&&"object"==typeof w)for(var Le in w)Eo(f,Le,w[Le],H);else if(w=be(w),2===arguments.length)Ta(f,function($n){return-1!==nt(w,$n)});else for(var Dt=0,fn=w.length;Dt<fn;Dt++)Eo(f,w[Dt],H,ee);return this}function Ta(f,w){for(var H in f[Rr]){var ee=H.split(/\d/)[0];(!w||w(ee))&&Eo(f,ee,null,null,H)}}var Da={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Bo(f,w,H,ee){var Le=w+Ee(H)+(ee?"_"+Ee(ee):"");if(f[Rr]&&f[Rr][Le])return this;var Dt=function($n){return H.call(ee||f,$n||window.event)},fn=Dt;!ti.touchNative&&ti.pointer&&0===w.indexOf("touch")?Dt=Hn(f,w,Dt):ti.touch&&"dblclick"===w?Dt=function $e(f,w){f.addEventListener("dblclick",w);var ee,H=0;function Le(Dt){if(1===Dt.detail){if("mouse"!==Dt.pointerType&&(!Dt.sourceCapabilities||Dt.sourceCapabilities.firesTouchEvents)){var fn=tl(Dt);if(!fn.some(function(Xn){return Xn instanceof HTMLLabelElement&&Xn.attributes.for})||fn.some(function(Xn){return Xn instanceof HTMLInputElement||Xn instanceof HTMLSelectElement})){var $n=Date.now();$n-H<=200?2==++ee&&w(function Yt(f){var H,ee,w={};for(ee in f)w[ee]=(H=f[ee])&&H.bind?H.bind(f):H;return f=w,w.type="dblclick",w.detail=2,w.isTrusted=!1,w._simulated=!0,w}(Dt)):ee=1,H=$n}}}else ee=Dt.detail}return f.addEventListener("click",Le),{dblclick:w,simDblclick:Le}}(f,Dt):"addEventListener"in f?"touchstart"===w||"touchmove"===w||"wheel"===w||"mousewheel"===w?f.addEventListener(Da[w]||w,Dt,!!ti.passiveEvents&&{passive:!1}):"mouseenter"===w||"mouseleave"===w?f.addEventListener(Da[w],Dt=function($n){$n=$n||window.event,Yo(f,$n)&&fn($n)},!1):f.addEventListener(w,fn,!1):f.attachEvent("on"+w,Dt),f[Rr]=f[Rr]||{},f[Rr][Le]=Dt}function Eo(f,w,H,ee,Le){Le=Le||w+Ee(H)+(ee?"_"+Ee(ee):"");var Dt=f[Rr]&&f[Rr][Le];if(!Dt)return this;!ti.touchNative&&ti.pointer&&0===w.indexOf("touch")?function Un(f,w,H){K[w]?f.removeEventListener(K[w],H,!1):console.warn("wrong event specified:",w)}(f,w,Dt):ti.touch&&"dblclick"===w?function At(f,w){f.removeEventListener("dblclick",w.dblclick),f.removeEventListener("click",w.simDblclick)}(f,Dt):"removeEventListener"in f?f.removeEventListener(Da[w]||w,Dt,!1):f.detachEvent("on"+w,Dt),f[Rr][Le]=null}function Aa(f){return f.stopPropagation?f.stopPropagation():f.originalEvent?f.originalEvent._stopped=!0:f.cancelBubble=!0,this}function Oo(f){return Bo(f,"wheel",Aa),this}function mo(f){return Sr(f,"mousedown touchstart dblclick contextmenu",Aa),f._leaflet_disable_click=!0,this}function gs(f){return f.preventDefault?f.preventDefault():f.returnValue=!1,this}function Ur(f){return gs(f),Aa(f),this}function tl(f){if(f.composedPath)return f.composedPath();for(var w=[],H=f.target;H;)w.push(H),H=H.parentNode;return w}function Fa(f,w){if(!w)return new cn(f.clientX,f.clientY);var H=Ca(w),ee=H.boundingClientRect;return new cn((f.clientX-ee.left)/H.x-w.clientLeft,(f.clientY-ee.top)/H.y-w.clientTop)}var Mo=ti.linux&&ti.chrome?window.devicePixelRatio:ti.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Sa(f){return ti.edge?f.wheelDeltaY/2:f.deltaY&&0===f.deltaMode?-f.deltaY/Mo:f.deltaY&&1===f.deltaMode?20*-f.deltaY:f.deltaY&&2===f.deltaMode?60*-f.deltaY:f.deltaX||f.deltaZ?0:f.wheelDelta?(f.wheelDeltaY||f.wheelDelta)/2:f.detail&&Math.abs(f.detail)<32765?20*-f.detail:f.detail?f.detail/-32765*60:0}function Yo(f,w){var H=w.relatedTarget;if(!H)return!0;try{for(;H&&H!==f;)H=H.parentNode}catch{return!1}return H!==f}var Zo={__proto__:null,on:Sr,off:os,stopPropagation:Aa,disableScrollPropagation:Oo,disableClickPropagation:mo,preventDefault:gs,stop:Ur,getPropagationPath:tl,getMousePosition:Fa,getWheelDelta:Sa,isExternalTarget:Yo,addListener:Sr,removeListener:os},lo=In.extend({run:function(f,w,H,ee){this.stop(),this._el=f,this._inProgress=!0,this._duration=H||.25,this._easeOutPower=1/Math.max(ee||.5,.2),this._startPos=ta(f),this._offset=w.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){!this._inProgress||(this._step(!0),this._complete())},_animate:function(){this._animId=Me(this._animate,this),this._step()},_step:function(f){var w=+new Date-this._startTime,H=1e3*this._duration;w<H?this._runFrame(this._easeOut(w/H),f):(this._runFrame(1),this._complete())},_runFrame:function(f,w){var H=this._startPos.add(this._offset.multiplyBy(f));w&&H._round(),Es(this._el,H),this.fire("step")},_complete:function(){me(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(f){return 1-Math.pow(1-f,this._easeOutPower)}}),wr=In.extend({options:{crs:_n,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(f,w){w=Ve(this,w),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(f),this._initLayout(),this._onResize=ue(this._onResize,this),this._initEvents(),w.maxBounds&&this.setMaxBounds(w.maxBounds),void 0!==w.zoom&&(this._zoom=this._limitZoom(w.zoom)),w.center&&void 0!==w.zoom&&this.setView(Vt(w.center),w.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ci&&ti.any3d&&!ti.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Sr(this._proxy,zi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(f,w,H){return w=void 0===w?this._zoom:this._limitZoom(w),f=this._limitCenter(Vt(f),w,this.options.maxBounds),H=H||{},this._stop(),this._loaded&&!H.reset&&!0!==H&&(void 0!==H.animate&&(H.zoom=T({animate:H.animate},H.zoom),H.pan=T({animate:H.animate,duration:H.duration},H.pan)),this._zoom!==w?this._tryAnimatedZoom&&this._tryAnimatedZoom(f,w,H.zoom):this._tryAnimatedPan(f,H.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(f,w,H.pan&&H.pan.noMoveStart),this)},setZoom:function(f,w){return this._loaded?this.setView(this.getCenter(),f,{zoom:w}):(this._zoom=f,this)},zoomIn:function(f,w){return this.setZoom(this._zoom+(f=f||(ti.any3d?this.options.zoomDelta:1)),w)},zoomOut:function(f,w){return this.setZoom(this._zoom-(f=f||(ti.any3d?this.options.zoomDelta:1)),w)},setZoomAround:function(f,w,H){var ee=this.getZoomScale(w),Le=this.getSize().divideBy(2),fn=(f instanceof cn?f:this.latLngToContainerPoint(f)).subtract(Le).multiplyBy(1-1/ee),$n=this.containerPointToLatLng(Le.add(fn));return this.setView($n,w,{zoom:H})},_getBoundsCenterZoom:function(f,w){w=w||{},f=f.getBounds?f.getBounds():Kt(f);var H=Tn(w.paddingTopLeft||w.padding||[0,0]),ee=Tn(w.paddingBottomRight||w.padding||[0,0]),Le=this.getBoundsZoom(f,!1,H.add(ee));if((Le="number"==typeof w.maxZoom?Math.min(w.maxZoom,Le):Le)===1/0)return{center:f.getCenter(),zoom:Le};var Dt=ee.subtract(H).divideBy(2),fn=this.project(f.getSouthWest(),Le),$n=this.project(f.getNorthEast(),Le);return{center:this.unproject(fn.add($n).divideBy(2).add(Dt),Le),zoom:Le}},fitBounds:function(f,w){if(!(f=Kt(f)).isValid())throw new Error("Bounds are not valid.");var H=this._getBoundsCenterZoom(f,w);return this.setView(H.center,H.zoom,w)},fitWorld:function(f){return this.fitBounds([[-90,-180],[90,180]],f)},panTo:function(f,w){return this.setView(f,this._zoom,{pan:w})},panBy:function(f,w){if(w=w||{},!(f=Tn(f).round()).x&&!f.y)return this.fire("moveend");if(!0!==w.animate&&!this.getSize().contains(f))return this._resetView(this.unproject(this.project(this.getCenter()).add(f)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new lo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),w.noMoveStart||this.fire("movestart"),!1!==w.animate){nr(this._mapPane,"leaflet-pan-anim");var H=this._getMapPanePos().subtract(f).round();this._panAnim.run(this._mapPane,H,w.duration||.25,w.easeLinearity)}else this._rawPanBy(f),this.fire("move").fire("moveend");return this},flyTo:function(f,w,H){if(!1===(H=H||{}).animate||!ti.any3d)return this.setView(f,w,H);this._stop();var ee=this.project(this.getCenter()),Le=this.project(f),Dt=this.getSize(),fn=this._zoom;f=Vt(f),w=void 0===w?fn:w;var $n=Math.max(Dt.x,Dt.y),Xn=$n*this.getZoomScale(fn,w),xi=Le.distanceTo(ee)||1,Hi=1.42,hr=Hi*Hi;function Pi(ys){var ou=(Xn*Xn-$n*$n+(ys?-1:1)*hr*hr*xi*xi)/(2*(ys?Xn:$n)*hr*xi),Au=Math.sqrt(ou*ou+1)-ou;return Au<1e-9?-18:Math.log(Au)}function Is(ys){return(Math.exp(ys)-Math.exp(-ys))/2}function Al(ys){return(Math.exp(ys)+Math.exp(-ys))/2}var rr=Pi(0);function Qr(ys){return $n*(Al(rr)*function Zs(ys){return Is(ys)/Al(ys)}(rr+Hi*ys)-Is(rr))/hr}var Ts=Date.now(),Oi=(Pi(1)-rr)/Hi,Ro=H.duration?1e3*H.duration:1e3*Oi*.8;return this._moveStart(!0,H.noMoveStart),function rl(){var ys=(Date.now()-Ts)/Ro,Sl=function fl(ys){return 1-Math.pow(1-ys,1.5)}(ys)*Oi;ys<=1?(this._flyToFrame=Me(rl,this),this._move(this.unproject(ee.add(Le.subtract(ee).multiplyBy(Qr(Sl)/xi)),fn),this.getScaleZoom($n/function zo(ys){return $n*(Al(rr)/Al(rr+Hi*ys))}(Sl),fn),{flyTo:!0})):this._move(f,w)._moveEnd(!0)}.call(this),this},flyToBounds:function(f,w){var H=this._getBoundsCenterZoom(f,w);return this.flyTo(H.center,H.zoom,w)},setMaxBounds:function(f){return f=Kt(f),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),f.isValid()?(this.options.maxBounds=f,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(f){var w=this.options.minZoom;return this.options.minZoom=f,this._loaded&&w!==f&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(f):this},setMaxZoom:function(f){var w=this.options.maxZoom;return this.options.maxZoom=f,this._loaded&&w!==f&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(f):this},panInsideBounds:function(f,w){this._enforcingBounds=!0;var H=this.getCenter(),ee=this._limitCenter(H,this._zoom,Kt(f));return H.equals(ee)||this.panTo(ee,w),this._enforcingBounds=!1,this},panInside:function(f,w){var H=Tn((w=w||{}).paddingTopLeft||w.padding||[0,0]),ee=Tn(w.paddingBottomRight||w.padding||[0,0]),Le=this.project(this.getCenter()),Dt=this.project(f),fn=this.getPixelBounds(),$n=Ht([fn.min.add(H),fn.max.subtract(ee)]),Xn=$n.getSize();if(!$n.contains(Dt)){this._enforcingBounds=!0;var xi=Dt.subtract($n.getCenter()),Hi=$n.extend(Dt).getSize().subtract(Xn);Le.x+=xi.x<0?-Hi.x:Hi.x,Le.y+=xi.y<0?-Hi.y:Hi.y,this.panTo(this.unproject(Le),w),this._enforcingBounds=!1}return this},invalidateSize:function(f){if(!this._loaded)return this;f=T({animate:!1,pan:!0},!0===f?{animate:!0}:f);var w=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var H=this.getSize(),ee=w.divideBy(2).round(),Le=H.divideBy(2).round(),Dt=ee.subtract(Le);return Dt.x||Dt.y?(f.animate&&f.pan?this.panBy(Dt):(f.pan&&this._rawPanBy(Dt),this.fire("move"),f.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(ue(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:w,newSize:H})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(f){if(f=this._locateOptions=T({timeout:1e4,watch:!1},f),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var w=ue(this._handleGeolocationResponse,this),H=ue(this._handleGeolocationError,this);return f.watch?this._locationWatchId=navigator.geolocation.watchPosition(w,H,f):navigator.geolocation.getCurrentPosition(w,H,f),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(f){if(this._container._leaflet_id){var w=f.code,H=f.message||(1===w?"permission denied":2===w?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:w,message:"Geolocation error: "+H+"."})}},_handleGeolocationResponse:function(f){if(this._container._leaflet_id){var ee=new et(f.coords.latitude,f.coords.longitude),Le=ee.toBounds(2*f.coords.accuracy),Dt=this._locateOptions;if(Dt.setView){var fn=this.getBoundsZoom(Le);this.setView(ee,Dt.maxZoom?Math.min(fn,Dt.maxZoom):fn)}var $n={latlng:ee,bounds:Le,timestamp:f.timestamp};for(var Xn in f.coords)"number"==typeof f.coords[Xn]&&($n[Xn]=f.coords[Xn]);this.fire("locationfound",$n)}},addHandler:function(f,w){if(!w)return this;var H=this[f]=new w(this);return this._handlers.push(H),this.options[f]&&H.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var f;for(f in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),ur(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(me(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[f].remove();for(f in this._panes)ur(this._panes[f]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(f,w){var ee=vr("div","leaflet-pane"+(f?" leaflet-"+f.replace("Pane","")+"-pane":""),w||this._mapPane);return f&&(this._panes[f]=ee),ee},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var f=this.getPixelBounds();return new Bt(this.unproject(f.getBottomLeft()),this.unproject(f.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(f,w,H){f=Kt(f),H=Tn(H||[0,0]);var ee=this.getZoom()||0,Le=this.getMinZoom(),Dt=this.getMaxZoom(),fn=f.getNorthWest(),$n=f.getSouthEast(),Xn=this.getSize().subtract(H),xi=Ht(this.project($n,ee),this.project(fn,ee)).getSize(),Hi=ti.any3d?this.options.zoomSnap:1,hr=Xn.x/xi.x,Pi=Xn.y/xi.y,Is=w?Math.max(hr,Pi):Math.min(hr,Pi);return ee=this.getScaleZoom(Is,ee),Hi&&(ee=Math.round(ee/(Hi/100))*(Hi/100),ee=w?Math.ceil(ee/Hi)*Hi:Math.floor(ee/Hi)*Hi),Math.max(Le,Math.min(Dt,ee))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new cn(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(f,w){var H=this._getTopLeftPoint(f,w);return new Wn(H,H.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(f){return this.options.crs.getProjectedBounds(void 0===f?this.getZoom():f)},getPane:function(f){return"string"==typeof f?this._panes[f]:f},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(f,w){var H=this.options.crs;return w=void 0===w?this._zoom:w,H.scale(f)/H.scale(w)},getScaleZoom:function(f,w){var H=this.options.crs,ee=H.zoom(f*H.scale(w=void 0===w?this._zoom:w));return isNaN(ee)?1/0:ee},project:function(f,w){return w=void 0===w?this._zoom:w,this.options.crs.latLngToPoint(Vt(f),w)},unproject:function(f,w){return w=void 0===w?this._zoom:w,this.options.crs.pointToLatLng(Tn(f),w)},layerPointToLatLng:function(f){var w=Tn(f).add(this.getPixelOrigin());return this.unproject(w)},latLngToLayerPoint:function(f){return this.project(Vt(f))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(f){return this.options.crs.wrapLatLng(Vt(f))},wrapLatLngBounds:function(f){return this.options.crs.wrapLatLngBounds(Kt(f))},distance:function(f,w){return this.options.crs.distance(Vt(f),Vt(w))},containerPointToLayerPoint:function(f){return Tn(f).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(f){return Tn(f).add(this._getMapPanePos())},containerPointToLatLng:function(f){var w=this.containerPointToLayerPoint(Tn(f));return this.layerPointToLatLng(w)},latLngToContainerPoint:function(f){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Vt(f)))},mouseEventToContainerPoint:function(f){return Fa(f,this._container)},mouseEventToLayerPoint:function(f){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(f))},mouseEventToLatLng:function(f){return this.layerPointToLatLng(this.mouseEventToLayerPoint(f))},_initContainer:function(f){var w=this._container=ji(f);if(!w)throw new Error("Map container not found.");if(w._leaflet_id)throw new Error("Map container is already initialized.");Sr(w,"scroll",this._onScroll,this),this._containerId=Ee(w)},_initLayout:function(){var f=this._container;this._fadeAnimated=this.options.fadeAnimation&&ti.any3d,nr(f,"leaflet-container"+(ti.touch?" leaflet-touch":"")+(ti.retina?" leaflet-retina":"")+(ti.ielt9?" leaflet-oldie":"")+(ti.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var w=Hr(f,"position");"absolute"!==w&&"relative"!==w&&"fixed"!==w&&"sticky"!==w&&(f.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var f=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Es(this._mapPane,new cn(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(nr(f.markerPane,"leaflet-zoom-hide"),nr(f.shadowPane,"leaflet-zoom-hide"))},_resetView:function(f,w,H){Es(this._mapPane,new cn(0,0));var ee=!this._loaded;this._loaded=!0,w=this._limitZoom(w),this.fire("viewprereset");var Le=this._zoom!==w;this._moveStart(Le,H)._move(f,w)._moveEnd(Le),this.fire("viewreset"),ee&&this.fire("load")},_moveStart:function(f,w){return f&&this.fire("zoomstart"),w||this.fire("movestart"),this},_move:function(f,w,H,ee){void 0===w&&(w=this._zoom);var Le=this._zoom!==w;return this._zoom=w,this._lastCenter=f,this._pixelOrigin=this._getNewPixelOrigin(f),ee?H&&H.pinch&&this.fire("zoom",H):((Le||H&&H.pinch)&&this.fire("zoom",H),this.fire("move",H)),this},_moveEnd:function(f){return f&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return me(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(f){Es(this._mapPane,this._getMapPanePos().subtract(f))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(f){this._targets={},this._targets[Ee(this._container)]=this;var w=f?os:Sr;w(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&w(window,"resize",this._onResize,this),ti.any3d&&this.options.transform3DLimit&&(f?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){me(this._resizeRequest),this._resizeRequest=Me(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var f=this._getMapPanePos();Math.max(Math.abs(f.x),Math.abs(f.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(f,w){for(var ee,H=[],Le="mouseout"===w||"mouseover"===w,Dt=f.target||f.srcElement,fn=!1;Dt;){if((ee=this._targets[Ee(Dt)])&&("click"===w||"preclick"===w)&&this._draggableMoved(ee)){fn=!0;break}if(ee&&ee.listens(w,!0)&&(Le&&!Yo(Dt,f)||(H.push(ee),Le))||Dt===this._container)break;Dt=Dt.parentNode}return!H.length&&!fn&&!Le&&this.listens(w,!0)&&(H=[this]),H},_isClickDisabled:function(f){for(;f&&f!==this._container;){if(f._leaflet_disable_click)return!0;f=f.parentNode}},_handleDOMEvent:function(f){var w=f.target||f.srcElement;if(!(!this._loaded||w._leaflet_disable_events||"click"===f.type&&this._isClickDisabled(w))){var H=f.type;"mousedown"===H&&wa(w),this._fireDOMEvent(f,H)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(f,w,H){if("click"===f.type){var ee=T({},f);ee.type="preclick",this._fireDOMEvent(ee,ee.type,H)}var Le=this._findEventTargets(f,w);if(H){for(var Dt=[],fn=0;fn<H.length;fn++)H[fn].listens(w,!0)&&Dt.push(H[fn]);Le=Dt.concat(Le)}if(Le.length){"contextmenu"===w&&gs(f);var $n=Le[0],Xn={originalEvent:f};if("keypress"!==f.type&&"keydown"!==f.type&&"keyup"!==f.type){var xi=$n.getLatLng&&(!$n._radius||$n._radius<=10);Xn.containerPoint=xi?this.latLngToContainerPoint($n.getLatLng()):this.mouseEventToContainerPoint(f),Xn.layerPoint=this.containerPointToLayerPoint(Xn.containerPoint),Xn.latlng=xi?$n.getLatLng():this.layerPointToLatLng(Xn.layerPoint)}for(fn=0;fn<Le.length;fn++)if(Le[fn].fire(w,Xn,!0),Xn.originalEvent._stopped||!1===Le[fn].options.bubblingMouseEvents&&-1!==nt(this._mouseEvents,w))return}},_draggableMoved:function(f){return(f=f.dragging&&f.dragging.enabled()?f:this).dragging&&f.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var f=0,w=this._handlers.length;f<w;f++)this._handlers[f].disable()},whenReady:function(f,w){return this._loaded?f.call(w||this,{target:this}):this.on("load",f,w),this},_getMapPanePos:function(){return ta(this._mapPane)||new cn(0,0)},_moved:function(){var f=this._getMapPanePos();return f&&!f.equals([0,0])},_getTopLeftPoint:function(f,w){return(f&&void 0!==w?this._getNewPixelOrigin(f,w):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(f,w){var H=this.getSize()._divideBy(2);return this.project(f,w)._subtract(H)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(f,w,H){var ee=this._getNewPixelOrigin(H,w);return this.project(f,w)._subtract(ee)},_latLngBoundsToNewLayerBounds:function(f,w,H){var ee=this._getNewPixelOrigin(H,w);return Ht([this.project(f.getSouthWest(),w)._subtract(ee),this.project(f.getNorthWest(),w)._subtract(ee),this.project(f.getSouthEast(),w)._subtract(ee),this.project(f.getNorthEast(),w)._subtract(ee)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(f){return this.latLngToLayerPoint(f).subtract(this._getCenterLayerPoint())},_limitCenter:function(f,w,H){if(!H)return f;var ee=this.project(f,w),Le=this.getSize().divideBy(2),Dt=new Wn(ee.subtract(Le),ee.add(Le)),fn=this._getBoundsOffset(Dt,H,w);return Math.abs(fn.x)<=1&&Math.abs(fn.y)<=1?f:this.unproject(ee.add(fn),w)},_limitOffset:function(f,w){if(!w)return f;var H=this.getPixelBounds(),ee=new Wn(H.min.add(f),H.max.add(f));return f.add(this._getBoundsOffset(ee,w))},_getBoundsOffset:function(f,w,H){var ee=Ht(this.project(w.getNorthEast(),H),this.project(w.getSouthWest(),H)),Le=ee.min.subtract(f.min),Dt=ee.max.subtract(f.max);return new cn(this._rebound(Le.x,-Dt.x),this._rebound(Le.y,-Dt.y))},_rebound:function(f,w){return f+w>0?Math.round(f-w)/2:Math.max(0,Math.ceil(f))-Math.max(0,Math.floor(w))},_limitZoom:function(f){var w=this.getMinZoom(),H=this.getMaxZoom(),ee=ti.any3d?this.options.zoomSnap:1;return ee&&(f=Math.round(f/ee)*ee),Math.max(w,Math.min(H,f))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Jr(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(f,w){var H=this._getCenterOffset(f)._trunc();return!(!0!==(w&&w.animate)&&!this.getSize().contains(H)||(this.panBy(H,w),0))},_createAnimProxy:function(){var f=this._proxy=vr("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(f),this.on("zoomanim",function(w){var H=Xt,ee=this._proxy.style[H];ws(this._proxy,this.project(w.center,w.zoom),this.getZoomScale(w.zoom,1)),ee===this._proxy.style[H]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ur(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var f=this.getCenter(),w=this.getZoom();ws(this._proxy,this.project(f,w),this.getZoomScale(w,1))},_catchTransitionEnd:function(f){this._animatingZoom&&f.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(f,w,H){if(this._animatingZoom)return!0;if(H=H||{},!this._zoomAnimated||!1===H.animate||this._nothingToAnimate()||Math.abs(w-this._zoom)>this.options.zoomAnimationThreshold)return!1;var ee=this.getZoomScale(w),Le=this._getCenterOffset(f)._divideBy(1-1/ee);return!(!0!==H.animate&&!this.getSize().contains(Le)||(Me(function(){this._moveStart(!0,!1)._animateZoom(f,w,!0)},this),0))},_animateZoom:function(f,w,H,ee){!this._mapPane||(H&&(this._animatingZoom=!0,this._animateToCenter=f,this._animateToZoom=w,nr(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:f,zoom:w,noUpdate:ee}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(ue(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){!this._animatingZoom||(this._mapPane&&Jr(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var Bs=vt.extend({options:{position:"topright"},initialize:function(f){Ve(this,f)},getPosition:function(){return this.options.position},setPosition:function(f){var w=this._map;return w&&w.removeControl(this),this.options.position=f,w&&w.addControl(this),this},getContainer:function(){return this._container},addTo:function(f){this.remove(),this._map=f;var w=this._container=this.onAdd(f),H=this.getPosition(),ee=f._controlCorners[H];return nr(w,"leaflet-control"),-1!==H.indexOf("bottom")?ee.insertBefore(w,ee.firstChild):ee.appendChild(w),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ur(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(f){this._map&&f&&f.screenX>0&&f.screenY>0&&this._map.getContainer().focus()}}),Ms=function(f){return new Bs(f)};wr.include({addControl:function(f){return f.addTo(this),this},removeControl:function(f){return f.remove(),this},_initControlPos:function(){var f=this._controlCorners={},w="leaflet-",H=this._controlContainer=vr("div",w+"control-container",this._container);function ee(Le,Dt){f[Le+Dt]=vr("div",w+Le+" "+w+Dt,H)}ee("top","left"),ee("top","right"),ee("bottom","left"),ee("bottom","right")},_clearControlPos:function(){for(var f in this._controlCorners)ur(this._controlCorners[f]);ur(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var To=Bs.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(f,w,H,ee){return H<ee?-1:ee<H?1:0}},initialize:function(f,w,H){for(var ee in Ve(this,H),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,f)this._addLayer(f[ee],ee);for(ee in w)this._addLayer(w[ee],ee,!0)},onAdd:function(f){this._initLayout(),this._update(),this._map=f,f.on("zoomend",this._checkDisabledLayers,this);for(var w=0;w<this._layers.length;w++)this._layers[w].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(f){return Bs.prototype.addTo.call(this,f),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(f,w){return this._addLayer(f,w),this._map?this._update():this},addOverlay:function(f,w){return this._addLayer(f,w,!0),this._map?this._update():this},removeLayer:function(f){f.off("add remove",this._onLayerChange,this);var w=this._getLayer(Ee(f));return w&&this._layers.splice(this._layers.indexOf(w),1),this._map?this._update():this},expand:function(){nr(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var f=this._map.getSize().y-(this._container.offsetTop+50);return f<this._section.clientHeight?(nr(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=f+"px"):Jr(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Jr(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var f="leaflet-control-layers",w=this._container=vr("div",f),H=this.options.collapsed;w.setAttribute("aria-haspopup",!0),mo(w),Oo(w);var ee=this._section=vr("section",f+"-list");H&&(this._map.on("click",this.collapse,this),Sr(w,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var Le=this._layersLink=vr("a",f+"-toggle",w);Le.href="#",Le.title="Layers",Le.setAttribute("role","button"),Sr(Le,{keydown:function(Dt){13===Dt.keyCode&&this._expandSafely()},click:function(Dt){gs(Dt),this._expandSafely()}},this),H||this.expand(),this._baseLayersList=vr("div",f+"-base",ee),this._separator=vr("div",f+"-separator",ee),this._overlaysList=vr("div",f+"-overlays",ee),w.appendChild(ee)},_getLayer:function(f){for(var w=0;w<this._layers.length;w++)if(this._layers[w]&&Ee(this._layers[w].layer)===f)return this._layers[w]},_addLayer:function(f,w,H){this._map&&f.on("add remove",this._onLayerChange,this),this._layers.push({layer:f,name:w,overlay:H}),this.options.sortLayers&&this._layers.sort(ue(function(ee,Le){return this.options.sortFunction(ee.layer,Le.layer,ee.name,Le.name)},this)),this.options.autoZIndex&&f.setZIndex&&(this._lastZIndex++,f.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;xs(this._baseLayersList),xs(this._overlaysList),this._layerControlInputs=[];var f,w,H,ee,Le=0;for(H=0;H<this._layers.length;H++)this._addItem(ee=this._layers[H]),w=w||ee.overlay,f=f||!ee.overlay,Le+=ee.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(f=f&&Le>1)?"":"none"),this._separator.style.display=w&&f?"":"none",this},_onLayerChange:function(f){this._handlingClick||this._update();var w=this._getLayer(Ee(f.target)),H=w.overlay?"add"===f.type?"overlayadd":"overlayremove":"add"===f.type?"baselayerchange":null;H&&this._map.fire(H,w)},_createRadioElement:function(f,w){var H='<input type="radio" class="leaflet-control-layers-selector" name="'+f+'"'+(w?' checked="checked"':"")+"/>",ee=document.createElement("div");return ee.innerHTML=H,ee.firstChild},_addItem:function(f){var ee,w=document.createElement("label"),H=this._map.hasLayer(f.layer);f.overlay?((ee=document.createElement("input")).type="checkbox",ee.className="leaflet-control-layers-selector",ee.defaultChecked=H):ee=this._createRadioElement("leaflet-base-layers_"+Ee(this),H),this._layerControlInputs.push(ee),ee.layerId=Ee(f.layer),Sr(ee,"click",this._onInputClick,this);var Le=document.createElement("span");Le.innerHTML=" "+f.name;var Dt=document.createElement("span");return w.appendChild(Dt),Dt.appendChild(ee),Dt.appendChild(Le),(f.overlay?this._overlaysList:this._baseLayersList).appendChild(w),this._checkDisabledLayers(),w},_onInputClick:function(){var w,H,f=this._layerControlInputs,ee=[],Le=[];this._handlingClick=!0;for(var Dt=f.length-1;Dt>=0;Dt--)H=this._getLayer((w=f[Dt]).layerId).layer,w.checked?ee.push(H):w.checked||Le.push(H);for(Dt=0;Dt<Le.length;Dt++)this._map.hasLayer(Le[Dt])&&this._map.removeLayer(Le[Dt]);for(Dt=0;Dt<ee.length;Dt++)this._map.hasLayer(ee[Dt])||this._map.addLayer(ee[Dt]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var w,H,f=this._layerControlInputs,ee=this._map.getZoom(),Le=f.length-1;Le>=0;Le--)H=this._getLayer((w=f[Le]).layerId).layer,w.disabled=void 0!==H.options.minZoom&&ee<H.options.minZoom||void 0!==H.options.maxZoom&&ee>H.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var f=this._section;Sr(f,"click",gs),this.expand(),setTimeout(function(){os(f,"click",gs)})}}),Kr=Bs.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(f){var w="leaflet-control-zoom",H=vr("div",w+" leaflet-bar"),ee=this.options;return this._zoomInButton=this._createButton(ee.zoomInText,ee.zoomInTitle,w+"-in",H,this._zoomIn),this._zoomOutButton=this._createButton(ee.zoomOutText,ee.zoomOutTitle,w+"-out",H,this._zoomOut),this._updateDisabled(),f.on("zoomend zoomlevelschange",this._updateDisabled,this),H},onRemove:function(f){f.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(f){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(f.shiftKey?3:1))},_zoomOut:function(f){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(f.shiftKey?3:1))},_createButton:function(f,w,H,ee,Le){var Dt=vr("a",H,ee);return Dt.innerHTML=f,Dt.href="#",Dt.title=w,Dt.setAttribute("role","button"),Dt.setAttribute("aria-label",w),mo(Dt),Sr(Dt,"click",Ur),Sr(Dt,"click",Le,this),Sr(Dt,"click",this._refocusOnMap,this),Dt},_updateDisabled:function(){var f=this._map,w="leaflet-disabled";Jr(this._zoomInButton,w),Jr(this._zoomOutButton,w),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||f._zoom===f.getMinZoom())&&(nr(this._zoomOutButton,w),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||f._zoom===f.getMaxZoom())&&(nr(this._zoomInButton,w),this._zoomInButton.setAttribute("aria-disabled","true"))}});wr.mergeOptions({zoomControl:!0}),wr.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Kr,this.addControl(this.zoomControl))});var Ir=Bs.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(f){var w="leaflet-control-scale",H=vr("div",w),ee=this.options;return this._addScales(ee,w+"-line",H),f.on(ee.updateWhenIdle?"moveend":"move",this._update,this),f.whenReady(this._update,this),H},onRemove:function(f){f.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(f,w,H){f.metric&&(this._mScale=vr("div",w,H)),f.imperial&&(this._iScale=vr("div",w,H))},_update:function(){var f=this._map,w=f.getSize().y/2,H=f.distance(f.containerPointToLatLng([0,w]),f.containerPointToLatLng([this.options.maxWidth,w]));this._updateScales(H)},_updateScales:function(f){this.options.metric&&f&&this._updateMetric(f),this.options.imperial&&f&&this._updateImperial(f)},_updateMetric:function(f){var w=this._getRoundNum(f);this._updateScale(this._mScale,w<1e3?w+" m":w/1e3+" km",w/f)},_updateImperial:function(f){var H,ee,Le,w=3.2808399*f;w>5280?(ee=this._getRoundNum(H=w/5280),this._updateScale(this._iScale,ee+" mi",ee/H)):(Le=this._getRoundNum(w),this._updateScale(this._iScale,Le+" ft",Le/w))},_updateScale:function(f,w,H){f.style.width=Math.round(this.options.maxWidth*H)+"px",f.innerHTML=w},_getRoundNum:function(f){var w=Math.pow(10,(Math.floor(f)+"").length-1),H=f/w;return w*(H>=10?10:H>=5?5:H>=3?3:H>=2?2:1)}}),Lo=Bs.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ti.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(f){Ve(this,f),this._attributions={}},onAdd:function(f){for(var w in f.attributionControl=this,this._container=vr("div","leaflet-control-attribution"),mo(this._container),f._layers)f._layers[w].getAttribution&&this.addAttribution(f._layers[w].getAttribution());return this._update(),f.on("layeradd",this._addAttribution,this),this._container},onRemove:function(f){f.off("layeradd",this._addAttribution,this)},_addAttribution:function(f){f.layer.getAttribution&&(this.addAttribution(f.layer.getAttribution()),f.layer.once("remove",function(){this.removeAttribution(f.layer.getAttribution())},this))},setPrefix:function(f){return this.options.prefix=f,this._update(),this},addAttribution:function(f){return f?(this._attributions[f]||(this._attributions[f]=0),this._attributions[f]++,this._update(),this):this},removeAttribution:function(f){return f?(this._attributions[f]&&(this._attributions[f]--,this._update()),this):this},_update:function(){if(this._map){var f=[];for(var w in this._attributions)this._attributions[w]&&f.push(w);var H=[];this.options.prefix&&H.push(this.options.prefix),f.length&&H.push(f.join(", ")),this._container.innerHTML=H.join(' <span aria-hidden="true">|</span> ')}}});wr.mergeOptions({attributionControl:!0}),wr.addInitHook(function(){this.options.attributionControl&&(new Lo).addTo(this)});Bs.Layers=To,Bs.Zoom=Kr,Bs.Scale=Ir,Bs.Attribution=Lo,Ms.layers=function(f,w,H){return new To(f,w,H)},Ms.zoom=function(f){return new Kr(f)},Ms.scale=function(f){return new Ir(f)},Ms.attribution=function(f){return new Lo(f)};var zs=vt.extend({initialize:function(f){this._map=f},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});zs.addTo=function(f,w){return f.addHandler(w,this),this};var nl,Vr={Events:xn},hl=ti.touch?"touchstart mousedown":"mousedown",eo=In.extend({options:{clickTolerance:3},initialize:function(f,w,H,ee){Ve(this,ee),this._element=f,this._dragStartTarget=w||f,this._preventOutline=H},enable:function(){this._enabled||(Sr(this._dragStartTarget,hl,this._onDown,this),this._enabled=!0)},disable:function(){!this._enabled||(eo._dragging===this&&this.finishDrag(!0),os(this._dragStartTarget,hl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(f){if(this._enabled&&(this._moved=!1,!wo(this._element,"leaflet-zoom-anim"))){if(f.touches&&1!==f.touches.length)return void(eo._dragging===this&&this.finishDrag());if(!(eo._dragging||f.shiftKey||1!==f.which&&1!==f.button&&!f.touches||(eo._dragging=this,this._preventOutline&&wa(this._element),Po(),ja(),this._moving))){this.fire("down");var w=f.touches?f.touches[0]:f,H=Hs(this._element);this._startPoint=new cn(w.clientX,w.clientY),this._startPos=ta(this._element),this._parentScale=Ca(H);var ee="mousedown"===f.type;Sr(document,ee?"mousemove":"touchmove",this._onMove,this),Sr(document,ee?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(f){if(this._enabled){if(f.touches&&f.touches.length>1)return void(this._moved=!0);var w=f.touches&&1===f.touches.length?f.touches[0]:f,H=new cn(w.clientX,w.clientY)._subtract(this._startPoint);!H.x&&!H.y||Math.abs(H.x)+Math.abs(H.y)<this.options.clickTolerance||(H.x/=this._parentScale.x,H.y/=this._parentScale.y,gs(f),this._moved||(this.fire("dragstart"),this._moved=!0,nr(document.body,"leaflet-dragging"),this._lastTarget=f.target||f.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),nr(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(H),this._moving=!0,this._lastEvent=f,this._updatePosition())}},_updatePosition:function(){var f={originalEvent:this._lastEvent};this.fire("predrag",f),Es(this._element,this._newPos),this.fire("drag",f)},_onUp:function(){!this._enabled||this.finishDrag()},finishDrag:function(f){Jr(document.body,"leaflet-dragging"),this._lastTarget&&(Jr(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),os(document,"mousemove touchmove",this._onMove,this),os(document,"mouseup touchend touchcancel",this._onUp,this),Dl(),Os(),this._moved&&this._moving&&this.fire("dragend",{noInertia:f,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,eo._dragging=!1}});function Qo(f,w){if(!w||!f.length)return f.slice();var H=w*w;return function js(f,w){var H=f.length,Le=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(H);Le[0]=Le[H-1]=1,lr(f,Le,w,0,H-1);var Dt,fn=[];for(Dt=0;Dt<H;Dt++)Le[Dt]&&fn.push(f[Dt]);return fn}(f=function Do(f,w){for(var H=[f[0]],ee=1,Le=0,Dt=f.length;ee<Dt;ee++)na(f[ee],f[Le])>w&&(H.push(f[ee]),Le=ee);return Le<Dt-1&&H.push(f[Dt-1]),H}(f,H),H)}function Vo(f,w,H){return Math.sqrt(Ma(f,w,H,!0))}function lr(f,w,H,ee,Le){var fn,$n,Xn,Dt=0;for($n=ee+1;$n<=Le-1;$n++)(Xn=Ma(f[$n],f[ee],f[Le],!0))>Dt&&(fn=$n,Dt=Xn);Dt>H&&(w[fn]=1,lr(f,w,H,ee,fn),lr(f,w,H,fn,Le))}function $a(f,w,H,ee,Le){var $n,Xn,xi,Dt=ee?nl:Jo(f,H),fn=Jo(w,H);for(nl=fn;;){if(!(Dt|fn))return[f,w];if(Dt&fn)return!1;xi=Jo(Xn=Ba(f,w,$n=Dt||fn,H,Le),H),$n===Dt?(f=Xn,Dt=xi):(w=Xn,fn=xi)}}function Ba(f,w,H,ee,Le){var xi,Hi,Dt=w.x-f.x,fn=w.y-f.y,$n=ee.min,Xn=ee.max;return 8&H?(xi=f.x+Dt*(Xn.y-f.y)/fn,Hi=Xn.y):4&H?(xi=f.x+Dt*($n.y-f.y)/fn,Hi=$n.y):2&H?(xi=Xn.x,Hi=f.y+fn*(Xn.x-f.x)/Dt):1&H&&(xi=$n.x,Hi=f.y+fn*($n.x-f.x)/Dt),new cn(xi,Hi,Le)}function Jo(f,w){var H=0;return f.x<w.min.x?H|=1:f.x>w.max.x&&(H|=2),f.y<w.min.y?H|=4:f.y>w.max.y&&(H|=8),H}function na(f,w){var H=w.x-f.x,ee=w.y-f.y;return H*H+ee*ee}function Ma(f,w,H,ee){var xi,Le=w.x,Dt=w.y,fn=H.x-Le,$n=H.y-Dt,Xn=fn*fn+$n*$n;return Xn>0&&((xi=((f.x-Le)*fn+(f.y-Dt)*$n)/Xn)>1?(Le=H.x,Dt=H.y):xi>0&&(Le+=fn*xi,Dt+=$n*xi)),fn=f.x-Le,$n=f.y-Dt,ee?fn*fn+$n*$n:new cn(Le,Dt)}function Ho(f){return!Ke(f[0])||"object"!=typeof f[0][0]&&typeof f[0][0]<"u"}function _i(f){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ho(f)}function Cr(f,w){var H,ee,Le,Dt,fn,$n,Xn,xi;if(!f||0===f.length)throw new Error("latlngs not passed");Ho(f)||(console.warn("latlngs are not flat! Only the first ring will be used"),f=f[0]);var Hi=[];for(var hr in f)Hi.push(w.project(Vt(f[hr])));var Pi=Hi.length;for(H=0,ee=0;H<Pi-1;H++)ee+=Hi[H].distanceTo(Hi[H+1])/2;if(0===ee)xi=Hi[0];else for(H=0,Dt=0;H<Pi-1;H++)if((Dt+=Le=(fn=Hi[H]).distanceTo($n=Hi[H+1]))>ee){xi=[$n.x-(Xn=(Dt-ee)/Le)*($n.x-fn.x),$n.y-Xn*($n.y-fn.y)];break}return w.unproject(Tn(xi))}var ac={__proto__:null,simplify:Qo,pointToSegmentDistance:Vo,closestPointOnSegment:function Xo(f,w,H){return Ma(f,w,H)},clipSegment:$a,_getEdgeIntersection:Ba,_getBitCode:Jo,_sqClosestPointOnSegment:Ma,isFlat:Ho,_flat:_i,polylineCenter:Cr};function ka(f,w,H){var ee,Dt,fn,$n,Xn,xi,Hi,hr,Pi,Le=[1,4,2,8];for(Dt=0,Hi=f.length;Dt<Hi;Dt++)f[Dt]._code=Jo(f[Dt],w);for($n=0;$n<4;$n++){for(hr=Le[$n],ee=[],Dt=0,fn=(Hi=f.length)-1;Dt<Hi;fn=Dt++)xi=f[fn],(Xn=f[Dt])._code&hr?xi._code&hr||((Pi=Ba(xi,Xn,hr,w,H))._code=Jo(Pi,w),ee.push(Pi)):(xi._code&hr&&((Pi=Ba(xi,Xn,hr,w,H))._code=Jo(Pi,w),ee.push(Pi)),ee.push(Xn));f=ee}return f}function ks(f,w){var H,ee,Le,Dt,fn,$n,Xn,xi;if(!f||0===f.length)throw new Error("latlngs not passed");Ho(f)||(console.warn("latlngs are not flat! Only the first ring will be used"),f=f[0]);var hr=[];for(var Pi in f)hr.push(w.project(Vt(f[Pi])));var Is=hr.length;for($n=Xn=xi=0,H=0,ee=Is-1;H<Is;ee=H++)Xn+=((Le=hr[H]).x+(Dt=hr[ee]).x)*(fn=Le.y*Dt.x-Dt.y*Le.x),xi+=(Le.y+Dt.y)*fn,$n+=3*fn;return w.unproject(Tn(0===$n?hr[0]:[Xn/$n,xi/$n]))}var Se={__proto__:null,clipPolygon:ka,polygonCenter:ks},De={project:function(f){return new cn(f.lng,f.lat)},unproject:function(f){return new et(f.y,f.x)},bounds:new Wn([-180,-90],[180,90])},he={R:6378137,R_MINOR:6356752.314245179,bounds:new Wn([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(f){var w=Math.PI/180,H=this.R,ee=f.lat*w,Le=this.R_MINOR/H,Dt=Math.sqrt(1-Le*Le),fn=Dt*Math.sin(ee),$n=Math.tan(Math.PI/4-ee/2)/Math.pow((1-fn)/(1+fn),Dt/2);return ee=-H*Math.log(Math.max($n,1e-10)),new cn(f.lng*w*H,ee)},unproject:function(f){for(var xi,w=180/Math.PI,H=this.R,ee=this.R_MINOR/H,Le=Math.sqrt(1-ee*ee),Dt=Math.exp(-f.y/H),fn=Math.PI/2-2*Math.atan(Dt),$n=0,Xn=.1;$n<15&&Math.abs(Xn)>1e-7;$n++)xi=Le*Math.sin(fn),xi=Math.pow((1-xi)/(1+xi),Le/2),fn+=Xn=Math.PI/2-2*Math.atan(Dt*xi)-fn;return new et(fn*w,f.x*w/H)}},Et={__proto__:null,LonLat:De,Mercator:he,SphericalMercator:gn},qn=T({},Yn,{code:"EPSG:3395",projection:he,transformation:function(){var f=.5/(Math.PI*he.R);return Qn(f,.5,-f,.5)}()}),Vi=T({},Yn,{code:"EPSG:4326",projection:De,transformation:Qn(1/180,1,-1/180,.5)}),ds=T({},jt,{projection:De,transformation:Qn(1,0,-1,0),scale:function(f){return Math.pow(2,f)},zoom:function(f){return Math.log(f)/Math.LN2},distance:function(f,w){var H=w.lng-f.lng,ee=w.lat-f.lat;return Math.sqrt(H*H+ee*ee)},infinite:!0});jt.Earth=Yn,jt.EPSG3395=qn,jt.EPSG3857=_n,jt.EPSG900913=Nn,jt.EPSG4326=Vi,jt.Simple=ds;var Rs=In.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(f){return f.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(f){return f&&f.removeLayer(this),this},getPane:function(f){return this._map.getPane(f?this.options[f]||f:this.options.pane)},addInteractiveTarget:function(f){return this._map._targets[Ee(f)]=this,this},removeInteractiveTarget:function(f){return delete this._map._targets[Ee(f)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(f){var w=f.target;if(w.hasLayer(this)){if(this._map=w,this._zoomAnimated=w._zoomAnimated,this.getEvents){var H=this.getEvents();w.on(H,this),this.once("remove",function(){w.off(H,this)},this)}this.onAdd(w),this.fire("add"),w.fire("layeradd",{layer:this})}}});wr.include({addLayer:function(f){if(!f._layerAdd)throw new Error("The provided object is not a Layer.");var w=Ee(f);return this._layers[w]||(this._layers[w]=f,f._mapToAdd=this,f.beforeAdd&&f.beforeAdd(this),this.whenReady(f._layerAdd,f)),this},removeLayer:function(f){var w=Ee(f);return this._layers[w]?(this._loaded&&f.onRemove(this),delete this._layers[w],this._loaded&&(this.fire("layerremove",{layer:f}),f.fire("remove")),f._map=f._mapToAdd=null,this):this},hasLayer:function(f){return Ee(f)in this._layers},eachLayer:function(f,w){for(var H in this._layers)f.call(w,this._layers[H]);return this},_addLayers:function(f){for(var w=0,H=(f=f?Ke(f)?f:[f]:[]).length;w<H;w++)this.addLayer(f[w])},_addZoomLimit:function(f){(!isNaN(f.options.maxZoom)||!isNaN(f.options.minZoom))&&(this._zoomBoundLayers[Ee(f)]=f,this._updateZoomLevels())},_removeZoomLimit:function(f){var w=Ee(f);this._zoomBoundLayers[w]&&(delete this._zoomBoundLayers[w],this._updateZoomLevels())},_updateZoomLevels:function(){var f=1/0,w=-1/0,H=this._getZoomSpan();for(var ee in this._zoomBoundLayers){var Le=this._zoomBoundLayers[ee].options;f=void 0===Le.minZoom?f:Math.min(f,Le.minZoom),w=void 0===Le.maxZoom?w:Math.max(w,Le.maxZoom)}this._layersMaxZoom=w===-1/0?void 0:w,this._layersMinZoom=f===1/0?void 0:f,H!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var to=Rs.extend({initialize:function(f,w){var H,ee;if(Ve(this,w),this._layers={},f)for(H=0,ee=f.length;H<ee;H++)this.addLayer(f[H])},addLayer:function(f){var w=this.getLayerId(f);return this._layers[w]=f,this._map&&this._map.addLayer(f),this},removeLayer:function(f){var w=f in this._layers?f:this.getLayerId(f);return this._map&&this._layers[w]&&this._map.removeLayer(this._layers[w]),delete this._layers[w],this},hasLayer:function(f){return("number"==typeof f?f:this.getLayerId(f))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(f){var H,ee,w=Array.prototype.slice.call(arguments,1);for(H in this._layers)(ee=this._layers[H])[f]&&ee[f].apply(ee,w);return this},onAdd:function(f){this.eachLayer(f.addLayer,f)},onRemove:function(f){this.eachLayer(f.removeLayer,f)},eachLayer:function(f,w){for(var H in this._layers)f.call(w,this._layers[H]);return this},getLayer:function(f){return this._layers[f]},getLayers:function(){var f=[];return this.eachLayer(f.push,f),f},setZIndex:function(f){return this.invoke("setZIndex",f)},getLayerId:function(f){return Ee(f)}}),Ao=to.extend({addLayer:function(f){return this.hasLayer(f)?this:(f.addEventParent(this),to.prototype.addLayer.call(this,f),this.fire("layeradd",{layer:f}))},removeLayer:function(f){return this.hasLayer(f)?(f in this._layers&&(f=this._layers[f]),f.removeEventParent(this),to.prototype.removeLayer.call(this,f),this.fire("layerremove",{layer:f})):this},setStyle:function(f){return this.invoke("setStyle",f)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var f=new Bt;for(var w in this._layers){var H=this._layers[w];f.extend(H.getBounds?H.getBounds():H.getLatLng())}return f}}),aa=vt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(f){Ve(this,f)},createIcon:function(f){return this._createIcon("icon",f)},createShadow:function(f){return this._createIcon("shadow",f)},_createIcon:function(f,w){var H=this._getIconUrl(f);if(!H){if("icon"===f)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var ee=this._createImg(H,w&&"IMG"===w.tagName?w:null);return this._setIconStyles(ee,f),(this.options.crossOrigin||""===this.options.crossOrigin)&&(ee.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),ee},_setIconStyles:function(f,w){var H=this.options,ee=H[w+"Size"];"number"==typeof ee&&(ee=[ee,ee]);var Le=Tn(ee),Dt=Tn("shadow"===w&&H.shadowAnchor||H.iconAnchor||Le&&Le.divideBy(2,!0));f.className="leaflet-marker-"+w+" "+(H.className||""),Dt&&(f.style.marginLeft=-Dt.x+"px",f.style.marginTop=-Dt.y+"px"),Le&&(f.style.width=Le.x+"px",f.style.height=Le.y+"px")},_createImg:function(f,w){return(w=w||document.createElement("img")).src=f,w},_getIconUrl:function(f){return ti.retina&&this.options[f+"RetinaUrl"]||this.options[f+"Url"]}});var Sc=aa.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(f){return"string"!=typeof Sc.imagePath&&(Sc.imagePath=this._detectIconPath()),(this.options.imagePath||Sc.imagePath)+aa.prototype._getIconUrl.call(this,f)},_stripUrl:function(f){var w=function(H,ee,Le){var Dt=ee.exec(H);return Dt&&Dt[Le]};return(f=w(f,/^url\((['"])?(.+)\1\)$/,2))&&w(f,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var f=vr("div","leaflet-default-icon-path",document.body),w=Hr(f,"background-image")||Hr(f,"backgroundImage");if(document.body.removeChild(f),w=this._stripUrl(w))return w;var H=document.querySelector('link[href$="leaflet.css"]');return H?H.href.substring(0,H.href.length-11-1):""}}),Fl=zs.extend({initialize:function(f){this._marker=f},addHooks:function(){var f=this._marker._icon;this._draggable||(this._draggable=new eo(f,f,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),nr(f,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Jr(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(f){var w=this._marker,H=w._map,ee=this._marker.options.autoPanSpeed,Le=this._marker.options.autoPanPadding,Dt=ta(w._icon),fn=H.getPixelBounds(),$n=H.getPixelOrigin(),Xn=Ht(fn.min._subtract($n).add(Le),fn.max._subtract($n).subtract(Le));if(!Xn.contains(Dt)){var xi=Tn((Math.max(Xn.max.x,Dt.x)-Xn.max.x)/(fn.max.x-Xn.max.x)-(Math.min(Xn.min.x,Dt.x)-Xn.min.x)/(fn.min.x-Xn.min.x),(Math.max(Xn.max.y,Dt.y)-Xn.max.y)/(fn.max.y-Xn.max.y)-(Math.min(Xn.min.y,Dt.y)-Xn.min.y)/(fn.min.y-Xn.min.y)).multiplyBy(ee);H.panBy(xi,{animate:!1}),this._draggable._newPos._add(xi),this._draggable._startPos._add(xi),Es(w._icon,this._draggable._newPos),this._onDrag(f),this._panRequest=Me(this._adjustPan.bind(this,f))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(f){this._marker.options.autoPan&&(me(this._panRequest),this._panRequest=Me(this._adjustPan.bind(this,f)))},_onDrag:function(f){var w=this._marker,H=w._shadow,ee=ta(w._icon),Le=w._map.layerPointToLatLng(ee);H&&Es(H,ee),w._latlng=Le,f.latlng=Le,f.oldLatLng=this._oldLatLng,w.fire("move",f).fire("drag",f)},_onDragEnd:function(f){me(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",f)}}),Wa=Rs.extend({options:{icon:new Sc,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(f,w){Ve(this,w),this._latlng=Vt(f)},onAdd:function(f){this._zoomAnimated=this._zoomAnimated&&f.options.markerZoomAnimation,this._zoomAnimated&&f.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(f){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&f.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(f){var w=this._latlng;return this._latlng=Vt(f),this.update(),this.fire("move",{oldLatLng:w,latlng:this._latlng})},setZIndexOffset:function(f){return this.options.zIndexOffset=f,this.update()},getIcon:function(){return this.options.icon},setIcon:function(f){return this.options.icon=f,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var f=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(f)}return this},_initIcon:function(){var f=this.options,w="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),H=f.icon.createIcon(this._icon),ee=!1;H!==this._icon&&(this._icon&&this._removeIcon(),ee=!0,f.title&&(H.title=f.title),"IMG"===H.tagName&&(H.alt=f.alt||"")),nr(H,w),f.keyboard&&(H.tabIndex="0",H.setAttribute("role","button")),this._icon=H,f.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Sr(H,"focus",this._panOnFocus,this);var Le=f.icon.createShadow(this._shadow),Dt=!1;Le!==this._shadow&&(this._removeShadow(),Dt=!0),Le&&(nr(Le,w),Le.alt=""),this._shadow=Le,f.opacity<1&&this._updateOpacity(),ee&&this.getPane().appendChild(this._icon),this._initInteraction(),Le&&Dt&&this.getPane(f.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&os(this._icon,"focus",this._panOnFocus,this),ur(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ur(this._shadow),this._shadow=null},_setPos:function(f){this._icon&&Es(this._icon,f),this._shadow&&Es(this._shadow,f),this._zIndex=f.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(f){this._icon&&(this._icon.style.zIndex=this._zIndex+f)},_animateZoom:function(f){var w=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center).round();this._setPos(w)},_initInteraction:function(){if(this.options.interactive&&(nr(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Fl)){var f=this.options.draggable;this.dragging&&(f=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Fl(this),f&&this.dragging.enable()}},setOpacity:function(f){return this.options.opacity=f,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var f=this.options.opacity;this._icon&&Co(this._icon,f),this._shadow&&Co(this._shadow,f)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var f=this._map;if(f){var w=this.options.icon.options,H=w.iconSize?Tn(w.iconSize):Tn(0,0),ee=w.iconAnchor?Tn(w.iconAnchor):Tn(0,0);f.panInside(this._latlng,{paddingTopLeft:ee,paddingBottomRight:H.subtract(ee)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var Vs=Rs.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(f){this._renderer=f.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(f){return Ve(this,f),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&f&&Object.prototype.hasOwnProperty.call(f,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),pa=Vs.extend({options:{fill:!0,radius:10},initialize:function(f,w){Ve(this,w),this._latlng=Vt(f),this._radius=this.options.radius},setLatLng:function(f){var w=this._latlng;return this._latlng=Vt(f),this.redraw(),this.fire("move",{oldLatLng:w,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(f){return this.options.radius=this._radius=f,this.redraw()},getRadius:function(){return this._radius},setStyle:function(f){var w=f&&f.radius||this._radius;return Vs.prototype.setStyle.call(this,f),this.setRadius(w),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var f=this._radius,w=this._radiusY||f,H=this._clickTolerance(),ee=[f+H,w+H];this._pxBounds=new Wn(this._point.subtract(ee),this._point.add(ee))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(f){return f.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var ca=pa.extend({initialize:function(f,w,H){if("number"==typeof w&&(w=T({},H,{radius:w})),Ve(this,w),this._latlng=Vt(f),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(f){return this._mRadius=f,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var f=[this._radius,this._radiusY||this._radius];return new Bt(this._map.layerPointToLatLng(this._point.subtract(f)),this._map.layerPointToLatLng(this._point.add(f)))},setStyle:Vs.prototype.setStyle,_project:function(){var f=this._latlng.lng,w=this._latlng.lat,H=this._map,ee=H.options.crs;if(ee.distance===Yn.distance){var Le=Math.PI/180,Dt=this._mRadius/Yn.R/Le,fn=H.project([w+Dt,f]),$n=H.project([w-Dt,f]),Xn=fn.add($n).divideBy(2),xi=H.unproject(Xn).lat,Hi=Math.acos((Math.cos(Dt*Le)-Math.sin(w*Le)*Math.sin(xi*Le))/(Math.cos(w*Le)*Math.cos(xi*Le)))/Le;(isNaN(Hi)||0===Hi)&&(Hi=Dt/Math.cos(Math.PI/180*w)),this._point=Xn.subtract(H.getPixelOrigin()),this._radius=isNaN(Hi)?0:Xn.x-H.project([xi,f-Hi]).x,this._radiusY=Xn.y-fn.y}else{var hr=ee.unproject(ee.project(this._latlng).subtract([this._mRadius,0]));this._point=H.latLngToLayerPoint(this._latlng),this._radius=this._point.x-H.latLngToLayerPoint(hr).x}this._updateBounds()}});var xr=Vs.extend({options:{smoothFactor:1,noClip:!1},initialize:function(f,w){Ve(this,w),this._setLatLngs(f)},getLatLngs:function(){return this._latlngs},setLatLngs:function(f){return this._setLatLngs(f),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(f){for(var Le,Dt,w=1/0,H=null,ee=Ma,fn=0,$n=this._parts.length;fn<$n;fn++)for(var Xn=this._parts[fn],xi=1,Hi=Xn.length;xi<Hi;xi++){var hr=ee(f,Le=Xn[xi-1],Dt=Xn[xi],!0);hr<w&&(w=hr,H=ee(f,Le,Dt))}return H&&(H.distance=Math.sqrt(w)),H},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Cr(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(f,w){return w=w||this._defaultShape(),f=Vt(f),w.push(f),this._bounds.extend(f),this.redraw()},_setLatLngs:function(f){this._bounds=new Bt,this._latlngs=this._convertLatLngs(f)},_defaultShape:function(){return Ho(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(f){for(var w=[],H=Ho(f),ee=0,Le=f.length;ee<Le;ee++)H?(w[ee]=Vt(f[ee]),this._bounds.extend(w[ee])):w[ee]=this._convertLatLngs(f[ee]);return w},_project:function(){var f=new Wn;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,f),this._bounds.isValid()&&f.isValid()&&(this._rawPxBounds=f,this._updateBounds())},_updateBounds:function(){var f=this._clickTolerance(),w=new cn(f,f);!this._rawPxBounds||(this._pxBounds=new Wn([this._rawPxBounds.min.subtract(w),this._rawPxBounds.max.add(w)]))},_projectLatlngs:function(f,w,H){var Dt,fn,Le=f.length;if(f[0]instanceof et){for(fn=[],Dt=0;Dt<Le;Dt++)fn[Dt]=this._map.latLngToLayerPoint(f[Dt]),H.extend(fn[Dt]);w.push(fn)}else for(Dt=0;Dt<Le;Dt++)this._projectLatlngs(f[Dt],w,H)},_clipPoints:function(){var f=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(f)){if(this.options.noClip)return void(this._parts=this._rings);var H,ee,Le,Dt,fn,$n,Xn,w=this._parts;for(H=0,Le=0,Dt=this._rings.length;H<Dt;H++)for(ee=0,fn=(Xn=this._rings[H]).length;ee<fn-1;ee++)($n=$a(Xn[ee],Xn[ee+1],f,ee,!0))&&(w[Le]=w[Le]||[],w[Le].push($n[0]),($n[1]!==Xn[ee+1]||ee===fn-2)&&(w[Le].push($n[1]),Le++))}},_simplifyPoints:function(){for(var f=this._parts,w=this.options.smoothFactor,H=0,ee=f.length;H<ee;H++)f[H]=Qo(f[H],w)},_update:function(){!this._map||(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(f,w){var H,ee,Le,Dt,fn,$n,Xn=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(f))return!1;for(H=0,Dt=this._parts.length;H<Dt;H++)for(ee=0,Le=(fn=($n=this._parts[H]).length)-1;ee<fn;Le=ee++)if((w||0!==ee)&&Vo(f,$n[Le],$n[ee])<=Xn)return!0;return!1}});xr._flat=_i;var co=xr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ks(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(f){var w=xr.prototype._convertLatLngs.call(this,f),H=w.length;return H>=2&&w[0]instanceof et&&w[0].equals(w[H-1])&&w.pop(),w},_setLatLngs:function(f){xr.prototype._setLatLngs.call(this,f),Ho(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ho(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var f=this._renderer._bounds,w=this.options.weight,H=new cn(w,w);if(f=new Wn(f.min.subtract(H),f.max.add(H)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(f)){if(this.options.noClip)return void(this._parts=this._rings);for(var Dt,ee=0,Le=this._rings.length;ee<Le;ee++)(Dt=ka(this._rings[ee],f,!0)).length&&this._parts.push(Dt)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(f){var H,ee,Le,Dt,fn,$n,Xn,xi,w=!1;if(!this._pxBounds||!this._pxBounds.contains(f))return!1;for(Dt=0,Xn=this._parts.length;Dt<Xn;Dt++)for(fn=0,$n=(xi=(H=this._parts[Dt]).length)-1;fn<xi;$n=fn++)(ee=H[fn]).y>f.y!=(Le=H[$n]).y>f.y&&f.x<(Le.x-ee.x)*(f.y-ee.y)/(Le.y-ee.y)+ee.x&&(w=!w);return w||xr.prototype._containsPoint.call(this,f,!0)}});var Gs=Ao.extend({initialize:function(f,w){Ve(this,w),this._layers={},f&&this.addData(f)},addData:function(f){var H,ee,Le,w=Ke(f)?f:f.features;if(w){for(H=0,ee=w.length;H<ee;H++)((Le=w[H]).geometries||Le.geometry||Le.features||Le.coordinates)&&this.addData(Le);return this}var Dt=this.options;if(Dt.filter&&!Dt.filter(f))return this;var fn=ae(f,Dt);return fn?(fn.feature=Ji(f),fn.defaultOptions=fn.options,this.resetStyle(fn),Dt.onEachFeature&&Dt.onEachFeature(f,fn),this.addLayer(fn)):this},resetStyle:function(f){return void 0===f?this.eachLayer(this.resetStyle,this):(f.options=T({},f.defaultOptions),this._setLayerStyle(f,this.options.style),this)},setStyle:function(f){return this.eachLayer(function(w){this._setLayerStyle(w,f)},this)},_setLayerStyle:function(f,w){f.setStyle&&("function"==typeof w&&(w=w(f.feature)),f.setStyle(w))}});function ae(f,w){var $n,Xn,xi,Hi,H="Feature"===f.type?f.geometry:f,ee=H?H.coordinates:null,Le=[],Dt=w&&w.pointToLayer,fn=w&&w.coordsToLatLng||ve;if(!ee&&!H)return null;switch(H.type){case"Point":return Xe(Dt,f,$n=fn(ee),w);case"MultiPoint":for(xi=0,Hi=ee.length;xi<Hi;xi++)$n=fn(ee[xi]),Le.push(Xe(Dt,f,$n,w));return new Ao(Le);case"LineString":case"MultiLineString":return Xn=yt(ee,"LineString"===H.type?0:1,fn),new xr(Xn,w);case"Polygon":case"MultiPolygon":return Xn=yt(ee,"Polygon"===H.type?1:2,fn),new co(Xn,w);case"GeometryCollection":for(xi=0,Hi=H.geometries.length;xi<Hi;xi++){var hr=ae({geometry:H.geometries[xi],type:"Feature",properties:f.properties},w);hr&&Le.push(hr)}return new Ao(Le);case"FeatureCollection":for(xi=0,Hi=H.features.length;xi<Hi;xi++){var Pi=ae(H.features[xi],w);Pi&&Le.push(Pi)}return new Ao(Le);default:throw new Error("Invalid GeoJSON object.")}}function Xe(f,w,H,ee){return f?f(w,H):new Wa(H,ee&&ee.markersInheritOptions&&ee)}function ve(f){return new et(f[1],f[0],f[2])}function yt(f,w,H){for(var fn,ee=[],Le=0,Dt=f.length;Le<Dt;Le++)fn=w?yt(f[Le],w-1,H):(H||ve)(f[Le]),ee.push(fn);return ee}function un(f,w){return void 0!==(f=Vt(f)).alt?[re(f.lng,w),re(f.lat,w),re(f.alt,w)]:[re(f.lng,w),re(f.lat,w)]}function jn(f,w,H,ee){for(var Le=[],Dt=0,fn=f.length;Dt<fn;Dt++)Le.push(w?jn(f[Dt],Ho(f[Dt])?0:w-1,H,ee):un(f[Dt],ee));return!w&&H&&Le.push(Le[0].slice()),Le}function si(f,w){return f.feature?T({},f.feature,{geometry:w}):Ji(w)}function Ji(f){return"Feature"===f.type||"FeatureCollection"===f.type?f:{type:"Feature",properties:{},geometry:f}}var ki={toGeoJSON:function(f){return si(this,{type:"Point",coordinates:un(this.getLatLng(),f)})}};function Wr(f,w){return new Gs(f,w)}Wa.include(ki),ca.include(ki),pa.include(ki),xr.include({toGeoJSON:function(f){var w=!Ho(this._latlngs);return si(this,{type:(w?"Multi":"")+"LineString",coordinates:jn(this._latlngs,w?1:0,!1,f)})}}),co.include({toGeoJSON:function(f){var w=!Ho(this._latlngs),H=w&&!Ho(this._latlngs[0]),ee=jn(this._latlngs,H?2:w?1:0,!0,f);return w||(ee=[ee]),si(this,{type:(H?"Multi":"")+"Polygon",coordinates:ee})}}),to.include({toMultiPoint:function(f){var w=[];return this.eachLayer(function(H){w.push(H.toGeoJSON(f).geometry.coordinates)}),si(this,{type:"MultiPoint",coordinates:w})},toGeoJSON:function(f){var w=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===w)return this.toMultiPoint(f);var H="GeometryCollection"===w,ee=[];return this.eachLayer(function(Le){if(Le.toGeoJSON){var Dt=Le.toGeoJSON(f);if(H)ee.push(Dt.geometry);else{var fn=Ji(Dt);"FeatureCollection"===fn.type?ee.push.apply(ee,fn.features):ee.push(fn)}}}),H?si(this,{geometries:ee,type:"GeometryCollection"}):{type:"FeatureCollection",features:ee}}});var qr=Wr,Pr=Rs.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(f,w,H){this._url=f,this._bounds=Kt(w),Ve(this,H)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(nr(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ur(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(f){return this.options.opacity=f,this._image&&this._updateOpacity(),this},setStyle:function(f){return f.opacity&&this.setOpacity(f.opacity),this},bringToFront:function(){return this._map&&$r(this._image),this},bringToBack:function(){return this._map&&ss(this._image),this},setUrl:function(f){return this._url=f,this._image&&(this._image.src=f),this},setBounds:function(f){return this._bounds=Kt(f),this._map&&this._reset(),this},getEvents:function(){var f={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},setZIndex:function(f){return this.options.zIndex=f,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var f="IMG"===this._url.tagName,w=this._image=f?this._url:vr("img");nr(w,"leaflet-image-layer"),this._zoomAnimated&&nr(w,"leaflet-zoom-animated"),this.options.className&&nr(w,this.options.className),w.onselectstart=Ce,w.onmousemove=Ce,w.onload=ue(this.fire,this,"load"),w.onerror=ue(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(w.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),f?this._url=w.src:(w.src=this._url,w.alt=this.options.alt)},_animateZoom:function(f){var w=this._map.getZoomScale(f.zoom),H=this._map._latLngBoundsToNewLayerBounds(this._bounds,f.zoom,f.center).min;ws(this._image,H,w)},_reset:function(){var f=this._image,w=new Wn(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),H=w.getSize();Es(f,w.min),f.style.width=H.x+"px",f.style.height=H.y+"px"},_updateOpacity:function(){Co(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var f=this.options.errorOverlayUrl;f&&this._url!==f&&(this._url=f,this._image.src=f)},getCenter:function(){return this._bounds.getCenter()}}),hs=Pr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var f="VIDEO"===this._url.tagName,w=this._image=f?this._url:vr("video");if(nr(w,"leaflet-image-layer"),this._zoomAnimated&&nr(w,"leaflet-zoom-animated"),this.options.className&&nr(w,this.options.className),w.onselectstart=Ce,w.onmousemove=Ce,w.onloadeddata=ue(this.fire,this,"load"),f){for(var H=w.getElementsByTagName("source"),ee=[],Le=0;Le<H.length;Le++)ee.push(H[Le].src);this._url=H.length>0?ee:[w.src]}else{Ke(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(w.style,"objectFit")&&(w.style.objectFit="fill"),w.autoplay=!!this.options.autoplay,w.loop=!!this.options.loop,w.muted=!!this.options.muted,w.playsInline=!!this.options.playsInline;for(var Dt=0;Dt<this._url.length;Dt++){var fn=vr("source");fn.src=this._url[Dt],w.appendChild(fn)}}}});var Ia=Pr.extend({_initImage:function(){var f=this._image=this._url;nr(f,"leaflet-image-layer"),this._zoomAnimated&&nr(f,"leaflet-zoom-animated"),this.options.className&&nr(f,this.options.className),f.onselectstart=Ce,f.onmousemove=Ce}});var yo=Rs.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(f,w){f&&(f instanceof et||Ke(f))?(this._latlng=Vt(f),Ve(this,w)):(Ve(this,f),this._source=w),this.options.content&&(this._content=this.options.content)},openOn:function(f){return(f=arguments.length?f:this._source._map).hasLayer(this)||f.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(f){return this._map?this.close():(arguments.length?this._source=f:f=this._source,this._prepareOpen(),this.openOn(f._map)),this},onAdd:function(f){this._zoomAnimated=f._zoomAnimated,this._container||this._initLayout(),f._fadeAnimated&&Co(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),f._fadeAnimated&&Co(this._container,1),this.bringToFront(),this.options.interactive&&(nr(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(f){f._fadeAnimated?(Co(this._container,0),this._removeTimeout=setTimeout(ue(ur,void 0,this._container),200)):ur(this._container),this.options.interactive&&(Jr(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(f){return this._latlng=Vt(f),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(f){return this._content=f,this.update(),this},getElement:function(){return this._container},update:function(){!this._map||(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var f={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&$r(this._container),this},bringToBack:function(){return this._map&&ss(this._container),this},_prepareOpen:function(f){var w=this._source;if(!w._map)return!1;if(w instanceof Ao){w=null;var H=this._source._layers;for(var ee in H)if(H[ee]._map){w=H[ee];break}if(!w)return!1;this._source=w}if(!f)if(w.getCenter)f=w.getCenter();else if(w.getLatLng)f=w.getLatLng();else{if(!w.getBounds)throw new Error("Unable to get source layer LatLng.");f=w.getBounds().getCenter()}return this.setLatLng(f),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var f=this._contentNode,w="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof w)f.innerHTML=w;else{for(;f.hasChildNodes();)f.removeChild(f.firstChild);f.appendChild(w)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var f=this._map.latLngToLayerPoint(this._latlng),w=Tn(this.options.offset),H=this._getAnchor();this._zoomAnimated?Es(this._container,f.add(H)):w=w.add(f).add(H);var ee=this._containerBottom=-w.y,Le=this._containerLeft=-Math.round(this._containerWidth/2)+w.x;this._container.style.bottom=ee+"px",this._container.style.left=Le+"px"}},_getAnchor:function(){return[0,0]}});wr.include({_initOverlay:function(f,w,H,ee){var Le=w;return Le instanceof f||(Le=new f(ee).setContent(w)),H&&Le.setLatLng(H),Le}}),Rs.include({_initOverlay:function(f,w,H,ee){var Le=H;return Le instanceof f?(Ve(Le,ee),Le._source=this):(Le=w&&!ee?w:new f(ee,this)).setContent(H),Le}});var Va=yo.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(f){return!(f=arguments.length?f:this._source._map).hasLayer(this)&&f._popup&&f._popup.options.autoClose&&f.removeLayer(f._popup),f._popup=this,yo.prototype.openOn.call(this,f)},onAdd:function(f){yo.prototype.onAdd.call(this,f),f.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Vs||this._source.on("preclick",Aa))},onRemove:function(f){yo.prototype.onRemove.call(this,f),f.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Vs||this._source.off("preclick",Aa))},getEvents:function(){var f=yo.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(f.preclick=this.close),this.options.keepInView&&(f.moveend=this._adjustPan),f},_initLayout:function(){var f="leaflet-popup",w=this._container=vr("div",f+" "+(this.options.className||"")+" leaflet-zoom-animated"),H=this._wrapper=vr("div",f+"-content-wrapper",w);if(this._contentNode=vr("div",f+"-content",H),mo(w),Oo(this._contentNode),Sr(w,"contextmenu",Aa),this._tipContainer=vr("div",f+"-tip-container",w),this._tip=vr("div",f+"-tip",this._tipContainer),this.options.closeButton){var ee=this._closeButton=vr("a",f+"-close-button",w);ee.setAttribute("role","button"),ee.setAttribute("aria-label","Close popup"),ee.href="#close",ee.innerHTML='<span aria-hidden="true">&#215;</span>',Sr(ee,"click",function(Le){gs(Le),this.close()},this)}},_updateLayout:function(){var f=this._contentNode,w=f.style;w.width="",w.whiteSpace="nowrap";var H=f.offsetWidth;H=Math.min(H,this.options.maxWidth),H=Math.max(H,this.options.minWidth),w.width=H+1+"px",w.whiteSpace="",w.height="";var Le=this.options.maxHeight,Dt="leaflet-popup-scrolled";Le&&f.offsetHeight>Le?(w.height=Le+"px",nr(f,Dt)):Jr(f,Dt),this._containerWidth=this._container.offsetWidth},_animateZoom:function(f){var w=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center),H=this._getAnchor();Es(this._container,w.add(H))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)return void(this._autopanning=!1);var f=this._map,w=parseInt(Hr(this._container,"marginBottom"),10)||0,H=this._container.offsetHeight+w,ee=this._containerWidth,Le=new cn(this._containerLeft,-H-this._containerBottom);Le._add(ta(this._container));var Dt=f.layerPointToContainerPoint(Le),fn=Tn(this.options.autoPanPadding),$n=Tn(this.options.autoPanPaddingTopLeft||fn),Xn=Tn(this.options.autoPanPaddingBottomRight||fn),xi=f.getSize(),Hi=0,hr=0;Dt.x+ee+Xn.x>xi.x&&(Hi=Dt.x+ee-xi.x+Xn.x),Dt.x-Hi-$n.x<0&&(Hi=Dt.x-$n.x),Dt.y+H+Xn.y>xi.y&&(hr=Dt.y+H-xi.y+Xn.y),Dt.y-hr-$n.y<0&&(hr=Dt.y-$n.y),(Hi||hr)&&(this.options.keepInView&&(this._autopanning=!0),f.fire("autopanstart").panBy([Hi,hr]))}},_getAnchor:function(){return Tn(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});wr.mergeOptions({closePopupOnClick:!0}),wr.include({openPopup:function(f,w,H){return this._initOverlay(Va,f,w,H).openOn(this),this},closePopup:function(f){return(f=arguments.length?f:this._popup)&&f.close(),this}}),Rs.include({bindPopup:function(f,w){return this._popup=this._initOverlay(Va,this._popup,f,w),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(f){return this._popup&&(this instanceof Ao||(this._popup._source=this),this._popup._prepareOpen(f||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(f){return this._popup&&this._popup.setContent(f),this},getPopup:function(){return this._popup},_openPopup:function(f){if(this._popup&&this._map){Ur(f);var w=f.layer||f.target;if(this._popup._source===w&&!(w instanceof Vs))return void(this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(f.latlng));this._popup._source=w,this.openPopup(f.latlng)}},_movePopup:function(f){this._popup.setLatLng(f.latlng)},_onKeyPress:function(f){13===f.originalEvent.keyCode&&this._openPopup(f)}});var qi=yo.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(f){yo.prototype.onAdd.call(this,f),this.setOpacity(this.options.opacity),f.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(f){yo.prototype.onRemove.call(this,f),f.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var f=yo.prototype.getEvents.call(this);return this.options.permanent||(f.preclick=this.close),f},_initLayout:function(){this._contentNode=this._container=vr("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+Ee(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(f){var w,H,ee=this._map,Le=this._container,Dt=ee.latLngToContainerPoint(ee.getCenter()),fn=ee.layerPointToContainerPoint(f),$n=this.options.direction,Xn=Le.offsetWidth,xi=Le.offsetHeight,Hi=Tn(this.options.offset),hr=this._getAnchor();"top"===$n?(w=Xn/2,H=xi):"bottom"===$n?(w=Xn/2,H=0):"center"===$n?(w=Xn/2,H=xi/2):"right"===$n?(w=0,H=xi/2):"left"===$n?(w=Xn,H=xi/2):fn.x<Dt.x?($n="right",w=0,H=xi/2):($n="left",w=Xn+2*(Hi.x+hr.x),H=xi/2),f=f.subtract(Tn(w,H,!0)).add(Hi).add(hr),Jr(Le,"leaflet-tooltip-right"),Jr(Le,"leaflet-tooltip-left"),Jr(Le,"leaflet-tooltip-top"),Jr(Le,"leaflet-tooltip-bottom"),nr(Le,"leaflet-tooltip-"+$n),Es(Le,f)},_updatePosition:function(){var f=this._map.latLngToLayerPoint(this._latlng);this._setPosition(f)},setOpacity:function(f){this.options.opacity=f,this._container&&Co(this._container,f)},_animateZoom:function(f){var w=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center);this._setPosition(w)},_getAnchor:function(){return Tn(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});wr.include({openTooltip:function(f,w,H){return this._initOverlay(qi,f,w,H).openOn(this),this},closeTooltip:function(f){return f.close(),this}}),Rs.include({bindTooltip:function(f,w){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(qi,this._tooltip,f,w),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(f){if(f||!this._tooltipHandlersAdded){var w=f?"off":"on",H={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?H.add=this._openTooltip:(H.mouseover=this._openTooltip,H.mouseout=this.closeTooltip,H.click=this._openTooltip,this._map?this._addFocusListeners():H.add=this._addFocusListeners),this._tooltip.options.sticky&&(H.mousemove=this._moveTooltip),this[w](H),this._tooltipHandlersAdded=!f}},openTooltip:function(f){return this._tooltip&&(this instanceof Ao||(this._tooltip._source=this),this._tooltip._prepareOpen(f)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(f){return this._tooltip&&this._tooltip.setContent(f),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(f){var w=f.getElement();w&&(Sr(w,"focus",function(){this._tooltip._source=f,this.openTooltip()},this),Sr(w,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(f){var w=f.getElement();w&&w.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(f){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=f.layer||f.target,this.openTooltip(this._tooltip.options.sticky?f.latlng:void 0))},_moveTooltip:function(f){var H,ee,w=f.latlng;this._tooltip.options.sticky&&f.originalEvent&&(H=this._map.mouseEventToContainerPoint(f.originalEvent),ee=this._map.containerPointToLayerPoint(H),w=this._map.layerPointToLatLng(ee)),this._tooltip.setLatLng(w)}});var _c=aa.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(f){var w=f&&"DIV"===f.tagName?f:document.createElement("div"),H=this.options;if(H.html instanceof Element?(xs(w),w.appendChild(H.html)):w.innerHTML=!1!==H.html?H.html:"",H.bgPos){var ee=Tn(H.bgPos);w.style.backgroundPosition=-ee.x+"px "+-ee.y+"px"}return this._setIconStyles(w,"icon"),w},createShadow:function(){return null}});aa.Default=Sc;var $s=Rs.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ti.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(f){Ve(this,f)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(f){f._addZoomLimit(this)},onRemove:function(f){this._removeAllTiles(),ur(this._container),f._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&($r(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ss(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(f){return this.options.opacity=f,this._updateOpacity(),this},setZIndex:function(f){return this.options.zIndex=f,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var f=this._clampZoom(this._map.getZoom());f!==this._tileZoom&&(this._tileZoom=f,this._updateLevels()),this._update()}return this},getEvents:function(){var f={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=Re(this._onMoveEnd,this.options.updateInterval,this)),f.move=this._onMove),this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},createTile:function(){return document.createElement("div")},getTileSize:function(){var f=this.options.tileSize;return f instanceof cn?f:new cn(f,f)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(f){for(var Dt,w=this.getPane().children,H=-f(-1/0,1/0),ee=0,Le=w.length;ee<Le;ee++)Dt=w[ee].style.zIndex,w[ee]!==this._container&&Dt&&(H=f(H,+Dt));isFinite(H)&&(this.options.zIndex=H+f(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ti.ielt9){Co(this._container,this.options.opacity);var f=+new Date,w=!1,H=!1;for(var ee in this._tiles){var Le=this._tiles[ee];if(Le.current&&Le.loaded){var Dt=Math.min(1,(f-Le.loaded)/200);Co(Le.el,Dt),Dt<1?w=!0:(Le.active?H=!0:this._onOpaqueTile(Le),Le.active=!0)}}H&&!this._noPrune&&this._pruneTiles(),w&&(me(this._fadeFrame),this._fadeFrame=Me(this._updateOpacity,this))}},_onOpaqueTile:Ce,_initContainer:function(){this._container||(this._container=vr("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var f=this._tileZoom,w=this.options.maxZoom;if(void 0!==f){for(var H in this._levels)H=Number(H),this._levels[H].el.children.length||H===f?(this._levels[H].el.style.zIndex=w-Math.abs(f-H),this._onUpdateLevel(H)):(ur(this._levels[H].el),this._removeTilesAtZoom(H),this._onRemoveLevel(H),delete this._levels[H]);var ee=this._levels[f],Le=this._map;return ee||((ee=this._levels[f]={}).el=vr("div","leaflet-tile-container leaflet-zoom-animated",this._container),ee.el.style.zIndex=w,ee.origin=Le.project(Le.unproject(Le.getPixelOrigin()),f).round(),ee.zoom=f,this._setZoomTransform(ee,Le.getCenter(),Le.getZoom()),this._onCreateLevel(ee)),this._level=ee,ee}},_onUpdateLevel:Ce,_onRemoveLevel:Ce,_onCreateLevel:Ce,_pruneTiles:function(){if(this._map){var f,w,H=this._map.getZoom();if(H>this.options.maxZoom||H<this.options.minZoom)return void this._removeAllTiles();for(f in this._tiles)(w=this._tiles[f]).retain=w.current;for(f in this._tiles)if((w=this._tiles[f]).current&&!w.active){var ee=w.coords;this._retainParent(ee.x,ee.y,ee.z,ee.z-5)||this._retainChildren(ee.x,ee.y,ee.z,ee.z+2)}for(f in this._tiles)this._tiles[f].retain||this._removeTile(f)}},_removeTilesAtZoom:function(f){for(var w in this._tiles)this._tiles[w].coords.z===f&&this._removeTile(w)},_removeAllTiles:function(){for(var f in this._tiles)this._removeTile(f)},_invalidateAll:function(){for(var f in this._levels)ur(this._levels[f].el),this._onRemoveLevel(Number(f)),delete this._levels[f];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(f,w,H,ee){var Le=Math.floor(f/2),Dt=Math.floor(w/2),fn=H-1,$n=new cn(+Le,+Dt);$n.z=+fn;var Xn=this._tileCoordsToKey($n),xi=this._tiles[Xn];return xi&&xi.active?(xi.retain=!0,!0):(xi&&xi.loaded&&(xi.retain=!0),fn>ee&&this._retainParent(Le,Dt,fn,ee))},_retainChildren:function(f,w,H,ee){for(var Le=2*f;Le<2*f+2;Le++)for(var Dt=2*w;Dt<2*w+2;Dt++){var fn=new cn(Le,Dt);fn.z=H+1;var $n=this._tileCoordsToKey(fn),Xn=this._tiles[$n];Xn&&Xn.active?Xn.retain=!0:(Xn&&Xn.loaded&&(Xn.retain=!0),H+1<ee&&this._retainChildren(Le,Dt,H+1,ee))}},_resetView:function(f){var w=f&&(f.pinch||f.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),w,w)},_animateZoom:function(f){this._setView(f.center,f.zoom,!0,f.noUpdate)},_clampZoom:function(f){var w=this.options;return void 0!==w.minNativeZoom&&f<w.minNativeZoom?w.minNativeZoom:void 0!==w.maxNativeZoom&&w.maxNativeZoom<f?w.maxNativeZoom:f},_setView:function(f,w,H,ee){var Le=Math.round(w);Le=void 0!==this.options.maxZoom&&Le>this.options.maxZoom||void 0!==this.options.minZoom&&Le<this.options.minZoom?void 0:this._clampZoom(Le),(!ee||this.options.updateWhenZooming&&Le!==this._tileZoom)&&(this._tileZoom=Le,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==Le&&this._update(f),H||this._pruneTiles(),this._noPrune=!!H),this._setZoomTransforms(f,w)},_setZoomTransforms:function(f,w){for(var H in this._levels)this._setZoomTransform(this._levels[H],f,w)},_setZoomTransform:function(f,w,H){var ee=this._map.getZoomScale(H,f.zoom),Le=f.origin.multiplyBy(ee).subtract(this._map._getNewPixelOrigin(w,H)).round();ti.any3d?ws(f.el,Le,ee):Es(f.el,Le)},_resetGrid:function(){var f=this._map,w=f.options.crs,H=this._tileSize=this.getTileSize(),ee=this._tileZoom,Le=this._map.getPixelWorldBounds(this._tileZoom);Le&&(this._globalTileRange=this._pxBoundsToTileRange(Le)),this._wrapX=w.wrapLng&&!this.options.noWrap&&[Math.floor(f.project([0,w.wrapLng[0]],ee).x/H.x),Math.ceil(f.project([0,w.wrapLng[1]],ee).x/H.y)],this._wrapY=w.wrapLat&&!this.options.noWrap&&[Math.floor(f.project([w.wrapLat[0],0],ee).y/H.x),Math.ceil(f.project([w.wrapLat[1],0],ee).y/H.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(f){var w=this._map,H=w._animatingZoom?Math.max(w._animateToZoom,w.getZoom()):w.getZoom(),ee=w.getZoomScale(H,this._tileZoom),Le=w.project(f,this._tileZoom).floor(),Dt=w.getSize().divideBy(2*ee);return new Wn(Le.subtract(Dt),Le.add(Dt))},_update:function(f){var w=this._map;if(w){var H=this._clampZoom(w.getZoom());if(void 0===f&&(f=w.getCenter()),void 0!==this._tileZoom){var ee=this._getTiledPixelBounds(f),Le=this._pxBoundsToTileRange(ee),Dt=Le.getCenter(),fn=[],$n=this.options.keepBuffer,Xn=new Wn(Le.getBottomLeft().subtract([$n,-$n]),Le.getTopRight().add([$n,-$n]));if(!(isFinite(Le.min.x)&&isFinite(Le.min.y)&&isFinite(Le.max.x)&&isFinite(Le.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var xi in this._tiles){var Hi=this._tiles[xi].coords;(Hi.z!==this._tileZoom||!Xn.contains(new cn(Hi.x,Hi.y)))&&(this._tiles[xi].current=!1)}if(Math.abs(H-this._tileZoom)>1)return void this._setView(f,H);for(var hr=Le.min.y;hr<=Le.max.y;hr++)for(var Pi=Le.min.x;Pi<=Le.max.x;Pi++){var Is=new cn(Pi,hr);if(Is.z=this._tileZoom,this._isValidTile(Is)){var Al=this._tiles[this._tileCoordsToKey(Is)];Al?Al.current=!0:fn.push(Is)}}if(fn.sort(function(rr,zo){return rr.distanceTo(Dt)-zo.distanceTo(Dt)}),0!==fn.length){this._loading||(this._loading=!0,this.fire("loading"));var Zs=document.createDocumentFragment();for(Pi=0;Pi<fn.length;Pi++)this._addTile(fn[Pi],Zs);this._level.el.appendChild(Zs)}}}},_isValidTile:function(f){var w=this._map.options.crs;if(!w.infinite){var H=this._globalTileRange;if(!w.wrapLng&&(f.x<H.min.x||f.x>H.max.x)||!w.wrapLat&&(f.y<H.min.y||f.y>H.max.y))return!1}if(!this.options.bounds)return!0;var ee=this._tileCoordsToBounds(f);return Kt(this.options.bounds).overlaps(ee)},_keyToBounds:function(f){return this._tileCoordsToBounds(this._keyToTileCoords(f))},_tileCoordsToNwSe:function(f){var w=this._map,H=this.getTileSize(),ee=f.scaleBy(H),Le=ee.add(H);return[w.unproject(ee,f.z),w.unproject(Le,f.z)]},_tileCoordsToBounds:function(f){var w=this._tileCoordsToNwSe(f),H=new Bt(w[0],w[1]);return this.options.noWrap||(H=this._map.wrapLatLngBounds(H)),H},_tileCoordsToKey:function(f){return f.x+":"+f.y+":"+f.z},_keyToTileCoords:function(f){var w=f.split(":"),H=new cn(+w[0],+w[1]);return H.z=+w[2],H},_removeTile:function(f){var w=this._tiles[f];!w||(ur(w.el),delete this._tiles[f],this.fire("tileunload",{tile:w.el,coords:this._keyToTileCoords(f)}))},_initTile:function(f){nr(f,"leaflet-tile");var w=this.getTileSize();f.style.width=w.x+"px",f.style.height=w.y+"px",f.onselectstart=Ce,f.onmousemove=Ce,ti.ielt9&&this.options.opacity<1&&Co(f,this.options.opacity)},_addTile:function(f,w){var H=this._getTilePos(f),ee=this._tileCoordsToKey(f),Le=this.createTile(this._wrapCoords(f),ue(this._tileReady,this,f));this._initTile(Le),this.createTile.length<2&&Me(ue(this._tileReady,this,f,null,Le)),Es(Le,H),this._tiles[ee]={el:Le,coords:f,current:!0},w.appendChild(Le),this.fire("tileloadstart",{tile:Le,coords:f})},_tileReady:function(f,w,H){w&&this.fire("tileerror",{error:w,tile:H,coords:f});var ee=this._tileCoordsToKey(f);(H=this._tiles[ee])&&(H.loaded=+new Date,this._map._fadeAnimated?(Co(H.el,0),me(this._fadeFrame),this._fadeFrame=Me(this._updateOpacity,this)):(H.active=!0,this._pruneTiles()),w||(nr(H.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:H.el,coords:f})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ti.ielt9||!this._map._fadeAnimated?Me(this._pruneTiles,this):setTimeout(ue(this._pruneTiles,this),250)))},_getTilePos:function(f){return f.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(f){var w=new cn(this._wrapX?xe(f.x,this._wrapX):f.x,this._wrapY?xe(f.y,this._wrapY):f.y);return w.z=f.z,w},_pxBoundsToTileRange:function(f){var w=this.getTileSize();return new Wn(f.min.unscaleBy(w).floor(),f.max.unscaleBy(w).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var f in this._tiles)if(!this._tiles[f].loaded)return!1;return!0}});var ga=$s.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(f,w){this._url=f,(w=Ve(this,w)).detectRetina&&ti.retina&&w.maxZoom>0?(w.tileSize=Math.floor(w.tileSize/2),w.zoomReverse?(w.zoomOffset--,w.minZoom=Math.min(w.maxZoom,w.minZoom+1)):(w.zoomOffset++,w.maxZoom=Math.max(w.minZoom,w.maxZoom-1)),w.minZoom=Math.max(0,w.minZoom)):w.zoomReverse?w.minZoom=Math.min(w.maxZoom,w.minZoom):w.maxZoom=Math.max(w.minZoom,w.maxZoom),"string"==typeof w.subdomains&&(w.subdomains=w.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(f,w){return this._url===f&&void 0===w&&(w=!0),this._url=f,w||this.redraw(),this},createTile:function(f,w){var H=document.createElement("img");return Sr(H,"load",ue(this._tileOnLoad,this,w,H)),Sr(H,"error",ue(this._tileOnError,this,w,H)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(H.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(H.referrerPolicy=this.options.referrerPolicy),H.alt="",H.src=this.getTileUrl(f),H},getTileUrl:function(f){var w={r:ti.retina?"@2x":"",s:this._getSubdomain(f),x:f.x,y:f.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var H=this._globalTileRange.max.y-f.y;this.options.tms&&(w.y=H),w["-y"]=H}return Je(this._url,T(w,this.options))},_tileOnLoad:function(f,w){ti.ielt9?setTimeout(ue(f,this,null,w),0):f(null,w)},_tileOnError:function(f,w,H){var ee=this.options.errorTileUrl;ee&&w.getAttribute("src")!==ee&&(w.src=ee),f(H,w)},_onTileRemove:function(f){f.tile.onload=null},_getZoomForUrl:function(){var f=this._tileZoom;return this.options.zoomReverse&&(f=this.options.maxZoom-f),f+this.options.zoomOffset},_getSubdomain:function(f){var w=Math.abs(f.x+f.y)%this.options.subdomains.length;return this.options.subdomains[w]},_abortLoading:function(){var f,w;for(f in this._tiles)if(this._tiles[f].coords.z!==this._tileZoom&&((w=this._tiles[f].el).onload=Ce,w.onerror=Ce,!w.complete)){w.src=We;var H=this._tiles[f].coords;ur(w),delete this._tiles[f],this.fire("tileabort",{tile:w,coords:H})}},_removeTile:function(f){var w=this._tiles[f];if(w)return w.el.setAttribute("src",We),$s.prototype._removeTile.call(this,f)},_tileReady:function(f,w,H){if(this._map&&(!H||H.getAttribute("src")!==We))return $s.prototype._tileReady.call(this,f,w,H)}});function Ec(f,w){return new ga(f,w)}var Mc=ga.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(f,w){this._url=f;var H=T({},this.defaultWmsParams);for(var ee in w)ee in this.options||(H[ee]=w[ee]);var Le=(w=Ve(this,w)).detectRetina&&ti.retina?2:1,Dt=this.getTileSize();H.width=Dt.x*Le,H.height=Dt.y*Le,this.wmsParams=H},onAdd:function(f){this._crs=this.options.crs||f.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,ga.prototype.onAdd.call(this,f)},getTileUrl:function(f){var w=this._tileCoordsToNwSe(f),H=this._crs,ee=Ht(H.project(w[0]),H.project(w[1])),Le=ee.min,Dt=ee.max,fn=(this._wmsVersion>=1.3&&this._crs===Vi?[Le.y,Le.x,Dt.y,Dt.x]:[Le.x,Le.y,Dt.x,Dt.y]).join(","),$n=ga.prototype.getTileUrl.call(this,f);return $n+Ne(this.wmsParams,$n,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+fn},setParams:function(f,w){return T(this.wmsParams,f),w||this.redraw(),this}});ga.WMS=Mc,Ec.wms=function vc(f,w){return new Mc(f,w)};var no=Rs.extend({options:{padding:.1},initialize:function(f){Ve(this,f),Ee(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&nr(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var f={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(f.zoomanim=this._onAnimZoom),f},_onAnimZoom:function(f){this._updateTransform(f.center,f.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(f,w){var H=this._map.getZoomScale(w,this._zoom),ee=this._map.getSize().multiplyBy(.5+this.options.padding),Le=this._map.project(this._center,w),Dt=ee.multiplyBy(-H).add(Le).subtract(this._map._getNewPixelOrigin(f,w));ti.any3d?ws(this._container,Dt,H):Es(this._container,Dt)},_reset:function(){for(var f in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[f]._reset()},_onZoomEnd:function(){for(var f in this._layers)this._layers[f]._project()},_updatePaths:function(){for(var f in this._layers)this._layers[f]._update()},_update:function(){var f=this.options.padding,w=this._map.getSize(),H=this._map.containerPointToLayerPoint(w.multiplyBy(-f)).round();this._bounds=new Wn(H,H.add(w.multiplyBy(1+2*f)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Kl=no.extend({options:{tolerance:0},getEvents:function(){var f=no.prototype.getEvents.call(this);return f.viewprereset=this._onViewPreReset,f},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){no.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var f=this._container=document.createElement("canvas");Sr(f,"mousemove",this._onMouseMove,this),Sr(f,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Sr(f,"mouseout",this._handleMouseOut,this),f._leaflet_disable_events=!0,this._ctx=f.getContext("2d")},_destroyContainer:function(){me(this._redrawRequest),delete this._ctx,ur(this._container),os(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var w in this._redrawBounds=null,this._layers)this._layers[w]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){no.prototype._update.call(this);var f=this._bounds,w=this._container,H=f.getSize(),ee=ti.retina?2:1;Es(w,f.min),w.width=ee*H.x,w.height=ee*H.y,w.style.width=H.x+"px",w.style.height=H.y+"px",ti.retina&&this._ctx.scale(2,2),this._ctx.translate(-f.min.x,-f.min.y),this.fire("update")}},_reset:function(){no.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(f){this._updateDashArray(f),this._layers[Ee(f)]=f;var w=f._order={layer:f,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=w),this._drawLast=w,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(f){this._requestRedraw(f)},_removePath:function(f){var w=f._order,H=w.next,ee=w.prev;H?H.prev=ee:this._drawLast=ee,ee?ee.next=H:this._drawFirst=H,delete f._order,delete this._layers[Ee(f)],this._requestRedraw(f)},_updatePath:function(f){this._extendRedrawBounds(f),f._project(),f._update(),this._requestRedraw(f)},_updateStyle:function(f){this._updateDashArray(f),this._requestRedraw(f)},_updateDashArray:function(f){if("string"==typeof f.options.dashArray){var ee,Le,w=f.options.dashArray.split(/[, ]+/),H=[];for(Le=0;Le<w.length;Le++){if(ee=Number(w[Le]),isNaN(ee))return;H.push(ee)}f.options._dashArray=H}else f.options._dashArray=f.options.dashArray},_requestRedraw:function(f){!this._map||(this._extendRedrawBounds(f),this._redrawRequest=this._redrawRequest||Me(this._redraw,this))},_extendRedrawBounds:function(f){if(f._pxBounds){var w=(f.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Wn,this._redrawBounds.extend(f._pxBounds.min.subtract([w,w])),this._redrawBounds.extend(f._pxBounds.max.add([w,w]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var f=this._redrawBounds;if(f){var w=f.getSize();this._ctx.clearRect(f.min.x,f.min.y,w.x,w.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var f,w=this._redrawBounds;if(this._ctx.save(),w){var H=w.getSize();this._ctx.beginPath(),this._ctx.rect(w.min.x,w.min.y,H.x,H.y),this._ctx.clip()}this._drawing=!0;for(var ee=this._drawFirst;ee;ee=ee.next)f=ee.layer,(!w||f._pxBounds&&f._pxBounds.intersects(w))&&f._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(f,w){if(this._drawing){var H,ee,Le,Dt,fn=f._parts,$n=fn.length,Xn=this._ctx;if($n){for(Xn.beginPath(),H=0;H<$n;H++){for(ee=0,Le=fn[H].length;ee<Le;ee++)Xn[ee?"lineTo":"moveTo"]((Dt=fn[H][ee]).x,Dt.y);w&&Xn.closePath()}this._fillStroke(Xn,f)}}},_updateCircle:function(f){if(this._drawing&&!f._empty()){var w=f._point,H=this._ctx,ee=Math.max(Math.round(f._radius),1),Le=(Math.max(Math.round(f._radiusY),1)||ee)/ee;1!==Le&&(H.save(),H.scale(1,Le)),H.beginPath(),H.arc(w.x,w.y/Le,ee,0,2*Math.PI,!1),1!==Le&&H.restore(),this._fillStroke(H,f)}},_fillStroke:function(f,w){var H=w.options;H.fill&&(f.globalAlpha=H.fillOpacity,f.fillStyle=H.fillColor||H.color,f.fill(H.fillRule||"evenodd")),H.stroke&&0!==H.weight&&(f.setLineDash&&f.setLineDash(w.options&&w.options._dashArray||[]),f.globalAlpha=H.opacity,f.lineWidth=H.weight,f.strokeStyle=H.color,f.lineCap=H.lineCap,f.lineJoin=H.lineJoin,f.stroke())},_onClick:function(f){for(var H,ee,w=this._map.mouseEventToLayerPoint(f),Le=this._drawFirst;Le;Le=Le.next)(H=Le.layer).options.interactive&&H._containsPoint(w)&&("click"!==f.type&&"preclick"!==f.type||!this._map._draggableMoved(H))&&(ee=H);this._fireEvent(!!ee&&[ee],f)},_onMouseMove:function(f){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var w=this._map.mouseEventToLayerPoint(f);this._handleMouseHover(f,w)}},_handleMouseOut:function(f){var w=this._hoveredLayer;w&&(Jr(this._container,"leaflet-interactive"),this._fireEvent([w],f,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(f,w){if(!this._mouseHoverThrottled){for(var H,ee,Le=this._drawFirst;Le;Le=Le.next)(H=Le.layer).options.interactive&&H._containsPoint(w)&&(ee=H);ee!==this._hoveredLayer&&(this._handleMouseOut(f),ee&&(nr(this._container,"leaflet-interactive"),this._fireEvent([ee],f,"mouseover"),this._hoveredLayer=ee)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],f),this._mouseHoverThrottled=!0,setTimeout(ue(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(f,w,H){this._map._fireDOMEvent(w,H||w.type,f)},_bringToFront:function(f){var w=f._order;if(w){var H=w.next,ee=w.prev;if(!H)return;H.prev=ee,ee?ee.next=H:H&&(this._drawFirst=H),w.prev=this._drawLast,this._drawLast.next=w,w.next=null,this._drawLast=w,this._requestRedraw(f)}},_bringToBack:function(f){var w=f._order;if(w){var H=w.next,ee=w.prev;if(!ee)return;ee.next=H,H?H.prev=ee:ee&&(this._drawLast=ee),w.prev=null,w.next=this._drawFirst,this._drawFirst.prev=w,this._drawFirst=w,this._requestRedraw(f)}}});function yc(f){return ti.canvas?new Kl(f):null}var da=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(f){return document.createElement("<lvml:"+f+' class="lvml">')}}catch{}return function(f){return document.createElement("<"+f+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Fr={_initContainer:function(){this._container=vr("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(no.prototype._update.call(this),this.fire("update"))},_initPath:function(f){var w=f._container=da("shape");nr(w,"leaflet-vml-shape "+(this.options.className||"")),w.coordsize="1 1",f._path=da("path"),w.appendChild(f._path),this._updateStyle(f),this._layers[Ee(f)]=f},_addPath:function(f){var w=f._container;this._container.appendChild(w),f.options.interactive&&f.addInteractiveTarget(w)},_removePath:function(f){var w=f._container;ur(w),f.removeInteractiveTarget(w),delete this._layers[Ee(f)]},_updateStyle:function(f){var w=f._stroke,H=f._fill,ee=f.options,Le=f._container;Le.stroked=!!ee.stroke,Le.filled=!!ee.fill,ee.stroke?(w||(w=f._stroke=da("stroke")),Le.appendChild(w),w.weight=ee.weight+"px",w.color=ee.color,w.opacity=ee.opacity,w.dashStyle=ee.dashArray?Ke(ee.dashArray)?ee.dashArray.join(" "):ee.dashArray.replace(/( *, *)/g," "):"",w.endcap=ee.lineCap.replace("butt","flat"),w.joinstyle=ee.lineJoin):w&&(Le.removeChild(w),f._stroke=null),ee.fill?(H||(H=f._fill=da("fill")),Le.appendChild(H),H.color=ee.fillColor||ee.color,H.opacity=ee.fillOpacity):H&&(Le.removeChild(H),f._fill=null)},_updateCircle:function(f){var w=f._point.round(),H=Math.round(f._radius),ee=Math.round(f._radiusY||H);this._setPath(f,f._empty()?"M0 0":"AL "+w.x+","+w.y+" "+H+","+ee+" 0,23592600")},_setPath:function(f,w){f._path.v=w},_bringToFront:function(f){$r(f._container)},_bringToBack:function(f){ss(f._container)}},ne=ti.vml?da:yn,oe=no.extend({_initContainer:function(){this._container=ne("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ne("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ur(this._container),os(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){no.prototype._update.call(this);var f=this._bounds,w=f.getSize(),H=this._container;(!this._svgSize||!this._svgSize.equals(w))&&(this._svgSize=w,H.setAttribute("width",w.x),H.setAttribute("height",w.y)),Es(H,f.min),H.setAttribute("viewBox",[f.min.x,f.min.y,w.x,w.y].join(" ")),this.fire("update")}},_initPath:function(f){var w=f._path=ne("path");f.options.className&&nr(w,f.options.className),f.options.interactive&&nr(w,"leaflet-interactive"),this._updateStyle(f),this._layers[Ee(f)]=f},_addPath:function(f){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(f._path),f.addInteractiveTarget(f._path)},_removePath:function(f){ur(f._path),f.removeInteractiveTarget(f._path),delete this._layers[Ee(f)]},_updatePath:function(f){f._project(),f._update()},_updateStyle:function(f){var w=f._path,H=f.options;!w||(H.stroke?(w.setAttribute("stroke",H.color),w.setAttribute("stroke-opacity",H.opacity),w.setAttribute("stroke-width",H.weight),w.setAttribute("stroke-linecap",H.lineCap),w.setAttribute("stroke-linejoin",H.lineJoin),H.dashArray?w.setAttribute("stroke-dasharray",H.dashArray):w.removeAttribute("stroke-dasharray"),H.dashOffset?w.setAttribute("stroke-dashoffset",H.dashOffset):w.removeAttribute("stroke-dashoffset")):w.setAttribute("stroke","none"),H.fill?(w.setAttribute("fill",H.fillColor||H.color),w.setAttribute("fill-opacity",H.fillOpacity),w.setAttribute("fill-rule",H.fillRule||"evenodd")):w.setAttribute("fill","none"))},_updatePoly:function(f,w){this._setPath(f,pn(f._parts,w))},_updateCircle:function(f){var w=f._point,H=Math.max(Math.round(f._radius),1),Le="a"+H+","+(Math.max(Math.round(f._radiusY),1)||H)+" 0 1,0 ",Dt=f._empty()?"M0 0":"M"+(w.x-H)+","+w.y+Le+2*H+",0 "+Le+2*-H+",0 ";this._setPath(f,Dt)},_setPath:function(f,w){f._path.setAttribute("d",w)},_bringToFront:function(f){$r(f._path)},_bringToBack:function(f){ss(f._path)}});function dt(f){return ti.svg||ti.vml?new oe(f):null}ti.vml&&oe.include(Fr),wr.include({getRenderer:function(f){var w=f.options.renderer||this._getPaneRenderer(f.options.pane)||this.options.renderer||this._renderer;return w||(w=this._renderer=this._createRenderer()),this.hasLayer(w)||this.addLayer(w),w},_getPaneRenderer:function(f){if("overlayPane"===f||void 0===f)return!1;var w=this._paneRenderers[f];return void 0===w&&(w=this._createRenderer({pane:f}),this._paneRenderers[f]=w),w},_createRenderer:function(f){return this.options.preferCanvas&&yc(f)||dt(f)}});var hn=co.extend({initialize:function(f,w){co.prototype.initialize.call(this,this._boundsToLatLngs(f),w)},setBounds:function(f){return this.setLatLngs(this._boundsToLatLngs(f))},_boundsToLatLngs:function(f){return[(f=Kt(f)).getSouthWest(),f.getNorthWest(),f.getNorthEast(),f.getSouthEast()]}});oe.create=ne,oe.pointsToPath=pn,Gs.geometryToLayer=ae,Gs.coordsToLatLng=ve,Gs.coordsToLatLngs=yt,Gs.latLngToCoords=un,Gs.latLngsToCoords=jn,Gs.getFeature=si,Gs.asFeature=Ji,wr.mergeOptions({boxZoom:!0});var Gi=zs.extend({initialize:function(f){this._map=f,this._container=f._container,this._pane=f._panes.overlayPane,this._resetStateTimeout=0,f.on("unload",this._destroy,this)},addHooks:function(){Sr(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){os(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ur(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(f){if(!f.shiftKey||1!==f.which&&1!==f.button)return!1;this._clearDeferredResetState(),this._resetState(),ja(),Po(),this._startPoint=this._map.mouseEventToContainerPoint(f),Sr(document,{contextmenu:Ur,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(f){this._moved||(this._moved=!0,this._box=vr("div","leaflet-zoom-box",this._container),nr(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(f);var w=new Wn(this._point,this._startPoint),H=w.getSize();Es(this._box,w.min),this._box.style.width=H.x+"px",this._box.style.height=H.y+"px"},_finish:function(){this._moved&&(ur(this._box),Jr(this._container,"leaflet-crosshair")),Os(),Dl(),os(document,{contextmenu:Ur,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(f){if((1===f.which||1===f.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(ue(this._resetState,this),0);var w=new Bt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(w).fire("boxzoomend",{boxZoomBounds:w})}},_onKeyDown:function(f){27===f.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});wr.addInitHook("addHandler","boxZoom",Gi),wr.mergeOptions({doubleClickZoom:!0});var vs=zs.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(f){var w=this._map,H=w.getZoom(),ee=w.options.zoomDelta,Le=f.originalEvent.shiftKey?H-ee:H+ee;"center"===w.options.doubleClickZoom?w.setZoom(Le):w.setZoomAround(f.containerPoint,Le)}});wr.addInitHook("addHandler","doubleClickZoom",vs),wr.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var es=zs.extend({addHooks:function(){if(!this._draggable){var f=this._map;this._draggable=new eo(f._mapPane,f._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),f.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),f.on("zoomend",this._onZoomEnd,this),f.whenReady(this._onZoomEnd,this))}nr(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Jr(this._map._container,"leaflet-grab"),Jr(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var f=this._map;if(f._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var w=Kt(this._map.options.maxBounds);this._offsetLimit=Ht(this._map.latLngToContainerPoint(w.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(w.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;f.fire("movestart").fire("dragstart"),f.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(f){if(this._map.options.inertia){var w=this._lastTime=+new Date,H=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(H),this._times.push(w),this._prunePositions(w)}this._map.fire("move",f).fire("drag",f)},_prunePositions:function(f){for(;this._positions.length>1&&f-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var f=this._map.getSize().divideBy(2),w=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=w.subtract(f).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(f,w){return f-(f-w)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var f=this._draggable._newPos.subtract(this._draggable._startPos),w=this._offsetLimit;f.x<w.min.x&&(f.x=this._viscousLimit(f.x,w.min.x)),f.y<w.min.y&&(f.y=this._viscousLimit(f.y,w.min.y)),f.x>w.max.x&&(f.x=this._viscousLimit(f.x,w.max.x)),f.y>w.max.y&&(f.y=this._viscousLimit(f.y,w.max.y)),this._draggable._newPos=this._draggable._startPos.add(f)}},_onPreDragWrap:function(){var f=this._worldWidth,w=Math.round(f/2),H=this._initialWorldOffset,ee=this._draggable._newPos.x,Le=(ee-w+H)%f+w-H,Dt=(ee+w+H)%f-w-H,fn=Math.abs(Le+H)<Math.abs(Dt+H)?Le:Dt;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=fn},_onDragEnd:function(f){var w=this._map,H=w.options,ee=!H.inertia||f.noInertia||this._times.length<2;if(w.fire("dragend",f),ee)w.fire("moveend");else{this._prunePositions(+new Date);var Le=this._lastPos.subtract(this._positions[0]),fn=H.easeLinearity,$n=Le.multiplyBy(fn/((this._lastTime-this._times[0])/1e3)),Xn=$n.distanceTo([0,0]),xi=Math.min(H.inertiaMaxSpeed,Xn),Hi=$n.multiplyBy(xi/Xn),hr=xi/(H.inertiaDeceleration*fn),Pi=Hi.multiplyBy(-hr/2).round();Pi.x||Pi.y?(Pi=w._limitOffset(Pi,w.options.maxBounds),Me(function(){w.panBy(Pi,{duration:hr,easeLinearity:fn,noMoveStart:!0,animate:!0})})):w.fire("moveend")}}});wr.addInitHook("addHandler","dragging",es),wr.mergeOptions({keyboard:!0,keyboardPanDelta:80});var wi=zs.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(f){this._map=f,this._setPanDelta(f.options.keyboardPanDelta),this._setZoomDelta(f.options.zoomDelta)},addHooks:function(){var f=this._map._container;f.tabIndex<=0&&(f.tabIndex="0"),Sr(f,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),os(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var f=document.body,w=document.documentElement,H=f.scrollTop||w.scrollTop,ee=f.scrollLeft||w.scrollLeft;this._map._container.focus(),window.scrollTo(ee,H)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(f){var ee,Le,w=this._panKeys={},H=this.keyCodes;for(ee=0,Le=H.left.length;ee<Le;ee++)w[H.left[ee]]=[-1*f,0];for(ee=0,Le=H.right.length;ee<Le;ee++)w[H.right[ee]]=[f,0];for(ee=0,Le=H.down.length;ee<Le;ee++)w[H.down[ee]]=[0,f];for(ee=0,Le=H.up.length;ee<Le;ee++)w[H.up[ee]]=[0,-1*f]},_setZoomDelta:function(f){var ee,Le,w=this._zoomKeys={},H=this.keyCodes;for(ee=0,Le=H.zoomIn.length;ee<Le;ee++)w[H.zoomIn[ee]]=f;for(ee=0,Le=H.zoomOut.length;ee<Le;ee++)w[H.zoomOut[ee]]=-f},_addHooks:function(){Sr(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){os(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(f){if(!(f.altKey||f.ctrlKey||f.metaKey)){var ee,w=f.keyCode,H=this._map;if(w in this._panKeys){if(!H._panAnim||!H._panAnim._inProgress)if(ee=this._panKeys[w],f.shiftKey&&(ee=Tn(ee).multiplyBy(3)),H.options.maxBounds&&(ee=H._limitOffset(Tn(ee),H.options.maxBounds)),H.options.worldCopyJump){var Le=H.wrapLatLng(H.unproject(H.project(H.getCenter()).add(ee)));H.panTo(Le)}else H.panBy(ee)}else if(w in this._zoomKeys)H.setZoom(H.getZoom()+(f.shiftKey?3:1)*this._zoomKeys[w]);else{if(27!==w||!H._popup||!H._popup.options.closeOnEscapeKey)return;H.closePopup()}Ur(f)}}});wr.addInitHook("addHandler","keyboard",wi),wr.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var $i=zs.extend({addHooks:function(){Sr(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){os(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(f){var w=Sa(f),H=this._map.options.wheelDebounceTime;this._delta+=w,this._lastMousePos=this._map.mouseEventToContainerPoint(f),this._startTime||(this._startTime=+new Date);var ee=Math.max(H-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(ue(this._performZoom,this),ee),Ur(f)},_performZoom:function(){var f=this._map,w=f.getZoom(),H=this._map.options.zoomSnap||0;f._stop();var Le=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,Dt=H?Math.ceil(Le/H)*H:Le,fn=f._limitZoom(w+(this._delta>0?Dt:-Dt))-w;this._delta=0,this._startTime=null,fn&&("center"===f.options.scrollWheelZoom?f.setZoom(w+fn):f.setZoomAround(this._lastMousePos,w+fn))}});wr.addInitHook("addHandler","scrollWheelZoom",$i);wr.mergeOptions({tapHold:ti.touchNative&&ti.safari&&ti.mobile,tapTolerance:15});var Ri=zs.extend({addHooks:function(){Sr(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){os(this._map._container,"touchstart",this._onDown,this)},_onDown:function(f){if(clearTimeout(this._holdTimeout),1===f.touches.length){var w=f.touches[0];this._startPos=this._newPos=new cn(w.clientX,w.clientY),this._holdTimeout=setTimeout(ue(function(){this._cancel(),this._isTapValid()&&(Sr(document,"touchend",gs),Sr(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",w))},this),600),Sr(document,"touchend touchcancel contextmenu",this._cancel,this),Sr(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function f(){os(document,"touchend",gs),os(document,"touchend touchcancel",f)},_cancel:function(){clearTimeout(this._holdTimeout),os(document,"touchend touchcancel contextmenu",this._cancel,this),os(document,"touchmove",this._onMove,this)},_onMove:function(f){var w=f.touches[0];this._newPos=new cn(w.clientX,w.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(f,w){var H=new MouseEvent(f,{bubbles:!0,cancelable:!0,view:window,screenX:w.screenX,screenY:w.screenY,clientX:w.clientX,clientY:w.clientY});H._simulated=!0,w.target.dispatchEvent(H)}});wr.addInitHook("addHandler","tapHold",Ri),wr.mergeOptions({touchZoom:ti.touch,bounceAtZoomLimits:!0});var Kn=zs.extend({addHooks:function(){nr(this._map._container,"leaflet-touch-zoom"),Sr(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Jr(this._map._container,"leaflet-touch-zoom"),os(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(f){var w=this._map;if(f.touches&&2===f.touches.length&&!w._animatingZoom&&!this._zooming){var H=w.mouseEventToContainerPoint(f.touches[0]),ee=w.mouseEventToContainerPoint(f.touches[1]);this._centerPoint=w.getSize()._divideBy(2),this._startLatLng=w.containerPointToLatLng(this._centerPoint),"center"!==w.options.touchZoom&&(this._pinchStartLatLng=w.containerPointToLatLng(H.add(ee)._divideBy(2))),this._startDist=H.distanceTo(ee),this._startZoom=w.getZoom(),this._moved=!1,this._zooming=!0,w._stop(),Sr(document,"touchmove",this._onTouchMove,this),Sr(document,"touchend touchcancel",this._onTouchEnd,this),gs(f)}},_onTouchMove:function(f){if(f.touches&&2===f.touches.length&&this._zooming){var w=this._map,H=w.mouseEventToContainerPoint(f.touches[0]),ee=w.mouseEventToContainerPoint(f.touches[1]),Le=H.distanceTo(ee)/this._startDist;if(this._zoom=w.getScaleZoom(Le,this._startZoom),!w.options.bounceAtZoomLimits&&(this._zoom<w.getMinZoom()&&Le<1||this._zoom>w.getMaxZoom()&&Le>1)&&(this._zoom=w._limitZoom(this._zoom)),"center"===w.options.touchZoom){if(this._center=this._startLatLng,1===Le)return}else{var Dt=H._add(ee)._divideBy(2)._subtract(this._centerPoint);if(1===Le&&0===Dt.x&&0===Dt.y)return;this._center=w.unproject(w.project(this._pinchStartLatLng,this._zoom).subtract(Dt),this._zoom)}this._moved||(w._moveStart(!0,!1),this._moved=!0),me(this._animRequest);var fn=ue(w._move,w,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Me(fn,this,!0),gs(f)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,me(this._animRequest),os(document,"touchmove",this._onTouchMove,this),os(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});wr.addInitHook("addHandler","touchZoom",Kn),wr.BoxZoom=Gi,wr.DoubleClickZoom=vs,wr.Drag=es,wr.Keyboard=wi,wr.ScrollWheelZoom=$i,wr.TapHold=Ri,wr.TouchZoom=Kn,N.Bounds=Wn,N.Browser=ti,N.CRS=jt,N.Canvas=Kl,N.Circle=ca,N.CircleMarker=pa,N.Class=vt,N.Control=Bs,N.DivIcon=_c,N.DivOverlay=yo,N.DomEvent=Zo,N.DomUtil=Rl,N.Draggable=eo,N.Evented=In,N.FeatureGroup=Ao,N.GeoJSON=Gs,N.GridLayer=$s,N.Handler=zs,N.Icon=aa,N.ImageOverlay=Pr,N.LatLng=et,N.LatLngBounds=Bt,N.Layer=Rs,N.LayerGroup=to,N.LineUtil=ac,N.Map=wr,N.Marker=Wa,N.Mixin=Vr,N.Path=Vs,N.Point=cn,N.PolyUtil=Se,N.Polygon=co,N.Polyline=xr,N.Popup=Va,N.PosAnimation=lo,N.Projection=Et,N.Rectangle=hn,N.Renderer=no,N.SVG=oe,N.SVGOverlay=Ia,N.TileLayer=ga,N.Tooltip=qi,N.Transformation=On,N.Util=St,N.VideoOverlay=hs,N.bind=ue,N.bounds=Ht,N.canvas=yc,N.circle=function ar(f,w,H){return new ca(f,w,H)},N.circleMarker=function cc(f,w){return new pa(f,w)},N.control=Ms,N.divIcon=function Ys(f){return new _c(f)},N.extend=T,N.featureGroup=function(f,w){return new Ao(f,w)},N.geoJSON=Wr,N.geoJson=qr,N.gridLayer=function Nl(f){return new $s(f)},N.icon=function la(f){return new aa(f)},N.imageOverlay=function(f,w,H){return new Pr(f,w,H)},N.latLng=Vt,N.latLngBounds=Kt,N.layerGroup=function(f,w){return new to(f,w)},N.map=function Ea(f,w){return new wr(f,w)},N.marker=function lc(f,w){return new Wa(f,w)},N.point=Tn,N.polygon=function ua(f,w){return new co(f,w)},N.polyline=function il(f,w){return new xr(f,w)},N.popup=function(f,w){return new Va(f,w)},N.rectangle=function Dn(f,w){return new hn(f,w)},N.setOptions=Ve,N.stamp=Ee,N.svg=dt,N.svgOverlay=function Uo(f,w,H){return new Ia(f,w,H)},N.tileLayer=Ec,N.tooltip=function(f,w){return new qi(f,w)},N.transformation=Qn,N.version="1.9.3",N.videoOverlay=function Cs(f,w,H){return new hs(f,w,H)};var vi=window.L;N.noConflict=function(){return window.L=vi,this},window.L=N}(qt)},1520:ai=>{ai.exports=function T(O,ue,R){function Ee(Ce,re){if(!ue[Ce]){if(!O[Ce]){if(Re)return Re(Ce,!0);var be=new Error("Cannot find module '"+Ce+"'");throw be.code="MODULE_NOT_FOUND",be}var Ve=ue[Ce]={exports:{}};O[Ce][0].call(Ve.exports,function(Ne){return Ee(O[Ce][1][Ne]||Ne)},Ve,Ve.exports,T,O,ue,R)}return ue[Ce].exports}for(var Re=void 0,xe=0;xe<R.length;xe++)Ee(R[xe]);return Ee}({1:[function(T,O,ue){"use strict";var R=T("multimath"),Ee=T("./mm_unsharp_mask"),Re=T("./mm_resize");function xe(Ce){var re=Ce||[],ce={js:re.indexOf("js")>=0,wasm:re.indexOf("wasm")>=0};R.call(this,ce),this.features={js:ce.js,wasm:ce.wasm&&this.has_wasm()},this.use(Ee),this.use(Re)}(xe.prototype=Object.create(R.prototype)).constructor=xe,xe.prototype.resizeAndUnsharp=function(re,ce){var be=this.resize(re,ce);return re.unsharpAmount&&this.unsharp_mask(be,re.toWidth,re.toHeight,re.unsharpAmount,re.unsharpRadius,re.unsharpThreshold),be},O.exports=xe},{"./mm_resize":4,"./mm_unsharp_mask":9,multimath:19}],2:[function(T,O,ue){"use strict";function R(ce){return ce<0?0:ce>255?255:ce}function Ee(ce){return ce>=0?ce:0}O.exports={convolveHor:function Re(ce,be,Ve,Ne,Be,Je){var Ke,nt,We,ft,pt,tt,je,Ye,Me,me,St,vt=0,an=0;for(Me=0;Me<Ne;Me++){for(pt=0,me=0;me<Be;me++){for(tt=Je[pt++],je=Je[pt++],Ye=vt+4*tt|0,Ke=nt=We=ft=0;je>0;je--)ft=ft+(St=Je[pt++])*ce[Ye+3]|0,We=We+St*ce[Ye+2]|0,nt=nt+St*ce[Ye+1]|0,Ke=Ke+St*ce[Ye]|0,Ye=Ye+4|0;be[an+3]=Ee(ft>>7),be[an+2]=Ee(We>>7),be[an+1]=Ee(nt>>7),be[an]=Ee(Ke>>7),an=an+4*Ne|0}an=4*(Me+1)|0,vt=(Me+1)*Ve*4|0}},convolveVert:function xe(ce,be,Ve,Ne,Be,Je){var Ke,nt,We,ft,pt,tt,je,Ye,Me,me,St,vt=0,an=0;for(Me=0;Me<Ne;Me++){for(pt=0,me=0;me<Be;me++){for(tt=Je[pt++],je=Je[pt++],Ye=vt+4*tt|0,Ke=nt=We=ft=0;je>0;je--)ft=ft+(St=Je[pt++])*ce[Ye+3]|0,We=We+St*ce[Ye+2]|0,nt=nt+St*ce[Ye+1]|0,Ke=Ke+St*ce[Ye]|0,Ye=Ye+4|0;Ke>>=7,nt>>=7,We>>=7,be[an+3]=R(8192+(ft>>=7)>>14),be[an+2]=R(We+8192>>14),be[an+1]=R(nt+8192>>14),be[an]=R(Ke+8192>>14),an=an+4*Ne|0}an=4*(Me+1)|0,vt=(Me+1)*Ve*4|0}},convolveHorWithPre:function Ce(ce,be,Ve,Ne,Be,Je){var Ke,nt,We,ft,pt,tt,je,Ye,Me,me,St,vt,an=0,xn=0;for(me=0;me<Ne;me++){for(tt=0,St=0;St<Be;St++){for(je=Je[tt++],Ye=Je[tt++],Me=an+4*je|0,Ke=nt=We=ft=0;Ye>0;Ye--)ft=ft+(vt=Je[tt++])*(pt=ce[Me+3])|0,We=We+vt*ce[Me+2]*pt|0,nt=nt+vt*ce[Me+1]*pt|0,Ke=Ke+vt*ce[Me]*pt|0,Me=Me+4|0;We=We/255|0,nt=nt/255|0,Ke=Ke/255|0,be[xn+3]=Ee(ft>>7),be[xn+2]=Ee(We>>7),be[xn+1]=Ee(nt>>7),be[xn]=Ee(Ke>>7),xn=xn+4*Ne|0}xn=4*(me+1)|0,an=(me+1)*Ve*4|0}},convolveVertWithPre:function re(ce,be,Ve,Ne,Be,Je){var Ke,nt,We,ft,pt,tt,je,Ye,Me,me,St,vt=0,an=0;for(Me=0;Me<Ne;Me++){for(pt=0,me=0;me<Be;me++){for(tt=Je[pt++],je=Je[pt++],Ye=vt+4*tt|0,Ke=nt=We=ft=0;je>0;je--)ft=ft+(St=Je[pt++])*ce[Ye+3]|0,We=We+St*ce[Ye+2]|0,nt=nt+St*ce[Ye+1]|0,Ke=Ke+St*ce[Ye]|0,Ye=Ye+4|0;Ke>>=7,nt>>=7,We>>=7,(ft=R(8192+(ft>>=7)>>14))>0&&(Ke=255*Ke/ft|0,nt=255*nt/ft|0,We=255*We/ft|0),be[an+3]=ft,be[an+2]=R(We+8192>>14),be[an+1]=R(nt+8192>>14),be[an]=R(Ke+8192>>14),an=an+4*Ne|0}an=4*(Me+1)|0,vt=(Me+1)*Ve*4|0}}}},{}],3:[function(T,O,ue){"use strict";O.exports="AGFzbQEAAAAADAZkeWxpbmsAAAAAAAEYA2AGf39/f39/AGAAAGAIf39/f39/f38AAg8BA2VudgZtZW1vcnkCAAADBwYBAAAAAAIGBgF/AEEACweUAQgRX193YXNtX2NhbGxfY3RvcnMAAAtjb252b2x2ZUhvcgABDGNvbnZvbHZlVmVydAACEmNvbnZvbHZlSG9yV2l0aFByZQADE2NvbnZvbHZlVmVydFdpdGhQcmUABApjb252b2x2ZUhWAAUMX19kc29faGFuZGxlAwAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAAKyA4GAwABC4wDARB/AkAgA0UNACAERQ0AIANBAnQhFQNAQQAhE0EAIQsDQCALQQJqIQcCfyALQQF0IAVqIgYuAQIiC0UEQEEAIQhBACEGQQAhCUEAIQogBwwBCyASIAYuAQBqIQhBACEJQQAhCiALIRRBACEOIAchBkEAIQ8DQCAFIAZBAXRqLgEAIhAgACAIQQJ0aigCACIRQRh2bCAPaiEPIBFB/wFxIBBsIAlqIQkgEUEQdkH/AXEgEGwgDmohDiARQQh2Qf8BcSAQbCAKaiEKIAhBAWohCCAGQQFqIQYgFEEBayIUDQALIAlBB3UhCCAKQQd1IQYgDkEHdSEJIA9BB3UhCiAHIAtqCyELIAEgDEEBdCIHaiAIQQAgCEEAShs7AQAgASAHQQJyaiAGQQAgBkEAShs7AQAgASAHQQRyaiAJQQAgCUEAShs7AQAgASAHQQZyaiAKQQAgCkEAShs7AQAgDCAVaiEMIBNBAWoiEyAERw0ACyANQQFqIg0gAmwhEiANQQJ0IQwgAyANRw0ACwsL2gMBD38CQCADRQ0AIARFDQAgAkECdCEUA0AgCyEMQQAhE0EAIQIDQCACQQJqIQYCfyACQQF0IAVqIgcuAQIiAkUEQEEAIQhBACEHQQAhCkEAIQkgBgwBCyAHLgEAQQJ0IBJqIQhBACEJIAIhCkEAIQ0gBiEHQQAhDkEAIQ8DQCAFIAdBAXRqLgEAIhAgACAIQQF0IhFqLwEAbCAJaiEJIAAgEUEGcmovAQAgEGwgDmohDiAAIBFBBHJqLwEAIBBsIA9qIQ8gACARQQJyai8BACAQbCANaiENIAhBBGohCCAHQQFqIQcgCkEBayIKDQALIAlBB3UhCCANQQd1IQcgDkEHdSEKIA9BB3UhCSACIAZqCyECIAEgDEECdGogB0GAQGtBDnUiBkH/ASAGQf8BSBsiBkEAIAZBAEobQQh0QYD+A3EgCUGAQGtBDnUiBkH/ASAGQf8BSBsiBkEAIAZBAEobQRB0QYCA/AdxIApBgEBrQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG0EYdHJyIAhBgEBrQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG3I2AgAgAyAMaiEMIBNBAWoiEyAERw0ACyAUIAtBAWoiC2whEiADIAtHDQALCwuSAwEQfwJAIANFDQAgBEUNACADQQJ0IRUDQEEAIRNBACEGA0AgBkECaiEIAn8gBkEBdCAFaiIGLgECIgdFBEBBACEJQQAhDEEAIQ1BACEOIAgMAQsgEiAGLgEAaiEJQQAhDkEAIQ1BACEMIAchFEEAIQ8gCCEGA0AgBSAGQQF0ai4BACAAIAlBAnRqKAIAIhBBGHZsIhEgD2ohDyARIBBBEHZB/wFxbCAMaiEMIBEgEEEIdkH/AXFsIA1qIQ0gESAQQf8BcWwgDmohDiAJQQFqIQkgBkEBaiEGIBRBAWsiFA0ACyAPQQd1IQkgByAIagshBiABIApBAXQiCGogDkH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEECcmogDUH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEEEcmogDEH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEEGcmogCUEAIAlBAEobOwEAIAogFWohCiATQQFqIhMgBEcNAAsgC0EBaiILIAJsIRIgC0ECdCEKIAMgC0cNAAsLC4IEAQ9/AkAgA0UNACAERQ0AIAJBAnQhFANAIAshDEEAIRJBACEHA0AgB0ECaiEKAn8gB0EBdCAFaiICLgECIhNFBEBBACEIQQAhCUEAIQYgCiEHQQAMAQsgAi4BAEECdCARaiEJQQAhByATIQJBACENIAohBkEAIQ5BACEPA0AgBSAGQQF0ai4BACIIIAAgCUEBdCIQai8BAGwgB2ohByAAIBBBBnJqLwEAIAhsIA5qIQ4gACAQQQRyai8BACAIbCAPaiEPIAAgEEECcmovAQAgCGwgDWohDSAJQQRqIQkgBkEBaiEGIAJBAWsiAg0ACyAHQQd1IQggDUEHdSEJIA9BB3UhBiAKIBNqIQcgDkEHdQtBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKGyIKQf8BcQRAIAlB/wFsIAJtIQkgCEH/AWwgAm0hCCAGQf8BbCACbSEGCyABIAxBAnRqIAlBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKG0EIdEGA/gNxIAZBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKG0EQdEGAgPwHcSAKQRh0ciAIQYBAa0EOdSICQf8BIAJB/wFIGyICQQAgAkEAShtycjYCACADIAxqIQwgEkEBaiISIARHDQALIBQgC0EBaiILbCERIAMgC0cNAAsLC0AAIAcEQEEAIAIgAyAEIAUgABADIAJBACAEIAUgBiABEAQPC0EAIAIgAyAEIAUgABABIAJBACAEIAUgBiABEAIL"},{}],4:[function(T,O,ue){"use strict";O.exports={name:"resize",fn:T("./resize"),wasm_fn:T("./resize_wasm"),wasm_src:T("./convolve_wasm_base64")}},{"./convolve_wasm_base64":3,"./resize":5,"./resize_wasm":8}],5:[function(T,O,ue){"use strict";var R=T("./resize_filter_gen"),Ee=T("./convolve"),Re=Ee.convolveHor,xe=Ee.convolveVert,Ce=Ee.convolveHorWithPre,re=Ee.convolveVertWithPre;O.exports=function(Ne){var Be=Ne.src,Je=Ne.width,Ke=Ne.height,nt=Ne.toWidth,We=Ne.toHeight,ft=Ne.scaleX||Ne.toWidth/Ne.width,pt=Ne.scaleY||Ne.toHeight/Ne.height,tt=Ne.offsetX||0,je=Ne.offsetY||0,Ye=Ne.dest||new Uint8Array(nt*We*4),Me=typeof Ne.filter>"u"?"mks2013":Ne.filter,me=R(Me,Je,nt,ft,tt),St=R(Me,Ke,We,pt,je),vt=new Uint16Array(nt*Ke*4);return function ce(Ve,Ne,Be){for(var Je=3,Ke=Ne*Be*4|0;Je<Ke;){if(255!==Ve[Je])return!0;Je=Je+4|0}return!1}(Be,Je,Ke)?(Ce(Be,vt,Je,Ke,nt,me),re(vt,Ye,Ke,nt,We,St)):(Re(Be,vt,Je,Ke,nt,me),xe(vt,Ye,Ke,nt,We,St),function be(Ve,Ne,Be){for(var Je=3,Ke=Ne*Be*4|0;Je<Ke;)Ve[Je]=255,Je=Je+4|0}(Ye,nt,We)),Ye}},{"./convolve":2,"./resize_filter_gen":6}],6:[function(T,O,ue){"use strict";var R=T("./resize_filter_info");function Re(xe){return Math.round(16383*xe)}O.exports=function(Ce,re,ce,be,Ve){var nt,We,ft,pt,tt,je,Ye,Me,me,St,vt,an,xn,In,cn,Tn,Ne=R.filter[Ce].fn,Be=1/be,Je=Math.min(1,be),Ke=R.filter[Ce].win/Je,Wn=Math.floor(2*(Ke+1)),Ht=new Int16Array((Wn+2)*ce),Bt=0,Kt=!Ht.subarray||!Ht.set;for(nt=0;nt<ce;nt++){for(We=(nt+.5)*Be+Ve,ft=Math.max(0,Math.floor(We-Ke)),tt=(pt=Math.min(re-1,Math.ceil(We+Ke)))-ft+1,je=new Float32Array(tt),Ye=new Int16Array(tt),Me=0,me=ft,St=0;me<=pt;me++,St++)Me+=vt=Ne((me+.5-We)*Je),je[St]=vt;for(an=0,St=0;St<je.length;St++)an+=xn=je[St]/Me,Ye[St]=Re(xn);for(Ye[ce>>1]+=Re(1-an),In=0;In<Ye.length&&0===Ye[In];)In++;if(In<Ye.length){for(cn=Ye.length-1;cn>0&&0===Ye[cn];)cn--;if(Tn=cn-In+1,Ht[Bt++]=ft+In,Ht[Bt++]=Tn,Kt)for(St=In;St<=cn;St++)Ht[Bt++]=Ye[St];else Ht.set(Ye.subarray(In,cn+1),Bt),Bt+=Tn}else Ht[Bt++]=0,Ht[Bt++]=0}return Ht}},{"./resize_filter_info":7}],7:[function(T,O,ue){"use strict";O.exports={filter:{box:{win:.5,fn:function(Re){return Re<0&&(Re=-Re),Re<.5?1:0}},hamming:{win:1,fn:function(Re){if(Re<0&&(Re=-Re),Re>=1)return 0;if(Re<1.1920929e-7)return 1;var xe=Re*Math.PI;return Math.sin(xe)/xe*(.54+.46*Math.cos(xe/1))}},lanczos2:{win:2,fn:function(Re){if(Re<0&&(Re=-Re),Re>=2)return 0;if(Re<1.1920929e-7)return 1;var xe=Re*Math.PI;return Math.sin(xe)/xe*Math.sin(xe/2)/(xe/2)}},lanczos3:{win:3,fn:function(Re){if(Re<0&&(Re=-Re),Re>=3)return 0;if(Re<1.1920929e-7)return 1;var xe=Re*Math.PI;return Math.sin(xe)/xe*Math.sin(xe/3)/(xe/3)}},mks2013:{win:2.5,fn:function(Re){return Re<0&&(Re=-Re),Re>=2.5?0:Re>=1.5?-.125*(Re-2.5)*(Re-2.5):Re>=.5?.25*(4*Re*Re-11*Re+7):1.0625-1.75*Re*Re}}},f2q:{box:0,hamming:1,lanczos2:2,lanczos3:3},q2f:["box","hamming","lanczos2","lanczos3"]}},{}],8:[function(T,O,ue){"use strict";var R=T("./resize_filter_gen");var Ce=!0;try{Ce=1===new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]}catch{}function re(ce,be,Ve){if(Ce)be.set(function xe(ce){return new Uint8Array(ce.buffer,0,ce.byteLength)}(ce),Ve);else for(var Ne=Ve,Be=0;Be<ce.length;Be++){var Je=ce[Be];be[Ne++]=255&Je,be[Ne++]=Je>>8&255}}O.exports=function(be){var Ve=be.src,Ne=be.width,Be=be.height,Je=be.toWidth,Ke=be.toHeight,nt=be.scaleX||be.toWidth/be.width,We=be.scaleY||be.toHeight/be.height,ft=be.offsetX||0,pt=be.offsetY||0,tt=be.dest||new Uint8Array(Je*Ke*4),je=typeof be.filter>"u"?"mks2013":be.filter,Ye=R(je,Ne,Je,nt,ft),Me=R(je,Be,Ke,We,pt),St=Math.max(Ve.byteLength,tt.byteLength),vt=this.__align(0+St),xn=this.__align(vt+Be*Je*4*2),In=this.__align(xn+Ye.byteLength),Gn=this.__instance("resize",In+Me.byteLength),Tn=new Uint8Array(this.__memory.buffer),Wn=new Uint32Array(this.__memory.buffer),Ht=new Uint32Array(Ve.buffer);Wn.set(Ht),re(Ye,Tn,xn),re(Me,Tn,In);var Bt=Gn.exports.convolveHV||Gn.exports._convolveHV;return function Ee(ce,be,Ve){for(var Ne=3,Be=be*Ve*4|0;Ne<Be;){if(255!==ce[Ne])return!0;Ne=Ne+4|0}return!1}(Ve,Ne,Be)?Bt(xn,In,vt,Ne,Be,Je,Ke,1):(Bt(xn,In,vt,Ne,Be,Je,Ke,0),function Re(ce,be,Ve){for(var Ne=3,Be=be*Ve*4|0;Ne<Be;)ce[Ne]=255,Ne=Ne+4|0}(tt,Je,Ke)),new Uint32Array(tt.buffer).set(new Uint32Array(this.__memory.buffer,0,Ke*Je)),tt}},{"./resize_filter_gen":6}],9:[function(T,O,ue){"use strict";O.exports={name:"unsharp_mask",fn:T("./unsharp_mask"),wasm_fn:T("./unsharp_mask_wasm"),wasm_src:T("./unsharp_mask_wasm_base64")}},{"./unsharp_mask":10,"./unsharp_mask_wasm":11,"./unsharp_mask_wasm_base64":12}],10:[function(T,O,ue){"use strict";var R=T("glur/mono16");O.exports=function(xe,Ce,re,ce,be,Ve){var Ne,Be,Je,Ke,nt;if(!(0===ce||be<.5)){be>2&&(be=2);var We=function Ee(Re,xe,Ce){for(var be,Ve,Ne,re=xe*Ce,ce=new Uint16Array(re),Je=0;Je<re;Je++)Ne=Re[4*Je+2],ce[Je]=((be=Re[4*Je])>=(Ve=Re[4*Je+1])&&be>=Ne?be:Ve>=Ne&&Ve>=be?Ve:Ne)<<8;return ce}(xe,Ce,re),ft=new Uint16Array(We);R(ft,Ce,re,be);for(var pt=ce/100*4096+.5|0,tt=Ve<<8,je=Ce*re,Ye=0;Ye<je;Ye++)Ke=(Ne=We[Ye])-ft[Ye],Math.abs(Ke)>=tt&&(xe[nt=4*Ye]=xe[nt]*(Je=((Be=(Be=(Be=Ne+(pt*Ke+2048>>12))>65280?65280:Be)<0?0:Be)<<12)/(Ne=0!==Ne?Ne:1)|0)+2048>>12,xe[nt+1]=xe[nt+1]*Je+2048>>12,xe[nt+2]=xe[nt+2]*Je+2048>>12)}}},{"glur/mono16":18}],11:[function(T,O,ue){"use strict";O.exports=function(Ee,Re,xe,Ce,re,ce){if(!(0===Ce||re<.5)){re>2&&(re=2);var be=Re*xe,Ve=4*be,Ne=2*be,Be=2*be,Je=4*Math.max(Re,xe),We=Ve,ft=We+Ne,pt=ft+Be,tt=pt+Be,je=tt+Je,Ye=this.__instance("unsharp_mask",Ve+Ne+2*Be+Je+32,{exp:Math.exp}),Me=new Uint32Array(Ee.buffer);new Uint32Array(this.__memory.buffer).set(Me);var St=Ye.exports.hsv_v16||Ye.exports._hsv_v16;St(0,We,Re,xe),(St=Ye.exports.blurMono16||Ye.exports._blurMono16)(We,ft,pt,tt,je,Re,xe,re),(St=Ye.exports.unsharp||Ye.exports._unsharp)(0,0,We,ft,Re,xe,Ce,ce),Me.set(new Uint32Array(this.__memory.buffer,0,be))}}},{}],12:[function(T,O,ue){"use strict";O.exports="AGFzbQEAAAAADAZkeWxpbmsAAAAAAAE0B2AAAGAEf39/fwBgBn9/f39/fwBgCH9/f39/f39/AGAIf39/f39/f30AYAJ9fwBgAXwBfAIZAgNlbnYDZXhwAAYDZW52Bm1lbW9yeQIAAAMHBgAFAgQBAwYGAX8AQQALB4oBCBFfX3dhc21fY2FsbF9jdG9ycwABFl9fYnVpbGRfZ2F1c3NpYW5fY29lZnMAAg5fX2dhdXNzMTZfbGluZQADCmJsdXJNb25vMTYABAdoc3ZfdjE2AAUHdW5zaGFycAAGDF9fZHNvX2hhbmRsZQMAGF9fd2FzbV9hcHBseV9kYXRhX3JlbG9jcwABCsUMBgMAAQvWAQEHfCABRNuGukOCGvs/IAC7oyICRAAAAAAAAADAohAAIgW2jDgCFCABIAKaEAAiAyADoCIGtjgCECABRAAAAAAAAPA/IAOhIgQgBKIgAyACIAKgokQAAAAAAADwP6AgBaGjIgS2OAIAIAEgBSAEmqIiB7Y4AgwgASADIAJEAAAAAAAA8D+gIASioiIItjgCCCABIAMgAkQAAAAAAADwv6AgBKKiIgK2OAIEIAEgByAIoCAFRAAAAAAAAPA/IAahoCIDo7Y4AhwgASAEIAKgIAOjtjgCGAuGBQMGfwl8An0gAyoCDCEVIAMqAgghFiADKgIUuyERIAMqAhC7IRACQCAEQQFrIghBAEgiCQRAIAIhByAAIQYMAQsgAiAALwEAuCIPIAMqAhi7oiIMIBGiIg0gDCAQoiAPIAMqAgS7IhOiIhQgAyoCALsiEiAPoqCgoCIOtjgCACACQQRqIQcgAEECaiEGIAhFDQAgCEEBIAhBAUgbIgpBf3MhCwJ/IAQgCmtBAXFFBEAgDiENIAgMAQsgAiANIA4gEKIgFCASIAAvAQK4Ig+ioKCgIg22OAIEIAJBCGohByAAQQRqIQYgDiEMIARBAmsLIQIgC0EAIARrRg0AA0AgByAMIBGiIA0gEKIgDyAToiASIAYvAQC4Ig6ioKCgIgy2OAIAIAcgDSARoiAMIBCiIA4gE6IgEiAGLwECuCIPoqCgoCINtjgCBCAHQQhqIQcgBkEEaiEGIAJBAkohACACQQJrIQIgAA0ACwsCQCAJDQAgASAFIAhsQQF0aiIAAn8gBkECay8BACICuCINIBW7IhKiIA0gFrsiE6KgIA0gAyoCHLuiIgwgEKKgIAwgEaKgIg8gB0EEayIHKgIAu6AiDkQAAAAAAADwQWMgDkQAAAAAAAAAAGZxBEAgDqsMAQtBAAs7AQAgCEUNACAGQQRrIQZBACAFa0EBdCEBA0ACfyANIBKiIAJB//8DcbgiDSAToqAgDyIOIBCioCAMIBGioCIPIAdBBGsiByoCALugIgxEAAAAAAAA8EFjIAxEAAAAAAAAAABmcQRAIAyrDAELQQALIQMgBi8BACECIAAgAWoiACADOwEAIAZBAmshBiAIQQFKIQMgDiEMIAhBAWshCCADDQALCwvRAgIBfwd8AkAgB0MAAAAAWw0AIARE24a6Q4Ia+z8gB0MAAAA/l7ujIglEAAAAAAAAAMCiEAAiDLaMOAIUIAQgCZoQACIKIAqgIg22OAIQIAREAAAAAAAA8D8gCqEiCyALoiAKIAkgCaCiRAAAAAAAAPA/oCAMoaMiC7Y4AgAgBCAMIAuaoiIOtjgCDCAEIAogCUQAAAAAAADwP6AgC6KiIg+2OAIIIAQgCiAJRAAAAAAAAPC/oCALoqIiCbY4AgQgBCAOIA+gIAxEAAAAAAAA8D8gDaGgIgqjtjgCHCAEIAsgCaAgCqO2OAIYIAYEQANAIAAgBSAIbEEBdGogAiAIQQF0aiADIAQgBSAGEAMgCEEBaiIIIAZHDQALCyAFRQ0AQQAhCANAIAIgBiAIbEEBdGogASAIQQF0aiADIAQgBiAFEAMgCEEBaiIIIAVHDQALCwtxAQN/IAIgA2wiBQRAA0AgASAAKAIAIgRBEHZB/wFxIgIgAiAEQQh2Qf8BcSIDIAMgBEH/AXEiBEkbIAIgA0sbIgYgBiAEIAIgBEsbIAMgBEsbQQh0OwEAIAFBAmohASAAQQRqIQAgBUEBayIFDQALCwuZAgIDfwF8IAQgBWwhBAJ/IAazQwAAgEWUQwAAyEKVu0QAAAAAAADgP6AiC5lEAAAAAAAA4EFjBEAgC6oMAQtBgICAgHgLIQUgBARAIAdBCHQhCUEAIQYDQCAJIAIgBkEBdCIHai8BACIBIAMgB2ovAQBrIgcgB0EfdSIIaiAIc00EQCAAIAZBAnQiCGoiCiAFIAdsQYAQakEMdSABaiIHQYD+AyAHQYD+A0gbIgdBACAHQQBKG0EMdCABQQEgARtuIgEgCi0AAGxBgBBqQQx2OgAAIAAgCEEBcmoiByABIActAABsQYAQakEMdjoAACAAIAhBAnJqIgcgASAHLQAAbEGAEGpBDHY6AAALIAZBAWoiBiAERw0ACwsL"},{}],13:[function(T,O,ue){"use strict";function Ee(Re,xe){this.create=Re,this.available=[],this.acquired={},this.lastId=1,this.timeoutId=0,this.idle=xe||2e3}Ee.prototype.acquire=function(){var xe,Re=this;return 0!==this.available.length?xe=this.available.pop():((xe=this.create()).id=this.lastId++,xe.release=function(){return Re.release(xe)}),this.acquired[xe.id]=xe,xe},Ee.prototype.release=function(Re){var xe=this;delete this.acquired[Re.id],Re.lastUsed=Date.now(),this.available.push(Re),0===this.timeoutId&&(this.timeoutId=setTimeout(function(){return xe.gc()},100))},Ee.prototype.gc=function(){var Re=this,xe=Date.now();this.available=this.available.filter(function(Ce){return!(xe-Ce.lastUsed>Re.idle&&(Ce.destroy(),1))}),this.timeoutId=0!==this.available.length?setTimeout(function(){return Re.gc()},100):0},O.exports=Ee},{}],14:[function(T,O,ue){"use strict";O.exports=function(Re,xe,Ce,re,ce,be){var Be=(2*be+2+1)/ce;if(Be>.5)return[[Ce,re]];var Je=Math.ceil(Math.log(Math.min(Ce/Re,re/xe))/Math.log(Be));if(Je<=1)return[[Ce,re]];for(var Ke=[],nt=0;nt<Je;nt++){var We=Math.round(Math.pow(Math.pow(Re,Je-nt-1)*Math.pow(Ce,nt+1),1/Je)),ft=Math.round(Math.pow(Math.pow(xe,Je-nt-1)*Math.pow(re,nt+1),1/Je));Ke.push([We,ft])}return Ke}},{}],15:[function(T,O,ue){"use strict";var R=1e-5;function Ee(xe){var Ce=Math.round(xe);return Math.abs(xe-Ce)<R?Ce:Math.floor(xe)}function Re(xe){var Ce=Math.round(xe);return Math.abs(xe-Ce)<R?Ce:Math.ceil(xe)}O.exports=function(Ce){var re=Ce.toWidth/Ce.width,ce=Ce.toHeight/Ce.height,be=Ee(Ce.srcTileSize*re)-2*Ce.destTileBorder,Ve=Ee(Ce.srcTileSize*ce)-2*Ce.destTileBorder;if(be<1||Ve<1)throw new Error("Internal error in pica: target tile width/height is too small.");var Ne,Be,Je,Ke,nt,We,pt,ft=[];for(Ke=0;Ke<Ce.toHeight;Ke+=Ve)for(Je=0;Je<Ce.toWidth;Je+=be)(Ne=Je-Ce.destTileBorder)<0&&(Ne=0),Ne+(nt=Je+be+Ce.destTileBorder-Ne)>=Ce.toWidth&&(nt=Ce.toWidth-Ne),(Be=Ke-Ce.destTileBorder)<0&&(Be=0),Be+(We=Ke+Ve+Ce.destTileBorder-Be)>=Ce.toHeight&&(We=Ce.toHeight-Be),pt={toX:Ne,toY:Be,toWidth:nt,toHeight:We,toInnerX:Je,toInnerY:Ke,toInnerWidth:be,toInnerHeight:Ve,offsetX:Ne/re-Ee(Ne/re),offsetY:Be/ce-Ee(Be/ce),scaleX:re,scaleY:ce,x:Ee(Ne/re),y:Ee(Be/ce),width:Re(nt/re),height:Re(We/ce)},ft.push(pt);return ft}},{}],16:[function(T,O,ue){"use strict";function R(Ee){return Object.prototype.toString.call(Ee)}O.exports.isCanvas=function(Re){var xe=R(Re);return"[object HTMLCanvasElement]"===xe||"[object OffscreenCanvas]"===xe||"[object Canvas]"===xe},O.exports.isImage=function(Re){return"[object HTMLImageElement]"===R(Re)},O.exports.isImageBitmap=function(Re){return"[object ImageBitmap]"===R(Re)},O.exports.limiter=function(Re){var xe=0,Ce=[];function re(){xe<Re&&Ce.length&&(xe++,Ce.shift()())}return function(be){return new Promise(function(Ve,Ne){Ce.push(function(){be().then(function(Be){Ve(Be),xe--,re()},function(Be){Ne(Be),xe--,re()})}),re()})}},O.exports.cib_quality_name=function(Re){switch(Re){case 0:return"pixelated";case 1:return"low";case 2:return"medium"}return"high"},O.exports.cib_support=function(Re){return Promise.resolve().then(function(){if(typeof createImageBitmap>"u")return!1;var xe=Re(100,100);return createImageBitmap(xe,0,0,100,100,{resizeWidth:10,resizeHeight:10,resizeQuality:"high"}).then(function(Ce){var re=10===Ce.width;return Ce.close(),xe=null,re})}).catch(function(){return!1})},O.exports.worker_offscreen_canvas_support=function(){return new Promise(function(Re,xe){if(typeof OffscreenCanvas>"u")Re(!1);else{var re=btoa("(".concat(function Ce(be){typeof createImageBitmap>"u"?be.postMessage(!1):Promise.resolve().then(function(){var Ve=new OffscreenCanvas(10,10);return Ve.getContext("2d").rect(0,0,1,1),createImageBitmap(Ve,0,0,1,1)}).then(function(){return be.postMessage(!0)},function(){return be.postMessage(!1)})}.toString(),")(self);")),ce=new Worker("data:text/javascript;base64,".concat(re));ce.onmessage=function(be){return Re(be.data)},ce.onerror=xe}}).then(function(Re){return Re},function(){return!1})},O.exports.can_use_canvas=function(Re){var xe=!1;try{var re=Re(2,1).getContext("2d"),ce=re.createImageData(2,1);ce.data[0]=12,ce.data[1]=23,ce.data[2]=34,ce.data[3]=255,ce.data[4]=45,ce.data[5]=56,ce.data[6]=67,ce.data[7]=255,re.putImageData(ce,0,0),ce=null,12===(ce=re.getImageData(0,0,2,1)).data[0]&&23===ce.data[1]&&34===ce.data[2]&&255===ce.data[3]&&45===ce.data[4]&&56===ce.data[5]&&67===ce.data[6]&&255===ce.data[7]&&(xe=!0)}catch{}return xe},O.exports.cib_can_use_region=function(){return new Promise(function(Re){if(typeof Image>"u"||typeof createImageBitmap>"u")Re(!1);else{var xe=new Image;xe.src="data:image/jpeg;base64,/9j/4QBiRXhpZgAATU0AKgAAAAgABQESAAMAAAABAAYAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAABIAAAAAQAAAEgAAAAB/9sAQwAEAwMEAwMEBAMEBQQEBQYKBwYGBgYNCQoICg8NEBAPDQ8OERMYFBESFxIODxUcFRcZGRsbGxAUHR8dGh8YGhsa/9sAQwEEBQUGBQYMBwcMGhEPERoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoa/8IAEQgAAQACAwERAAIRAQMRAf/EABQAAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAF/P//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAQUCf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Bf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Bf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEABj8Cf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8hf//aAAwDAQACAAMAAAAQH//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Qf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Qf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8Qf//Z",xe.onload=function(){createImageBitmap(xe,0,0,xe.width,xe.height).then(function(Ce){Re(Ce.width===xe.width&&Ce.height===xe.height)},function(){return Re(!1)})},xe.onerror=function(){return Re(!1)}}})}},{}],17:[function(T,O,ue){"use strict";O.exports=function(){var Ee,R=T("./mathlib");onmessage=function(xe){var Ce=xe.data.opts;if(!Ce.src&&Ce.srcBitmap){var ce=new OffscreenCanvas(Ce.width,Ce.height),be=ce.getContext("2d");be.drawImage(Ce.srcBitmap,0,0),Ce.src=be.getImageData(0,0,Ce.width,Ce.height).data,ce.width=ce.height=0,ce=null,Ce.srcBitmap.close(),Ce.srcBitmap=null}Ee||(Ee=new R(xe.data.features));var Ve=Ee.resizeAndUnsharp(Ce);postMessage({data:Ve},[Ve.buffer])}}},{"./mathlib":1}],18:[function(T,O,ue){var R,Ee,Re,xe,Ce,re;function Ne(Je,Ke,nt,We,ft,pt){var tt,je,Ye,Me,me,St,vt,an,xn,In,cn,Gn,Tn,Wn;for(xn=0;xn<pt;xn++){for(vt=xn,an=0,Me=me=(tt=Je[St=xn*ft])*We[6],cn=We[0],Gn=We[1],Tn=We[4],Wn=We[5],In=0;In<ft;In++)Ye=(je=Je[St])*cn+tt*Gn+Me*Tn+me*Wn,me=Me,tt=je,nt[an]=Me=Ye,an++,St++;for(an--,vt+=pt*(ft-1),Me=me=(tt=Je[--St])*We[7],je=tt,cn=We[2],Gn=We[3],In=ft-1;In>=0;In--)Ye=je*cn+tt*Gn+Me*Tn+me*Wn,me=Me,tt=je,je=Je[St],Ke[vt]=nt[an]+(Me=Ye),St--,an--,vt-=pt}}O.exports=function Be(Je,Ke,nt,We){if(We){var ft=new Uint16Array(Je.length),pt=new Float32Array(Math.max(Ke,nt)),tt=function Ve(Je){Je<.5&&(Je=.5);var Ke=Math.exp(.527076)/Je,nt=Math.exp(-Ke),We=Math.exp(-2*Ke),ft=(1-nt)*(1-nt)/(1+2*Ke*nt-We);return R=ft,Ee=ft*(Ke-1)*nt,Re=ft*(Ke+1)*nt,xe=-ft*We,Ce=2*nt,re=-We,new Float32Array([R,Ee,Re,xe,Ce,re,(R+Ee)/(1-Ce-re),(Re+xe)/(1-Ce-re)])}(We);Ne(Je,ft,pt,tt,Ke,nt),Ne(ft,Je,pt,tt,nt,Ke)}}},{}],19:[function(T,O,ue){"use strict";var R=T("object-assign"),Ee=T("./lib/base64decode"),Re=T("./lib/wa_detect"),xe={js:!0,wasm:!0};function Ce(re){if(!(this instanceof Ce))return new Ce(re);var ce=R({},xe,re||{});if(this.options=ce,this.__cache={},this.__init_promise=null,this.__modules=ce.modules||{},this.__memory=null,this.__wasm={},this.__isLE=1===new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0],!this.options.js&&!this.options.wasm)throw new Error('mathlib: at least "js" or "wasm" should be enabled')}Ce.prototype.has_wasm=Re,Ce.prototype.use=function(re){return this.__modules[re.name]=re,this[re.name]=this.options.wasm&&this.has_wasm()&&re.wasm_fn?re.wasm_fn:re.fn,this},Ce.prototype.init=function(){if(this.__init_promise)return this.__init_promise;if(!this.options.js&&this.options.wasm&&!this.has_wasm())return Promise.reject(new Error('mathlib: only "wasm" was enabled, but it\'s not supported'));var re=this;return this.__init_promise=Promise.all(Object.keys(re.__modules).map(function(ce){var be=re.__modules[ce];return re.options.wasm&&re.has_wasm()&&be.wasm_fn&&!re.__wasm[ce]?WebAssembly.compile(re.__base64decode(be.wasm_src)).then(function(Ve){re.__wasm[ce]=Ve}):null})).then(function(){return re}),this.__init_promise},Ce.prototype.__base64decode=Ee,Ce.prototype.__reallocate=function(ce){if(!this.__memory)return this.__memory=new WebAssembly.Memory({initial:Math.ceil(ce/65536)}),this.__memory;var be=this.__memory.buffer.byteLength;return be<ce&&this.__memory.grow(Math.ceil((ce-be)/65536)),this.__memory},Ce.prototype.__instance=function(ce,be,Ve){if(be&&this.__reallocate(be),this.__wasm[ce]||(this.__wasm[ce]=new WebAssembly.Module(this.__base64decode(this.__modules[ce].wasm_src))),!this.__cache[ce]){var Be={memoryBase:0,memory:this.__memory,tableBase:0,table:new WebAssembly.Table({initial:0,element:"anyfunc"})};this.__cache[ce]=new WebAssembly.Instance(this.__wasm[ce],{env:R(Be,Ve||{})})}return this.__cache[ce]},Ce.prototype.__align=function(ce,be){var Ve=ce%(be=be||8);return ce+(Ve?be-Ve:0)},O.exports=Ce},{"./lib/base64decode":20,"./lib/wa_detect":21,"object-assign":22}],20:[function(T,O,ue){"use strict";O.exports=function(Re){for(var xe=Re.replace(/[\r\n=]/g,""),Ce=xe.length,re=new Uint8Array(3*Ce>>2),ce=0,be=0,Ve=0;Ve<Ce;Ve++)Ve%4==0&&Ve&&(re[be++]=ce>>16&255,re[be++]=ce>>8&255,re[be++]=255&ce),ce=ce<<6|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(xe.charAt(Ve));var Ne=Ce%4*6;return 0===Ne?(re[be++]=ce>>16&255,re[be++]=ce>>8&255,re[be++]=255&ce):18===Ne?(re[be++]=ce>>10&255,re[be++]=ce>>2&255):12===Ne&&(re[be++]=ce>>4&255),re}},{}],21:[function(T,O,ue){"use strict";var R;O.exports=function(){if(typeof R<"u"||(R=!1,typeof WebAssembly>"u"))return R;try{var Re=new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11]),xe=new WebAssembly.Module(Re);return 0!==new WebAssembly.Instance(xe,{}).exports.test(4)&&(R=!0),R}catch{}return R}},{}],22:[function(T,O,ue){"use strict";var R=Object.getOwnPropertySymbols,Ee=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable;function xe(re){if(null==re)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(re)}O.exports=function Ce(){try{if(!Object.assign)return!1;var re=new String("abc");if(re[5]="de","5"===Object.getOwnPropertyNames(re)[0])return!1;for(var ce={},be=0;be<10;be++)ce["_"+String.fromCharCode(be)]=be;if("0123456789"!==Object.getOwnPropertyNames(ce).map(function(Be){return ce[Be]}).join(""))return!1;var Ne={};return"abcdefghijklmnopqrst".split("").forEach(function(Be){Ne[Be]=Be}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},Ne)).join("")}catch{return!1}}()?Object.assign:function(re,ce){for(var be,Ne,Ve=xe(re),Be=1;Be<arguments.length;Be++){for(var Je in be=Object(arguments[Be]))Ee.call(be,Je)&&(Ve[Je]=be[Je]);if(R){Ne=R(be);for(var Ke=0;Ke<Ne.length;Ke++)Re.call(be,Ne[Ke])&&(Ve[Ne[Ke]]=be[Ne[Ke]])}}return Ve}},{}],23:[function(T,O,ue){var R=arguments[3],Ee=arguments[4],Re=arguments[5],xe=JSON.stringify;O.exports=function(Ce,re){for(var ce,be=Object.keys(Re),Ve=0,Ne=be.length;Ve<Ne;Ve++){var Je=Re[Be=be[Ve]].exports;if(Je===Ce||Je&&Je.default===Ce){ce=Be;break}}if(!ce){ce=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var Ke={};for(Ve=0,Ne=be.length;Ve<Ne;Ve++){var Be;Ke[Be=be[Ve]]=Be}Ee[ce]=["function(require,module,exports){"+Ce+"(self); }",Ke]}var nt=Math.floor(Math.pow(16,8)*Math.random()).toString(16),We={};We[ce]=ce,Ee[nt]=["function(require,module,exports){var f = require("+xe(ce)+");(f.default ? f.default : f)(self);}",We];var ft={};!function pt(St){for(var vt in ft[St]=!0,Ee[St][1]){var an=Ee[St][1][vt];ft[an]||pt(an)}}(nt);var tt="("+R+")({"+Object.keys(ft).map(function(St){return xe(St)+":["+Ee[St][0]+","+xe(Ee[St][1])+"]"}).join(",")+"},{},["+xe(nt)+"])",je=window.URL||window.webkitURL||window.mozURL||window.msURL,Ye=new Blob([tt],{type:"text/javascript"});if(re&&re.bare)return Ye;var Me=je.createObjectURL(Ye),me=new Worker(Me);return me.objectURL=Me,me}},{}],"/index.js":[function(T,O,ue){"use strict";function R(cn,Gn){return function re(cn){if(Array.isArray(cn))return cn}(cn)||function Ce(cn,Gn){var Tn=null==cn?null:typeof Symbol<"u"&&cn[Symbol.iterator]||cn["@@iterator"];if(null!=Tn){var Kt,et,Wn=[],Ht=!0,Bt=!1;try{for(Tn=Tn.call(cn);!(Ht=(Kt=Tn.next()).done)&&(Wn.push(Kt.value),!Gn||Wn.length!==Gn);Ht=!0);}catch(Vt){Bt=!0,et=Vt}finally{try{!Ht&&null!=Tn.return&&Tn.return()}finally{if(Bt)throw et}}return Wn}}(cn,Gn)||function Re(cn,Gn){if(cn){if("string"==typeof cn)return xe(cn,Gn);var Tn=Object.prototype.toString.call(cn).slice(8,-1);if("Object"===Tn&&cn.constructor&&(Tn=cn.constructor.name),"Map"===Tn||"Set"===Tn)return Array.from(cn);if("Arguments"===Tn||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Tn))return xe(cn,Gn)}}(cn,Gn)||function Ee(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(cn,Gn){(null==Gn||Gn>cn.length)&&(Gn=cn.length);for(var Tn=0,Wn=new Array(Gn);Tn<Gn;Tn++)Wn[Tn]=cn[Tn];return Wn}var ce=T("object-assign"),be=T("webworkify"),Ve=T("./lib/mathlib"),Ne=T("./lib/pool"),Be=T("./lib/utils"),Je=T("./lib/worker"),Ke=T("./lib/stepper"),nt=T("./lib/tiler"),We=T("./lib/mm_resize/resize_filter_info"),ft={},pt=!1;try{typeof navigator<"u"&&navigator.userAgent&&(pt=navigator.userAgent.indexOf("Safari")>=0)}catch{}var tt=1;typeof navigator<"u"&&(tt=Math.min(navigator.hardwareConcurrency||1,4));var je={tile:1024,concurrency:tt,features:["js","wasm","ww"],idle:2e3,createCanvas:function(Gn,Tn){var Wn=document.createElement("canvas");return Wn.width=Gn,Wn.height=Tn,Wn}},Ye={filter:"mks2013",unsharpAmount:0,unsharpRadius:0,unsharpThreshold:0},Me=!1,me=!1,St=!1,vt=!1,an=!1;function xn(){return{value:be(Je),destroy:function(){if(this.value.terminate(),typeof window<"u"){var Gn=window.URL||window.webkitURL||window.mozURL||window.msURL;Gn&&Gn.revokeObjectURL&&this.value.objectURL&&Gn.revokeObjectURL(this.value.objectURL)}}}}function In(cn){if(!(this instanceof In))return new In(cn);this.options=ce({},je,cn||{});var Gn="lk_".concat(this.options.concurrency);this.__limit=ft[Gn]||Be.limiter(this.options.concurrency),ft[Gn]||(ft[Gn]=this.__limit),this.features={js:!1,wasm:!1,cib:!1,ww:!1},this.__workersPool=null,this.__requested_features=[],this.__mathlib=null}In.prototype.init=function(){var cn=this;if(this.__initPromise)return this.__initPromise;if(typeof ImageData<"u"&&typeof Uint8ClampedArray<"u")try{new ImageData(new Uint8ClampedArray(400),10,10),Me=!0}catch{}typeof ImageBitmap<"u"&&(ImageBitmap.prototype&&ImageBitmap.prototype.close?me=!0:this.debug("ImageBitmap does not support .close(), disabled"));var Gn=this.options.features.slice();if(Gn.indexOf("all")>=0&&(Gn=["cib","wasm","js","ww"]),this.__requested_features=Gn,this.__mathlib=new Ve(Gn),Gn.indexOf("ww")>=0&&typeof window<"u"&&"Worker"in window)try{T("webworkify")(function(){}).terminate(),this.features.ww=!0;var Wn="wp_".concat(JSON.stringify(this.options));ft[Wn]?this.__workersPool=ft[Wn]:(this.__workersPool=new Ne(xn,this.options.idle),ft[Wn]=this.__workersPool)}catch{}var Bt,Kt,Ht=this.__mathlib.init().then(function(Vt){ce(cn.features,Vt.features)});Bt=me?Be.cib_support(this.options.createCanvas).then(function(Vt){cn.features.cib&&Gn.indexOf("cib")<0?cn.debug("createImageBitmap() resize supported, but disabled by config"):Gn.indexOf("cib")>=0&&(cn.features.cib=Vt)}):Promise.resolve(!1),St=Be.can_use_canvas(this.options.createCanvas),Kt=(Kt=me&&Me&&-1!==Gn.indexOf("ww")?Be.worker_offscreen_canvas_support():Promise.resolve(!1)).then(function(Vt){vt=Vt});var et=Be.cib_can_use_region().then(function(Vt){an=Vt});return this.__initPromise=Promise.all([Ht,Bt,Kt,et]).then(function(){return cn}),this.__initPromise},In.prototype.__invokeResize=function(cn,Gn){var Tn=this;return Gn.__mathCache=Gn.__mathCache||{},Promise.resolve().then(function(){return Tn.features.ww?new Promise(function(Wn,Ht){var Bt=Tn.__workersPool.acquire();Gn.cancelToken&&Gn.cancelToken.catch(function(et){return Ht(et)}),Bt.value.onmessage=function(et){Bt.release(),et.data.err?Ht(et.data.err):Wn(et.data)};var Kt=[];cn.src&&Kt.push(cn.src.buffer),cn.srcBitmap&&Kt.push(cn.srcBitmap),Bt.value.postMessage({opts:cn,features:Tn.__requested_features,preload:{wasm_nodule:Tn.__mathlib.__}},Kt)}):{data:Tn.__mathlib.resizeAndUnsharp(cn,Gn.__mathCache)}})},In.prototype.__extractTileData=function(cn,Gn,Tn,Wn,Ht){if(this.features.ww&&vt&&(Be.isCanvas(Gn)||an))return this.debug("Create tile for OffscreenCanvas"),createImageBitmap(Wn.srcImageBitmap||Gn,cn.x,cn.y,cn.width,cn.height).then(function(et){return Ht.srcBitmap=et,Ht});if(Be.isCanvas(Gn))return Wn.srcCtx||(Wn.srcCtx=Gn.getContext("2d")),this.debug("Get tile pixel data"),Ht.src=Wn.srcCtx.getImageData(cn.x,cn.y,cn.width,cn.height).data,Ht;this.debug("Draw tile imageBitmap/image to temporary canvas");var Bt=this.options.createCanvas(cn.width,cn.height),Kt=Bt.getContext("2d");return Kt.globalCompositeOperation="copy",Kt.drawImage(Wn.srcImageBitmap||Gn,cn.x,cn.y,cn.width,cn.height,0,0,cn.width,cn.height),this.debug("Get tile pixel data"),Ht.src=Kt.getImageData(0,0,cn.width,cn.height).data,Bt.width=Bt.height=0,Ht},In.prototype.__landTileData=function(cn,Gn,Tn){var Wn;if(this.debug("Convert raw rgba tile result to ImageData"),Gn.bitmap)return Tn.toCtx.drawImage(Gn.bitmap,cn.toX,cn.toY),null;if(Me)Wn=new ImageData(new Uint8ClampedArray(Gn.data),cn.toWidth,cn.toHeight);else if((Wn=Tn.toCtx.createImageData(cn.toWidth,cn.toHeight)).data.set)Wn.data.set(Gn.data);else for(var Ht=Wn.data.length-1;Ht>=0;Ht--)Wn.data[Ht]=Gn.data[Ht];return this.debug("Draw tile"),pt?Tn.toCtx.putImageData(Wn,cn.toX,cn.toY,cn.toInnerX-cn.toX,cn.toInnerY-cn.toY,cn.toInnerWidth+1e-5,cn.toInnerHeight+1e-5):Tn.toCtx.putImageData(Wn,cn.toX,cn.toY,cn.toInnerX-cn.toX,cn.toInnerY-cn.toY,cn.toInnerWidth,cn.toInnerHeight),null},In.prototype.__tileAndResize=function(cn,Gn,Tn){var Wn=this,Ht={srcCtx:null,srcImageBitmap:null,isImageBitmapReused:!1,toCtx:null};return Promise.resolve().then(function(){if(Ht.toCtx=Gn.getContext("2d"),Be.isCanvas(cn))return null;if(Be.isImageBitmap(cn))return Ht.srcImageBitmap=cn,Ht.isImageBitmapReused=!0,null;if(Be.isImage(cn))return me?(Wn.debug("Decode image via createImageBitmap"),createImageBitmap(cn).then(function(Kt){Ht.srcImageBitmap=Kt}).catch(function(Kt){return null})):null;throw new Error('Pica: ".from" should be Image, Canvas or ImageBitmap')}).then(function(){if(Tn.canceled)return Tn.cancelToken;Wn.debug("Calculate tiles");var et=nt({width:Tn.width,height:Tn.height,srcTileSize:Wn.options.tile,toWidth:Tn.toWidth,toHeight:Tn.toHeight,destTileBorder:Tn.__destTileBorder}).map(function(jt){return function(et){return Wn.__limit(function(){if(Tn.canceled)return Tn.cancelToken;var Vt={width:et.width,height:et.height,toWidth:et.toWidth,toHeight:et.toHeight,scaleX:et.scaleX,scaleY:et.scaleY,offsetX:et.offsetX,offsetY:et.offsetY,filter:Tn.filter,unsharpAmount:Tn.unsharpAmount,unsharpRadius:Tn.unsharpRadius,unsharpThreshold:Tn.unsharpThreshold};return Wn.debug("Invoke resize math"),Promise.resolve(Vt).then(function(jt){return Wn.__extractTileData(et,cn,Tn,Ht,jt)}).then(function(jt){return Wn.debug("Invoke resize math"),Wn.__invokeResize(jt,Tn)}).then(function(jt){return Tn.canceled?Tn.cancelToken:(Ht.srcImageData=null,Wn.__landTileData(et,jt,Ht))})})}(jt)});function Vt(jt){jt.srcImageBitmap&&(jt.isImageBitmapReused||jt.srcImageBitmap.close(),jt.srcImageBitmap=null)}return Wn.debug("Process tiles"),Promise.all(et).then(function(){return Wn.debug("Finished!"),Vt(Ht),Gn},function(jt){throw Vt(Ht),jt})})},In.prototype.__processStages=function(cn,Gn,Tn,Wn){var Ht=this;if(Wn.canceled)return Wn.cancelToken;var Yn,en,Kt=R(cn.shift(),2),et=Kt[0],Vt=Kt[1],jt=0===cn.length;return Yn=jt||We.q2f.indexOf(Wn.filter)<0?Wn.filter:"box"===Wn.filter?"box":"hamming",Wn=ce({},Wn,{toWidth:et,toHeight:Vt,filter:Yn}),jt||(en=this.options.createCanvas(et,Vt)),this.__tileAndResize(Gn,jt?Tn:en,Wn).then(function(){return jt?Tn:(Wn.width=et,Wn.height=Vt,Ht.__processStages(cn,en,Tn,Wn))}).then(function(gn){return en&&(en.width=en.height=0),gn})},In.prototype.__resizeViaCreateImageBitmap=function(cn,Gn,Tn){var Wn=this,Ht=Gn.getContext("2d");return this.debug("Resize via createImageBitmap()"),createImageBitmap(cn,{resizeWidth:Tn.toWidth,resizeHeight:Tn.toHeight,resizeQuality:Be.cib_quality_name(We.f2q[Tn.filter])}).then(function(Bt){if(Tn.canceled)return Tn.cancelToken;if(!Tn.unsharpAmount)return Ht.drawImage(Bt,0,0),Bt.close(),Ht=null,Wn.debug("Finished!"),Gn;Wn.debug("Unsharp result");var Kt=Wn.options.createCanvas(Tn.toWidth,Tn.toHeight),et=Kt.getContext("2d");et.drawImage(Bt,0,0),Bt.close();var Vt=et.getImageData(0,0,Tn.toWidth,Tn.toHeight);return Wn.__mathlib.unsharp_mask(Vt.data,Tn.toWidth,Tn.toHeight,Tn.unsharpAmount,Tn.unsharpRadius,Tn.unsharpThreshold),Ht.putImageData(Vt,0,0),Kt.width=Kt.height=0,Vt=et=Kt=Ht=null,Wn.debug("Finished!"),Gn})},In.prototype.resize=function(cn,Gn,Tn){var Wn=this;this.debug("Start resize...");var Ht=ce({},Ye);if(isNaN(Tn)?Tn&&(Ht=ce(Ht,Tn)):Ht=ce(Ht,{quality:Tn}),Ht.toWidth=Gn.width,Ht.toHeight=Gn.height,Ht.width=cn.naturalWidth||cn.width,Ht.height=cn.naturalHeight||cn.height,Object.prototype.hasOwnProperty.call(Ht,"quality")){if(Ht.quality<0||Ht.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(Ht.quality));Ht.filter=We.q2f[Ht.quality]}return 0===Gn.width||0===Gn.height?Promise.reject(new Error("Invalid output size: ".concat(Gn.width,"x").concat(Gn.height))):(Ht.unsharpRadius>2&&(Ht.unsharpRadius=2),Ht.canceled=!1,Ht.cancelToken&&(Ht.cancelToken=Ht.cancelToken.then(function(Kt){throw Ht.canceled=!0,Kt},function(Kt){throw Ht.canceled=!0,Kt})),Ht.__destTileBorder=Math.ceil(Math.max(3,2.5*Ht.unsharpRadius|0)),this.init().then(function(){if(Ht.canceled)return Ht.cancelToken;if(Wn.features.cib){if(We.q2f.indexOf(Ht.filter)>=0)return Wn.__resizeViaCreateImageBitmap(cn,Gn,Ht);Wn.debug("cib is enabled, but not supports provided filter, fallback to manual math")}if(!St){var Kt=new Error("Pica: cannot use getImageData on canvas, make sure fingerprinting protection isn't enabled");throw Kt.code="ERR_GET_IMAGE_DATA",Kt}var et=Ke(Ht.width,Ht.height,Ht.toWidth,Ht.toHeight,Wn.options.tile,Ht.__destTileBorder);return Wn.__processStages(et,cn,Gn,Ht)}))},In.prototype.resizeBuffer=function(cn){var Gn=this,Tn=ce({},Ye,cn);if(Object.prototype.hasOwnProperty.call(Tn,"quality")){if(Tn.quality<0||Tn.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(Tn.quality));Tn.filter=We.q2f[Tn.quality]}return this.init().then(function(){return Gn.__mathlib.resizeAndUnsharp(Tn)})},In.prototype.toBlob=function(cn,Gn,Tn){return Gn=Gn||"image/png",new Promise(function(Wn){if(cn.toBlob)cn.toBlob(function(Vt){return Wn(Vt)},Gn,Tn);else if(cn.convertToBlob)Wn(cn.convertToBlob({type:Gn,quality:Tn}));else{for(var Ht=atob(cn.toDataURL(Gn,Tn).split(",")[1]),Bt=Ht.length,Kt=new Uint8Array(Bt),et=0;et<Bt;et++)Kt[et]=Ht.charCodeAt(et);Wn(new Blob([Kt],{type:Gn}))}})},In.prototype.debug=function(){},O.exports=In},{"./lib/mathlib":1,"./lib/mm_resize/resize_filter_info":7,"./lib/pool":13,"./lib/stepper":14,"./lib/tiler":15,"./lib/utils":16,"./lib/worker":17,"object-assign":22,webworkify:23}]},{},[])("/index.js")},5126:ai=>{"use strict";function qt(T){return T instanceof Buffer?Buffer.from(T):new T.constructor(T.buffer.slice(),T.byteOffset,T.length)}ai.exports=function N(T){return(T=T||{}).circles?function a(T){var O=[],ue=[];return T.proto?function Re(xe){if("object"!=typeof xe||null===xe)return xe;if(xe instanceof Date)return new Date(xe);if(Array.isArray(xe))return R(xe,Re);if(xe instanceof Map)return new Map(R(Array.from(xe),Re));if(xe instanceof Set)return new Set(R(Array.from(xe),Re));var Ce={};for(var re in O.push(xe),ue.push(Ce),xe){var ce=xe[re];if("object"!=typeof ce||null===ce)Ce[re]=ce;else if(ce instanceof Date)Ce[re]=new Date(ce);else if(ce instanceof Map)Ce[re]=new Map(R(Array.from(ce),Re));else if(ce instanceof Set)Ce[re]=new Set(R(Array.from(ce),Re));else if(ArrayBuffer.isView(ce))Ce[re]=qt(ce);else{var be=O.indexOf(ce);Ce[re]=-1!==be?ue[be]:Re(ce)}}return O.pop(),ue.pop(),Ce}:function Ee(xe){if("object"!=typeof xe||null===xe)return xe;if(xe instanceof Date)return new Date(xe);if(Array.isArray(xe))return R(xe,Ee);if(xe instanceof Map)return new Map(R(Array.from(xe),Ee));if(xe instanceof Set)return new Set(R(Array.from(xe),Ee));var Ce={};for(var re in O.push(xe),ue.push(Ce),xe)if(!1!==Object.hasOwnProperty.call(xe,re)){var ce=xe[re];if("object"!=typeof ce||null===ce)Ce[re]=ce;else if(ce instanceof Date)Ce[re]=new Date(ce);else if(ce instanceof Map)Ce[re]=new Map(R(Array.from(ce),Ee));else if(ce instanceof Set)Ce[re]=new Set(R(Array.from(ce),Ee));else if(ArrayBuffer.isView(ce))Ce[re]=qt(ce);else{var be=O.indexOf(ce);Ce[re]=-1!==be?ue[be]:Ee(ce)}}return O.pop(),ue.pop(),Ce};function R(xe,Ce){for(var re=Object.keys(xe),ce=new Array(re.length),be=0;be<re.length;be++){var Ve=re[be],Ne=xe[Ve];if("object"!=typeof Ne||null===Ne)ce[Ve]=Ne;else if(Ne instanceof Date)ce[Ve]=new Date(Ne);else if(ArrayBuffer.isView(Ne))ce[Ve]=qt(Ne);else{var Be=O.indexOf(Ne);ce[Ve]=-1!==Be?ue[Be]:Ce(Ne)}}return ce}}(T):T.proto?function R(Ee){if("object"!=typeof Ee||null===Ee)return Ee;if(Ee instanceof Date)return new Date(Ee);if(Array.isArray(Ee))return O(Ee,R);if(Ee instanceof Map)return new Map(O(Array.from(Ee),R));if(Ee instanceof Set)return new Set(O(Array.from(Ee),R));var Re={};for(var xe in Ee){var Ce=Ee[xe];Re[xe]="object"!=typeof Ce||null===Ce?Ce:Ce instanceof Date?new Date(Ce):Ce instanceof Map?new Map(O(Array.from(Ce),R)):Ce instanceof Set?new Set(O(Array.from(Ce),R)):ArrayBuffer.isView(Ce)?qt(Ce):R(Ce)}return Re}:function ue(Ee){if("object"!=typeof Ee||null===Ee)return Ee;if(Ee instanceof Date)return new Date(Ee);if(Array.isArray(Ee))return O(Ee,ue);if(Ee instanceof Map)return new Map(O(Array.from(Ee),ue));if(Ee instanceof Set)return new Set(O(Array.from(Ee),ue));var Re={};for(var xe in Ee)if(!1!==Object.hasOwnProperty.call(Ee,xe)){var Ce=Ee[xe];Re[xe]="object"!=typeof Ce||null===Ce?Ce:Ce instanceof Date?new Date(Ce):Ce instanceof Map?new Map(O(Array.from(Ce),ue)):Ce instanceof Set?new Set(O(Array.from(Ce),ue)):ArrayBuffer.isView(Ce)?qt(Ce):ue(Ce)}return Re};function O(Ee,Re){for(var xe=Object.keys(Ee),Ce=new Array(xe.length),re=0;re<xe.length;re++){var ce=xe[re],be=Ee[ce];Ce[ce]="object"!=typeof be||null===be?be:be instanceof Date?new Date(be):ArrayBuffer.isView(be)?qt(be):Re(be)}return Ce}}},1135:(ai,qt,N)=>{"use strict";N.d(qt,{X:()=>T});var a=N(7579);class T extends a.x{constructor(ue){super(),this._value=ue}get value(){return this.getValue()}_subscribe(ue){const R=super._subscribe(ue);return!R.closed&&ue.next(this._value),R}getValue(){const{hasError:ue,thrownError:R,_value:Ee}=this;if(ue)throw R;return this._throwIfClosed(),Ee}next(ue){super.next(this._value=ue)}}},9751:(ai,qt,N)=>{"use strict";N.d(qt,{y:()=>xe});var a=N(930),T=N(727),O=N(8822),ue=N(9635),R=N(2416),Ee=N(576),Re=N(2806);let xe=(()=>{class be{constructor(Ne){Ne&&(this._subscribe=Ne)}lift(Ne){const Be=new be;return Be.source=this,Be.operator=Ne,Be}subscribe(Ne,Be,Je){const Ke=function ce(be){return be&&be instanceof a.Lv||function re(be){return be&&(0,Ee.m)(be.next)&&(0,Ee.m)(be.error)&&(0,Ee.m)(be.complete)}(be)&&(0,T.Nn)(be)}(Ne)?Ne:new a.Hp(Ne,Be,Je);return(0,Re.x)(()=>{const{operator:nt,source:We}=this;Ke.add(nt?nt.call(Ke,We):We?this._subscribe(Ke):this._trySubscribe(Ke))}),Ke}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(Be){Ne.error(Be)}}forEach(Ne,Be){return new(Be=Ce(Be))((Je,Ke)=>{const nt=new a.Hp({next:We=>{try{Ne(We)}catch(ft){Ke(ft),nt.unsubscribe()}},error:Ke,complete:Je});this.subscribe(nt)})}_subscribe(Ne){var Be;return null===(Be=this.source)||void 0===Be?void 0:Be.subscribe(Ne)}[O.L](){return this}pipe(...Ne){return(0,ue.U)(Ne)(this)}toPromise(Ne){return new(Ne=Ce(Ne))((Be,Je)=>{let Ke;this.subscribe(nt=>Ke=nt,nt=>Je(nt),()=>Be(Ke))})}}return be.create=Ve=>new be(Ve),be})();function Ce(be){var Ve;return null!==(Ve=be??R.v.Promise)&&void 0!==Ve?Ve:Promise}},7579:(ai,qt,N)=>{"use strict";N.d(qt,{x:()=>Re});var a=N(9751),T=N(727);const ue=(0,N(3888).d)(Ce=>function(){Ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var R=N(8737),Ee=N(2806);let Re=(()=>{class Ce extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ce){const be=new xe(this,this);return be.operator=ce,be}_throwIfClosed(){if(this.closed)throw new ue}next(ce){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const be of this.currentObservers)be.next(ce)}})}error(ce){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ce;const{observers:be}=this;for(;be.length;)be.shift().error(ce)}})}complete(){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ce}=this;for(;ce.length;)ce.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ce;return(null===(ce=this.observers)||void 0===ce?void 0:ce.length)>0}_trySubscribe(ce){return this._throwIfClosed(),super._trySubscribe(ce)}_subscribe(ce){return this._throwIfClosed(),this._checkFinalizedStatuses(ce),this._innerSubscribe(ce)}_innerSubscribe(ce){const{hasError:be,isStopped:Ve,observers:Ne}=this;return be||Ve?T.Lc:(this.currentObservers=null,Ne.push(ce),new T.w0(()=>{this.currentObservers=null,(0,R.P)(Ne,ce)}))}_checkFinalizedStatuses(ce){const{hasError:be,thrownError:Ve,isStopped:Ne}=this;be?ce.error(Ve):Ne&&ce.complete()}asObservable(){const ce=new a.y;return ce.source=this,ce}}return Ce.create=(re,ce)=>new xe(re,ce),Ce})();class xe extends Re{constructor(re,ce){super(),this.destination=re,this.source=ce}next(re){var ce,be;null===(be=null===(ce=this.destination)||void 0===ce?void 0:ce.next)||void 0===be||be.call(ce,re)}error(re){var ce,be;null===(be=null===(ce=this.destination)||void 0===ce?void 0:ce.error)||void 0===be||be.call(ce,re)}complete(){var re,ce;null===(ce=null===(re=this.destination)||void 0===re?void 0:re.complete)||void 0===ce||ce.call(re)}_subscribe(re){var ce,be;return null!==(be=null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(re))&&void 0!==be?be:T.Lc}}},930:(ai,qt,N)=>{"use strict";N.d(qt,{Hp:()=>Je,Lv:()=>be});var a=N(576),T=N(727),O=N(2416),ue=N(7849),R=N(5032);const Ee=Ce("C",void 0,void 0);function Ce(pt,tt,je){return{kind:pt,value:tt,error:je}}var re=N(3410),ce=N(2806);class be extends T.w0{constructor(tt){super(),this.isStopped=!1,tt?(this.destination=tt,(0,T.Nn)(tt)&&tt.add(this)):this.destination=ft}static create(tt,je,Ye){return new Je(tt,je,Ye)}next(tt){this.isStopped?We(function xe(pt){return Ce("N",pt,void 0)}(tt),this):this._next(tt)}error(tt){this.isStopped?We(function Re(pt){return Ce("E",void 0,pt)}(tt),this):(this.isStopped=!0,this._error(tt))}complete(){this.isStopped?We(Ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(tt){this.destination.next(tt)}_error(tt){try{this.destination.error(tt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function Ne(pt,tt){return Ve.call(pt,tt)}class Be{constructor(tt){this.partialObserver=tt}next(tt){const{partialObserver:je}=this;if(je.next)try{je.next(tt)}catch(Ye){Ke(Ye)}}error(tt){const{partialObserver:je}=this;if(je.error)try{je.error(tt)}catch(Ye){Ke(Ye)}else Ke(tt)}complete(){const{partialObserver:tt}=this;if(tt.complete)try{tt.complete()}catch(je){Ke(je)}}}class Je extends be{constructor(tt,je,Ye){let Me;if(super(),(0,a.m)(tt)||!tt)Me={next:tt??void 0,error:je??void 0,complete:Ye??void 0};else{let me;this&&O.v.useDeprecatedNextContext?(me=Object.create(tt),me.unsubscribe=()=>this.unsubscribe(),Me={next:tt.next&&Ne(tt.next,me),error:tt.error&&Ne(tt.error,me),complete:tt.complete&&Ne(tt.complete,me)}):Me=tt}this.destination=new Be(Me)}}function Ke(pt){O.v.useDeprecatedSynchronousErrorHandling?(0,ce.O)(pt):(0,ue.h)(pt)}function We(pt,tt){const{onStoppedNotification:je}=O.v;je&&re.z.setTimeout(()=>je(pt,tt))}const ft={closed:!0,next:R.Z,error:function nt(pt){throw pt},complete:R.Z}},727:(ai,qt,N)=>{"use strict";N.d(qt,{Lc:()=>Ee,w0:()=>R,Nn:()=>Re});var a=N(576);const O=(0,N(3888).d)(Ce=>function(ce){Ce(this),this.message=ce?`${ce.length} errors occurred during unsubscription:\n${ce.map((be,Ve)=>`${Ve+1}) ${be.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ce});var ue=N(8737);class R{constructor(re){this.initialTeardown=re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let re;if(!this.closed){this.closed=!0;const{_parentage:ce}=this;if(ce)if(this._parentage=null,Array.isArray(ce))for(const Ne of ce)Ne.remove(this);else ce.remove(this);const{initialTeardown:be}=this;if((0,a.m)(be))try{be()}catch(Ne){re=Ne instanceof O?Ne.errors:[Ne]}const{_finalizers:Ve}=this;if(Ve){this._finalizers=null;for(const Ne of Ve)try{xe(Ne)}catch(Be){re=re??[],Be instanceof O?re=[...re,...Be.errors]:re.push(Be)}}if(re)throw new O(re)}}add(re){var ce;if(re&&re!==this)if(this.closed)xe(re);else{if(re instanceof R){if(re.closed||re._hasParent(this))return;re._addParent(this)}(this._finalizers=null!==(ce=this._finalizers)&&void 0!==ce?ce:[]).push(re)}}_hasParent(re){const{_parentage:ce}=this;return ce===re||Array.isArray(ce)&&ce.includes(re)}_addParent(re){const{_parentage:ce}=this;this._parentage=Array.isArray(ce)?(ce.push(re),ce):ce?[ce,re]:re}_removeParent(re){const{_parentage:ce}=this;ce===re?this._parentage=null:Array.isArray(ce)&&(0,ue.P)(ce,re)}remove(re){const{_finalizers:ce}=this;ce&&(0,ue.P)(ce,re),re instanceof R&&re._removeParent(this)}}R.EMPTY=(()=>{const Ce=new R;return Ce.closed=!0,Ce})();const Ee=R.EMPTY;function Re(Ce){return Ce instanceof R||Ce&&"closed"in Ce&&(0,a.m)(Ce.remove)&&(0,a.m)(Ce.add)&&(0,a.m)(Ce.unsubscribe)}function xe(Ce){(0,a.m)(Ce)?Ce():Ce.unsubscribe()}},2416:(ai,qt,N)=>{"use strict";N.d(qt,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(ai,qt,N)=>{"use strict";N.d(qt,{a:()=>re});var a=N(9751),T=N(4742),O=N(8996),ue=N(4671),R=N(3268),Ee=N(3269),Re=N(1810),xe=N(5403),Ce=N(9672);function re(...Ve){const Ne=(0,Ee.yG)(Ve),Be=(0,Ee.jO)(Ve),{args:Je,keys:Ke}=(0,T.D)(Ve);if(0===Je.length)return(0,O.D)([],Ne);const nt=new a.y(function ce(Ve,Ne,Be=ue.y){return Je=>{be(Ne,()=>{const{length:Ke}=Ve,nt=new Array(Ke);let We=Ke,ft=Ke;for(let pt=0;pt<Ke;pt++)be(Ne,()=>{const tt=(0,O.D)(Ve[pt],Ne);let je=!1;tt.subscribe((0,xe.x)(Je,Ye=>{nt[pt]=Ye,je||(je=!0,ft--),ft||Je.next(Be(nt.slice()))},()=>{--We||Je.complete()}))},Je)},Je)}}(Je,Ne,Ke?We=>(0,Re.n)(Ke,We):ue.y));return Be?nt.pipe((0,R.Z)(Be)):nt}function be(Ve,Ne,Be){Ve?(0,Ce.f)(Be,Ve,Ne):Ne()}},7272:(ai,qt,N)=>{"use strict";N.d(qt,{z:()=>R});var a=N(8189),O=N(3269),ue=N(8996);function R(...Ee){return function T(){return(0,a.J)(1)}()((0,ue.D)(Ee,(0,O.yG)(Ee)))}},9770:(ai,qt,N)=>{"use strict";N.d(qt,{P:()=>O});var a=N(9751),T=N(8421);function O(ue){return new a.y(R=>{(0,T.Xf)(ue()).subscribe(R)})}},515:(ai,qt,N)=>{"use strict";N.d(qt,{E:()=>T});const T=new(N(9751).y)(R=>R.complete())},4128:(ai,qt,N)=>{"use strict";N.d(qt,{D:()=>xe});var a=N(9751),T=N(4742),O=N(8421),ue=N(3269),R=N(5403),Ee=N(3268),Re=N(1810);function xe(...Ce){const re=(0,ue.jO)(Ce),{args:ce,keys:be}=(0,T.D)(Ce),Ve=new a.y(Ne=>{const{length:Be}=ce;if(!Be)return void Ne.complete();const Je=new Array(Be);let Ke=Be,nt=Be;for(let We=0;We<Be;We++){let ft=!1;(0,O.Xf)(ce[We]).subscribe((0,R.x)(Ne,pt=>{ft||(ft=!0,nt--),Je[We]=pt},()=>Ke--,void 0,()=>{(!Ke||!ft)&&(nt||Ne.next(be?(0,Re.n)(be,Je):Je),Ne.complete())}))}});return re?Ve.pipe((0,Ee.Z)(re)):Ve}},8996:(ai,qt,N)=>{"use strict";N.d(qt,{D:()=>tt});var a=N(8421),T=N(5363),O=N(9468),Ee=N(9751),xe=N(2202),Ce=N(576),re=N(9672);function be(je,Ye){if(!je)throw new Error("Iterable cannot be null");return new Ee.y(Me=>{(0,re.f)(Me,Ye,()=>{const me=je[Symbol.asyncIterator]();(0,re.f)(Me,Ye,()=>{me.next().then(St=>{St.done?Me.complete():Me.next(St.value)})},0,!0)})})}var Ve=N(3670),Ne=N(8239),Be=N(1144),Je=N(6495),Ke=N(2206),nt=N(4532),We=N(3260);function tt(je,Ye){return Ye?function pt(je,Ye){if(null!=je){if((0,Ve.c)(je))return function ue(je,Ye){return(0,a.Xf)(je).pipe((0,O.R)(Ye),(0,T.Q)(Ye))}(je,Ye);if((0,Be.z)(je))return function Re(je,Ye){return new Ee.y(Me=>{let me=0;return Ye.schedule(function(){me===je.length?Me.complete():(Me.next(je[me++]),Me.closed||this.schedule())})})}(je,Ye);if((0,Ne.t)(je))return function R(je,Ye){return(0,a.Xf)(je).pipe((0,O.R)(Ye),(0,T.Q)(Ye))}(je,Ye);if((0,Ke.D)(je))return be(je,Ye);if((0,Je.T)(je))return function ce(je,Ye){return new Ee.y(Me=>{let me;return(0,re.f)(Me,Ye,()=>{me=je[xe.h](),(0,re.f)(Me,Ye,()=>{let St,vt;try{({value:St,done:vt}=me.next())}catch(an){return void Me.error(an)}vt?Me.complete():Me.next(St)},0,!0)}),()=>(0,Ce.m)(me?.return)&&me.return()})}(je,Ye);if((0,We.L)(je))return function ft(je,Ye){return be((0,We.Q)(je),Ye)}(je,Ye)}throw(0,nt.z)(je)}(je,Ye):(0,a.Xf)(je)}},4968:(ai,qt,N)=>{"use strict";N.d(qt,{R:()=>re});var a=N(8421),T=N(9751),O=N(5577),ue=N(1144),R=N(576),Ee=N(3268);const Re=["addListener","removeListener"],xe=["addEventListener","removeEventListener"],Ce=["on","off"];function re(Be,Je,Ke,nt){if((0,R.m)(Ke)&&(nt=Ke,Ke=void 0),nt)return re(Be,Je,Ke).pipe((0,Ee.Z)(nt));const[We,ft]=function Ne(Be){return(0,R.m)(Be.addEventListener)&&(0,R.m)(Be.removeEventListener)}(Be)?xe.map(pt=>tt=>Be[pt](Je,tt,Ke)):function be(Be){return(0,R.m)(Be.addListener)&&(0,R.m)(Be.removeListener)}(Be)?Re.map(ce(Be,Je)):function Ve(Be){return(0,R.m)(Be.on)&&(0,R.m)(Be.off)}(Be)?Ce.map(ce(Be,Je)):[];if(!We&&(0,ue.z)(Be))return(0,O.z)(pt=>re(pt,Je,Ke))((0,a.Xf)(Be));if(!We)throw new TypeError("Invalid event target");return new T.y(pt=>{const tt=(...je)=>pt.next(1<je.length?je:je[0]);return We(tt),()=>ft(tt)})}function ce(Be,Je){return Ke=>nt=>Be[Ke](Je,nt)}},8421:(ai,qt,N)=>{"use strict";N.d(qt,{Xf:()=>Ve});var a=N(7582),T=N(1144),O=N(8239),ue=N(9751),R=N(3670),Ee=N(2206),Re=N(4532),xe=N(6495),Ce=N(3260),re=N(576),ce=N(7849),be=N(8822);function Ve(pt){if(pt instanceof ue.y)return pt;if(null!=pt){if((0,R.c)(pt))return function Ne(pt){return new ue.y(tt=>{const je=pt[be.L]();if((0,re.m)(je.subscribe))return je.subscribe(tt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(pt);if((0,T.z)(pt))return function Be(pt){return new ue.y(tt=>{for(let je=0;je<pt.length&&!tt.closed;je++)tt.next(pt[je]);tt.complete()})}(pt);if((0,O.t)(pt))return function Je(pt){return new ue.y(tt=>{pt.then(je=>{tt.closed||(tt.next(je),tt.complete())},je=>tt.error(je)).then(null,ce.h)})}(pt);if((0,Ee.D)(pt))return nt(pt);if((0,xe.T)(pt))return function Ke(pt){return new ue.y(tt=>{for(const je of pt)if(tt.next(je),tt.closed)return;tt.complete()})}(pt);if((0,Ce.L)(pt))return function We(pt){return nt((0,Ce.Q)(pt))}(pt)}throw(0,Re.z)(pt)}function nt(pt){return new ue.y(tt=>{(function ft(pt,tt){var je,Ye,Me,me;return(0,a.mG)(this,void 0,void 0,function*(){try{for(je=(0,a.KL)(pt);!(Ye=yield je.next()).done;)if(tt.next(Ye.value),tt.closed)return}catch(St){Me={error:St}}finally{try{Ye&&!Ye.done&&(me=je.return)&&(yield me.call(je))}finally{if(Me)throw Me.error}}tt.complete()})})(pt,tt).catch(je=>tt.error(je))})}},7445:(ai,qt,N)=>{"use strict";N.d(qt,{F:()=>O});var a=N(4986),T=N(5963);function O(ue=0,R=a.z){return ue<0&&(ue=0),(0,T.H)(ue,ue,R)}},6451:(ai,qt,N)=>{"use strict";N.d(qt,{T:()=>Ee});var a=N(8189),T=N(8421),O=N(515),ue=N(3269),R=N(8996);function Ee(...Re){const xe=(0,ue.yG)(Re),Ce=(0,ue._6)(Re,1/0),re=Re;return re.length?1===re.length?(0,T.Xf)(re[0]):(0,a.J)(Ce)((0,R.D)(re,xe)):O.E}},9646:(ai,qt,N)=>{"use strict";N.d(qt,{of:()=>O});var a=N(3269),T=N(8996);function O(...ue){const R=(0,a.yG)(ue);return(0,T.D)(ue,R)}},2843:(ai,qt,N)=>{"use strict";N.d(qt,{_:()=>O});var a=N(9751),T=N(576);function O(ue,R){const Ee=(0,T.m)(ue)?ue:()=>ue,Re=xe=>xe.error(Ee());return new a.y(R?xe=>R.schedule(Re,0,xe):Re)}},5963:(ai,qt,N)=>{"use strict";N.d(qt,{H:()=>R});var a=N(9751),T=N(4986),O=N(3532);function R(Ee=0,Re,xe=T.P){let Ce=-1;return null!=Re&&((0,O.K)(Re)?xe=Re:Ce=Re),new a.y(re=>{let ce=function ue(Ee){return Ee instanceof Date&&!isNaN(Ee)}(Ee)?+Ee-xe.now():Ee;ce<0&&(ce=0);let be=0;return xe.schedule(function(){re.closed||(re.next(be++),0<=Ce?this.schedule(void 0,Ce):re.complete())},ce)})}},5403:(ai,qt,N)=>{"use strict";N.d(qt,{x:()=>T});var a=N(930);function T(ue,R,Ee,Re,xe){return new O(ue,R,Ee,Re,xe)}class O extends a.Lv{constructor(R,Ee,Re,xe,Ce,re){super(R),this.onFinalize=Ce,this.shouldUnsubscribe=re,this._next=Ee?function(ce){try{Ee(ce)}catch(be){R.error(be)}}:super._next,this._error=xe?function(ce){try{xe(ce)}catch(be){R.error(be)}finally{this.unsubscribe()}}:super._error,this._complete=Re?function(){try{Re()}catch(ce){R.error(ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var R;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ee}=this;super.unsubscribe(),!Ee&&(null===(R=this.onFinalize)||void 0===R||R.call(this))}}}},262:(ai,qt,N)=>{"use strict";N.d(qt,{K:()=>ue});var a=N(8421),T=N(5403),O=N(4482);function ue(R){return(0,O.e)((Ee,Re)=>{let re,xe=null,Ce=!1;xe=Ee.subscribe((0,T.x)(Re,void 0,void 0,ce=>{re=(0,a.Xf)(R(ce,ue(R)(Ee))),xe?(xe.unsubscribe(),xe=null,re.subscribe(Re)):Ce=!0})),Ce&&(xe.unsubscribe(),xe=null,re.subscribe(Re))})}},4351:(ai,qt,N)=>{"use strict";N.d(qt,{b:()=>O});var a=N(5577),T=N(576);function O(ue,R){return(0,T.m)(R)?(0,a.z)(ue,R,1):(0,a.z)(ue,1)}},8372:(ai,qt,N)=>{"use strict";N.d(qt,{b:()=>ue});var a=N(4986),T=N(4482),O=N(5403);function ue(R,Ee=a.z){return(0,T.e)((Re,xe)=>{let Ce=null,re=null,ce=null;const be=()=>{if(Ce){Ce.unsubscribe(),Ce=null;const Ne=re;re=null,xe.next(Ne)}};function Ve(){const Ne=ce+R,Be=Ee.now();if(Be<Ne)return Ce=this.schedule(void 0,Ne-Be),void xe.add(Ce);be()}Re.subscribe((0,O.x)(xe,Ne=>{re=Ne,ce=Ee.now(),Ce||(Ce=Ee.schedule(Ve,R),xe.add(Ce))},()=>{be(),xe.complete()},void 0,()=>{re=Ce=null}))})}},6590:(ai,qt,N)=>{"use strict";N.d(qt,{d:()=>O});var a=N(4482),T=N(5403);function O(ue){return(0,a.e)((R,Ee)=>{let Re=!1;R.subscribe((0,T.x)(Ee,xe=>{Re=!0,Ee.next(xe)},()=>{Re||Ee.next(ue),Ee.complete()}))})}},1005:(ai,qt,N)=>{"use strict";N.d(qt,{g:()=>be});var a=N(4986),T=N(7272),O=N(5698),ue=N(4482),R=N(5403),Ee=N(5032),xe=N(9718),Ce=N(5577);function re(Ve,Ne){return Ne?Be=>(0,T.z)(Ne.pipe((0,O.q)(1),function Re(){return(0,ue.e)((Ve,Ne)=>{Ve.subscribe((0,R.x)(Ne,Ee.Z))})}()),Be.pipe(re(Ve))):(0,Ce.z)((Be,Je)=>Ve(Be,Je).pipe((0,O.q)(1),(0,xe.h)(Be)))}var ce=N(5963);function be(Ve,Ne=a.z){const Be=(0,ce.H)(Ve,Ne);return re(()=>Be)}},1884:(ai,qt,N)=>{"use strict";N.d(qt,{x:()=>ue});var a=N(4671),T=N(4482),O=N(5403);function ue(Ee,Re=a.y){return Ee=Ee??R,(0,T.e)((xe,Ce)=>{let re,ce=!0;xe.subscribe((0,O.x)(Ce,be=>{const Ve=Re(be);(ce||!Ee(re,Ve))&&(ce=!1,re=Ve,Ce.next(be))}))})}function R(Ee,Re){return Ee===Re}},9300:(ai,qt,N)=>{"use strict";N.d(qt,{h:()=>O});var a=N(4482),T=N(5403);function O(ue,R){return(0,a.e)((Ee,Re)=>{let xe=0;Ee.subscribe((0,T.x)(Re,Ce=>ue.call(R,Ce,xe++)&&Re.next(Ce)))})}},8746:(ai,qt,N)=>{"use strict";N.d(qt,{x:()=>T});var a=N(4482);function T(O){return(0,a.e)((ue,R)=>{try{ue.subscribe(R)}finally{R.add(O)}})}},590:(ai,qt,N)=>{"use strict";N.d(qt,{P:()=>Re});var a=N(6805),T=N(9300),O=N(5698),ue=N(6590),R=N(8068),Ee=N(4671);function Re(xe,Ce){const re=arguments.length>=2;return ce=>ce.pipe(xe?(0,T.h)((be,Ve)=>xe(be,Ve,ce)):Ee.y,(0,O.q)(1),re?(0,ue.d)(Ce):(0,R.T)(()=>new a.K))}},4004:(ai,qt,N)=>{"use strict";N.d(qt,{U:()=>O});var a=N(4482),T=N(5403);function O(ue,R){return(0,a.e)((Ee,Re)=>{let xe=0;Ee.subscribe((0,T.x)(Re,Ce=>{Re.next(ue.call(R,Ce,xe++))}))})}},9718:(ai,qt,N)=>{"use strict";N.d(qt,{h:()=>T});var a=N(4004);function T(O){return(0,a.U)(()=>O)}},8189:(ai,qt,N)=>{"use strict";N.d(qt,{J:()=>O});var a=N(5577),T=N(4671);function O(ue=1/0){return(0,a.z)(T.y,ue)}},5577:(ai,qt,N)=>{"use strict";N.d(qt,{z:()=>xe});var a=N(4004),T=N(8421),O=N(4482),ue=N(9672),R=N(5403),Re=N(576);function xe(Ce,re,ce=1/0){return(0,Re.m)(re)?xe((be,Ve)=>(0,a.U)((Ne,Be)=>re(be,Ne,Ve,Be))((0,T.Xf)(Ce(be,Ve))),ce):("number"==typeof re&&(ce=re),(0,O.e)((be,Ve)=>function Ee(Ce,re,ce,be,Ve,Ne,Be,Je){const Ke=[];let nt=0,We=0,ft=!1;const pt=()=>{ft&&!Ke.length&&!nt&&re.complete()},tt=Ye=>nt<be?je(Ye):Ke.push(Ye),je=Ye=>{Ne&&re.next(Ye),nt++;let Me=!1;(0,T.Xf)(ce(Ye,We++)).subscribe((0,R.x)(re,me=>{Ve?.(me),Ne?tt(me):re.next(me)},()=>{Me=!0},void 0,()=>{if(Me)try{for(nt--;Ke.length&&nt<be;){const me=Ke.shift();Be?(0,ue.f)(re,Be,()=>je(me)):je(me)}pt()}catch(me){re.error(me)}}))};return Ce.subscribe((0,R.x)(re,tt,()=>{ft=!0,pt()})),()=>{Je?.()}}(be,Ve,Ce,ce)))}},5363:(ai,qt,N)=>{"use strict";N.d(qt,{Q:()=>ue});var a=N(9672),T=N(4482),O=N(5403);function ue(R,Ee=0){return(0,T.e)((Re,xe)=>{Re.subscribe((0,O.x)(xe,Ce=>(0,a.f)(xe,R,()=>xe.next(Ce),Ee),()=>(0,a.f)(xe,R,()=>xe.complete(),Ee),Ce=>(0,a.f)(xe,R,()=>xe.error(Ce),Ee)))})}},5026:(ai,qt,N)=>{"use strict";N.d(qt,{R:()=>ue});var a=N(4482),T=N(5403);function O(R,Ee,Re,xe,Ce){return(re,ce)=>{let be=Re,Ve=Ee,Ne=0;re.subscribe((0,T.x)(ce,Be=>{const Je=Ne++;Ve=be?R(Ve,Be,Je):(be=!0,Be),xe&&ce.next(Ve)},Ce&&(()=>{be&&ce.next(Ve),ce.complete()})))}}function ue(R,Ee){return(0,a.e)(O(R,Ee,arguments.length>=2,!0))}},3099:(ai,qt,N)=>{"use strict";N.d(qt,{B:()=>R});var a=N(8421),T=N(7579),O=N(930),ue=N(4482);function R(Re={}){const{connector:xe=(()=>new T.x),resetOnError:Ce=!0,resetOnComplete:re=!0,resetOnRefCountZero:ce=!0}=Re;return be=>{let Ve,Ne,Be,Je=0,Ke=!1,nt=!1;const We=()=>{Ne?.unsubscribe(),Ne=void 0},ft=()=>{We(),Ve=Be=void 0,Ke=nt=!1},pt=()=>{const tt=Ve;ft(),tt?.unsubscribe()};return(0,ue.e)((tt,je)=>{Je++,!nt&&!Ke&&We();const Ye=Be=Be??xe();je.add(()=>{Je--,0===Je&&!nt&&!Ke&&(Ne=Ee(pt,ce))}),Ye.subscribe(je),!Ve&&Je>0&&(Ve=new O.Hp({next:Me=>Ye.next(Me),error:Me=>{nt=!0,We(),Ne=Ee(ft,Ce,Me),Ye.error(Me)},complete:()=>{Ke=!0,We(),Ne=Ee(ft,re),Ye.complete()}}),(0,a.Xf)(tt).subscribe(Ve))})(be)}}function Ee(Re,xe,...Ce){if(!0===xe)return void Re();if(!1===xe)return;const re=new O.Hp({next:()=>{re.unsubscribe(),Re()}});return xe(...Ce).subscribe(re)}},3151:(ai,qt,N)=>{"use strict";N.d(qt,{d:()=>R});var a=N(7579),T=N(6063);class O extends a.x{constructor(Re=1/0,xe=1/0,Ce=T.l){super(),this._bufferSize=Re,this._windowTime=xe,this._timestampProvider=Ce,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=xe===1/0,this._bufferSize=Math.max(1,Re),this._windowTime=Math.max(1,xe)}next(Re){const{isStopped:xe,_buffer:Ce,_infiniteTimeWindow:re,_timestampProvider:ce,_windowTime:be}=this;xe||(Ce.push(Re),!re&&Ce.push(ce.now()+be)),this._trimBuffer(),super.next(Re)}_subscribe(Re){this._throwIfClosed(),this._trimBuffer();const xe=this._innerSubscribe(Re),{_infiniteTimeWindow:Ce,_buffer:re}=this,ce=re.slice();for(let be=0;be<ce.length&&!Re.closed;be+=Ce?1:2)Re.next(ce[be]);return this._checkFinalizedStatuses(Re),xe}_trimBuffer(){const{_bufferSize:Re,_timestampProvider:xe,_buffer:Ce,_infiniteTimeWindow:re}=this,ce=(re?1:2)*Re;if(Re<1/0&&ce<Ce.length&&Ce.splice(0,Ce.length-ce),!re){const be=xe.now();let Ve=0;for(let Ne=1;Ne<Ce.length&&Ce[Ne]<=be;Ne+=2)Ve=Ne;Ve&&Ce.splice(0,Ve+1)}}}var ue=N(3099);function R(Ee,Re,xe){let Ce,re=!1;return Ee&&"object"==typeof Ee?({bufferSize:Ce=1/0,windowTime:Re=1/0,refCount:re=!1,scheduler:xe}=Ee):Ce=Ee??1/0,(0,ue.B)({connector:()=>new O(Ce,Re,xe),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:re})}},5684:(ai,qt,N)=>{"use strict";N.d(qt,{T:()=>T});var a=N(9300);function T(O){return(0,a.h)((ue,R)=>O<=R)}},8675:(ai,qt,N)=>{"use strict";N.d(qt,{O:()=>ue});var a=N(7272),T=N(3269),O=N(4482);function ue(...R){const Ee=(0,T.yG)(R);return(0,O.e)((Re,xe)=>{(Ee?(0,a.z)(R,Re,Ee):(0,a.z)(R,Re)).subscribe(xe)})}},9468:(ai,qt,N)=>{"use strict";N.d(qt,{R:()=>T});var a=N(4482);function T(O,ue=0){return(0,a.e)((R,Ee)=>{Ee.add(O.schedule(()=>R.subscribe(Ee),ue))})}},3900:(ai,qt,N)=>{"use strict";N.d(qt,{w:()=>ue});var a=N(8421),T=N(4482),O=N(5403);function ue(R,Ee){return(0,T.e)((Re,xe)=>{let Ce=null,re=0,ce=!1;const be=()=>ce&&!Ce&&xe.complete();Re.subscribe((0,O.x)(xe,Ve=>{Ce?.unsubscribe();let Ne=0;const Be=re++;(0,a.Xf)(R(Ve,Be)).subscribe(Ce=(0,O.x)(xe,Je=>xe.next(Ee?Ee(Ve,Je,Be,Ne++):Je),()=>{Ce=null,be()}))},()=>{ce=!0,be()}))})}},5698:(ai,qt,N)=>{"use strict";N.d(qt,{q:()=>ue});var a=N(515),T=N(4482),O=N(5403);function ue(R){return R<=0?()=>a.E:(0,T.e)((Ee,Re)=>{let xe=0;Ee.subscribe((0,O.x)(Re,Ce=>{++xe<=R&&(Re.next(Ce),R<=xe&&Re.complete())}))})}},2722:(ai,qt,N)=>{"use strict";N.d(qt,{R:()=>R});var a=N(4482),T=N(5403),O=N(8421),ue=N(5032);function R(Ee){return(0,a.e)((Re,xe)=>{(0,O.Xf)(Ee).subscribe((0,T.x)(xe,()=>xe.complete(),ue.Z)),!xe.closed&&Re.subscribe(xe)})}},2529:(ai,qt,N)=>{"use strict";N.d(qt,{o:()=>O});var a=N(4482),T=N(5403);function O(ue,R=!1){return(0,a.e)((Ee,Re)=>{let xe=0;Ee.subscribe((0,T.x)(Re,Ce=>{const re=ue(Ce,xe++);(re||R)&&Re.next(Ce),!re&&Re.complete()}))})}},8505:(ai,qt,N)=>{"use strict";N.d(qt,{b:()=>R});var a=N(576),T=N(4482),O=N(5403),ue=N(4671);function R(Ee,Re,xe){const Ce=(0,a.m)(Ee)||Re||xe?{next:Ee,error:Re,complete:xe}:Ee;return Ce?(0,T.e)((re,ce)=>{var be;null===(be=Ce.subscribe)||void 0===be||be.call(Ce);let Ve=!0;re.subscribe((0,O.x)(ce,Ne=>{var Be;null===(Be=Ce.next)||void 0===Be||Be.call(Ce,Ne),ce.next(Ne)},()=>{var Ne;Ve=!1,null===(Ne=Ce.complete)||void 0===Ne||Ne.call(Ce),ce.complete()},Ne=>{var Be;Ve=!1,null===(Be=Ce.error)||void 0===Be||Be.call(Ce,Ne),ce.error(Ne)},()=>{var Ne,Be;Ve&&(null===(Ne=Ce.unsubscribe)||void 0===Ne||Ne.call(Ce)),null===(Be=Ce.finalize)||void 0===Be||Be.call(Ce)}))}):ue.y}},8068:(ai,qt,N)=>{"use strict";N.d(qt,{T:()=>ue});var a=N(6805),T=N(4482),O=N(5403);function ue(Ee=R){return(0,T.e)((Re,xe)=>{let Ce=!1;Re.subscribe((0,O.x)(xe,re=>{Ce=!0,xe.next(re)},()=>Ce?xe.complete():xe.error(Ee())))})}function R(){return new a.K}},4408:(ai,qt,N)=>{"use strict";N.d(qt,{o:()=>R});var a=N(727);class T extends a.w0{constructor(Re,xe){super()}schedule(Re,xe=0){return this}}const O={setInterval(Ee,Re,...xe){const{delegate:Ce}=O;return Ce?.setInterval?Ce.setInterval(Ee,Re,...xe):setInterval(Ee,Re,...xe)},clearInterval(Ee){const{delegate:Re}=O;return(Re?.clearInterval||clearInterval)(Ee)},delegate:void 0};var ue=N(8737);class R extends T{constructor(Re,xe){super(Re,xe),this.scheduler=Re,this.work=xe,this.pending=!1}schedule(Re,xe=0){var Ce;if(this.closed)return this;this.state=Re;const re=this.id,ce=this.scheduler;return null!=re&&(this.id=this.recycleAsyncId(ce,re,xe)),this.pending=!0,this.delay=xe,this.id=null!==(Ce=this.id)&&void 0!==Ce?Ce:this.requestAsyncId(ce,this.id,xe),this}requestAsyncId(Re,xe,Ce=0){return O.setInterval(Re.flush.bind(Re,this),Ce)}recycleAsyncId(Re,xe,Ce=0){if(null!=Ce&&this.delay===Ce&&!1===this.pending)return xe;null!=xe&&O.clearInterval(xe)}execute(Re,xe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ce=this._execute(Re,xe);if(Ce)return Ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Re,xe){let re,Ce=!1;try{this.work(Re)}catch(ce){Ce=!0,re=ce||new Error("Scheduled action threw falsy error")}if(Ce)return this.unsubscribe(),re}unsubscribe(){if(!this.closed){const{id:Re,scheduler:xe}=this,{actions:Ce}=xe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.P)(Ce,this),null!=Re&&(this.id=this.recycleAsyncId(xe,Re,null)),this.delay=null,super.unsubscribe()}}}},7565:(ai,qt,N)=>{"use strict";N.d(qt,{v:()=>O});var a=N(6063);class T{constructor(R,Ee=T.now){this.schedulerActionCtor=R,this.now=Ee}schedule(R,Ee=0,Re){return new this.schedulerActionCtor(this,R).schedule(Re,Ee)}}T.now=a.l.now;class O extends T{constructor(R,Ee=T.now){super(R,Ee),this.actions=[],this._active=!1}flush(R){const{actions:Ee}=this;if(this._active)return void Ee.push(R);let Re;this._active=!0;do{if(Re=R.execute(R.state,R.delay))break}while(R=Ee.shift());if(this._active=!1,Re){for(;R=Ee.shift();)R.unsubscribe();throw Re}}}},6406:(ai,qt,N)=>{"use strict";N.d(qt,{Z:()=>Re});var a=N(4408),T=N(727);const O={schedule(Ce){let re=requestAnimationFrame,ce=cancelAnimationFrame;const{delegate:be}=O;be&&(re=be.requestAnimationFrame,ce=be.cancelAnimationFrame);const Ve=re(Ne=>{ce=void 0,Ce(Ne)});return new T.w0(()=>ce?.(Ve))},requestAnimationFrame(...Ce){const{delegate:re}=O;return(re?.requestAnimationFrame||requestAnimationFrame)(...Ce)},cancelAnimationFrame(...Ce){const{delegate:re}=O;return(re?.cancelAnimationFrame||cancelAnimationFrame)(...Ce)},delegate:void 0};var R=N(7565);const Re=new class Ee extends R.v{flush(re){this._active=!0;const ce=this._scheduled;this._scheduled=void 0;const{actions:be}=this;let Ve;re=re||be.shift();do{if(Ve=re.execute(re.state,re.delay))break}while((re=be[0])&&re.id===ce&&be.shift());if(this._active=!1,Ve){for(;(re=be[0])&&re.id===ce&&be.shift();)re.unsubscribe();throw Ve}}}(class ue extends a.o{constructor(re,ce){super(re,ce),this.scheduler=re,this.work=ce}requestAsyncId(re,ce,be=0){return null!==be&&be>0?super.requestAsyncId(re,ce,be):(re.actions.push(this),re._scheduled||(re._scheduled=O.requestAnimationFrame(()=>re.flush(void 0))))}recycleAsyncId(re,ce,be=0){var Ve;if(null!=be?be>0:this.delay>0)return super.recycleAsyncId(re,ce,be);const{actions:Ne}=re;null!=ce&&(null===(Ve=Ne[Ne.length-1])||void 0===Ve?void 0:Ve.id)!==ce&&(O.cancelAnimationFrame(ce),re._scheduled=void 0)}})},4986:(ai,qt,N)=>{"use strict";N.d(qt,{P:()=>ue,z:()=>O});var a=N(4408);const O=new(N(7565).v)(a.o),ue=O},6063:(ai,qt,N)=>{"use strict";N.d(qt,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(ai,qt,N)=>{"use strict";N.d(qt,{z:()=>a});const a={setTimeout(T,O,...ue){const{delegate:R}=a;return R?.setTimeout?R.setTimeout(T,O,...ue):setTimeout(T,O,...ue)},clearTimeout(T){const{delegate:O}=a;return(O?.clearTimeout||clearTimeout)(T)},delegate:void 0}},2202:(ai,qt,N)=>{"use strict";N.d(qt,{h:()=>T});const T=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ai,qt,N)=>{"use strict";N.d(qt,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(ai,qt,N)=>{"use strict";N.d(qt,{K:()=>T});const T=(0,N(3888).d)(O=>function(){O(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(ai,qt,N)=>{"use strict";N.d(qt,{_6:()=>Ee,jO:()=>ue,yG:()=>R});var a=N(576),T=N(3532);function O(Re){return Re[Re.length-1]}function ue(Re){return(0,a.m)(O(Re))?Re.pop():void 0}function R(Re){return(0,T.K)(O(Re))?Re.pop():void 0}function Ee(Re,xe){return"number"==typeof O(Re)?Re.pop():xe}},4742:(ai,qt,N)=>{"use strict";N.d(qt,{D:()=>R});const{isArray:a}=Array,{getPrototypeOf:T,prototype:O,keys:ue}=Object;function R(Re){if(1===Re.length){const xe=Re[0];if(a(xe))return{args:xe,keys:null};if(function Ee(Re){return Re&&"object"==typeof Re&&T(Re)===O}(xe)){const Ce=ue(xe);return{args:Ce.map(re=>xe[re]),keys:Ce}}}return{args:Re,keys:null}}},8737:(ai,qt,N)=>{"use strict";function a(T,O){if(T){const ue=T.indexOf(O);0<=ue&&T.splice(ue,1)}}N.d(qt,{P:()=>a})},3888:(ai,qt,N)=>{"use strict";function a(T){const ue=T(R=>{Error.call(R),R.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}N.d(qt,{d:()=>a})},1810:(ai,qt,N)=>{"use strict";function a(T,O){return T.reduce((ue,R,Ee)=>(ue[R]=O[Ee],ue),{})}N.d(qt,{n:()=>a})},2806:(ai,qt,N)=>{"use strict";N.d(qt,{O:()=>ue,x:()=>O});var a=N(2416);let T=null;function O(R){if(a.v.useDeprecatedSynchronousErrorHandling){const Ee=!T;if(Ee&&(T={errorThrown:!1,error:null}),R(),Ee){const{errorThrown:Re,error:xe}=T;if(T=null,Re)throw xe}}else R()}function ue(R){a.v.useDeprecatedSynchronousErrorHandling&&T&&(T.errorThrown=!0,T.error=R)}},9672:(ai,qt,N)=>{"use strict";function a(T,O,ue,R=0,Ee=!1){const Re=O.schedule(function(){ue(),Ee?T.add(this.schedule(null,R)):this.unsubscribe()},R);if(T.add(Re),!Ee)return Re}N.d(qt,{f:()=>a})},4671:(ai,qt,N)=>{"use strict";function a(T){return T}N.d(qt,{y:()=>a})},1144:(ai,qt,N)=>{"use strict";N.d(qt,{z:()=>a});const a=T=>T&&"number"==typeof T.length&&"function"!=typeof T},2206:(ai,qt,N)=>{"use strict";N.d(qt,{D:()=>T});var a=N(576);function T(O){return Symbol.asyncIterator&&(0,a.m)(O?.[Symbol.asyncIterator])}},576:(ai,qt,N)=>{"use strict";function a(T){return"function"==typeof T}N.d(qt,{m:()=>a})},3670:(ai,qt,N)=>{"use strict";N.d(qt,{c:()=>O});var a=N(8822),T=N(576);function O(ue){return(0,T.m)(ue[a.L])}},6495:(ai,qt,N)=>{"use strict";N.d(qt,{T:()=>O});var a=N(2202),T=N(576);function O(ue){return(0,T.m)(ue?.[a.h])}},8239:(ai,qt,N)=>{"use strict";N.d(qt,{t:()=>T});var a=N(576);function T(O){return(0,a.m)(O?.then)}},3260:(ai,qt,N)=>{"use strict";N.d(qt,{L:()=>ue,Q:()=>O});var a=N(7582),T=N(576);function O(R){return(0,a.FC)(this,arguments,function*(){const Re=R.getReader();try{for(;;){const{value:xe,done:Ce}=yield(0,a.qq)(Re.read());if(Ce)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(xe)}}finally{Re.releaseLock()}})}function ue(R){return(0,T.m)(R?.getReader)}},3532:(ai,qt,N)=>{"use strict";N.d(qt,{K:()=>T});var a=N(576);function T(O){return O&&(0,a.m)(O.schedule)}},4482:(ai,qt,N)=>{"use strict";N.d(qt,{A:()=>T,e:()=>O});var a=N(576);function T(ue){return(0,a.m)(ue?.lift)}function O(ue){return R=>{if(T(R))return R.lift(function(Ee){try{return ue(Ee,this)}catch(Re){this.error(Re)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(ai,qt,N)=>{"use strict";N.d(qt,{Z:()=>ue});var a=N(4004);const{isArray:T}=Array;function ue(R){return(0,a.U)(Ee=>function O(R,Ee){return T(Ee)?R(...Ee):R(Ee)}(R,Ee))}},5032:(ai,qt,N)=>{"use strict";function a(){}N.d(qt,{Z:()=>a})},9635:(ai,qt,N)=>{"use strict";N.d(qt,{U:()=>O,z:()=>T});var a=N(4671);function T(...ue){return O(ue)}function O(ue){return 0===ue.length?a.y:1===ue.length?ue[0]:function(Ee){return ue.reduce((Re,xe)=>xe(Re),Ee)}}},7849:(ai,qt,N)=>{"use strict";N.d(qt,{h:()=>O});var a=N(2416),T=N(3410);function O(ue){T.z.setTimeout(()=>{const{onUnhandledError:R}=a.v;if(!R)throw ue;R(ue)})}},4532:(ai,qt,N)=>{"use strict";function a(T){return new TypeError(`You provided ${null!==T&&"object"==typeof T?"an invalid object":`'${T}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(qt,{z:()=>a})},5226:function(ai){ai.exports=function(){"use strict";const qt="SweetAlert2:",a=ne=>ne.charAt(0).toUpperCase()+ne.slice(1),T=ne=>Array.prototype.slice.call(ne),O=ne=>{console.warn("".concat(qt," ").concat("object"==typeof ne?ne.join(" "):ne))},ue=ne=>{console.error("".concat(qt," ").concat(ne))},R=[],Re=(ne,oe)=>{(ne=>{R.includes(ne)||(R.push(ne),O(ne))})('"'.concat(ne,'" is deprecated and will be removed in the next major release. Please use "').concat(oe,'" instead.'))},xe=ne=>"function"==typeof ne?ne():ne,Ce=ne=>ne&&"function"==typeof ne.toPromise,re=ne=>Ce(ne)?ne.toPromise():Promise.resolve(ne),ce=ne=>ne&&Promise.resolve(ne)===ne,be={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Ve=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Ne={},Be=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Je=ne=>Object.prototype.hasOwnProperty.call(be,ne),Ke=ne=>-1!==Ve.indexOf(ne),nt=ne=>Ne[ne],We=ne=>{Je(ne)||O('Unknown parameter "'.concat(ne,'"'))},ft=ne=>{Be.includes(ne)&&O('The parameter "'.concat(ne,'" is incompatible with toasts'))},pt=ne=>{nt(ne)&&Re(ne,nt(ne))},Ye=ne=>{const oe={};for(const dt in ne)oe[ne[dt]]="swal2-"+ne[dt];return oe},Me=Ye(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),me=Ye(["success","warning","info","question","error"]),St=()=>document.body.querySelector(".".concat(Me.container)),vt=ne=>{const oe=St();return oe?oe.querySelector(ne):null},an=ne=>vt(".".concat(ne)),xn=()=>an(Me.popup),In=()=>an(Me.icon),cn=()=>an(Me.title),Gn=()=>an(Me["html-container"]),Tn=()=>an(Me.image),Wn=()=>an(Me["progress-steps"]),Ht=()=>an(Me["validation-message"]),Bt=()=>vt(".".concat(Me.actions," .").concat(Me.confirm)),Kt=()=>vt(".".concat(Me.actions," .").concat(Me.deny)),Vt=()=>vt(".".concat(Me.loader)),jt=()=>vt(".".concat(Me.actions," .").concat(Me.cancel)),Yn=()=>an(Me.actions),en=()=>an(Me.footer),gn=()=>an(Me["timer-progress-bar"]),On=()=>an(Me.close),_n=()=>{const ne=T(xn().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((dt,hn)=>{const Dn=parseInt(dt.getAttribute("tabindex")),Gi=parseInt(hn.getAttribute("tabindex"));return Dn>Gi?1:Dn<Gi?-1:0}),oe=T(xn().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(dt=>"-1"!==dt.getAttribute("tabindex"));return(ne=>{const oe=[];for(let dt=0;dt<ne.length;dt++)-1===oe.indexOf(ne[dt])&&oe.push(ne[dt]);return oe})(ne.concat(oe)).filter(dt=>mi(dt))},Nn=()=>tn(document.body,Me.shown)&&!tn(document.body,Me["toast-shown"])&&!tn(document.body,Me["no-backdrop"]),yn=()=>xn()&&tn(xn(),Me.toast),Pn={previousBodyPadding:null},Nt=(ne,oe)=>{if(ne.textContent="",oe){const hn=(new DOMParser).parseFromString(oe,"text/html");T(hn.querySelector("head").childNodes).forEach(Dn=>{ne.appendChild(Dn)}),T(hn.querySelector("body").childNodes).forEach(Dn=>{ne.appendChild(Dn)})}},tn=(ne,oe)=>{if(!oe)return!1;const dt=oe.split(/\s+/);for(let hn=0;hn<dt.length;hn++)if(!ne.classList.contains(dt[hn]))return!1;return!0},bn=(ne,oe,dt)=>{if(((ne,oe)=>{T(ne.classList).forEach(dt=>{!Object.values(Me).includes(dt)&&!Object.values(me).includes(dt)&&!Object.values(oe.showClass).includes(dt)&&ne.classList.remove(dt)})})(ne,oe),oe.customClass&&oe.customClass[dt]){if("string"!=typeof oe.customClass[dt]&&!oe.customClass[dt].forEach)return O("Invalid type of customClass.".concat(dt,'! Expected string or iterable object, got "').concat(typeof oe.customClass[dt],'"'));ot(ne,oe.customClass[dt])}},lt=(ne,oe)=>{if(!oe)return null;switch(oe){case"select":case"textarea":case"file":return ne.querySelector(".".concat(Me.popup," > .").concat(Me[oe]));case"checkbox":return ne.querySelector(".".concat(Me.popup," > .").concat(Me.checkbox," input"));case"radio":return ne.querySelector(".".concat(Me.popup," > .").concat(Me.radio," input:checked"))||ne.querySelector(".".concat(Me.popup," > .").concat(Me.radio," input:first-child"));case"range":return ne.querySelector(".".concat(Me.popup," > .").concat(Me.range," input"));default:return ne.querySelector(".".concat(Me.popup," > .").concat(Me.input))}},le=ne=>{if(ne.focus(),"file"!==ne.type){const oe=ne.value;ne.value="",ne.value=oe}},Ae=(ne,oe,dt)=>{!ne||!oe||("string"==typeof oe&&(oe=oe.split(/\s+/).filter(Boolean)),oe.forEach(hn=>{Array.isArray(ne)?ne.forEach(Dn=>{dt?Dn.classList.add(hn):Dn.classList.remove(hn)}):dt?ne.classList.add(hn):ne.classList.remove(hn)}))},ot=(ne,oe)=>{Ae(ne,oe,!0)},zt=(ne,oe)=>{Ae(ne,oe,!1)},Lt=(ne,oe)=>{const dt=T(ne.childNodes);for(let hn=0;hn<dt.length;hn++)if(tn(dt[hn],oe))return dt[hn]},Mt=(ne,oe,dt)=>{dt==="".concat(parseInt(dt))&&(dt=parseInt(dt)),dt||0===parseInt(dt)?ne.style[oe]="number"==typeof dt?"".concat(dt,"px"):dt:ne.style.removeProperty(oe)},Tt=function(ne){ne.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},mn=ne=>{ne.style.display="none"},An=(ne,oe,dt,hn)=>{const Dn=ne.querySelector(oe);Dn&&(Dn.style[dt]=hn)},Ln=(ne,oe,dt)=>{oe?Tt(ne,dt):mn(ne)},mi=ne=>!(!ne||!(ne.offsetWidth||ne.offsetHeight||ne.getClientRects().length)),li=ne=>ne.scrollHeight>ne.clientHeight,Bi=ne=>{const oe=window.getComputedStyle(ne),dt=parseFloat(oe.getPropertyValue("animation-duration")||"0"),hn=parseFloat(oe.getPropertyValue("transition-duration")||"0");return dt>0||hn>0},Si=function(ne){let oe=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const dt=gn();mi(dt)&&(oe&&(dt.style.transition="none",dt.style.width="100%"),setTimeout(()=>{dt.style.transition="width ".concat(ne/1e3,"s linear"),dt.style.width="0%"},10))},En=()=>typeof window>"u"||typeof document>"u",It={},wt=ne=>new Promise(oe=>{if(!ne)return oe();const dt=window.scrollX,hn=window.scrollY;It.restoreFocusTimeout=setTimeout(()=>{It.previousActiveElement&&It.previousActiveElement.focus?(It.previousActiveElement.focus(),It.previousActiveElement=null):document.body&&document.body.focus(),oe()},100),window.scrollTo(dt,hn)}),Ie='\n <div aria-labelledby="'.concat(Me.title,'" aria-describedby="').concat(Me["html-container"],'" class="').concat(Me.popup,'" tabindex="-1">\n   <button type="button" class="').concat(Me.close,'"></button>\n   <ul class="').concat(Me["progress-steps"],'"></ul>\n   <div class="').concat(Me.icon,'"></div>\n   <img class="').concat(Me.image,'" />\n   <h2 class="').concat(Me.title,'" id="').concat(Me.title,'"></h2>\n   <div class="').concat(Me["html-container"],'" id="').concat(Me["html-container"],'"></div>\n   <input class="').concat(Me.input,'" />\n   <input type="file" class="').concat(Me.file,'" />\n   <div class="').concat(Me.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(Me.select,'"></select>\n   <div class="').concat(Me.radio,'"></div>\n   <label for="').concat(Me.checkbox,'" class="').concat(Me.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(Me.label,'"></span>\n   </label>\n   <textarea class="').concat(Me.textarea,'"></textarea>\n   <div class="').concat(Me["validation-message"],'" id="').concat(Me["validation-message"],'"></div>\n   <div class="').concat(Me.actions,'">\n     <div class="').concat(Me.loader,'"></div>\n     <button type="button" class="').concat(Me.confirm,'"></button>\n     <button type="button" class="').concat(Me.deny,'"></button>\n     <button type="button" class="').concat(Me.cancel,'"></button>\n   </div>\n   <div class="').concat(Me.footer,'"></div>\n   <div class="').concat(Me["timer-progress-bar-container"],'">\n     <div class="').concat(Me["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),ye=()=>{It.currentInstance.resetValidationMessage()},Fe=ne=>{const oe=(()=>{const ne=St();return!!ne&&(ne.remove(),zt([document.documentElement,document.body],[Me["no-backdrop"],Me["toast-shown"],Me["has-column"]]),!0)})();if(En())return void ue("SweetAlert2 requires document to initialize");const dt=document.createElement("div");dt.className=Me.container,oe&&ot(dt,Me["no-transition"]),Nt(dt,Ie);const hn=(ne=>"string"==typeof ne?document.querySelector(ne):ne)(ne.target);hn.appendChild(dt),(ne=>{const oe=xn();oe.setAttribute("role",ne.toast?"alert":"dialog"),oe.setAttribute("aria-live",ne.toast?"polite":"assertive"),ne.toast||oe.setAttribute("aria-modal","true")})(ne),(ne=>{"rtl"===window.getComputedStyle(ne).direction&&ot(St(),Me.rtl)})(hn),(()=>{const ne=xn(),oe=Lt(ne,Me.input),dt=Lt(ne,Me.file),hn=ne.querySelector(".".concat(Me.range," input")),Dn=ne.querySelector(".".concat(Me.range," output")),Gi=Lt(ne,Me.select),vs=ne.querySelector(".".concat(Me.checkbox," input")),es=Lt(ne,Me.textarea);oe.oninput=ye,dt.onchange=ye,Gi.onchange=ye,vs.onchange=ye,es.oninput=ye,hn.oninput=()=>{ye(),Dn.value=hn.value},hn.onchange=()=>{ye(),hn.nextSibling.value=hn.value}})()},qe=(ne,oe)=>{ne instanceof HTMLElement?oe.appendChild(ne):"object"==typeof ne?Zt(ne,oe):ne&&Nt(oe,ne)},Zt=(ne,oe)=>{ne.jquery?wn(oe,ne):Nt(oe,ne.toString())},wn=(ne,oe)=>{if(ne.textContent="",0 in oe)for(let dt=0;dt in oe;dt++)ne.appendChild(oe[dt].cloneNode(!0));else ne.appendChild(oe.cloneNode(!0))},ti=(()=>{if(En())return!1;const ne=document.createElement("div"),oe={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const dt in oe)if(Object.prototype.hasOwnProperty.call(oe,dt)&&typeof ne.style[dt]<"u")return oe[dt];return!1})(),Li=(ne,oe)=>{const dt=Yn(),hn=Vt();oe.showConfirmButton||oe.showDenyButton||oe.showCancelButton?Tt(dt):mn(dt),bn(dt,oe,"actions"),function ut(ne,oe,dt){const hn=Bt(),Dn=Kt(),Gi=jt();K(hn,"confirm",dt),K(Dn,"deny",dt),K(Gi,"cancel",dt),function ie(ne,oe,dt,hn){if(!hn.buttonsStyling)return zt([ne,oe,dt],Me.styled);ot([ne,oe,dt],Me.styled),hn.confirmButtonColor&&(ne.style.backgroundColor=hn.confirmButtonColor,ot(ne,Me["default-outline"])),hn.denyButtonColor&&(oe.style.backgroundColor=hn.denyButtonColor,ot(oe,Me["default-outline"])),hn.cancelButtonColor&&(dt.style.backgroundColor=hn.cancelButtonColor,ot(dt,Me["default-outline"]))}(hn,Dn,Gi,dt),dt.reverseButtons&&(dt.toast?(ne.insertBefore(Gi,hn),ne.insertBefore(Dn,hn)):(ne.insertBefore(Gi,oe),ne.insertBefore(Dn,oe),ne.insertBefore(hn,oe)))}(dt,hn,oe),Nt(hn,oe.loaderHtml),bn(hn,oe,"loader")};function K(ne,oe,dt){Ln(ne,dt["show".concat(a(oe),"Button")],"inline-block"),Nt(ne,dt["".concat(oe,"ButtonText")]),ne.setAttribute("aria-label",dt["".concat(oe,"ButtonAriaLabel")]),ne.className=Me[oe],bn(ne,dt,"".concat(oe,"Button")),ot(ne,dt["".concat(oe,"ButtonClass")])}const Hn=(ne,oe)=>{const dt=St();!dt||(function ge(ne,oe){"string"==typeof oe?ne.style.background=oe:oe||ot([document.documentElement,document.body],Me["no-backdrop"])}(dt,oe.backdrop),function Ge(ne,oe){oe in Me?ot(ne,Me[oe]):(O('The "position" parameter is not valid, defaulting to "center"'),ot(ne,Me.center))}(dt,oe.position),function rn(ne,oe){if(oe&&"string"==typeof oe){const dt="grow-".concat(oe);dt in Me&&ot(ne,Me[dt])}}(dt,oe.grow),bn(dt,oe,"container"))};var Un={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const pi=["input","file","range","select","radio","checkbox","textarea"],Ft=ne=>{if(!At[ne.input])return ue('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(ne.input,'"'));const oe=$e(ne.input),dt=At[ne.input](oe,ne);Tt(dt),setTimeout(()=>{le(dt)})},Wt=(ne,oe)=>{const dt=lt(xn(),ne);if(dt){(ne=>{for(let oe=0;oe<ne.attributes.length;oe++){const dt=ne.attributes[oe].name;["type","value","style"].includes(dt)||ne.removeAttribute(dt)}})(dt);for(const hn in oe)dt.setAttribute(hn,oe[hn])}},at=ne=>{const oe=$e(ne.input);ne.customClass&&ot(oe,ne.customClass.input)},Yt=(ne,oe)=>{(!ne.placeholder||oe.inputPlaceholder)&&(ne.placeholder=oe.inputPlaceholder)},Y=(ne,oe,dt)=>{if(dt.inputLabel){ne.id=Me.input;const hn=document.createElement("label"),Dn=Me["input-label"];hn.setAttribute("for",ne.id),hn.className=Dn,ot(hn,dt.customClass.inputLabel),hn.innerText=dt.inputLabel,oe.insertAdjacentElement("beforebegin",hn)}},$e=ne=>{const oe=Me[ne]?Me[ne]:Me.input;return Lt(xn(),oe)},At={};At.text=At.email=At.password=At.number=At.tel=At.url=(ne,oe)=>("string"==typeof oe.inputValue||"number"==typeof oe.inputValue?ne.value=oe.inputValue:ce(oe.inputValue)||O('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof oe.inputValue,'"')),Y(ne,ne,oe),Yt(ne,oe),ne.type=oe.input,ne),At.file=(ne,oe)=>(Y(ne,ne,oe),Yt(ne,oe),ne),At.range=(ne,oe)=>{const dt=ne.querySelector("input"),hn=ne.querySelector("output");return dt.value=oe.inputValue,dt.type=oe.input,hn.value=oe.inputValue,Y(dt,ne,oe),ne},At.select=(ne,oe)=>{if(ne.textContent="",oe.inputPlaceholder){const dt=document.createElement("option");Nt(dt,oe.inputPlaceholder),dt.value="",dt.disabled=!0,dt.selected=!0,ne.appendChild(dt)}return Y(ne,ne,oe),ne},At.radio=ne=>(ne.textContent="",ne),At.checkbox=(ne,oe)=>{const dt=lt(xn(),"checkbox");dt.value="1",dt.id=Me.checkbox,dt.checked=Boolean(oe.inputValue);const hn=ne.querySelector("span");return Nt(hn,oe.inputPlaceholder),ne},At.textarea=(ne,oe)=>{ne.value=oe.inputValue,Yt(ne,oe),Y(ne,ne,oe);return setTimeout(()=>{if("MutationObserver"in window){const hn=parseInt(window.getComputedStyle(xn()).width);new MutationObserver(()=>{const Gi=ne.offsetWidth+(hn=>parseInt(window.getComputedStyle(hn).marginLeft)+parseInt(window.getComputedStyle(hn).marginRight))(ne);xn().style.width=Gi>hn?"".concat(Gi,"px"):null}).observe(ne,{attributes:!0,attributeFilter:["style"]})}}),ne};const Xt=(ne,oe)=>{const dt=Gn();bn(dt,oe,"htmlContainer"),oe.html?(qe(oe.html,dt),Tt(dt,"block")):oe.text?(dt.textContent=oe.text,Tt(dt,"block")):mn(dt),((ne,oe)=>{const dt=xn(),hn=Un.innerParams.get(ne),Dn=!hn||oe.input!==hn.input;pi.forEach(Gi=>{const vs=Me[Gi],es=Lt(dt,vs);Wt(Gi,oe.inputAttributes),es.className=vs,Dn&&mn(es)}),oe.input&&(Dn&&Ft(oe),at(oe))})(ne,oe)},Hr=(ne,oe)=>{for(const dt in me)oe.icon!==dt&&zt(ne,me[dt]);ot(ne,me[oe.icon]),ss(ne,oe),vr(),bn(ne,oe,"icon")},vr=()=>{const ne=xn(),oe=window.getComputedStyle(ne).getPropertyValue("background-color"),dt=ne.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let hn=0;hn<dt.length;hn++)dt[hn].style.backgroundColor=oe},$r=(ne,oe)=>{ne.textContent="",Nt(ne,oe.iconHtml?wo(oe.iconHtml):"success"===oe.icon?'\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n':"error"===oe.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':wo({question:"?",warning:"!",info:"i"}[oe.icon]))},ss=(ne,oe)=>{if(oe.iconColor){ne.style.color=oe.iconColor,ne.style.borderColor=oe.iconColor;for(const dt of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])An(ne,dt,"backgroundColor",oe.iconColor);An(ne,".swal2-success-ring","borderColor",oe.iconColor)}},wo=ne=>'<div class="'.concat(Me["icon-content"],'">').concat(ne,"</div>"),qo=(ne,oe)=>{const dt=Wn();if(!oe.progressSteps||0===oe.progressSteps.length)return mn(dt);Tt(dt),dt.textContent="",oe.currentProgressStep>=oe.progressSteps.length&&O("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),oe.progressSteps.forEach((hn,Dn)=>{const Gi=(ne=>{const oe=document.createElement("li");return ot(oe,Me["progress-step"]),Nt(oe,ne),oe})(hn);if(dt.appendChild(Gi),Dn===oe.currentProgressStep&&ot(Gi,Me["active-progress-step"]),Dn!==oe.progressSteps.length-1){const vs=(ne=>{const oe=document.createElement("li");return ot(oe,Me["progress-step-line"]),ne.progressStepsDistance&&(oe.style.width=ne.progressStepsDistance),oe})(oe);dt.appendChild(vs)}})},fa=(ne,oe)=>{ne.className="".concat(Me.popup," ").concat(mi(ne)?oe.showClass.popup:""),oe.toast?(ot([document.documentElement,document.body],Me["toast-shown"]),ot(ne,Me.toast)):ot(ne,Me.modal),bn(ne,oe,"popup"),"string"==typeof oe.customClass&&ot(ne,oe.customClass),oe.icon&&ot(ne,Me["icon-".concat(oe.icon)])},ws=(ne,oe)=>{((ne,oe)=>{const dt=St(),hn=xn();oe.toast?(Mt(dt,"width",oe.width),hn.style.width="100%",hn.insertBefore(Vt(),In())):Mt(hn,"width",oe.width),Mt(hn,"padding",oe.padding),oe.color&&(hn.style.color=oe.color),oe.background&&(hn.style.background=oe.background),mn(Ht()),fa(hn,oe)})(0,oe),Hn(0,oe),qo(0,oe),((ne,oe)=>{const dt=Un.innerParams.get(ne),hn=In();dt&&oe.icon===dt.icon?($r(hn,oe),Hr(hn,oe)):oe.icon||oe.iconHtml?oe.icon&&-1===Object.keys(me).indexOf(oe.icon)?(ue('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(oe.icon,'"')),mn(hn)):(Tt(hn),$r(hn,oe),Hr(hn,oe),ot(hn,oe.showClass.icon)):mn(hn)})(ne,oe),((ne,oe)=>{const dt=Tn();if(!oe.imageUrl)return mn(dt);Tt(dt,""),dt.setAttribute("src",oe.imageUrl),dt.setAttribute("alt",oe.imageAlt),Mt(dt,"width",oe.imageWidth),Mt(dt,"height",oe.imageHeight),dt.className=Me.image,bn(dt,oe,"image")})(0,oe),((ne,oe)=>{const dt=cn();Ln(dt,oe.title||oe.titleText,"block"),oe.title&&qe(oe.title,dt),oe.titleText&&(dt.innerText=oe.titleText),bn(dt,oe,"title")})(0,oe),((ne,oe)=>{const dt=On();Nt(dt,oe.closeButtonHtml),bn(dt,oe,"closeButton"),Ln(dt,oe.showCloseButton),dt.setAttribute("aria-label",oe.closeButtonAriaLabel)})(0,oe),Xt(ne,oe),Li(0,oe),((ne,oe)=>{const dt=en();Ln(dt,oe.footer),oe.footer&&qe(oe.footer,dt),bn(dt,oe,"footer")})(0,oe),"function"==typeof oe.didRender&&oe.didRender(xn())},Es=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),ja=()=>{T(document.body.children).forEach(oe=>{oe.hasAttribute("data-previous-aria-hidden")?(oe.setAttribute("aria-hidden",oe.getAttribute("data-previous-aria-hidden")),oe.removeAttribute("data-previous-aria-hidden")):oe.removeAttribute("aria-hidden")})},Os=["swal-title","swal-html","swal-footer"],cs=ne=>{const oe={};return T(ne.querySelectorAll("swal-param")).forEach(dt=>{Hs(dt,["name","value"]);const hn=dt.getAttribute("name"),Dn=dt.getAttribute("value");"boolean"==typeof be[hn]&&"false"===Dn&&(oe[hn]=!1),"object"==typeof be[hn]&&(oe[hn]=JSON.parse(Dn))}),oe},Po=ne=>{const oe={};return T(ne.querySelectorAll("swal-button")).forEach(dt=>{Hs(dt,["type","color","aria-label"]);const hn=dt.getAttribute("type");oe["".concat(hn,"ButtonText")]=dt.innerHTML,oe["show".concat(a(hn),"Button")]=!0,dt.hasAttribute("color")&&(oe["".concat(hn,"ButtonColor")]=dt.getAttribute("color")),dt.hasAttribute("aria-label")&&(oe["".concat(hn,"ButtonAriaLabel")]=dt.getAttribute("aria-label"))}),oe},Dl=ne=>{const oe={},dt=ne.querySelector("swal-image");return dt&&(Hs(dt,["src","width","height","alt"]),dt.hasAttribute("src")&&(oe.imageUrl=dt.getAttribute("src")),dt.hasAttribute("width")&&(oe.imageWidth=dt.getAttribute("width")),dt.hasAttribute("height")&&(oe.imageHeight=dt.getAttribute("height")),dt.hasAttribute("alt")&&(oe.imageAlt=dt.getAttribute("alt"))),oe},Ls=ne=>{const oe={},dt=ne.querySelector("swal-icon");return dt&&(Hs(dt,["type","color"]),dt.hasAttribute("type")&&(oe.icon=dt.getAttribute("type")),dt.hasAttribute("color")&&(oe.iconColor=dt.getAttribute("color")),oe.iconHtml=dt.innerHTML),oe},Ga=ne=>{const oe={},dt=ne.querySelector("swal-input");dt&&(Hs(dt,["type","label","placeholder","value"]),oe.input=dt.getAttribute("type")||"text",dt.hasAttribute("label")&&(oe.inputLabel=dt.getAttribute("label")),dt.hasAttribute("placeholder")&&(oe.inputPlaceholder=dt.getAttribute("placeholder")),dt.hasAttribute("value")&&(oe.inputValue=dt.getAttribute("value")));const hn=ne.querySelectorAll("swal-input-option");return hn.length&&(oe.inputOptions={},T(hn).forEach(Dn=>{Hs(Dn,["value"]);const Gi=Dn.getAttribute("value");oe.inputOptions[Gi]=Dn.innerHTML})),oe},wa=(ne,oe)=>{const dt={};for(const hn in oe){const Dn=oe[hn],Gi=ne.querySelector(Dn);Gi&&(Hs(Gi,[]),dt[Dn.replace(/^swal-/,"")]=Gi.innerHTML.trim())}return dt},Ws=ne=>{const oe=Os.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);T(ne.children).forEach(dt=>{const hn=dt.tagName.toLowerCase();-1===oe.indexOf(hn)&&O("Unrecognized element <".concat(hn,">"))})},Hs=(ne,oe)=>{T(ne.attributes).forEach(dt=>{-1===oe.indexOf(dt.name)&&O(['Unrecognized attribute "'.concat(dt.name,'" on <').concat(ne.tagName.toLowerCase(),">."),"".concat(oe.length?"Allowed attributes are: ".concat(oe.join(", ")):"To set the value, use HTML within the element.")])})};var Ca={email:(ne,oe)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(ne)?Promise.resolve():Promise.resolve(oe||"Invalid email address"),url:(ne,oe)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(ne)?Promise.resolve():Promise.resolve(oe||"Invalid URL")};function Rr(ne){(function Rl(ne){ne.inputValidator||Object.keys(Ca).forEach(oe=>{ne.input===oe&&(ne.inputValidator=Ca[oe])})})(ne),ne.showLoaderOnConfirm&&!ne.preConfirm&&O("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Sr(ne){(!ne.target||"string"==typeof ne.target&&!document.querySelector(ne.target)||"string"!=typeof ne.target&&!ne.target.appendChild)&&(O('Target parameter is not valid, defaulting to "body"'),ne.target="body")}(ne),"string"==typeof ne.title&&(ne.title=ne.title.split("\n").join("<br />")),Fe(ne)}class os{constructor(oe,dt){this.callback=oe,this.remaining=dt,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(oe){const dt=this.running;return dt&&this.stop(),this.remaining+=oe,dt&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Ta=()=>{null===Pn.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Pn.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Pn.previousBodyPadding+(()=>{const ne=document.createElement("div");ne.className=Me["scrollbar-measure"],document.body.appendChild(ne);const oe=ne.getBoundingClientRect().width-ne.clientWidth;return document.body.removeChild(ne),oe})(),"px"))},Eo=()=>{const ne=navigator.userAgent,oe=!!ne.match(/iPad/i)||!!ne.match(/iPhone/i),dt=!!ne.match(/WebKit/i);oe&&dt&&!ne.match(/CriOS/i)&&xn().scrollHeight>window.innerHeight-44&&(St().style.paddingBottom="".concat(44,"px"))},Aa=()=>{const ne=St();let oe;ne.ontouchstart=dt=>{oe=Oo(dt)},ne.ontouchmove=dt=>{oe&&(dt.preventDefault(),dt.stopPropagation())}},Oo=ne=>{const oe=ne.target,dt=St();return!(mo(ne)||gs(ne)||oe!==dt&&(li(dt)||"INPUT"===oe.tagName||"TEXTAREA"===oe.tagName||li(Gn())&&Gn().contains(oe)))},mo=ne=>ne.touches&&ne.touches.length&&"stylus"===ne.touches[0].touchType,gs=ne=>ne.touches&&ne.touches.length>1,Fa=ne=>{const oe=St(),dt=xn();"function"==typeof ne.willOpen&&ne.willOpen(dt);const Dn=window.getComputedStyle(document.body).overflowY;Zo(oe,dt,ne),setTimeout(()=>{Sa(oe,dt)},10),Nn()&&(Yo(oe,ne.scrollbarPadding,Dn),T(document.body.children).forEach(oe=>{oe===St()||oe.contains(St())||(oe.hasAttribute("aria-hidden")&&oe.setAttribute("data-previous-aria-hidden",oe.getAttribute("aria-hidden")),oe.setAttribute("aria-hidden","true"))})),!yn()&&!It.previousActiveElement&&(It.previousActiveElement=document.activeElement),"function"==typeof ne.didOpen&&setTimeout(()=>ne.didOpen(dt)),zt(oe,Me["no-transition"])},Mo=ne=>{const oe=xn();if(ne.target!==oe)return;const dt=St();oe.removeEventListener(ti,Mo),dt.style.overflowY="auto"},Sa=(ne,oe)=>{ti&&Bi(oe)?(ne.style.overflowY="hidden",oe.addEventListener(ti,Mo)):ne.style.overflowY="auto"},Yo=(ne,oe,dt)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!tn(document.body,Me.iosfix)){const oe=document.body.scrollTop;document.body.style.top="".concat(-1*oe,"px"),ot(document.body,Me.iosfix),Aa(),Eo()}})(),oe&&"hidden"!==dt&&Ta(),setTimeout(()=>{ne.scrollTop=0})},Zo=(ne,oe,dt)=>{ot(ne,dt.showClass.backdrop),oe.style.setProperty("opacity","0","important"),Tt(oe,"grid"),setTimeout(()=>{ot(oe,dt.showClass.popup),oe.style.removeProperty("opacity")},10),ot([document.documentElement,document.body],Me.shown),dt.heightAuto&&dt.backdrop&&!dt.toast&&ot([document.documentElement,document.body],Me["height-auto"])},lo=ne=>{let oe=xn();oe||new Fr,oe=xn();const dt=Vt();yn()?mn(In()):wr(oe,ne),Tt(dt),oe.setAttribute("data-loading",!0),oe.setAttribute("aria-busy",!0),oe.focus()},wr=(ne,oe)=>{const dt=Yn(),hn=Vt();!oe&&mi(Bt())&&(oe=Bt()),Tt(dt),oe&&(mn(oe),hn.setAttribute("data-button-to-replace",oe.className)),hn.parentNode.insertBefore(hn,oe),ot([ne,dt],Me.loading)},Ms=ne=>ne.checked?1:0,To=ne=>ne.checked?ne.value:null,dl=ne=>ne.files.length?null!==ne.getAttribute("multiple")?ne.files:ne.files[0]:null,Kr=(ne,oe)=>{const dt=xn(),hn=Dn=>Ir[oe.input](dt,Us(Dn),oe);Ce(oe.inputOptions)||ce(oe.inputOptions)?(lo(Bt()),re(oe.inputOptions).then(Dn=>{ne.hideLoading(),hn(Dn)})):"object"==typeof oe.inputOptions?hn(oe.inputOptions):ue("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof oe.inputOptions))},us=(ne,oe)=>{const dt=ne.getInput();mn(dt),re(oe.inputValue).then(hn=>{dt.value="number"===oe.input?parseFloat(hn)||0:"".concat(hn),Tt(dt),dt.focus(),ne.hideLoading()}).catch(hn=>{ue("Error in inputValue promise: ".concat(hn)),dt.value="",Tt(dt),dt.focus(),ne.hideLoading()})},Ir={select:(ne,oe,dt)=>{const hn=Lt(ne,Me.select),Dn=(Gi,vs,es)=>{const wi=document.createElement("option");wi.value=es,Nt(wi,vs),wi.selected=go(es,dt.inputValue),Gi.appendChild(wi)};oe.forEach(Gi=>{const vs=Gi[0],es=Gi[1];if(Array.isArray(es)){const wi=document.createElement("optgroup");wi.label=vs,wi.disabled=!1,hn.appendChild(wi),es.forEach($i=>Dn(wi,$i[1],$i[0]))}else Dn(hn,es,vs)}),hn.focus()},radio:(ne,oe,dt)=>{const hn=Lt(ne,Me.radio);oe.forEach(Gi=>{const vs=Gi[0],es=Gi[1],wi=document.createElement("input"),$i=document.createElement("label");wi.type="radio",wi.name=Me.radio,wi.value=vs,go(vs,dt.inputValue)&&(wi.checked=!0);const io=document.createElement("span");Nt(io,es),io.className=Me.label,$i.appendChild(wi),$i.appendChild(io),hn.appendChild($i)});const Dn=hn.querySelectorAll("input");Dn.length&&Dn[0].focus()}},Us=ne=>{const oe=[];return typeof Map<"u"&&ne instanceof Map?ne.forEach((dt,hn)=>{let Dn=dt;"object"==typeof Dn&&(Dn=Us(Dn)),oe.push([hn,Dn])}):Object.keys(ne).forEach(dt=>{let hn=ne[dt];"object"==typeof hn&&(hn=Us(hn)),oe.push([dt,hn])}),oe},go=(ne,oe)=>oe&&oe.toString()===ne.toString();function Lo(){const ne=Un.innerParams.get(this);if(!ne)return;const oe=Un.domCache.get(this);mn(oe.loader),yn()?ne.icon&&Tt(In()):Na(oe),zt([oe.popup,oe.actions],Me.loading),oe.popup.removeAttribute("aria-busy"),oe.popup.removeAttribute("data-loading"),oe.confirmButton.disabled=!1,oe.denyButton.disabled=!1,oe.cancelButton.disabled=!1}const Na=ne=>{const oe=ne.popup.getElementsByClassName(ne.loader.getAttribute("data-button-to-replace"));oe.length?Tt(oe[0],"inline-block"):!mi(Bt())&&!mi(Kt())&&!mi(jt())&&mn(ne.actions)};var Vr={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const eo=()=>Bt()&&Bt().click(),Xo=ne=>{ne.keydownTarget&&ne.keydownHandlerAdded&&(ne.keydownTarget.removeEventListener("keydown",ne.keydownHandler,{capture:ne.keydownListenerCapture}),ne.keydownHandlerAdded=!1)},lr=(ne,oe,dt)=>{const hn=_n();if(hn.length)return(oe+=dt)===hn.length?oe=0:-1===oe&&(oe=hn.length-1),hn[oe].focus();xn().focus()},Do=["ArrowRight","ArrowDown"],nl=["ArrowLeft","ArrowUp"],$a=(ne,oe,dt)=>{const hn=Un.innerParams.get(ne);!hn||oe.isComposing||229===oe.keyCode||(hn.stopKeydownPropagation&&oe.stopPropagation(),"Enter"===oe.key?Ba(ne,oe,hn):"Tab"===oe.key?Jo(oe,hn):[...Do,...nl].includes(oe.key)?na(oe.key):"Escape"===oe.key&&Ma(oe,hn,dt))},Ba=(ne,oe,dt)=>{if(xe(dt.allowEnterKey)&&oe.target&&ne.getInput()&&oe.target.outerHTML===ne.getInput().outerHTML){if(["textarea","file"].includes(dt.input))return;eo(),oe.preventDefault()}},Jo=(ne,oe)=>{const dt=ne.target,hn=_n();let Dn=-1;for(let Gi=0;Gi<hn.length;Gi++)if(dt===hn[Gi]){Dn=Gi;break}lr(0,Dn,ne.shiftKey?-1:1),ne.stopPropagation(),ne.preventDefault()},na=ne=>{if(![Bt(),Kt(),jt()].includes(document.activeElement))return;const Dn=Do.includes(ne)?"nextElementSibling":"previousElementSibling";let Gi=document.activeElement;for(let vs=0;vs<Yn().children.length;vs++){if(Gi=Gi[Dn],!Gi)return;if(mi(Gi)&&Gi instanceof HTMLButtonElement)break}Gi instanceof HTMLButtonElement&&Gi.focus()},Ma=(ne,oe,dt)=>{xe(oe.allowEscapeKey)&&(ne.preventDefault(),dt(Es.esc))};function Ho(ne,oe,dt,hn){yn()?qn(ne,hn):(wt(dt).then(()=>qn(ne,hn)),Xo(It)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(oe.setAttribute("style","display:none !important"),oe.removeAttribute("class"),oe.innerHTML=""):oe.remove(),Nn()&&(null!==Pn.previousBodyPadding&&(document.body.style.paddingRight="".concat(Pn.previousBodyPadding,"px"),Pn.previousBodyPadding=null),(()=>{if(tn(document.body,Me.iosfix)){const ne=parseInt(document.body.style.top,10);zt(document.body,Me.iosfix),document.body.style.top="",document.body.scrollTop=-1*ne}})(),ja()),function _i(){zt([document.documentElement,document.body],[Me.shown,Me["height-auto"],Me["no-backdrop"],Me["toast-shown"]])}()}function Cr(ne){ne=De(ne);const oe=Vr.swalPromiseResolve.get(this),dt=ka(this);this.isAwaitingPromise()?ne.isDismissed||(Se(this),oe(ne)):dt&&oe(ne)}const ka=ne=>{const oe=xn();if(!oe)return!1;const dt=Un.innerParams.get(ne);if(!dt||tn(oe,dt.hideClass.popup))return!1;zt(oe,dt.showClass.popup),ot(oe,dt.hideClass.popup);const hn=St();return zt(hn,dt.showClass.backdrop),ot(hn,dt.hideClass.backdrop),he(ne,oe,dt),!0};const Se=ne=>{ne.isAwaitingPromise()&&(Un.awaitingPromise.delete(ne),Un.innerParams.get(ne)||ne._destroy())},De=ne=>typeof ne>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},ne),he=(ne,oe,dt)=>{const hn=St(),Dn=ti&&Bi(oe);"function"==typeof dt.willClose&&dt.willClose(oe),Dn?Et(ne,oe,hn,dt.returnFocus,dt.didClose):Ho(ne,hn,dt.returnFocus,dt.didClose)},Et=(ne,oe,dt,hn,Dn)=>{It.swalCloseEventFinishedCallback=Ho.bind(null,ne,dt,hn,Dn),oe.addEventListener(ti,function(Gi){Gi.target===oe&&(It.swalCloseEventFinishedCallback(),delete It.swalCloseEventFinishedCallback)})},qn=(ne,oe)=>{setTimeout(()=>{"function"==typeof oe&&oe.bind(ne.params)(),ne._destroy()})};function Vi(ne,oe,dt){const hn=Un.domCache.get(ne);oe.forEach(Dn=>{hn[Dn].disabled=dt})}function ds(ne,oe){if(!ne)return!1;if("radio"===ne.type){const hn=ne.parentNode.parentNode.querySelectorAll("input");for(let Dn=0;Dn<hn.length;Dn++)hn[Dn].disabled=oe}else ne.disabled=oe}const Fl=ne=>{const oe={};return Object.keys(ne).forEach(dt=>{Ke(dt)?oe[dt]=ne[dt]:O('Invalid parameter to update: "'.concat(dt,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))}),oe};const lc=ne=>{Vs(ne),delete ne.params,delete It.keydownHandler,delete It.keydownTarget,delete It.currentInstance},Vs=ne=>{ne.isAwaitingPromise()?(pa(Un,ne),Un.awaitingPromise.set(ne,!0)):(pa(Vr,ne),pa(Un,ne))},pa=(ne,oe)=>{for(const dt in ne)ne[dt].delete(oe)};var cc=Object.freeze({hideLoading:Lo,disableLoading:Lo,getInput:function zs(ne){const oe=Un.innerParams.get(ne||this),dt=Un.domCache.get(ne||this);return dt?lt(dt.popup,oe.input):null},close:Cr,isAwaitingPromise:function ac(){return!!Un.awaitingPromise.get(this)},rejectPromise:function ks(ne){const oe=Vr.swalPromiseReject.get(this);Se(this),oe&&oe(ne)},handleAwaitingPromise:Se,closePopup:Cr,closeModal:Cr,closeToast:Cr,enableButtons:function Rs(){Vi(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function to(){Vi(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function _s(){return ds(this.getInput(),!1)},disableInput:function Ao(){return ds(this.getInput(),!0)},showValidationMessage:function _o(ne){const oe=Un.domCache.get(this),dt=Un.innerParams.get(this);Nt(oe.validationMessage,ne),oe.validationMessage.className=Me["validation-message"],dt.customClass&&dt.customClass.validationMessage&&ot(oe.validationMessage,dt.customClass.validationMessage),Tt(oe.validationMessage);const hn=this.getInput();hn&&(hn.setAttribute("aria-invalid",!0),hn.setAttribute("aria-describedby",Me["validation-message"]),le(hn),ot(hn,Me.inputerror))},resetValidationMessage:function aa(){const ne=Un.domCache.get(this);ne.validationMessage&&mn(ne.validationMessage);const oe=this.getInput();oe&&(oe.removeAttribute("aria-invalid"),oe.removeAttribute("aria-describedby"),zt(oe,Me.inputerror))},getProgressSteps:function la(){return Un.domCache.get(this).progressSteps},update:function Sc(ne){const oe=xn(),dt=Un.innerParams.get(this);if(!oe||tn(oe,dt.hideClass.popup))return O("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const hn=Fl(ne),Dn=Object.assign({},dt,hn);ws(this,Dn),Un.innerParams.set(this,Dn),Object.defineProperties(this,{params:{value:Object.assign({},this.params,ne),writable:!1,enumerable:!0}})},_destroy:function Wa(){const ne=Un.domCache.get(this),oe=Un.innerParams.get(this);oe?(ne.popup&&It.swalCloseEventFinishedCallback&&(It.swalCloseEventFinishedCallback(),delete It.swalCloseEventFinishedCallback),It.deferDisposalTimer&&(clearTimeout(It.deferDisposalTimer),delete It.deferDisposalTimer),"function"==typeof oe.didDestroy&&oe.didDestroy(),lc(this)):Vs(this)}});const il=(ne,oe)=>{const dt=Un.innerParams.get(ne);if(!dt.input)return ue('The "input" parameter is needed to be set when using returnInputValueOn'.concat(a(oe)));const hn=((ne,oe)=>{const dt=ne.getInput();if(!dt)return null;switch(oe.input){case"checkbox":return Ms(dt);case"radio":return To(dt);case"file":return dl(dt);default:return oe.inputAutoTrim?dt.value.trim():dt.value}})(ne,dt);dt.inputValidator?co(ne,hn,oe):ne.getInput().checkValidity()?"deny"===oe?ua(ne,hn):Xe(ne,hn):(ne.enableButtons(),ne.showValidationMessage(dt.validationMessage))},co=(ne,oe,dt)=>{const hn=Un.innerParams.get(ne);ne.disableInput(),Promise.resolve().then(()=>re(hn.inputValidator(oe,hn.validationMessage))).then(Gi=>{ne.enableButtons(),ne.enableInput(),Gi?ne.showValidationMessage(Gi):"deny"===dt?ua(ne,oe):Xe(ne,oe)})},ua=(ne,oe)=>{const dt=Un.innerParams.get(ne||void 0);dt.showLoaderOnDeny&&lo(Kt()),dt.preDeny?(Un.awaitingPromise.set(ne||void 0,!0),Promise.resolve().then(()=>re(dt.preDeny(oe,dt.validationMessage))).then(Dn=>{!1===Dn?(ne.hideLoading(),Se(ne)):ne.closePopup({isDenied:!0,value:typeof Dn>"u"?oe:Dn})}).catch(Dn=>ae(ne||void 0,Dn))):ne.closePopup({isDenied:!0,value:oe})},Gs=(ne,oe)=>{ne.closePopup({isConfirmed:!0,value:oe})},ae=(ne,oe)=>{ne.rejectPromise(oe)},Xe=(ne,oe)=>{const dt=Un.innerParams.get(ne||void 0);dt.showLoaderOnConfirm&&lo(),dt.preConfirm?(ne.resetValidationMessage(),Un.awaitingPromise.set(ne||void 0,!0),Promise.resolve().then(()=>re(dt.preConfirm(oe,dt.validationMessage))).then(Dn=>{mi(Ht())||!1===Dn?(ne.hideLoading(),Se(ne)):Gs(ne,typeof Dn>"u"?oe:Dn)}).catch(Dn=>ae(ne||void 0,Dn))):Gs(ne,oe)},yt=(ne,oe,dt)=>{oe.popup.onclick=()=>{const hn=Un.innerParams.get(ne);hn&&(un(hn)||hn.timer||hn.input)||dt(Es.close)}},un=ne=>ne.showConfirmButton||ne.showDenyButton||ne.showCancelButton||ne.showCloseButton;let jn=!1;const si=ne=>{ne.popup.onmousedown=()=>{ne.container.onmouseup=function(oe){ne.container.onmouseup=void 0,oe.target===ne.container&&(jn=!0)}}},Ji=ne=>{ne.container.onmousedown=()=>{ne.popup.onmouseup=function(oe){ne.popup.onmouseup=void 0,(oe.target===ne.popup||ne.popup.contains(oe.target))&&(jn=!0)}}},ki=(ne,oe,dt)=>{oe.container.onclick=hn=>{const Dn=Un.innerParams.get(ne);jn?jn=!1:hn.target===oe.container&&xe(Dn.allowOutsideClick)&&dt(Es.backdrop)}},qr=ne=>ne instanceof Element||(ne=>"object"==typeof ne&&ne.jquery)(ne);const Ia=()=>{if(It.timeout)return(()=>{const ne=gn(),oe=parseInt(window.getComputedStyle(ne).width);ne.style.removeProperty("transition"),ne.style.width="100%";const hn=oe/parseInt(window.getComputedStyle(ne).width)*100;ne.style.removeProperty("transition"),ne.style.width="".concat(hn,"%")})(),It.timeout.stop()},Uo=()=>{if(It.timeout){const ne=It.timeout.start();return Si(ne),ne}};let qi=!1;const ma={};const Ys=ne=>{for(let oe=ne.target;oe&&oe!==document;oe=oe.parentNode)for(const dt in ma){const hn=oe.getAttribute(dt);if(hn)return void ma[dt].fire({template:hn})}};var $s=Object.freeze({isValidParameter:Je,isUpdatableParameter:Ke,isDeprecatedParameter:nt,argsToParams:ne=>{const oe={};return"object"!=typeof ne[0]||qr(ne[0])?["title","html","icon"].forEach((dt,hn)=>{const Dn=ne[hn];"string"==typeof Dn||qr(Dn)?oe[dt]=Dn:void 0!==Dn&&ue("Unexpected type of ".concat(dt,'! Expected "string" or "Element", got ').concat(typeof Dn))}):Object.assign(oe,ne[0]),oe},isVisible:()=>mi(xn()),clickConfirm:eo,clickDeny:()=>Kt()&&Kt().click(),clickCancel:()=>jt()&&jt().click(),getContainer:St,getPopup:xn,getTitle:cn,getHtmlContainer:Gn,getImage:Tn,getIcon:In,getInputLabel:()=>an(Me["input-label"]),getCloseButton:On,getActions:Yn,getConfirmButton:Bt,getDenyButton:Kt,getCancelButton:jt,getLoader:Vt,getFooter:en,getTimerProgressBar:gn,getFocusableElements:_n,getValidationMessage:Ht,isLoading:()=>xn().hasAttribute("data-loading"),fire:function vo(){const ne=this;for(var oe=arguments.length,dt=new Array(oe),hn=0;hn<oe;hn++)dt[hn]=arguments[hn];return new ne(...dt)},mixin:function hs(ne){return class oe extends(this){_main(hn,Dn){return super._main(hn,Object.assign({},ne,Dn))}}},showLoading:lo,enableLoading:lo,getTimerLeft:()=>It.timeout&&It.timeout.getTimerLeft(),stopTimer:Ia,resumeTimer:Uo,toggleTimer:()=>{const ne=It.timeout;return ne&&(ne.running?Ia():Uo())},increaseTimer:ne=>{if(It.timeout){const oe=It.timeout.increase(ne);return Si(oe,!0),oe}},isTimerRunning:()=>It.timeout&&It.timeout.isRunning(),bindClickHandler:function _c(){ma[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,qi||(document.body.addEventListener("click",Ys),qi=!0)}});let Nl;class ga{constructor(){if(typeof window>"u")return;Nl=this;for(var oe=arguments.length,dt=new Array(oe),hn=0;hn<oe;hn++)dt[hn]=arguments[hn];const Dn=Object.freeze(this.constructor.argsToParams(dt));Object.defineProperties(this,{params:{value:Dn,writable:!1,enumerable:!0,configurable:!0}});const Gi=this._main(this.params);Un.promise.set(this,Gi)}_main(oe){let dt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(ne=>{!ne.backdrop&&ne.allowOutsideClick&&O('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const oe in ne)We(oe),ne.toast&&ft(oe),pt(oe)})(Object.assign({},dt,oe)),It.currentInstance&&(It.currentInstance._destroy(),Nn()&&ja()),It.currentInstance=this;const hn=Mc(oe,dt);Rr(hn),Object.freeze(hn),It.timeout&&(It.timeout.stop(),delete It.timeout),clearTimeout(It.restoreFocusTimeout);const Dn=vc(this);return ws(this,hn),Un.innerParams.set(this,hn),Ec(this,Dn,hn)}then(oe){return Un.promise.get(this).then(oe)}finally(oe){return Un.promise.get(this).finally(oe)}}const Ec=(ne,oe,dt)=>new Promise((hn,Dn)=>{const Gi=vs=>{ne.closePopup({isDismissed:!0,dismiss:vs})};Vr.swalPromiseResolve.set(ne,hn),Vr.swalPromiseReject.set(ne,Dn),oe.confirmButton.onclick=()=>(ne=>{const oe=Un.innerParams.get(ne);ne.disableButtons(),oe.input?il(ne,"confirm"):Xe(ne,!0)})(ne),oe.denyButton.onclick=()=>(ne=>{const oe=Un.innerParams.get(ne);ne.disableButtons(),oe.returnInputValueOnDeny?il(ne,"deny"):ua(ne,!1)})(ne),oe.cancelButton.onclick=()=>((ne,oe)=>{ne.disableButtons(),oe(Es.cancel)})(ne,Gi),oe.closeButton.onclick=()=>Gi(Es.close),((ne,oe,dt)=>{Un.innerParams.get(ne).toast?yt(ne,oe,dt):(si(oe),Ji(oe),ki(ne,oe,dt))})(ne,oe,Gi),((ne,oe,dt,hn)=>{Xo(oe),dt.toast||(oe.keydownHandler=Dn=>$a(ne,Dn,hn),oe.keydownTarget=dt.keydownListenerCapture?window:xn(),oe.keydownListenerCapture=dt.keydownListenerCapture,oe.keydownTarget.addEventListener("keydown",oe.keydownHandler,{capture:oe.keydownListenerCapture}),oe.keydownHandlerAdded=!0)})(ne,It,dt,Gi),((ne,oe)=>{"select"===oe.input||"radio"===oe.input?Kr(ne,oe):["text","email","number","tel","textarea"].includes(oe.input)&&(Ce(oe.inputValue)||ce(oe.inputValue))&&(lo(Bt()),us(ne,oe))})(ne,dt),Fa(dt),no(It,dt,Gi),Kl(oe,dt),setTimeout(()=>{oe.container.scrollTop=0})}),Mc=(ne,oe)=>{const dt=(ne=>{const oe="string"==typeof ne.template?document.querySelector(ne.template):ne.template;if(!oe)return{};const dt=oe.content;return Ws(dt),Object.assign(cs(dt),Po(dt),Dl(dt),Ls(dt),Ga(dt),wa(dt,Os))})(ne),hn=Object.assign({},be,oe,dt,ne);return hn.showClass=Object.assign({},be.showClass,hn.showClass),hn.hideClass=Object.assign({},be.hideClass,hn.hideClass),hn},vc=ne=>{const oe={popup:xn(),container:St(),actions:Yn(),confirmButton:Bt(),denyButton:Kt(),cancelButton:jt(),loader:Vt(),closeButton:On(),validationMessage:Ht(),progressSteps:Wn()};return Un.domCache.set(ne,oe),oe},no=(ne,oe,dt)=>{const hn=gn();mn(hn),oe.timer&&(ne.timeout=new os(()=>{dt("timer"),delete ne.timeout},oe.timer),oe.timerProgressBar&&(Tt(hn),bn(hn,oe,"timerProgressBar"),setTimeout(()=>{ne.timeout&&ne.timeout.running&&Si(oe.timer)})))},Kl=(ne,oe)=>{if(!oe.toast){if(!xe(oe.allowEnterKey))return da();yc(ne,oe)||lr(0,-1,1)}},yc=(ne,oe)=>oe.focusDeny&&mi(ne.denyButton)?(ne.denyButton.focus(),!0):oe.focusCancel&&mi(ne.cancelButton)?(ne.cancelButton.focus(),!0):!(!oe.focusConfirm||!mi(ne.confirmButton)||(ne.confirmButton.focus(),0)),da=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};Object.assign(ga.prototype,cc),Object.assign(ga,$s),Object.keys(cc).forEach(ne=>{ga[ne]=function(){if(Nl)return Nl[ne](...arguments)}}),ga.DismissReason=Es,ga.version="11.4.8";const Fr=ga;return Fr.default=Fr,Fr}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(qt,N){var a=qt.createElement("style");if(qt.getElementsByTagName("head")[0].appendChild(a),a.styleSheet)a.styleSheet.disabled||(a.styleSheet.cssText=N);else try{a.innerHTML=N}catch{a.innerText=N}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},7340:(ai,qt,N)=>{"use strict";N.d(qt,{F4:()=>re,IO:()=>Be,LC:()=>T,SB:()=>Ce,X$:()=>ue,ZE:()=>We,ZN:()=>nt,_j:()=>a,eR:()=>ce,jt:()=>R,k1:()=>ft,l3:()=>O,oB:()=>xe,pV:()=>Ve,vP:()=>Re});class a{}class T{}const O="*";function ue(pt,tt){return{type:7,name:pt,definitions:tt,options:{}}}function R(pt,tt=null){return{type:4,styles:tt,timings:pt}}function Re(pt,tt=null){return{type:2,steps:pt,options:tt}}function xe(pt){return{type:6,styles:pt,offset:null}}function Ce(pt,tt,je){return{type:0,name:pt,styles:tt,options:je}}function re(pt){return{type:5,steps:pt}}function ce(pt,tt,je=null){return{type:1,expr:pt,animation:tt,options:je}}function Ve(pt=null){return{type:9,options:pt}}function Be(pt,tt,je=null){return{type:11,selector:pt,animation:tt,options:je}}function Ke(pt){Promise.resolve().then(pt)}class nt{constructor(tt=0,je=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=tt+je}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(tt=>tt()),this._onDoneFns=[])}onStart(tt){this._originalOnStartFns.push(tt),this._onStartFns.push(tt)}onDone(tt){this._originalOnDoneFns.push(tt),this._onDoneFns.push(tt)}onDestroy(tt){this._onDestroyFns.push(tt)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ke(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(tt=>tt()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(tt=>tt()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(tt){this._position=this.totalTime?tt*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(tt){const je="start"==tt?this._onStartFns:this._onDoneFns;je.forEach(Ye=>Ye()),je.length=0}}class We{constructor(tt){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=tt;let je=0,Ye=0,Me=0;const me=this.players.length;0==me?Ke(()=>this._onFinish()):this.players.forEach(St=>{St.onDone(()=>{++je==me&&this._onFinish()}),St.onDestroy(()=>{++Ye==me&&this._onDestroy()}),St.onStart(()=>{++Me==me&&this._onStart()})}),this.totalTime=this.players.reduce((St,vt)=>Math.max(St,vt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(tt=>tt()),this._onDoneFns=[])}init(){this.players.forEach(tt=>tt.init())}onStart(tt){this._onStartFns.push(tt)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(tt=>tt()),this._onStartFns=[])}onDone(tt){this._onDoneFns.push(tt)}onDestroy(tt){this._onDestroyFns.push(tt)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(tt=>tt.play())}pause(){this.players.forEach(tt=>tt.pause())}restart(){this.players.forEach(tt=>tt.restart())}finish(){this._onFinish(),this.players.forEach(tt=>tt.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(tt=>tt.destroy()),this._onDestroyFns.forEach(tt=>tt()),this._onDestroyFns=[])}reset(){this.players.forEach(tt=>tt.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(tt){const je=tt*this.totalTime;this.players.forEach(Ye=>{const Me=Ye.totalTime?Math.min(1,je/Ye.totalTime):1;Ye.setPosition(Me)})}getPosition(){const tt=this.players.reduce((je,Ye)=>null===je||Ye.totalTime>je.totalTime?Ye:je,null);return null!=tt?tt.getPosition():0}beforeDestroy(){this.players.forEach(tt=>{tt.beforeDestroy&&tt.beforeDestroy()})}triggerCallback(tt){const je="start"==tt?this._onStartFns:this._onDoneFns;je.forEach(Ye=>Ye()),je.length=0}}const ft="!"},2687:(ai,qt,N)=>{"use strict";N.d(qt,{$s:()=>St,Em:()=>cn,Kd:()=>An,X6:()=>bn,kH:()=>Bi,mK:()=>yn,qm:()=>sn,rt:()=>It,s1:()=>In,tE:()=>li,yG:()=>lt});var a=N(6895),T=N(4650),O=N(3353),ue=N(7579),R=N(727),Ee=N(1135),Re=N(9646),xe=N(9521),Ce=N(8505),re=N(8372),ce=N(9300),be=N(4004),Ve=N(5698),Ne=N(5684),Be=N(1884),Je=N(2722),Ke=N(1281),nt=N(9643);function tt(xt,wt){return(xt.getAttribute(wt)||"").match(/\S+/g)||[]}const Ye="cdk-describedby-message",Me="cdk-describedby-host";let me=0,St=(()=>{class xt{constructor(Ie,pe){this._platform=pe,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+me++,this._document=Ie,this._id=(0,T.f3M)(T.AFp)+"-"+me++}describe(Ie,pe,ye){if(!this._canBeDescribed(Ie,pe))return;const st=vt(pe,ye);"string"!=typeof pe?(an(pe,this._id),this._messageRegistry.set(st,{messageElement:pe,referenceCount:0})):this._messageRegistry.has(st)||this._createMessageElement(pe,ye),this._isElementDescribedByMessage(Ie,st)||this._addMessageReference(Ie,st)}removeDescription(Ie,pe,ye){if(!pe||!this._isElementNode(Ie))return;const st=vt(pe,ye);if(this._isElementDescribedByMessage(Ie,st)&&this._removeMessageReference(Ie,st),"string"==typeof pe){const Ue=this._messageRegistry.get(st);Ue&&0===Ue.referenceCount&&this._deleteMessageElement(st)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const Ie=this._document.querySelectorAll(`[${Me}="${this._id}"]`);for(let pe=0;pe<Ie.length;pe++)this._removeCdkDescribedByReferenceIds(Ie[pe]),Ie[pe].removeAttribute(Me);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(Ie,pe){const ye=this._document.createElement("div");an(ye,this._id),ye.textContent=Ie,pe&&ye.setAttribute("role",pe),this._createMessagesContainer(),this._messagesContainer.appendChild(ye),this._messageRegistry.set(vt(Ie,pe),{messageElement:ye,referenceCount:0})}_deleteMessageElement(Ie){this._messageRegistry.get(Ie)?.messageElement?.remove(),this._messageRegistry.delete(Ie)}_createMessagesContainer(){if(this._messagesContainer)return;const Ie="cdk-describedby-message-container",pe=this._document.querySelectorAll(`.${Ie}[platform="server"]`);for(let st=0;st<pe.length;st++)pe[st].remove();const ye=this._document.createElement("div");ye.style.visibility="hidden",ye.classList.add(Ie),ye.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&ye.setAttribute("platform","server"),this._document.body.appendChild(ye),this._messagesContainer=ye}_removeCdkDescribedByReferenceIds(Ie){const pe=tt(Ie,"aria-describedby").filter(ye=>0!=ye.indexOf(Ye));Ie.setAttribute("aria-describedby",pe.join(" "))}_addMessageReference(Ie,pe){const ye=this._messageRegistry.get(pe);(function ft(xt,wt,Ie){const pe=tt(xt,wt);pe.some(ye=>ye.trim()==Ie.trim())||(pe.push(Ie.trim()),xt.setAttribute(wt,pe.join(" ")))})(Ie,"aria-describedby",ye.messageElement.id),Ie.setAttribute(Me,this._id),ye.referenceCount++}_removeMessageReference(Ie,pe){const ye=this._messageRegistry.get(pe);ye.referenceCount--,function pt(xt,wt,Ie){const ye=tt(xt,wt).filter(st=>st!=Ie.trim());ye.length?xt.setAttribute(wt,ye.join(" ")):xt.removeAttribute(wt)}(Ie,"aria-describedby",ye.messageElement.id),Ie.removeAttribute(Me)}_isElementDescribedByMessage(Ie,pe){const ye=tt(Ie,"aria-describedby"),st=this._messageRegistry.get(pe),Ue=st&&st.messageElement.id;return!!Ue&&-1!=ye.indexOf(Ue)}_canBeDescribed(Ie,pe){if(!this._isElementNode(Ie))return!1;if(pe&&"object"==typeof pe)return!0;const ye=null==pe?"":`${pe}`.trim(),st=Ie.getAttribute("aria-label");return!(!ye||st&&st.trim()===ye)}_isElementNode(Ie){return Ie.nodeType===this._document.ELEMENT_NODE}}return xt.\u0275fac=function(Ie){return new(Ie||xt)(T.LFG(a.K0),T.LFG(O.t4))},xt.\u0275prov=T.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"}),xt})();function vt(xt,wt){return"string"==typeof xt?`${wt||""}/${xt}`:xt}function an(xt,wt){xt.id||(xt.id=`${Ye}-${wt}-${me++}`)}class xn{constructor(wt){this._items=wt,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ue.x,this._typeaheadSubscription=R.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=Ie=>Ie.disabled,this._pressedLetters=[],this.tabOut=new ue.x,this.change=new ue.x,wt instanceof T.n_E&&wt.changes.subscribe(Ie=>{if(this._activeItem){const ye=Ie.toArray().indexOf(this._activeItem);ye>-1&&ye!==this._activeItemIndex&&(this._activeItemIndex=ye)}})}skipPredicate(wt){return this._skipPredicateFn=wt,this}withWrap(wt=!0){return this._wrap=wt,this}withVerticalOrientation(wt=!0){return this._vertical=wt,this}withHorizontalOrientation(wt){return this._horizontal=wt,this}withAllowedModifierKeys(wt){return this._allowedModifierKeys=wt,this}withTypeAhead(wt=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Ce.b)(Ie=>this._pressedLetters.push(Ie)),(0,re.b)(wt),(0,ce.h)(()=>this._pressedLetters.length>0),(0,be.U)(()=>this._pressedLetters.join(""))).subscribe(Ie=>{const pe=this._getItemsArray();for(let ye=1;ye<pe.length+1;ye++){const st=(this._activeItemIndex+ye)%pe.length,Ue=pe[st];if(!this._skipPredicateFn(Ue)&&0===Ue.getLabel().toUpperCase().trim().indexOf(Ie)){this.setActiveItem(st);break}}this._pressedLetters=[]}),this}withHomeAndEnd(wt=!0){return this._homeAndEnd=wt,this}setActiveItem(wt){const Ie=this._activeItem;this.updateActiveItem(wt),this._activeItem!==Ie&&this.change.next(this._activeItemIndex)}onKeydown(wt){const Ie=wt.keyCode,ye=["altKey","ctrlKey","metaKey","shiftKey"].every(st=>!wt[st]||this._allowedModifierKeys.indexOf(st)>-1);switch(Ie){case xe.Mf:return void this.tabOut.next();case xe.JH:if(this._vertical&&ye){this.setNextItemActive();break}return;case xe.LH:if(this._vertical&&ye){this.setPreviousItemActive();break}return;case xe.SV:if(this._horizontal&&ye){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case xe.oh:if(this._horizontal&&ye){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case xe.Sd:if(this._homeAndEnd&&ye){this.setFirstItemActive();break}return;case xe.uR:if(this._homeAndEnd&&ye){this.setLastItemActive();break}return;default:return void((ye||(0,xe.Vb)(wt,"shiftKey"))&&(wt.key&&1===wt.key.length?this._letterKeyStream.next(wt.key.toLocaleUpperCase()):(Ie>=xe.A&&Ie<=xe.Z||Ie>=xe.xE&&Ie<=xe.aO)&&this._letterKeyStream.next(String.fromCharCode(Ie))))}this._pressedLetters=[],wt.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(wt){const Ie=this._getItemsArray(),pe="number"==typeof wt?wt:Ie.indexOf(wt);this._activeItem=Ie[pe]??null,this._activeItemIndex=pe}_setActiveItemByDelta(wt){this._wrap?this._setActiveInWrapMode(wt):this._setActiveInDefaultMode(wt)}_setActiveInWrapMode(wt){const Ie=this._getItemsArray();for(let pe=1;pe<=Ie.length;pe++){const ye=(this._activeItemIndex+wt*pe+Ie.length)%Ie.length;if(!this._skipPredicateFn(Ie[ye]))return void this.setActiveItem(ye)}}_setActiveInDefaultMode(wt){this._setActiveItemByIndex(this._activeItemIndex+wt,wt)}_setActiveItemByIndex(wt,Ie){const pe=this._getItemsArray();if(pe[wt]){for(;this._skipPredicateFn(pe[wt]);)if(!pe[wt+=Ie])return;this.setActiveItem(wt)}}_getItemsArray(){return this._items instanceof T.n_E?this._items.toArray():this._items}}class In extends xn{setActiveItem(wt){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(wt),this.activeItem&&this.activeItem.setActiveStyles()}}class cn extends xn{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(wt){return this._origin=wt,this}setActiveItem(wt){super.setActiveItem(wt),this.activeItem&&this.activeItem.focus(this._origin)}}let Tn=(()=>{class xt{constructor(Ie){this._platform=Ie}isDisabled(Ie){return Ie.hasAttribute("disabled")}isVisible(Ie){return function Ht(xt){return!!(xt.offsetWidth||xt.offsetHeight||"function"==typeof xt.getClientRects&&xt.getClientRects().length)}(Ie)&&"visible"===getComputedStyle(Ie).visibility}isTabbable(Ie){if(!this._platform.isBrowser)return!1;const pe=function Wn(xt){try{return xt.frameElement}catch{return null}}(function Qn(xt){return xt.ownerDocument&&xt.ownerDocument.defaultView||window}(Ie));if(pe&&(-1===en(pe)||!this.isVisible(pe)))return!1;let ye=Ie.nodeName.toLowerCase(),st=en(Ie);return Ie.hasAttribute("contenteditable")?-1!==st:!("iframe"===ye||"object"===ye||this._platform.WEBKIT&&this._platform.IOS&&!function gn(xt){let wt=xt.nodeName.toLowerCase(),Ie="input"===wt&&xt.type;return"text"===Ie||"password"===Ie||"select"===wt||"textarea"===wt}(Ie))&&("audio"===ye?!!Ie.hasAttribute("controls")&&-1!==st:"video"===ye?-1!==st&&(null!==st||this._platform.FIREFOX||Ie.hasAttribute("controls")):Ie.tabIndex>=0)}isFocusable(Ie,pe){return function On(xt){return!function Kt(xt){return function Vt(xt){return"input"==xt.nodeName.toLowerCase()}(xt)&&"hidden"==xt.type}(xt)&&(function Bt(xt){let wt=xt.nodeName.toLowerCase();return"input"===wt||"select"===wt||"button"===wt||"textarea"===wt}(xt)||function et(xt){return function jt(xt){return"a"==xt.nodeName.toLowerCase()}(xt)&&xt.hasAttribute("href")}(xt)||xt.hasAttribute("contenteditable")||Yn(xt))}(Ie)&&!this.isDisabled(Ie)&&(pe?.ignoreVisibility||this.isVisible(Ie))}}return xt.\u0275fac=function(Ie){return new(Ie||xt)(T.LFG(O.t4))},xt.\u0275prov=T.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"}),xt})();function Yn(xt){if(!xt.hasAttribute("tabindex")||void 0===xt.tabIndex)return!1;let wt=xt.getAttribute("tabindex");return!(!wt||isNaN(parseInt(wt,10)))}function en(xt){if(!Yn(xt))return null;const wt=parseInt(xt.getAttribute("tabindex")||"",10);return isNaN(wt)?-1:wt}class _n{constructor(wt,Ie,pe,ye,st=!1){this._element=wt,this._checker=Ie,this._ngZone=pe,this._document=ye,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,st||this.attachAnchors()}get enabled(){return this._enabled}set enabled(wt){this._enabled=wt,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(wt,this._startAnchor),this._toggleAnchorTabIndex(wt,this._endAnchor))}destroy(){const wt=this._startAnchor,Ie=this._endAnchor;wt&&(wt.removeEventListener("focus",this.startAnchorListener),wt.remove()),Ie&&(Ie.removeEventListener("focus",this.endAnchorListener),Ie.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(wt){return new Promise(Ie=>{this._executeOnStable(()=>Ie(this.focusInitialElement(wt)))})}focusFirstTabbableElementWhenReady(wt){return new Promise(Ie=>{this._executeOnStable(()=>Ie(this.focusFirstTabbableElement(wt)))})}focusLastTabbableElementWhenReady(wt){return new Promise(Ie=>{this._executeOnStable(()=>Ie(this.focusLastTabbableElement(wt)))})}_getRegionBoundary(wt){const Ie=this._element.querySelectorAll(`[cdk-focus-region-${wt}], [cdkFocusRegion${wt}], [cdk-focus-${wt}]`);return"start"==wt?Ie.length?Ie[0]:this._getFirstTabbableElement(this._element):Ie.length?Ie[Ie.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(wt){const Ie=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Ie){if(!this._checker.isFocusable(Ie)){const pe=this._getFirstTabbableElement(Ie);return pe?.focus(wt),!!pe}return Ie.focus(wt),!0}return this.focusFirstTabbableElement(wt)}focusFirstTabbableElement(wt){const Ie=this._getRegionBoundary("start");return Ie&&Ie.focus(wt),!!Ie}focusLastTabbableElement(wt){const Ie=this._getRegionBoundary("end");return Ie&&Ie.focus(wt),!!Ie}hasAttached(){return this._hasAttached}_getFirstTabbableElement(wt){if(this._checker.isFocusable(wt)&&this._checker.isTabbable(wt))return wt;const Ie=wt.children;for(let pe=0;pe<Ie.length;pe++){const ye=Ie[pe].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Ie[pe]):null;if(ye)return ye}return null}_getLastTabbableElement(wt){if(this._checker.isFocusable(wt)&&this._checker.isTabbable(wt))return wt;const Ie=wt.children;for(let pe=Ie.length-1;pe>=0;pe--){const ye=Ie[pe].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Ie[pe]):null;if(ye)return ye}return null}_createAnchor(){const wt=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,wt),wt.classList.add("cdk-visually-hidden"),wt.classList.add("cdk-focus-trap-anchor"),wt.setAttribute("aria-hidden","true"),wt}_toggleAnchorTabIndex(wt,Ie){wt?Ie.setAttribute("tabindex","0"):Ie.removeAttribute("tabindex")}toggleAnchors(wt){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(wt,this._startAnchor),this._toggleAnchorTabIndex(wt,this._endAnchor))}_executeOnStable(wt){this._ngZone.isStable?wt():this._ngZone.onStable.pipe((0,Ve.q)(1)).subscribe(wt)}}let Nn=(()=>{class xt{constructor(Ie,pe,ye){this._checker=Ie,this._ngZone=pe,this._document=ye}create(Ie,pe=!1){return new _n(Ie,this._checker,this._ngZone,this._document,pe)}}return xt.\u0275fac=function(Ie){return new(Ie||xt)(T.LFG(Tn),T.LFG(T.R0b),T.LFG(a.K0))},xt.\u0275prov=T.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"}),xt})(),yn=(()=>{class xt{constructor(Ie,pe,ye){this._elementRef=Ie,this._focusTrapFactory=pe,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(Ie){this.focusTrap.enabled=(0,Ke.Ig)(Ie)}get autoCapture(){return this._autoCapture}set autoCapture(Ie){this._autoCapture=(0,Ke.Ig)(Ie)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(Ie){const pe=Ie.autoCapture;pe&&!pe.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,O.ht)(),this.focusTrap.focusInitialElementWhenReady()}}return xt.\u0275fac=function(Ie){return new(Ie||xt)(T.Y36(T.SBq),T.Y36(Nn),T.Y36(a.K0))},xt.\u0275dir=T.lG2({type:xt,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[T.TTD]}),xt})();function bn(xt){return 0===xt.buttons||0===xt.offsetX&&0===xt.offsetY}function lt(xt){const wt=xt.touches&&xt.touches[0]||xt.changedTouches&&xt.changedTouches[0];return!(!wt||-1!==wt.identifier||null!=wt.radiusX&&1!==wt.radiusX||null!=wt.radiusY&&1!==wt.radiusY)}const le=new T.OlP("cdk-input-modality-detector-options"),Ae={ignoreKeys:[xe.zL,xe.jx,xe.b2,xe.MW,xe.JU]},zt=(0,O.i$)({passive:!0,capture:!0});let Lt=(()=>{class xt{constructor(Ie,pe,ye,st){this._platform=Ie,this._mostRecentTarget=null,this._modality=new Ee.X(null),this._lastTouchMs=0,this._onKeydown=Ue=>{this._options?.ignoreKeys?.some(Te=>Te===Ue.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,O.sA)(Ue))},this._onMousedown=Ue=>{Date.now()-this._lastTouchMs<650||(this._modality.next(bn(Ue)?"keyboard":"mouse"),this._mostRecentTarget=(0,O.sA)(Ue))},this._onTouchstart=Ue=>{lt(Ue)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,O.sA)(Ue))},this._options={...Ae,...st},this.modalityDetected=this._modality.pipe((0,Ne.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Be.x)()),Ie.isBrowser&&pe.runOutsideAngular(()=>{ye.addEventListener("keydown",this._onKeydown,zt),ye.addEventListener("mousedown",this._onMousedown,zt),ye.addEventListener("touchstart",this._onTouchstart,zt)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,zt),document.removeEventListener("mousedown",this._onMousedown,zt),document.removeEventListener("touchstart",this._onTouchstart,zt))}}return xt.\u0275fac=function(Ie){return new(Ie||xt)(T.LFG(O.t4),T.LFG(T.R0b),T.LFG(a.K0),T.LFG(le,8))},xt.\u0275prov=T.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"}),xt})();const Mt=new T.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Tt(){return null}}),mn=new T.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let An=(()=>{class xt{constructor(Ie,pe,ye,st){this._ngZone=pe,this._defaultOptions=st,this._document=ye,this._liveElement=Ie||this._createLiveElement()}announce(Ie,...pe){const ye=this._defaultOptions;let st,Ue;return 1===pe.length&&"number"==typeof pe[0]?Ue=pe[0]:[st,Ue]=pe,this.clear(),clearTimeout(this._previousTimeout),st||(st=ye&&ye.politeness?ye.politeness:"polite"),null==Ue&&ye&&(Ue=ye.duration),this._liveElement.setAttribute("aria-live",st),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Te=>this._currentResolve=Te)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=Ie,"number"==typeof Ue&&(this._previousTimeout=setTimeout(()=>this.clear(),Ue)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const Ie="cdk-live-announcer-element",pe=this._document.getElementsByClassName(Ie),ye=this._document.createElement("div");for(let st=0;st<pe.length;st++)pe[st].remove();return ye.classList.add(Ie),ye.classList.add("cdk-visually-hidden"),ye.setAttribute("aria-atomic","true"),ye.setAttribute("aria-live","polite"),this._document.body.appendChild(ye),ye}}return xt.\u0275fac=function(Ie){return new(Ie||xt)(T.LFG(Mt,8),T.LFG(T.R0b),T.LFG(a.K0),T.LFG(mn,8))},xt.\u0275prov=T.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"}),xt})();const mi=new T.OlP("cdk-focus-monitor-default-options"),Xi=(0,O.i$)({passive:!0,capture:!0});let li=(()=>{class xt{constructor(Ie,pe,ye,st,Ue){this._ngZone=Ie,this._platform=pe,this._inputModalityDetector=ye,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ue.x,this._rootNodeFocusAndBlurListener=Te=>{const ct=(0,O.sA)(Te),Fe="focus"===Te.type?this._onFocus:this._onBlur;for(let qe=ct;qe;qe=qe.parentElement)Fe.call(this,Te,qe)},this._document=st,this._detectionMode=Ue?.detectionMode||0}monitor(Ie,pe=!1){const ye=(0,Ke.fI)(Ie);if(!this._platform.isBrowser||1!==ye.nodeType)return(0,Re.of)(null);const st=(0,O.kV)(ye)||this._getDocument(),Ue=this._elementInfo.get(ye);if(Ue)return pe&&(Ue.checkChildren=!0),Ue.subject;const Te={checkChildren:pe,subject:new ue.x,rootNode:st};return this._elementInfo.set(ye,Te),this._registerGlobalListeners(Te),Te.subject}stopMonitoring(Ie){const pe=(0,Ke.fI)(Ie),ye=this._elementInfo.get(pe);ye&&(ye.subject.complete(),this._setClasses(pe),this._elementInfo.delete(pe),this._removeGlobalListeners(ye))}focusVia(Ie,pe,ye){const st=(0,Ke.fI)(Ie);st===this._getDocument().activeElement?this._getClosestElementsInfo(st).forEach(([Te,ct])=>this._originChanged(Te,pe,ct)):(this._setOrigin(pe),"function"==typeof st.focus&&st.focus(ye))}ngOnDestroy(){this._elementInfo.forEach((Ie,pe)=>this.stopMonitoring(pe))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Ie){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Ie)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(Ie){return 1===this._detectionMode||!!Ie?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Ie,pe){Ie.classList.toggle("cdk-focused",!!pe),Ie.classList.toggle("cdk-touch-focused","touch"===pe),Ie.classList.toggle("cdk-keyboard-focused","keyboard"===pe),Ie.classList.toggle("cdk-mouse-focused","mouse"===pe),Ie.classList.toggle("cdk-program-focused","program"===pe)}_setOrigin(Ie,pe=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Ie,this._originFromTouchInteraction="touch"===Ie&&pe,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Ie,pe){const ye=this._elementInfo.get(pe),st=(0,O.sA)(Ie);!ye||!ye.checkChildren&&pe!==st||this._originChanged(pe,this._getFocusOrigin(st),ye)}_onBlur(Ie,pe){const ye=this._elementInfo.get(pe);!ye||ye.checkChildren&&Ie.relatedTarget instanceof Node&&pe.contains(Ie.relatedTarget)||(this._setClasses(pe),this._emitOrigin(ye,null))}_emitOrigin(Ie,pe){Ie.subject.observers.length&&this._ngZone.run(()=>Ie.subject.next(pe))}_registerGlobalListeners(Ie){if(!this._platform.isBrowser)return;const pe=Ie.rootNode,ye=this._rootNodeFocusListenerCount.get(pe)||0;ye||this._ngZone.runOutsideAngular(()=>{pe.addEventListener("focus",this._rootNodeFocusAndBlurListener,Xi),pe.addEventListener("blur",this._rootNodeFocusAndBlurListener,Xi)}),this._rootNodeFocusListenerCount.set(pe,ye+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,Je.R)(this._stopInputModalityDetector)).subscribe(st=>{this._setOrigin(st,!0)}))}_removeGlobalListeners(Ie){const pe=Ie.rootNode;if(this._rootNodeFocusListenerCount.has(pe)){const ye=this._rootNodeFocusListenerCount.get(pe);ye>1?this._rootNodeFocusListenerCount.set(pe,ye-1):(pe.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Xi),pe.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Xi),this._rootNodeFocusListenerCount.delete(pe))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Ie,pe,ye){this._setClasses(Ie,pe),this._emitOrigin(ye,pe),this._lastFocusOrigin=pe}_getClosestElementsInfo(Ie){const pe=[];return this._elementInfo.forEach((ye,st)=>{(st===Ie||ye.checkChildren&&st.contains(Ie))&&pe.push([st,ye])}),pe}}return xt.\u0275fac=function(Ie){return new(Ie||xt)(T.LFG(T.R0b),T.LFG(O.t4),T.LFG(Lt),T.LFG(a.K0,8),T.LFG(mi,8))},xt.\u0275prov=T.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"}),xt})(),Bi=(()=>{class xt{constructor(Ie,pe){this._elementRef=Ie,this._focusMonitor=pe,this.cdkFocusChange=new T.vpe}ngAfterViewInit(){const Ie=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(Ie,1===Ie.nodeType&&Ie.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(pe=>this.cdkFocusChange.emit(pe))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return xt.\u0275fac=function(Ie){return new(Ie||xt)(T.Y36(T.SBq),T.Y36(li))},xt.\u0275dir=T.lG2({type:xt,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),xt})();const Si="cdk-high-contrast-black-on-white",_r="cdk-high-contrast-white-on-black",En="cdk-high-contrast-active";let sn=(()=>{class xt{constructor(Ie,pe){this._platform=Ie,this._document=pe}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Ie=this._document.createElement("div");Ie.style.backgroundColor="rgb(1,2,3)",Ie.style.position="absolute",this._document.body.appendChild(Ie);const pe=this._document.defaultView||window,ye=pe&&pe.getComputedStyle?pe.getComputedStyle(Ie):null,st=(ye&&ye.backgroundColor||"").replace(/ /g,"");switch(Ie.remove(),st){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Ie=this._document.body.classList;Ie.remove(En,Si,_r),this._hasCheckedHighContrastMode=!0;const pe=this.getHighContrastMode();1===pe?Ie.add(En,Si):2===pe&&Ie.add(En,_r)}}}return xt.\u0275fac=function(Ie){return new(Ie||xt)(T.LFG(O.t4),T.LFG(a.K0))},xt.\u0275prov=T.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"}),xt})(),It=(()=>{class xt{constructor(Ie){Ie._applyBodyHighContrastModeCssClasses()}}return xt.\u0275fac=function(Ie){return new(Ie||xt)(T.LFG(sn))},xt.\u0275mod=T.oAB({type:xt}),xt.\u0275inj=T.cJS({imports:[nt.Q8]}),xt})()},445:(ai,qt,N)=>{"use strict";N.d(qt,{Is:()=>Re,vT:()=>Ce});var a=N(4650),T=N(6895);const O=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function ue(){return(0,a.f3M)(T.K0)}}),R=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Re=(()=>{class re{constructor(be){if(this.value="ltr",this.change=new a.vpe,be){const Ne=be.documentElement?be.documentElement.dir:null;this.value=function Ee(re){const ce=re?.toLowerCase()||"";return"auto"===ce&&typeof navigator<"u"&&navigator?.language?R.test(navigator.language)?"rtl":"ltr":"rtl"===ce?"rtl":"ltr"}((be.body?be.body.dir:null)||Ne||"ltr")}}ngOnDestroy(){this.change.complete()}}return re.\u0275fac=function(be){return new(be||re)(a.LFG(O,8))},re.\u0275prov=a.Yz7({token:re,factory:re.\u0275fac,providedIn:"root"}),re})(),Ce=(()=>{class re{}return re.\u0275fac=function(be){return new(be||re)},re.\u0275mod=a.oAB({type:re}),re.\u0275inj=a.cJS({}),re})()},1281:(ai,qt,N)=>{"use strict";N.d(qt,{Eq:()=>R,HM:()=>Ee,Ig:()=>T,du:()=>xe,fI:()=>Re,su:()=>O,t6:()=>ue});var a=N(4650);function T(Ce){return null!=Ce&&"false"!=`${Ce}`}function O(Ce,re=0){return ue(Ce)?Number(Ce):re}function ue(Ce){return!isNaN(parseFloat(Ce))&&!isNaN(Number(Ce))}function R(Ce){return Array.isArray(Ce)?Ce:[Ce]}function Ee(Ce){return null==Ce?"":"string"==typeof Ce?Ce:`${Ce}px`}function Re(Ce){return Ce instanceof a.SBq?Ce.nativeElement:Ce}function xe(Ce,re=/\s+/){const ce=[];if(null!=Ce){const be=Array.isArray(Ce)?Ce:`${Ce}`.split(re);for(const Ve of be){const Ne=`${Ve}`.trim();Ne&&ce.push(Ne)}}return ce}},5017:(ai,qt,N)=>{"use strict";N.d(qt,{Ov:()=>xe,Z9:()=>ue,eX:()=>Re,k:()=>ce,yy:()=>Ee});var a=N(7579),T=N(4650);function ue(be){return be&&"function"==typeof be.connect}class Ee{applyChanges(Ve,Ne,Be,Je,Ke){Ve.forEachOperation((nt,We,ft)=>{let pt,tt;if(null==nt.previousIndex){const je=Be(nt,We,ft);pt=Ne.createEmbeddedView(je.templateRef,je.context,je.index),tt=1}else null==ft?(Ne.remove(We),tt=3):(pt=Ne.get(We),Ne.move(pt,ft),tt=2);Ke&&Ke({context:pt?.context,operation:tt,record:nt})})}detach(){}}class Re{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(Ve,Ne,Be,Je,Ke){Ve.forEachOperation((nt,We,ft)=>{let pt,tt;null==nt.previousIndex?(pt=this._insertView(()=>Be(nt,We,ft),ft,Ne,Je(nt)),tt=pt?1:0):null==ft?(this._detachAndCacheView(We,Ne),tt=3):(pt=this._moveView(We,ft,Ne,Je(nt)),tt=2),Ke&&Ke({context:pt?.context,operation:tt,record:nt})})}detach(){for(const Ve of this._viewCache)Ve.destroy();this._viewCache=[]}_insertView(Ve,Ne,Be,Je){const Ke=this._insertViewFromCache(Ne,Be);if(Ke)return void(Ke.context.$implicit=Je);const nt=Ve();return Be.createEmbeddedView(nt.templateRef,nt.context,nt.index)}_detachAndCacheView(Ve,Ne){const Be=Ne.detach(Ve);this._maybeCacheView(Be,Ne)}_moveView(Ve,Ne,Be,Je){const Ke=Be.get(Ve);return Be.move(Ke,Ne),Ke.context.$implicit=Je,Ke}_maybeCacheView(Ve,Ne){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(Ve);else{const Be=Ne.indexOf(Ve);-1===Be?Ve.destroy():Ne.remove(Be)}}_insertViewFromCache(Ve,Ne){const Be=this._viewCache.pop();return Be&&Ne.insert(Be,Ve),Be||null}}class xe{constructor(Ve=!1,Ne,Be=!0){this._multiple=Ve,this._emitChanges=Be,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new a.x,Ne&&Ne.length&&(Ve?Ne.forEach(Je=>this._markSelected(Je)):this._markSelected(Ne[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...Ve){this._verifyValueAssignment(Ve),Ve.forEach(Ne=>this._markSelected(Ne)),this._emitChangeEvent()}deselect(...Ve){this._verifyValueAssignment(Ve),Ve.forEach(Ne=>this._unmarkSelected(Ne)),this._emitChangeEvent()}toggle(Ve){this.isSelected(Ve)?this.deselect(Ve):this.select(Ve)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(Ve){return this._selection.has(Ve)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(Ve){this._multiple&&this.selected&&this._selected.sort(Ve)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(Ve){this.isSelected(Ve)||(this._multiple||this._unmarkAll(),this._selection.add(Ve),this._emitChanges&&this._selectedToEmit.push(Ve))}_unmarkSelected(Ve){this.isSelected(Ve)&&(this._selection.delete(Ve),this._emitChanges&&this._deselectedToEmit.push(Ve))}_unmarkAll(){this.isEmpty()||this._selection.forEach(Ve=>this._unmarkSelected(Ve))}_verifyValueAssignment(Ve){}}const ce=new T.OlP("_ViewRepeater")},3555:(ai,qt,N)=>{"use strict";N.d(qt,{Wj:()=>Xi,Zt:()=>xt,_t:()=>wt,bA:()=>_n});var a=N(4650),T=N(6895),O=N(6270),ue=N(3353),R=N(1281),Ee=N(2687),Re=N(7579),xe=N(727),Ce=N(7445),re=N(6406),ce=N(9751),be=N(6451),Ve=N(2722),Ne=N(8675),Be=N(4004),Je=N(5698),Ke=N(8505),nt=N(3900),We=N(445);function ft(Ie,pe,ye){for(let st in pe)if(pe.hasOwnProperty(st)){const Ue=pe[st];Ue?Ie.setProperty(st,Ue,ye?.has(st)?"important":""):Ie.removeProperty(st)}return Ie}function pt(Ie,pe){const ye=pe?"":"none";ft(Ie.style,{"touch-action":pe?"":"none","-webkit-user-drag":pe?"":"none","-webkit-tap-highlight-color":pe?"":"transparent","user-select":ye,"-ms-user-select":ye,"-webkit-user-select":ye,"-moz-user-select":ye})}function tt(Ie,pe,ye){ft(Ie.style,{position:pe?"":"fixed",top:pe?"":"0",opacity:pe?"":"0",left:pe?"":"-999em"},ye)}function je(Ie,pe){return pe&&"none"!=pe?Ie+" "+pe:Ie}function Ye(Ie){const pe=Ie.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(Ie)*pe}function me(Ie,pe){return Ie.getPropertyValue(pe).split(",").map(st=>st.trim())}function St(Ie){const pe=Ie.getBoundingClientRect();return{top:pe.top,right:pe.right,bottom:pe.bottom,left:pe.left,width:pe.width,height:pe.height,x:pe.x,y:pe.y}}function vt(Ie,pe,ye){const{top:st,bottom:Ue,left:Te,right:ct}=Ie;return ye>=st&&ye<=Ue&&pe>=Te&&pe<=ct}function an(Ie,pe,ye){Ie.top+=pe,Ie.bottom=Ie.top+Ie.height,Ie.left+=ye,Ie.right=Ie.left+Ie.width}function xn(Ie,pe,ye,st){const{top:Ue,right:Te,bottom:ct,left:Fe,width:qe,height:Zt}=Ie,wn=qe*pe,ti=Zt*pe;return st>Ue-ti&&st<ct+ti&&ye>Fe-wn&&ye<Te+wn}class In{constructor(pe){this._document=pe,this.positions=new Map}clear(){this.positions.clear()}cache(pe){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),pe.forEach(ye=>{this.positions.set(ye,{scrollPosition:{top:ye.scrollTop,left:ye.scrollLeft},clientRect:St(ye)})})}handleScroll(pe){const ye=(0,ue.sA)(pe),st=this.positions.get(ye);if(!st)return null;const Ue=st.scrollPosition;let Te,ct;if(ye===this._document){const Zt=this.getViewportScrollPosition();Te=Zt.top,ct=Zt.left}else Te=ye.scrollTop,ct=ye.scrollLeft;const Fe=Ue.top-Te,qe=Ue.left-ct;return this.positions.forEach((Zt,wn)=>{Zt.clientRect&&ye!==wn&&ye.contains(wn)&&an(Zt.clientRect,Fe,qe)}),Ue.top=Te,Ue.left=ct,{top:Fe,left:qe}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function cn(Ie){const pe=Ie.cloneNode(!0),ye=pe.querySelectorAll("[id]"),st=Ie.nodeName.toLowerCase();pe.removeAttribute("id");for(let Ue=0;Ue<ye.length;Ue++)ye[Ue].removeAttribute("id");return"canvas"===st?Ht(Ie,pe):("input"===st||"select"===st||"textarea"===st)&&Wn(Ie,pe),Gn("canvas",Ie,pe,Ht),Gn("input, textarea, select",Ie,pe,Wn),pe}function Gn(Ie,pe,ye,st){const Ue=pe.querySelectorAll(Ie);if(Ue.length){const Te=ye.querySelectorAll(Ie);for(let ct=0;ct<Ue.length;ct++)st(Ue[ct],Te[ct])}}let Tn=0;function Wn(Ie,pe){"file"!==pe.type&&(pe.value=Ie.value),"radio"===pe.type&&pe.name&&(pe.name=`mat-clone-${pe.name}-${Tn++}`)}function Ht(Ie,pe){const ye=pe.getContext("2d");if(ye)try{ye.drawImage(Ie,0,0)}catch{}}const Bt=(0,ue.i$)({passive:!0}),Kt=(0,ue.i$)({passive:!1}),Vt=new Set(["position"]);class jt{constructor(pe,ye,st,Ue,Te,ct){this._config=ye,this._document=st,this._ngZone=Ue,this._viewportRuler=Te,this._dragDropRegistry=ct,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Re.x,this._pointerMoveSubscription=xe.w0.EMPTY,this._pointerUpSubscription=xe.w0.EMPTY,this._scrollSubscription=xe.w0.EMPTY,this._resizeSubscription=xe.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Re.x,this.started=new Re.x,this.released=new Re.x,this.ended=new Re.x,this.entered=new Re.x,this.exited=new Re.x,this.dropped=new Re.x,this.moved=this._moveEvents,this._pointerDown=Fe=>{if(this.beforeStarted.next(),this._handles.length){const qe=this._getTargetHandle(Fe);qe&&!this._disabledHandles.has(qe)&&!this.disabled&&this._initializeDragSequence(qe,Fe)}else this.disabled||this._initializeDragSequence(this._rootElement,Fe)},this._pointerMove=Fe=>{const qe=this._getPointerPositionOnPage(Fe);if(!this._hasStartedDragging){if(Math.abs(qe.x-this._pickupPositionOnPage.x)+Math.abs(qe.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const Li=Date.now()>=this._dragStartTime+this._getDragStartDelay(Fe),ut=this._dropContainer;if(!Li)return void this._endDragSequence(Fe);(!ut||!ut.isDragging()&&!ut.isReceiving())&&(Fe.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(Fe)))}return}Fe.preventDefault();const Zt=this._getConstrainedPointerPosition(qe);if(this._hasMoved=!0,this._lastKnownPointerPosition=qe,this._updatePointerDirectionDelta(Zt),this._dropContainer)this._updateActiveDropContainer(Zt,qe);else{const wn=this._activeTransform;wn.x=Zt.x-this._pickupPositionOnPage.x+this._passiveTransform.x,wn.y=Zt.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(wn.x,wn.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:Zt,event:Fe,distance:this._getDragDistance(Zt),delta:this._pointerDirectionDelta})})},this._pointerUp=Fe=>{this._endDragSequence(Fe)},this._nativeDragStart=Fe=>{if(this._handles.length){const qe=this._getTargetHandle(Fe);qe&&!this._disabledHandles.has(qe)&&!this.disabled&&Fe.preventDefault()}else this.disabled||Fe.preventDefault()},this.withRootElement(pe).withParent(ye.parentDragRef||null),this._parentPositions=new In(st),ct.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(pe){const ye=(0,R.Ig)(pe);ye!==this._disabled&&(this._disabled=ye,this._toggleNativeDragInteractions(),this._handles.forEach(st=>pt(st,ye)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(pe){this._handles=pe.map(st=>(0,R.fI)(st)),this._handles.forEach(st=>pt(st,this.disabled)),this._toggleNativeDragInteractions();const ye=new Set;return this._disabledHandles.forEach(st=>{this._handles.indexOf(st)>-1&&ye.add(st)}),this._disabledHandles=ye,this}withPreviewTemplate(pe){return this._previewTemplate=pe,this}withPlaceholderTemplate(pe){return this._placeholderTemplate=pe,this}withRootElement(pe){const ye=(0,R.fI)(pe);return ye!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{ye.addEventListener("mousedown",this._pointerDown,Kt),ye.addEventListener("touchstart",this._pointerDown,Bt),ye.addEventListener("dragstart",this._nativeDragStart,Kt)}),this._initialTransform=void 0,this._rootElement=ye),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(pe){return this._boundaryElement=pe?(0,R.fI)(pe):null,this._resizeSubscription.unsubscribe(),pe&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(pe){return this._parentDragRef=pe,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(pe){!this._disabledHandles.has(pe)&&this._handles.indexOf(pe)>-1&&(this._disabledHandles.add(pe),pt(pe,!0))}enableHandle(pe){this._disabledHandles.has(pe)&&(this._disabledHandles.delete(pe),pt(pe,this.disabled))}withDirection(pe){return this._direction=pe,this}_withDropContainer(pe){this._dropContainer=pe}getFreeDragPosition(){const pe=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:pe.x,y:pe.y}}setFreeDragPosition(pe){return this._activeTransform={x:0,y:0},this._passiveTransform.x=pe.x,this._passiveTransform.y=pe.y,this._dropContainer||this._applyRootElementTransform(pe.x,pe.y),this}withPreviewContainer(pe){return this._previewContainer=pe,this}_sortFromLastPointerPosition(){const pe=this._lastKnownPointerPosition;pe&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(pe),pe)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(pe){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:pe}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(pe),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const ye=this._getPointerPositionOnPage(pe);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(ye),dropPoint:ye,event:pe})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(pe){gn(pe)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const ye=this._dropContainer;if(ye){const st=this._rootElement,Ue=st.parentNode,Te=this._placeholder=this._createPlaceholderElement(),ct=this._anchor=this._anchor||this._document.createComment(""),Fe=this._getShadowRoot();Ue.insertBefore(ct,st),this._initialTransform=st.style.transform||"",this._preview=this._createPreviewElement(),tt(st,!1,Vt),this._document.body.appendChild(Ue.replaceChild(Te,st)),this._getPreviewInsertionPoint(Ue,Fe).appendChild(this._preview),this.started.next({source:this,event:pe}),ye.start(),this._initialContainer=ye,this._initialIndex=ye.getItemIndex(this)}else this.started.next({source:this,event:pe}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(ye?ye.getScrollableParents():[])}_initializeDragSequence(pe,ye){this._parentDragRef&&ye.stopPropagation();const st=this.isDragging(),Ue=gn(ye),Te=!Ue&&0!==ye.button,ct=this._rootElement,Fe=(0,ue.sA)(ye),qe=!Ue&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),Zt=Ue?(0,Ee.yG)(ye):(0,Ee.X6)(ye);if(Fe&&Fe.draggable&&"mousedown"===ye.type&&ye.preventDefault(),st||Te||qe||Zt)return;if(this._handles.length){const Ui=ct.style;this._rootElementTapHighlight=Ui.webkitTapHighlightColor||"",Ui.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Ui=>this._updateOnScroll(Ui)),this._boundaryElement&&(this._boundaryRect=St(this._boundaryElement));const wn=this._previewTemplate;this._pickupPositionInElement=wn&&wn.template&&!wn.matchSize?{x:0,y:0}:this._getPointerPositionInElement(pe,ye);const ti=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(ye);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:ti.x,y:ti.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,ye)}_cleanupDragArtifacts(pe){tt(this._rootElement,!0,Vt),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const ye=this._dropContainer,st=ye.getItemIndex(this),Ue=this._getPointerPositionOnPage(pe),Te=this._getDragDistance(Ue),ct=ye._isOverContainer(Ue.x,Ue.y);this.ended.next({source:this,distance:Te,dropPoint:Ue,event:pe}),this.dropped.next({item:this,currentIndex:st,previousIndex:this._initialIndex,container:ye,previousContainer:this._initialContainer,isPointerOverContainer:ct,distance:Te,dropPoint:Ue,event:pe}),ye.drop(this,st,this._initialIndex,this._initialContainer,ct,Te,Ue),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:pe,y:ye},{x:st,y:Ue}){let Te=this._initialContainer._getSiblingContainerFromPosition(this,pe,ye);!Te&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(pe,ye)&&(Te=this._initialContainer),Te&&Te!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=Te,this._dropContainer.enter(this,pe,ye,Te===this._initialContainer&&Te.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:Te,currentIndex:Te.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(st,Ue),this._dropContainer._sortItem(this,pe,ye,this._pointerDirectionDelta),this._applyPreviewTransform(pe-this._pickupPositionInElement.x,ye-this._pickupPositionInElement.y))}_createPreviewElement(){const pe=this._previewTemplate,ye=this.previewClass,st=pe?pe.template:null;let Ue;if(st&&pe){const Te=pe.matchSize?this._rootElement.getBoundingClientRect():null,ct=pe.viewContainer.createEmbeddedView(st,pe.context);ct.detectChanges(),Ue=On(ct,this._document),this._previewRef=ct,pe.matchSize?Qn(Ue,Te):Ue.style.transform=Yn(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const Te=this._rootElement;Ue=cn(Te),Qn(Ue,Te.getBoundingClientRect()),this._initialTransform&&(Ue.style.transform=this._initialTransform)}return ft(Ue.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Vt),pt(Ue,!1),Ue.classList.add("cdk-drag-preview"),Ue.setAttribute("dir",this._direction),ye&&(Array.isArray(ye)?ye.forEach(Te=>Ue.classList.add(Te)):Ue.classList.add(ye)),Ue}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const pe=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(pe.left,pe.top);const ye=function Me(Ie){const pe=getComputedStyle(Ie),ye=me(pe,"transition-property"),st=ye.find(Fe=>"transform"===Fe||"all"===Fe);if(!st)return 0;const Ue=ye.indexOf(st),Te=me(pe,"transition-duration"),ct=me(pe,"transition-delay");return Ye(Te[Ue])+Ye(ct[Ue])}(this._preview);return 0===ye?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(st=>{const Ue=ct=>{(!ct||(0,ue.sA)(ct)===this._preview&&"transform"===ct.propertyName)&&(this._preview?.removeEventListener("transitionend",Ue),st(),clearTimeout(Te))},Te=setTimeout(Ue,1.5*ye);this._preview.addEventListener("transitionend",Ue)}))}_createPlaceholderElement(){const pe=this._placeholderTemplate,ye=pe?pe.template:null;let st;return ye?(this._placeholderRef=pe.viewContainer.createEmbeddedView(ye,pe.context),this._placeholderRef.detectChanges(),st=On(this._placeholderRef,this._document)):st=cn(this._rootElement),st.style.pointerEvents="none",st.classList.add("cdk-drag-placeholder"),st}_getPointerPositionInElement(pe,ye){const st=this._rootElement.getBoundingClientRect(),Ue=pe===this._rootElement?null:pe,Te=Ue?Ue.getBoundingClientRect():st,ct=gn(ye)?ye.targetTouches[0]:ye,Fe=this._getViewportScrollPosition();return{x:Te.left-st.left+(ct.pageX-Te.left-Fe.left),y:Te.top-st.top+(ct.pageY-Te.top-Fe.top)}}_getPointerPositionOnPage(pe){const ye=this._getViewportScrollPosition(),st=gn(pe)?pe.touches[0]||pe.changedTouches[0]||{pageX:0,pageY:0}:pe,Ue=st.pageX-ye.left,Te=st.pageY-ye.top;if(this._ownerSVGElement){const ct=this._ownerSVGElement.getScreenCTM();if(ct){const Fe=this._ownerSVGElement.createSVGPoint();return Fe.x=Ue,Fe.y=Te,Fe.matrixTransform(ct.inverse())}}return{x:Ue,y:Te}}_getConstrainedPointerPosition(pe){const ye=this._dropContainer?this._dropContainer.lockAxis:null;let{x:st,y:Ue}=this.constrainPosition?this.constrainPosition(pe,this):pe;if("x"===this.lockAxis||"x"===ye?Ue=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===ye)&&(st=this._pickupPositionOnPage.x),this._boundaryRect){const{x:Te,y:ct}=this._pickupPositionInElement,Fe=this._boundaryRect,{width:qe,height:Zt}=this._getPreviewRect(),wn=Fe.top+ct,ti=Fe.bottom-(Zt-ct);st=en(st,Fe.left+Te,Fe.right-(qe-Te)),Ue=en(Ue,wn,ti)}return{x:st,y:Ue}}_updatePointerDirectionDelta(pe){const{x:ye,y:st}=pe,Ue=this._pointerDirectionDelta,Te=this._pointerPositionAtLastDirectionChange,ct=Math.abs(ye-Te.x),Fe=Math.abs(st-Te.y);return ct>this._config.pointerDirectionChangeThreshold&&(Ue.x=ye>Te.x?1:-1,Te.x=ye),Fe>this._config.pointerDirectionChangeThreshold&&(Ue.y=st>Te.y?1:-1,Te.y=st),Ue}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const pe=this._handles.length>0||!this.isDragging();pe!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=pe,pt(this._rootElement,pe))}_removeRootElementListeners(pe){pe.removeEventListener("mousedown",this._pointerDown,Kt),pe.removeEventListener("touchstart",this._pointerDown,Bt),pe.removeEventListener("dragstart",this._nativeDragStart,Kt)}_applyRootElementTransform(pe,ye){const st=Yn(pe,ye),Ue=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=Ue.transform&&"none"!=Ue.transform?Ue.transform:""),Ue.transform=je(st,this._initialTransform)}_applyPreviewTransform(pe,ye){const st=this._previewTemplate?.template?void 0:this._initialTransform,Ue=Yn(pe,ye);this._preview.style.transform=je(Ue,st)}_getDragDistance(pe){const ye=this._pickupPositionOnPage;return ye?{x:pe.x-ye.x,y:pe.y-ye.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:pe,y:ye}=this._passiveTransform;if(0===pe&&0===ye||this.isDragging()||!this._boundaryElement)return;const st=this._boundaryElement.getBoundingClientRect(),Ue=this._rootElement.getBoundingClientRect();if(0===st.width&&0===st.height||0===Ue.width&&0===Ue.height)return;const Te=st.left-Ue.left,ct=Ue.right-st.right,Fe=st.top-Ue.top,qe=Ue.bottom-st.bottom;st.width>Ue.width?(Te>0&&(pe+=Te),ct>0&&(pe-=ct)):pe=0,st.height>Ue.height?(Fe>0&&(ye+=Fe),qe>0&&(ye-=qe)):ye=0,(pe!==this._passiveTransform.x||ye!==this._passiveTransform.y)&&this.setFreeDragPosition({y:ye,x:pe})}_getDragStartDelay(pe){const ye=this.dragStartDelay;return"number"==typeof ye?ye:gn(pe)?ye.touch:ye?ye.mouse:0}_updateOnScroll(pe){const ye=this._parentPositions.handleScroll(pe);if(ye){const st=(0,ue.sA)(pe);this._boundaryRect&&st!==this._boundaryElement&&st.contains(this._boundaryElement)&&an(this._boundaryRect,ye.top,ye.left),this._pickupPositionOnPage.x+=ye.left,this._pickupPositionOnPage.y+=ye.top,this._dropContainer||(this._activeTransform.x-=ye.left,this._activeTransform.y-=ye.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,ue.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(pe,ye){const st=this._previewContainer||"global";if("parent"===st)return pe;if("global"===st){const Ue=this._document;return ye||Ue.fullscreenElement||Ue.webkitFullscreenElement||Ue.mozFullScreenElement||Ue.msFullscreenElement||Ue.body}return(0,R.fI)(st)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),this._previewRect}_getTargetHandle(pe){return this._handles.find(ye=>pe.target&&(pe.target===ye||ye.contains(pe.target)))}}function Yn(Ie,pe){return`translate3d(${Math.round(Ie)}px, ${Math.round(pe)}px, 0)`}function en(Ie,pe,ye){return Math.max(pe,Math.min(ye,Ie))}function gn(Ie){return"t"===Ie.type[0]}function On(Ie,pe){const ye=Ie.rootNodes;if(1===ye.length&&ye[0].nodeType===pe.ELEMENT_NODE)return ye[0];const st=pe.createElement("div");return ye.forEach(Ue=>st.appendChild(Ue)),st}function Qn(Ie,pe){Ie.style.width=`${pe.width}px`,Ie.style.height=`${pe.height}px`,Ie.style.transform=Yn(pe.left,pe.top)}function _n(Ie,pe,ye){const st=pn(pe,Ie.length-1),Ue=pn(ye,Ie.length-1);if(st===Ue)return;const Te=Ie[st],ct=Ue<st?-1:1;for(let Fe=st;Fe!==Ue;Fe+=ct)Ie[Fe]=Ie[Fe+ct];Ie[Ue]=Te}function pn(Ie,pe){return Math.max(0,Math.min(pe,Ie))}class tn{constructor(pe,ye,st,Ue,Te){this._dragDropRegistry=ye,this._ngZone=Ue,this._viewportRuler=Te,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Re.x,this.entered=new Re.x,this.exited=new Re.x,this.dropped=new Re.x,this.sorted=new Re.x,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=xe.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Re.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),(0,Ce.F)(0,re.Z).pipe((0,Ve.R)(this._stopScrollTimers)).subscribe(()=>{const ct=this._scrollNode,Fe=this.autoScrollStep;1===this._verticalScrollDirection?ct.scrollBy(0,-Fe):2===this._verticalScrollDirection&&ct.scrollBy(0,Fe),1===this._horizontalScrollDirection?ct.scrollBy(-Fe,0):2===this._horizontalScrollDirection&&ct.scrollBy(Fe,0)})},this.element=(0,R.fI)(pe),this._document=st,this.withScrollableParents([this.element]),ye.registerDropContainer(this),this._parentPositions=new In(st)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(pe,ye,st,Ue){let Te;this._draggingStarted(),null==Ue?(Te=this.sortingDisabled?this._draggables.indexOf(pe):-1,-1===Te&&(Te=this._getItemIndexFromPointerPosition(pe,ye,st))):Te=Ue;const ct=this._activeDraggables,Fe=ct.indexOf(pe),qe=pe.getPlaceholderElement();let Zt=ct[Te];if(Zt===pe&&(Zt=ct[Te+1]),!Zt&&(null==Te||-1===Te||Te<ct.length-1)&&this._shouldEnterAsFirstChild(ye,st)&&(Zt=ct[0]),Fe>-1&&ct.splice(Fe,1),Zt&&!this._dragDropRegistry.isDragging(Zt)){const wn=Zt.getRootElement();wn.parentElement.insertBefore(qe,wn),ct.splice(Te,0,pe)}else(0,R.fI)(this.element).appendChild(qe),ct.push(pe);qe.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:pe,container:this,currentIndex:this.getItemIndex(pe)})}exit(pe){this._reset(),this.exited.next({item:pe,container:this})}drop(pe,ye,st,Ue,Te,ct,Fe,qe={}){this._reset(),this.dropped.next({item:pe,currentIndex:ye,previousIndex:st,container:this,previousContainer:Ue,isPointerOverContainer:Te,distance:ct,dropPoint:Fe,event:qe})}withItems(pe){const ye=this._draggables;return this._draggables=pe,pe.forEach(st=>st._withDropContainer(this)),this.isDragging()&&(ye.filter(Ue=>Ue.isDragging()).every(Ue=>-1===pe.indexOf(Ue))?this._reset():this._cacheItems()),this}withDirection(pe){return this._direction=pe,this}connectedTo(pe){return this._siblings=pe.slice(),this}withOrientation(pe){return this._orientation=pe,this}withScrollableParents(pe){const ye=(0,R.fI)(this.element);return this._scrollableElements=-1===pe.indexOf(ye)?[ye,...pe]:pe.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(pe){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(st=>st.drag===pe):this._draggables.indexOf(pe)}isReceiving(){return this._activeSiblings.size>0}_sortItem(pe,ye,st,Ue){if(this.sortingDisabled||!this._clientRect||!xn(this._clientRect,.05,ye,st))return;const Te=this._itemPositions,ct=this._getItemIndexFromPointerPosition(pe,ye,st,Ue);if(-1===ct&&Te.length>0)return;const Fe="horizontal"===this._orientation,qe=Te.findIndex(K=>K.drag===pe),Zt=Te[ct],ti=Zt.clientRect,Ui=qe>ct?1:-1,Li=this._getItemOffsetPx(Te[qe].clientRect,ti,Ui),ut=this._getSiblingOffsetPx(qe,Te,Ui),ie=Te.slice();_n(Te,qe,ct),this.sorted.next({previousIndex:qe,currentIndex:ct,container:this,item:pe}),Te.forEach((K,ge)=>{if(ie[ge]===K)return;const Ge=K.drag===pe,rn=Ge?Li:ut,Hn=Ge?pe.getPlaceholderElement():K.drag.getRootElement();K.offset+=rn,Fe?(Hn.style.transform=je(`translate3d(${Math.round(K.offset)}px, 0, 0)`,K.initialTransform),an(K.clientRect,0,rn)):(Hn.style.transform=je(`translate3d(0, ${Math.round(K.offset)}px, 0)`,K.initialTransform),an(K.clientRect,rn,0))}),this._previousSwap.overlaps=vt(ti,ye,st),this._previousSwap.drag=Zt.drag,this._previousSwap.delta=Fe?Ue.x:Ue.y}_startScrollingIfNecessary(pe,ye){if(this.autoScrollDisabled)return;let st,Ue=0,Te=0;if(this._parentPositions.positions.forEach((ct,Fe)=>{Fe===this._document||!ct.clientRect||st||xn(ct.clientRect,.05,pe,ye)&&([Ue,Te]=function lt(Ie,pe,ye,st){const Ue=Rt(pe,st),Te=bn(pe,ye);let ct=0,Fe=0;if(Ue){const qe=Ie.scrollTop;1===Ue?qe>0&&(ct=1):Ie.scrollHeight-qe>Ie.clientHeight&&(ct=2)}if(Te){const qe=Ie.scrollLeft;1===Te?qe>0&&(Fe=1):Ie.scrollWidth-qe>Ie.clientWidth&&(Fe=2)}return[ct,Fe]}(Fe,ct.clientRect,pe,ye),(Ue||Te)&&(st=Fe))}),!Ue&&!Te){const{width:ct,height:Fe}=this._viewportRuler.getViewportSize(),qe={width:ct,height:Fe,top:0,right:ct,bottom:Fe,left:0};Ue=Rt(qe,ye),Te=bn(qe,pe),st=window}st&&(Ue!==this._verticalScrollDirection||Te!==this._horizontalScrollDirection||st!==this._scrollNode)&&(this._verticalScrollDirection=Ue,this._horizontalScrollDirection=Te,this._scrollNode=st,(Ue||Te)&&st?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const pe=(0,R.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=pe.msScrollSnapType||pe.scrollSnapType||"",pe.scrollSnapType=pe.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const pe=(0,R.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(pe).clientRect}_cacheItemPositions(){const pe="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(ye=>{const st=ye.getVisibleElement();return{drag:ye,offset:0,initialTransform:st.style.transform||"",clientRect:St(st)}}).sort((ye,st)=>pe?ye.clientRect.left-st.clientRect.left:ye.clientRect.top-st.clientRect.top)}_reset(){this._isDragging=!1;const pe=(0,R.fI)(this.element).style;pe.scrollSnapType=pe.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(ye=>{const st=ye.getRootElement();if(st){const Ue=this._itemPositions.find(Te=>Te.drag===ye)?.initialTransform;st.style.transform=Ue||""}}),this._siblings.forEach(ye=>ye._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(pe,ye,st){const Ue="horizontal"===this._orientation,Te=ye[pe].clientRect,ct=ye[pe+-1*st];let Fe=Te[Ue?"width":"height"]*st;if(ct){const qe=Ue?"left":"top",Zt=Ue?"right":"bottom";-1===st?Fe-=ct.clientRect[qe]-Te[Zt]:Fe+=Te[qe]-ct.clientRect[Zt]}return Fe}_getItemOffsetPx(pe,ye,st){const Ue="horizontal"===this._orientation;let Te=Ue?ye.left-pe.left:ye.top-pe.top;return-1===st&&(Te+=Ue?ye.width-pe.width:ye.height-pe.height),Te}_shouldEnterAsFirstChild(pe,ye){if(!this._activeDraggables.length)return!1;const st=this._itemPositions,Ue="horizontal"===this._orientation;if(st[0].drag!==this._activeDraggables[0]){const ct=st[st.length-1].clientRect;return Ue?pe>=ct.right:ye>=ct.bottom}{const ct=st[0].clientRect;return Ue?pe<=ct.left:ye<=ct.top}}_getItemIndexFromPointerPosition(pe,ye,st,Ue){const Te="horizontal"===this._orientation,ct=this._itemPositions.findIndex(({drag:Fe,clientRect:qe})=>{if(Fe===pe)return!1;if(Ue){const Zt=Te?Ue.x:Ue.y;if(Fe===this._previousSwap.drag&&this._previousSwap.overlaps&&Zt===this._previousSwap.delta)return!1}return Te?ye>=Math.floor(qe.left)&&ye<Math.floor(qe.right):st>=Math.floor(qe.top)&&st<Math.floor(qe.bottom)});return-1!==ct&&this.sortPredicate(ct,pe,this)?ct:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(pe,ye){return null!=this._clientRect&&vt(this._clientRect,pe,ye)}_getSiblingContainerFromPosition(pe,ye,st){return this._siblings.find(Ue=>Ue._canReceive(pe,ye,st))}_canReceive(pe,ye,st){if(!this._clientRect||!vt(this._clientRect,ye,st)||!this.enterPredicate(pe,this))return!1;const Ue=this._getShadowRoot().elementFromPoint(ye,st);if(!Ue)return!1;const Te=(0,R.fI)(this.element);return Ue===Te||Te.contains(Ue)}_startReceiving(pe,ye){const st=this._activeSiblings;!st.has(pe)&&ye.every(Ue=>this.enterPredicate(Ue,this)||this._draggables.indexOf(Ue)>-1)&&(st.add(pe),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(pe){this._activeSiblings.delete(pe),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(pe=>{if(this.isDragging()){const ye=this._parentPositions.handleScroll(pe);ye&&(this._itemPositions.forEach(({clientRect:st})=>{an(st,ye.top,ye.left)}),this._itemPositions.forEach(({drag:st})=>{this._dragDropRegistry.isDragging(st)&&st._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const pe=(0,ue.kV)((0,R.fI)(this.element));this._cachedShadowRoot=pe||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const pe=this._activeDraggables.filter(ye=>ye.isDragging());this._siblings.forEach(ye=>ye._startReceiving(this,pe))}}function Rt(Ie,pe){const{top:ye,bottom:st,height:Ue}=Ie,Te=.05*Ue;return pe>=ye-Te&&pe<=ye+Te?1:pe>=st-Te&&pe<=st+Te?2:0}function bn(Ie,pe){const{left:ye,right:st,width:Ue}=Ie,Te=.05*Ue;return pe>=ye-Te&&pe<=ye+Te?1:pe>=st-Te&&pe<=st+Te?2:0}const le=(0,ue.i$)({passive:!1,capture:!0});let Ae=(()=>{class Ie{constructor(ye,st){this._ngZone=ye,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=Ue=>Ue.isDragging(),this.pointerMove=new Re.x,this.pointerUp=new Re.x,this.scroll=new Re.x,this._preventDefaultWhileDragging=Ue=>{this._activeDragInstances.length>0&&Ue.preventDefault()},this._persistentTouchmoveListener=Ue=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&Ue.preventDefault(),this.pointerMove.next(Ue))},this._document=st}registerDropContainer(ye){this._dropInstances.has(ye)||this._dropInstances.add(ye)}registerDragItem(ye){this._dragInstances.add(ye),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,le)})}removeDropContainer(ye){this._dropInstances.delete(ye)}removeDragItem(ye){this._dragInstances.delete(ye),this.stopDragging(ye),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,le)}startDragging(ye,st){if(!(this._activeDragInstances.indexOf(ye)>-1)&&(this._activeDragInstances.push(ye),1===this._activeDragInstances.length)){const Ue=st.type.startsWith("touch");this._globalListeners.set(Ue?"touchend":"mouseup",{handler:Te=>this.pointerUp.next(Te),options:!0}).set("scroll",{handler:Te=>this.scroll.next(Te),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:le}),Ue||this._globalListeners.set("mousemove",{handler:Te=>this.pointerMove.next(Te),options:le}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((Te,ct)=>{this._document.addEventListener(ct,Te.handler,Te.options)})})}}stopDragging(ye){const st=this._activeDragInstances.indexOf(ye);st>-1&&(this._activeDragInstances.splice(st,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(ye){return this._activeDragInstances.indexOf(ye)>-1}scrolled(ye){const st=[this.scroll];return ye&&ye!==this._document&&st.push(new ce.y(Ue=>this._ngZone.runOutsideAngular(()=>{const ct=Fe=>{this._activeDragInstances.length&&Ue.next(Fe)};return ye.addEventListener("scroll",ct,!0),()=>{ye.removeEventListener("scroll",ct,!0)}}))),(0,be.T)(...st)}ngOnDestroy(){this._dragInstances.forEach(ye=>this.removeDragItem(ye)),this._dropInstances.forEach(ye=>this.removeDropContainer(ye)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((ye,st)=>{this._document.removeEventListener(st,ye.handler,ye.options)}),this._globalListeners.clear()}}return Ie.\u0275fac=function(ye){return new(ye||Ie)(a.LFG(a.R0b),a.LFG(T.K0))},Ie.\u0275prov=a.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})();const ot={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let zt=(()=>{class Ie{constructor(ye,st,Ue,Te){this._document=ye,this._ngZone=st,this._viewportRuler=Ue,this._dragDropRegistry=Te}createDrag(ye,st=ot){return new jt(ye,st,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(ye){return new tn(ye,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return Ie.\u0275fac=function(ye){return new(ye||Ie)(a.LFG(T.K0),a.LFG(a.R0b),a.LFG(O.rL),a.LFG(Ae))},Ie.\u0275prov=a.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})();const Lt=new a.OlP("CDK_DRAG_PARENT"),Mt=new a.OlP("CdkDropListGroup"),mn=new a.OlP("CDK_DRAG_CONFIG");let Ln=0;const mi=new a.OlP("CdkDropList");let Xi=(()=>{class Ie{constructor(ye,st,Ue,Te,ct,Fe,qe){this.element=ye,this._changeDetectorRef=Ue,this._scrollDispatcher=Te,this._dir=ct,this._group=Fe,this._destroyed=new Re.x,this.connectedTo=[],this.id="cdk-drop-list-"+Ln++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new a.vpe,this.entered=new a.vpe,this.exited=new a.vpe,this.sorted=new a.vpe,this._unsortedItems=new Set,this._dropListRef=st.createDropList(ye),this._dropListRef.data=this,qe&&this._assignDefaults(qe),this._dropListRef.enterPredicate=(Zt,wn)=>this.enterPredicate(Zt.data,wn.data),this._dropListRef.sortPredicate=(Zt,wn,ti)=>this.sortPredicate(Zt,wn.data,ti.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),Ie._dropLists.push(this),Fe&&Fe._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(ye){this._dropListRef.disabled=this._disabled=(0,R.Ig)(ye)}addItem(ye){this._unsortedItems.add(ye),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(ye){this._unsortedItems.delete(ye),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((ye,st)=>ye._dragRef.getVisibleElement().compareDocumentPosition(st._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const ye=Ie._dropLists.indexOf(this);ye>-1&&Ie._dropLists.splice(ye,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(ye){this._dir&&this._dir.change.pipe((0,Ne.O)(this._dir.value),(0,Ve.R)(this._destroyed)).subscribe(st=>ye.withDirection(st)),ye.beforeStarted.subscribe(()=>{const st=(0,R.Eq)(this.connectedTo).map(Ue=>"string"==typeof Ue?Ie._dropLists.find(ct=>ct.id===Ue):Ue);if(this._group&&this._group._items.forEach(Ue=>{-1===st.indexOf(Ue)&&st.push(Ue)}),!this._scrollableParentsResolved){const Ue=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(Te=>Te.getElementRef().nativeElement);this._dropListRef.withScrollableParents(Ue),this._scrollableParentsResolved=!0}ye.disabled=this.disabled,ye.lockAxis=this.lockAxis,ye.sortingDisabled=(0,R.Ig)(this.sortingDisabled),ye.autoScrollDisabled=(0,R.Ig)(this.autoScrollDisabled),ye.autoScrollStep=(0,R.su)(this.autoScrollStep,2),ye.connectedTo(st.filter(Ue=>Ue&&Ue!==this).map(Ue=>Ue._dropListRef)).withOrientation(this.orientation)})}_handleEvents(ye){ye.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),ye.entered.subscribe(st=>{this.entered.emit({container:this,item:st.item.data,currentIndex:st.currentIndex})}),ye.exited.subscribe(st=>{this.exited.emit({container:this,item:st.item.data}),this._changeDetectorRef.markForCheck()}),ye.sorted.subscribe(st=>{this.sorted.emit({previousIndex:st.previousIndex,currentIndex:st.currentIndex,container:this,item:st.item.data})}),ye.dropped.subscribe(st=>{this.dropped.emit({previousIndex:st.previousIndex,currentIndex:st.currentIndex,previousContainer:st.previousContainer.data,container:st.container.data,item:st.item.data,isPointerOverContainer:st.isPointerOverContainer,distance:st.distance,dropPoint:st.dropPoint,event:st.event}),this._changeDetectorRef.markForCheck()})}_assignDefaults(ye){const{lockAxis:st,draggingDisabled:Ue,sortingDisabled:Te,listAutoScrollDisabled:ct,listOrientation:Fe}=ye;this.disabled=Ue??!1,this.sortingDisabled=Te??!1,this.autoScrollDisabled=ct??!1,this.orientation=Fe||"vertical",st&&(this.lockAxis=st)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(ye=>ye._dragRef))}}return Ie._dropLists=[],Ie.\u0275fac=function(ye){return new(ye||Ie)(a.Y36(a.SBq),a.Y36(zt),a.Y36(a.sBO),a.Y36(O.mF),a.Y36(We.Is,8),a.Y36(Mt,12),a.Y36(mn,8))},Ie.\u0275dir=a.lG2({type:Ie,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(ye,st){2&ye&&(a.uIk("id",st.id),a.ekj("cdk-drop-list-disabled",st.disabled)("cdk-drop-list-dragging",st._dropListRef.isDragging())("cdk-drop-list-receiving",st._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[a._Bn([{provide:Mt,useValue:void 0},{provide:mi,useExisting:Ie}])]}),Ie})();const li=new a.OlP("CdkDragHandle"),Si=new a.OlP("CdkDragPlaceholder"),En=new a.OlP("CdkDragPreview");let xt=(()=>{class Ie{constructor(ye,st,Ue,Te,ct,Fe,qe,Zt,wn,ti,Ui){this.element=ye,this.dropContainer=st,this._ngZone=Te,this._viewContainerRef=ct,this._dir=qe,this._changeDetectorRef=wn,this._selfHandle=ti,this._parentDrag=Ui,this._destroyed=new Re.x,this.started=new a.vpe,this.released=new a.vpe,this.ended=new a.vpe,this.entered=new a.vpe,this.exited=new a.vpe,this.dropped=new a.vpe,this.moved=new ce.y(Li=>{const ut=this._dragRef.moved.pipe((0,Be.U)(ie=>({source:this,pointerPosition:ie.pointerPosition,event:ie.event,delta:ie.delta,distance:ie.distance}))).subscribe(Li);return()=>{ut.unsubscribe()}}),this._dragRef=Zt.createDrag(ye,{dragStartThreshold:Fe&&null!=Fe.dragStartThreshold?Fe.dragStartThreshold:5,pointerDirectionChangeThreshold:Fe&&null!=Fe.pointerDirectionChangeThreshold?Fe.pointerDirectionChangeThreshold:5,zIndex:Fe?.zIndex}),this._dragRef.data=this,Ie._dragInstances.push(this),Fe&&this._assignDefaults(Fe),st&&(this._dragRef._withDropContainer(st._dropListRef),st.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(ye){this._disabled=(0,R.Ig)(ye),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(ye){this._dragRef.setFreeDragPosition(ye)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Je.q)(1),(0,Ve.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(ye){const st=ye.rootElementSelector,Ue=ye.freeDragPosition;st&&!st.firstChange&&this._updateRootElement(),Ue&&!Ue.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const ye=Ie._dragInstances.indexOf(this);ye>-1&&Ie._dragInstances.splice(ye,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const ye=this.element.nativeElement;let st=ye;this.rootElementSelector&&(st=void 0!==ye.closest?ye.closest(this.rootElementSelector):ye.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(st||ye)}_getBoundaryElement(){const ye=this.boundaryElement;return ye?"string"==typeof ye?this.element.nativeElement.closest(ye):(0,R.fI)(ye):null}_syncInputs(ye){ye.beforeStarted.subscribe(()=>{if(!ye.isDragging()){const st=this._dir,Ue=this.dragStartDelay,Te=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,ct=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;ye.disabled=this.disabled,ye.lockAxis=this.lockAxis,ye.dragStartDelay="object"==typeof Ue&&Ue?Ue:(0,R.su)(Ue),ye.constrainPosition=this.constrainPosition,ye.previewClass=this.previewClass,ye.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(Te).withPreviewTemplate(ct).withPreviewContainer(this.previewContainer||"global"),st&&ye.withDirection(st.value)}}),ye.beforeStarted.pipe((0,Je.q)(1)).subscribe(()=>{if(this._parentDrag)return void ye.withParent(this._parentDrag._dragRef);let st=this.element.nativeElement.parentElement;for(;st;){if(st.classList.contains("cdk-drag")){ye.withParent(Ie._dragInstances.find(Ue=>Ue.element.nativeElement===st)?._dragRef||null);break}st=st.parentElement}})}_handleEvents(ye){ye.started.subscribe(st=>{this.started.emit({source:this,event:st.event}),this._changeDetectorRef.markForCheck()}),ye.released.subscribe(st=>{this.released.emit({source:this,event:st.event})}),ye.ended.subscribe(st=>{this.ended.emit({source:this,distance:st.distance,dropPoint:st.dropPoint,event:st.event}),this._changeDetectorRef.markForCheck()}),ye.entered.subscribe(st=>{this.entered.emit({container:st.container.data,item:this,currentIndex:st.currentIndex})}),ye.exited.subscribe(st=>{this.exited.emit({container:st.container.data,item:this})}),ye.dropped.subscribe(st=>{this.dropped.emit({previousIndex:st.previousIndex,currentIndex:st.currentIndex,previousContainer:st.previousContainer.data,container:st.container.data,isPointerOverContainer:st.isPointerOverContainer,item:this,distance:st.distance,dropPoint:st.dropPoint,event:st.event})})}_assignDefaults(ye){const{lockAxis:st,dragStartDelay:Ue,constrainPosition:Te,previewClass:ct,boundaryElement:Fe,draggingDisabled:qe,rootElementSelector:Zt,previewContainer:wn}=ye;this.disabled=qe??!1,this.dragStartDelay=Ue||0,st&&(this.lockAxis=st),Te&&(this.constrainPosition=Te),ct&&(this.previewClass=ct),Fe&&(this.boundaryElement=Fe),Zt&&(this.rootElementSelector=Zt),wn&&(this.previewContainer=wn)}_setupHandlesListener(){this._handles.changes.pipe((0,Ne.O)(this._handles),(0,Ke.b)(ye=>{const st=ye.filter(Ue=>Ue._parentDrag===this).map(Ue=>Ue.element);this._selfHandle&&this.rootElementSelector&&st.push(this.element),this._dragRef.withHandles(st)}),(0,nt.w)(ye=>(0,be.T)(...ye.map(st=>st._stateChanges.pipe((0,Ne.O)(st))))),(0,Ve.R)(this._destroyed)).subscribe(ye=>{const st=this._dragRef,Ue=ye.element.nativeElement;ye.disabled?st.disableHandle(Ue):st.enableHandle(Ue)})}}return Ie._dragInstances=[],Ie.\u0275fac=function(ye){return new(ye||Ie)(a.Y36(a.SBq),a.Y36(mi,12),a.Y36(T.K0),a.Y36(a.R0b),a.Y36(a.s_b),a.Y36(mn,8),a.Y36(We.Is,8),a.Y36(zt),a.Y36(a.sBO),a.Y36(li,10),a.Y36(Lt,12))},Ie.\u0275dir=a.lG2({type:Ie,selectors:[["","cdkDrag",""]],contentQueries:function(ye,st,Ue){if(1&ye&&(a.Suo(Ue,En,5),a.Suo(Ue,Si,5),a.Suo(Ue,li,5)),2&ye){let Te;a.iGM(Te=a.CRH())&&(st._previewTemplate=Te.first),a.iGM(Te=a.CRH())&&(st._placeholderTemplate=Te.first),a.iGM(Te=a.CRH())&&(st._handles=Te)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(ye,st){2&ye&&a.ekj("cdk-drag-disabled",st.disabled)("cdk-drag-dragging",st._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[a._Bn([{provide:Lt,useExisting:Ie}]),a.TTD]}),Ie})(),wt=(()=>{class Ie{}return Ie.\u0275fac=function(ye){return new(ye||Ie)},Ie.\u0275mod=a.oAB({type:Ie}),Ie.\u0275inj=a.cJS({providers:[zt],imports:[O.ZD]}),Ie})()},9521:(ai,qt,N)=>{"use strict";N.d(qt,{A:()=>et,JH:()=>ft,JU:()=>Ee,K5:()=>R,Ku:()=>Ve,LH:()=>nt,L_:()=>be,MW:()=>An,Mf:()=>O,SV:()=>We,Sd:()=>Je,VM:()=>Ne,Vb:()=>wo,Z:()=>mn,ZH:()=>T,aO:()=>Tn,b2:()=>ss,hY:()=>ce,jx:()=>Re,oh:()=>Ke,uR:()=>Be,xE:()=>Me,yY:()=>Ye,zL:()=>xe});const T=8,O=9,R=13,Ee=16,Re=17,xe=18,ce=27,be=32,Ve=33,Ne=34,Be=35,Je=36,Ke=37,nt=38,We=39,ft=40,Ye=46,Me=48,Tn=57,et=65,mn=90,An=91,ss=224;function wo(nr,...Jr){return Jr.length?Jr.some(Ps=>nr[Ps]):nr.altKey||nr.shiftKey||nr.ctrlKey||nr.metaKey}},9643:(ai,qt,N)=>{"use strict";N.d(qt,{Q8:()=>Ce,wD:()=>xe});var a=N(1281),T=N(4650),O=N(9751),ue=N(7579),R=N(8372);let Ee=(()=>{class re{create(be){return typeof MutationObserver>"u"?null:new MutationObserver(be)}}return re.\u0275fac=function(be){return new(be||re)},re.\u0275prov=T.Yz7({token:re,factory:re.\u0275fac,providedIn:"root"}),re})(),Re=(()=>{class re{constructor(be){this._mutationObserverFactory=be,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((be,Ve)=>this._cleanupObserver(Ve))}observe(be){const Ve=(0,a.fI)(be);return new O.y(Ne=>{const Je=this._observeElement(Ve).subscribe(Ne);return()=>{Je.unsubscribe(),this._unobserveElement(Ve)}})}_observeElement(be){if(this._observedElements.has(be))this._observedElements.get(be).count++;else{const Ve=new ue.x,Ne=this._mutationObserverFactory.create(Be=>Ve.next(Be));Ne&&Ne.observe(be,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(be,{observer:Ne,stream:Ve,count:1})}return this._observedElements.get(be).stream}_unobserveElement(be){this._observedElements.has(be)&&(this._observedElements.get(be).count--,this._observedElements.get(be).count||this._cleanupObserver(be))}_cleanupObserver(be){if(this._observedElements.has(be)){const{observer:Ve,stream:Ne}=this._observedElements.get(be);Ve&&Ve.disconnect(),Ne.complete(),this._observedElements.delete(be)}}}return re.\u0275fac=function(be){return new(be||re)(T.LFG(Ee))},re.\u0275prov=T.Yz7({token:re,factory:re.\u0275fac,providedIn:"root"}),re})(),xe=(()=>{class re{constructor(be,Ve,Ne){this._contentObserver=be,this._elementRef=Ve,this._ngZone=Ne,this.event=new T.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(be){this._disabled=(0,a.Ig)(be),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(be){this._debounce=(0,a.su)(be),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const be=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?be.pipe((0,R.b)(this.debounce)):be).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return re.\u0275fac=function(be){return new(be||re)(T.Y36(Re),T.Y36(T.SBq),T.Y36(T.R0b))},re.\u0275dir=T.lG2({type:re,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),re})(),Ce=(()=>{class re{}return re.\u0275fac=function(be){return new(be||re)},re.\u0275mod=T.oAB({type:re}),re.\u0275inj=T.cJS({providers:[Ee]}),re})()},8184:(ai,qt,N)=>{"use strict";N.d(qt,{U8:()=>Rt,X_:()=>Ye,_G:()=>Bt,aV:()=>_n,pI:()=>Pn,xu:()=>pn});var a=N(6270),T=N(6895),O=N(4650),ue=N(1281),R=N(3353),Ee=N(445),Re=N(4080),xe=N(7579),Ce=N(727),re=N(6451),ce=N(5698),be=N(2722),Ve=N(2529),Ne=N(9521);const Be=(0,R.Mq)();class Je{constructor(le,Ae){this._viewportRuler=le,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Ae}attach(){}enable(){if(this._canBeEnabled()){const le=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=le.style.left||"",this._previousHTMLStyles.top=le.style.top||"",le.style.left=(0,ue.HM)(-this._previousScrollPosition.left),le.style.top=(0,ue.HM)(-this._previousScrollPosition.top),le.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const le=this._document.documentElement,ot=le.style,zt=this._document.body.style,Lt=ot.scrollBehavior||"",Mt=zt.scrollBehavior||"";this._isEnabled=!1,ot.left=this._previousHTMLStyles.left,ot.top=this._previousHTMLStyles.top,le.classList.remove("cdk-global-scrollblock"),Be&&(ot.scrollBehavior=zt.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Be&&(ot.scrollBehavior=Lt,zt.scrollBehavior=Mt)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Ae=this._document.body,ot=this._viewportRuler.getViewportSize();return Ae.scrollHeight>ot.height||Ae.scrollWidth>ot.width}}class nt{constructor(le,Ae,ot,zt){this._scrollDispatcher=le,this._ngZone=Ae,this._viewportRuler=ot,this._config=zt,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(le){this._overlayRef=le}enable(){if(this._scrollSubscription)return;const le=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=le.subscribe(()=>{const Ae=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Ae-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=le.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class We{enable(){}disable(){}attach(){}}function ft(lt,le){return le.some(Ae=>lt.bottom<Ae.top||lt.top>Ae.bottom||lt.right<Ae.left||lt.left>Ae.right)}function pt(lt,le){return le.some(Ae=>lt.top<Ae.top||lt.bottom>Ae.bottom||lt.left<Ae.left||lt.right>Ae.right)}class tt{constructor(le,Ae,ot,zt){this._scrollDispatcher=le,this._viewportRuler=Ae,this._ngZone=ot,this._config=zt,this._scrollSubscription=null}attach(le){this._overlayRef=le}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Ae=this._overlayRef.overlayElement.getBoundingClientRect(),{width:ot,height:zt}=this._viewportRuler.getViewportSize();ft(Ae,[{width:ot,height:zt,bottom:zt,right:ot,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let je=(()=>{class lt{constructor(Ae,ot,zt,Lt){this._scrollDispatcher=Ae,this._viewportRuler=ot,this._ngZone=zt,this.noop=()=>new We,this.close=Mt=>new nt(this._scrollDispatcher,this._ngZone,this._viewportRuler,Mt),this.block=()=>new Je(this._viewportRuler,this._document),this.reposition=Mt=>new tt(this._scrollDispatcher,this._viewportRuler,this._ngZone,Mt),this._document=Lt}}return lt.\u0275fac=function(Ae){return new(Ae||lt)(O.LFG(a.mF),O.LFG(a.rL),O.LFG(O.R0b),O.LFG(T.K0))},lt.\u0275prov=O.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"root"}),lt})();class Ye{constructor(le){if(this.scrollStrategy=new We,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,le){const Ae=Object.keys(le);for(const ot of Ae)void 0!==le[ot]&&(this[ot]=le[ot])}}}class St{constructor(le,Ae){this.connectionPair=le,this.scrollableViewProperties=Ae}}let xn=(()=>{class lt{constructor(Ae){this._attachedOverlays=[],this._document=Ae}ngOnDestroy(){this.detach()}add(Ae){this.remove(Ae),this._attachedOverlays.push(Ae)}remove(Ae){const ot=this._attachedOverlays.indexOf(Ae);ot>-1&&this._attachedOverlays.splice(ot,1),0===this._attachedOverlays.length&&this.detach()}}return lt.\u0275fac=function(Ae){return new(Ae||lt)(O.LFG(T.K0))},lt.\u0275prov=O.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"root"}),lt})(),In=(()=>{class lt extends xn{constructor(Ae,ot){super(Ae),this._ngZone=ot,this._keydownListener=zt=>{const Lt=this._attachedOverlays;for(let Mt=Lt.length-1;Mt>-1;Mt--)if(Lt[Mt]._keydownEvents.observers.length>0){const Tt=Lt[Mt]._keydownEvents;this._ngZone?this._ngZone.run(()=>Tt.next(zt)):Tt.next(zt);break}}}add(Ae){super.add(Ae),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return lt.\u0275fac=function(Ae){return new(Ae||lt)(O.LFG(T.K0),O.LFG(O.R0b,8))},lt.\u0275prov=O.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"root"}),lt})(),cn=(()=>{class lt extends xn{constructor(Ae,ot,zt){super(Ae),this._platform=ot,this._ngZone=zt,this._cursorStyleIsSet=!1,this._pointerDownListener=Lt=>{this._pointerDownEventTarget=(0,R.sA)(Lt)},this._clickListener=Lt=>{const Mt=(0,R.sA)(Lt),Tt="click"===Lt.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Mt;this._pointerDownEventTarget=null;const mn=this._attachedOverlays.slice();for(let An=mn.length-1;An>-1;An--){const Ln=mn[An];if(Ln._outsidePointerEvents.observers.length<1||!Ln.hasAttached())continue;if(Ln.overlayElement.contains(Mt)||Ln.overlayElement.contains(Tt))break;const mi=Ln._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>mi.next(Lt)):mi.next(Lt)}}}add(Ae){if(super.add(Ae),!this._isAttached){const ot=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(ot)):this._addEventListeners(ot),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=ot.style.cursor,ot.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Ae=this._document.body;Ae.removeEventListener("pointerdown",this._pointerDownListener,!0),Ae.removeEventListener("click",this._clickListener,!0),Ae.removeEventListener("auxclick",this._clickListener,!0),Ae.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Ae.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(Ae){Ae.addEventListener("pointerdown",this._pointerDownListener,!0),Ae.addEventListener("click",this._clickListener,!0),Ae.addEventListener("auxclick",this._clickListener,!0),Ae.addEventListener("contextmenu",this._clickListener,!0)}}return lt.\u0275fac=function(Ae){return new(Ae||lt)(O.LFG(T.K0),O.LFG(R.t4),O.LFG(O.R0b,8))},lt.\u0275prov=O.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"root"}),lt})(),Gn=(()=>{class lt{constructor(Ae,ot){this._platform=ot,this._document=Ae}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Ae="cdk-overlay-container";if(this._platform.isBrowser||(0,R.Oy)()){const zt=this._document.querySelectorAll(`.${Ae}[platform="server"], .${Ae}[platform="test"]`);for(let Lt=0;Lt<zt.length;Lt++)zt[Lt].remove()}const ot=this._document.createElement("div");ot.classList.add(Ae),(0,R.Oy)()?ot.setAttribute("platform","test"):this._platform.isBrowser||ot.setAttribute("platform","server"),this._document.body.appendChild(ot),this._containerElement=ot}}return lt.\u0275fac=function(Ae){return new(Ae||lt)(O.LFG(T.K0),O.LFG(R.t4))},lt.\u0275prov=O.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"root"}),lt})();class Tn{constructor(le,Ae,ot,zt,Lt,Mt,Tt,mn,An,Ln=!1){this._portalOutlet=le,this._host=Ae,this._pane=ot,this._config=zt,this._ngZone=Lt,this._keyboardDispatcher=Mt,this._document=Tt,this._location=mn,this._outsideClickDispatcher=An,this._animationsDisabled=Ln,this._backdropElement=null,this._backdropClick=new xe.x,this._attachments=new xe.x,this._detachments=new xe.x,this._locationChanges=Ce.w0.EMPTY,this._backdropClickHandler=mi=>this._backdropClick.next(mi),this._backdropTransitionendHandler=mi=>{this._disposeBackdrop(mi.target)},this._keydownEvents=new xe.x,this._outsidePointerEvents=new xe.x,zt.scrollStrategy&&(this._scrollStrategy=zt.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=zt.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(le){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const Ae=this._portalOutlet.attach(le);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,ce.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),Ae}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const le=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),le}dispose(){const le=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,le&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(le){le!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=le,this.hasAttached()&&(le.attach(this),this.updatePosition()))}updateSize(le){this._config={...this._config,...le},this._updateElementSize()}setDirection(le){this._config={...this._config,direction:le},this._updateElementDirection()}addPanelClass(le){this._pane&&this._toggleClasses(this._pane,le,!0)}removePanelClass(le){this._pane&&this._toggleClasses(this._pane,le,!1)}getDirection(){const le=this._config.direction;return le?"string"==typeof le?le:le.value:"ltr"}updateScrollStrategy(le){le!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=le,this.hasAttached()&&(le.attach(this),le.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const le=this._pane.style;le.width=(0,ue.HM)(this._config.width),le.height=(0,ue.HM)(this._config.height),le.minWidth=(0,ue.HM)(this._config.minWidth),le.minHeight=(0,ue.HM)(this._config.minHeight),le.maxWidth=(0,ue.HM)(this._config.maxWidth),le.maxHeight=(0,ue.HM)(this._config.maxHeight)}_togglePointerEvents(le){this._pane.style.pointerEvents=le?"":"none"}_attachBackdrop(){const le="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(le)})}):this._backdropElement.classList.add(le)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const le=this._backdropElement;if(le){if(this._animationsDisabled)return void this._disposeBackdrop(le);le.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{le.addEventListener("transitionend",this._backdropTransitionendHandler)}),le.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(le)},500))}}_toggleClasses(le,Ae,ot){const zt=(0,ue.Eq)(Ae||[]).filter(Lt=>!!Lt);zt.length&&(ot?le.classList.add(...zt):le.classList.remove(...zt))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const le=this._ngZone.onStable.pipe((0,be.R)((0,re.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),le.unsubscribe())})})}_disposeScrollStrategy(){const le=this._scrollStrategy;le&&(le.disable(),le.detach&&le.detach())}_disposeBackdrop(le){le&&(le.removeEventListener("click",this._backdropClickHandler),le.removeEventListener("transitionend",this._backdropTransitionendHandler),le.remove(),this._backdropElement===le&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Wn="cdk-overlay-connected-position-bounding-box",Ht=/([A-Za-z%]+)$/;class Bt{constructor(le,Ae,ot,zt,Lt){this._viewportRuler=Ae,this._document=ot,this._platform=zt,this._overlayContainer=Lt,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new xe.x,this._resizeSubscription=Ce.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(le)}get positions(){return this._preferredPositions}attach(le){this._validatePositions(),le.hostElement.classList.add(Wn),this._overlayRef=le,this._boundingBox=le.hostElement,this._pane=le.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const le=this._originRect,Ae=this._overlayRect,ot=this._viewportRect,zt=this._containerRect,Lt=[];let Mt;for(let Tt of this._preferredPositions){let mn=this._getOriginPoint(le,zt,Tt),An=this._getOverlayPoint(mn,Ae,Tt),Ln=this._getOverlayFit(An,Ae,ot,Tt);if(Ln.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Tt,mn);this._canFitWithFlexibleDimensions(Ln,An,ot)?Lt.push({position:Tt,origin:mn,overlayRect:Ae,boundingBoxRect:this._calculateBoundingBoxRect(mn,Tt)}):(!Mt||Mt.overlayFit.visibleArea<Ln.visibleArea)&&(Mt={overlayFit:Ln,overlayPoint:An,originPoint:mn,position:Tt,overlayRect:Ae})}if(Lt.length){let Tt=null,mn=-1;for(const An of Lt){const Ln=An.boundingBoxRect.width*An.boundingBoxRect.height*(An.position.weight||1);Ln>mn&&(mn=Ln,Tt=An)}return this._isPushed=!1,void this._applyPosition(Tt.position,Tt.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Mt.position,Mt.originPoint);this._applyPosition(Mt.position,Mt.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Kt(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Wn),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const le=this._lastPosition;if(le){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Ae=this._getOriginPoint(this._originRect,this._containerRect,le);this._applyPosition(le,Ae)}else this.apply()}withScrollableContainers(le){return this._scrollables=le,this}withPositions(le){return this._preferredPositions=le,-1===le.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(le){return this._viewportMargin=le,this}withFlexibleDimensions(le=!0){return this._hasFlexibleDimensions=le,this}withGrowAfterOpen(le=!0){return this._growAfterOpen=le,this}withPush(le=!0){return this._canPush=le,this}withLockedPosition(le=!0){return this._positionLocked=le,this}setOrigin(le){return this._origin=le,this}withDefaultOffsetX(le){return this._offsetX=le,this}withDefaultOffsetY(le){return this._offsetY=le,this}withTransformOriginOn(le){return this._transformOriginSelector=le,this}_getOriginPoint(le,Ae,ot){let zt,Lt;if("center"==ot.originX)zt=le.left+le.width/2;else{const Mt=this._isRtl()?le.right:le.left,Tt=this._isRtl()?le.left:le.right;zt="start"==ot.originX?Mt:Tt}return Ae.left<0&&(zt-=Ae.left),Lt="center"==ot.originY?le.top+le.height/2:"top"==ot.originY?le.top:le.bottom,Ae.top<0&&(Lt-=Ae.top),{x:zt,y:Lt}}_getOverlayPoint(le,Ae,ot){let zt,Lt;return zt="center"==ot.overlayX?-Ae.width/2:"start"===ot.overlayX?this._isRtl()?-Ae.width:0:this._isRtl()?0:-Ae.width,Lt="center"==ot.overlayY?-Ae.height/2:"top"==ot.overlayY?0:-Ae.height,{x:le.x+zt,y:le.y+Lt}}_getOverlayFit(le,Ae,ot,zt){const Lt=Vt(Ae);let{x:Mt,y:Tt}=le,mn=this._getOffset(zt,"x"),An=this._getOffset(zt,"y");mn&&(Mt+=mn),An&&(Tt+=An);let Xi=0-Tt,li=Tt+Lt.height-ot.height,Bi=this._subtractOverflows(Lt.width,0-Mt,Mt+Lt.width-ot.width),Si=this._subtractOverflows(Lt.height,Xi,li),_r=Bi*Si;return{visibleArea:_r,isCompletelyWithinViewport:Lt.width*Lt.height===_r,fitsInViewportVertically:Si===Lt.height,fitsInViewportHorizontally:Bi==Lt.width}}_canFitWithFlexibleDimensions(le,Ae,ot){if(this._hasFlexibleDimensions){const zt=ot.bottom-Ae.y,Lt=ot.right-Ae.x,Mt=et(this._overlayRef.getConfig().minHeight),Tt=et(this._overlayRef.getConfig().minWidth),An=le.fitsInViewportHorizontally||null!=Tt&&Tt<=Lt;return(le.fitsInViewportVertically||null!=Mt&&Mt<=zt)&&An}return!1}_pushOverlayOnScreen(le,Ae,ot){if(this._previousPushAmount&&this._positionLocked)return{x:le.x+this._previousPushAmount.x,y:le.y+this._previousPushAmount.y};const zt=Vt(Ae),Lt=this._viewportRect,Mt=Math.max(le.x+zt.width-Lt.width,0),Tt=Math.max(le.y+zt.height-Lt.height,0),mn=Math.max(Lt.top-ot.top-le.y,0),An=Math.max(Lt.left-ot.left-le.x,0);let Ln=0,mi=0;return Ln=zt.width<=Lt.width?An||-Mt:le.x<this._viewportMargin?Lt.left-ot.left-le.x:0,mi=zt.height<=Lt.height?mn||-Tt:le.y<this._viewportMargin?Lt.top-ot.top-le.y:0,this._previousPushAmount={x:Ln,y:mi},{x:le.x+Ln,y:le.y+mi}}_applyPosition(le,Ae){if(this._setTransformOrigin(le),this._setOverlayElementStyles(Ae,le),this._setBoundingBoxStyles(Ae,le),le.panelClass&&this._addPanelClasses(le.panelClass),this._lastPosition=le,this._positionChanges.observers.length){const ot=this._getScrollVisibility(),zt=new St(le,ot);this._positionChanges.next(zt)}this._isInitialRender=!1}_setTransformOrigin(le){if(!this._transformOriginSelector)return;const Ae=this._boundingBox.querySelectorAll(this._transformOriginSelector);let ot,zt=le.overlayY;ot="center"===le.overlayX?"center":this._isRtl()?"start"===le.overlayX?"right":"left":"start"===le.overlayX?"left":"right";for(let Lt=0;Lt<Ae.length;Lt++)Ae[Lt].style.transformOrigin=`${ot} ${zt}`}_calculateBoundingBoxRect(le,Ae){const ot=this._viewportRect,zt=this._isRtl();let Lt,Mt,Tt,Ln,mi,Xi;if("top"===Ae.overlayY)Mt=le.y,Lt=ot.height-Mt+this._viewportMargin;else if("bottom"===Ae.overlayY)Tt=ot.height-le.y+2*this._viewportMargin,Lt=ot.height-Tt+this._viewportMargin;else{const li=Math.min(ot.bottom-le.y+ot.top,le.y),Bi=this._lastBoundingBoxSize.height;Lt=2*li,Mt=le.y-li,Lt>Bi&&!this._isInitialRender&&!this._growAfterOpen&&(Mt=le.y-Bi/2)}if("end"===Ae.overlayX&&!zt||"start"===Ae.overlayX&&zt)Xi=ot.width-le.x+this._viewportMargin,Ln=le.x-this._viewportMargin;else if("start"===Ae.overlayX&&!zt||"end"===Ae.overlayX&&zt)mi=le.x,Ln=ot.right-le.x;else{const li=Math.min(ot.right-le.x+ot.left,le.x),Bi=this._lastBoundingBoxSize.width;Ln=2*li,mi=le.x-li,Ln>Bi&&!this._isInitialRender&&!this._growAfterOpen&&(mi=le.x-Bi/2)}return{top:Mt,left:mi,bottom:Tt,right:Xi,width:Ln,height:Lt}}_setBoundingBoxStyles(le,Ae){const ot=this._calculateBoundingBoxRect(le,Ae);!this._isInitialRender&&!this._growAfterOpen&&(ot.height=Math.min(ot.height,this._lastBoundingBoxSize.height),ot.width=Math.min(ot.width,this._lastBoundingBoxSize.width));const zt={};if(this._hasExactPosition())zt.top=zt.left="0",zt.bottom=zt.right=zt.maxHeight=zt.maxWidth="",zt.width=zt.height="100%";else{const Lt=this._overlayRef.getConfig().maxHeight,Mt=this._overlayRef.getConfig().maxWidth;zt.height=(0,ue.HM)(ot.height),zt.top=(0,ue.HM)(ot.top),zt.bottom=(0,ue.HM)(ot.bottom),zt.width=(0,ue.HM)(ot.width),zt.left=(0,ue.HM)(ot.left),zt.right=(0,ue.HM)(ot.right),zt.alignItems="center"===Ae.overlayX?"center":"end"===Ae.overlayX?"flex-end":"flex-start",zt.justifyContent="center"===Ae.overlayY?"center":"bottom"===Ae.overlayY?"flex-end":"flex-start",Lt&&(zt.maxHeight=(0,ue.HM)(Lt)),Mt&&(zt.maxWidth=(0,ue.HM)(Mt))}this._lastBoundingBoxSize=ot,Kt(this._boundingBox.style,zt)}_resetBoundingBoxStyles(){Kt(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Kt(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(le,Ae){const ot={},zt=this._hasExactPosition(),Lt=this._hasFlexibleDimensions,Mt=this._overlayRef.getConfig();if(zt){const Ln=this._viewportRuler.getViewportScrollPosition();Kt(ot,this._getExactOverlayY(Ae,le,Ln)),Kt(ot,this._getExactOverlayX(Ae,le,Ln))}else ot.position="static";let Tt="",mn=this._getOffset(Ae,"x"),An=this._getOffset(Ae,"y");mn&&(Tt+=`translateX(${mn}px) `),An&&(Tt+=`translateY(${An}px)`),ot.transform=Tt.trim(),Mt.maxHeight&&(zt?ot.maxHeight=(0,ue.HM)(Mt.maxHeight):Lt&&(ot.maxHeight="")),Mt.maxWidth&&(zt?ot.maxWidth=(0,ue.HM)(Mt.maxWidth):Lt&&(ot.maxWidth="")),Kt(this._pane.style,ot)}_getExactOverlayY(le,Ae,ot){let zt={top:"",bottom:""},Lt=this._getOverlayPoint(Ae,this._overlayRect,le);return this._isPushed&&(Lt=this._pushOverlayOnScreen(Lt,this._overlayRect,ot)),"bottom"===le.overlayY?zt.bottom=this._document.documentElement.clientHeight-(Lt.y+this._overlayRect.height)+"px":zt.top=(0,ue.HM)(Lt.y),zt}_getExactOverlayX(le,Ae,ot){let Mt,zt={left:"",right:""},Lt=this._getOverlayPoint(Ae,this._overlayRect,le);return this._isPushed&&(Lt=this._pushOverlayOnScreen(Lt,this._overlayRect,ot)),Mt=this._isRtl()?"end"===le.overlayX?"left":"right":"end"===le.overlayX?"right":"left","right"===Mt?zt.right=this._document.documentElement.clientWidth-(Lt.x+this._overlayRect.width)+"px":zt.left=(0,ue.HM)(Lt.x),zt}_getScrollVisibility(){const le=this._getOriginRect(),Ae=this._pane.getBoundingClientRect(),ot=this._scrollables.map(zt=>zt.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:pt(le,ot),isOriginOutsideView:ft(le,ot),isOverlayClipped:pt(Ae,ot),isOverlayOutsideView:ft(Ae,ot)}}_subtractOverflows(le,...Ae){return Ae.reduce((ot,zt)=>ot-Math.max(zt,0),le)}_getNarrowedViewportRect(){const le=this._document.documentElement.clientWidth,Ae=this._document.documentElement.clientHeight,ot=this._viewportRuler.getViewportScrollPosition();return{top:ot.top+this._viewportMargin,left:ot.left+this._viewportMargin,right:ot.left+le-this._viewportMargin,bottom:ot.top+Ae-this._viewportMargin,width:le-2*this._viewportMargin,height:Ae-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(le,Ae){return"x"===Ae?le.offsetX??this._offsetX:le.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(le){this._pane&&(0,ue.Eq)(le).forEach(Ae=>{""!==Ae&&-1===this._appliedPanelClasses.indexOf(Ae)&&(this._appliedPanelClasses.push(Ae),this._pane.classList.add(Ae))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(le=>{this._pane.classList.remove(le)}),this._appliedPanelClasses=[])}_getOriginRect(){const le=this._origin;if(le instanceof O.SBq)return le.nativeElement.getBoundingClientRect();if(le instanceof Element)return le.getBoundingClientRect();const Ae=le.width||0,ot=le.height||0;return{top:le.y,bottom:le.y+ot,left:le.x,right:le.x+Ae,height:ot,width:Ae}}}function Kt(lt,le){for(let Ae in le)le.hasOwnProperty(Ae)&&(lt[Ae]=le[Ae]);return lt}function et(lt){if("number"!=typeof lt&&null!=lt){const[le,Ae]=lt.split(Ht);return Ae&&"px"!==Ae?null:parseFloat(le)}return lt||null}function Vt(lt){return{top:Math.floor(lt.top),right:Math.floor(lt.right),bottom:Math.floor(lt.bottom),left:Math.floor(lt.left),width:Math.floor(lt.width),height:Math.floor(lt.height)}}const en="cdk-global-overlay-wrapper";class gn{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(le){const Ae=le.getConfig();this._overlayRef=le,this._width&&!Ae.width&&le.updateSize({width:this._width}),this._height&&!Ae.height&&le.updateSize({height:this._height}),le.hostElement.classList.add(en),this._isDisposed=!1}top(le=""){return this._bottomOffset="",this._topOffset=le,this._alignItems="flex-start",this}left(le=""){return this._xOffset=le,this._xPosition="left",this}bottom(le=""){return this._topOffset="",this._bottomOffset=le,this._alignItems="flex-end",this}right(le=""){return this._xOffset=le,this._xPosition="right",this}start(le=""){return this._xOffset=le,this._xPosition="start",this}end(le=""){return this._xOffset=le,this._xPosition="end",this}width(le=""){return this._overlayRef?this._overlayRef.updateSize({width:le}):this._width=le,this}height(le=""){return this._overlayRef?this._overlayRef.updateSize({height:le}):this._height=le,this}centerHorizontally(le=""){return this.left(le),this._xPosition="center",this}centerVertically(le=""){return this.top(le),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const le=this._overlayRef.overlayElement.style,Ae=this._overlayRef.hostElement.style,ot=this._overlayRef.getConfig(),{width:zt,height:Lt,maxWidth:Mt,maxHeight:Tt}=ot,mn=!("100%"!==zt&&"100vw"!==zt||Mt&&"100%"!==Mt&&"100vw"!==Mt),An=!("100%"!==Lt&&"100vh"!==Lt||Tt&&"100%"!==Tt&&"100vh"!==Tt),Ln=this._xPosition,mi=this._xOffset,Xi="rtl"===this._overlayRef.getConfig().direction;let li="",Bi="",Si="";mn?Si="flex-start":"center"===Ln?(Si="center",Xi?Bi=mi:li=mi):Xi?"left"===Ln||"end"===Ln?(Si="flex-end",li=mi):("right"===Ln||"start"===Ln)&&(Si="flex-start",Bi=mi):"left"===Ln||"start"===Ln?(Si="flex-start",li=mi):("right"===Ln||"end"===Ln)&&(Si="flex-end",Bi=mi),le.position=this._cssPosition,le.marginLeft=mn?"0":li,le.marginTop=An?"0":this._topOffset,le.marginBottom=this._bottomOffset,le.marginRight=mn?"0":Bi,Ae.justifyContent=Si,Ae.alignItems=An?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const le=this._overlayRef.overlayElement.style,Ae=this._overlayRef.hostElement,ot=Ae.style;Ae.classList.remove(en),ot.justifyContent=ot.alignItems=le.marginTop=le.marginBottom=le.marginLeft=le.marginRight=le.position="",this._overlayRef=null,this._isDisposed=!0}}let On=(()=>{class lt{constructor(Ae,ot,zt,Lt){this._viewportRuler=Ae,this._document=ot,this._platform=zt,this._overlayContainer=Lt}global(){return new gn}flexibleConnectedTo(Ae){return new Bt(Ae,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return lt.\u0275fac=function(Ae){return new(Ae||lt)(O.LFG(a.rL),O.LFG(T.K0),O.LFG(R.t4),O.LFG(Gn))},lt.\u0275prov=O.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"root"}),lt})(),Qn=0,_n=(()=>{class lt{constructor(Ae,ot,zt,Lt,Mt,Tt,mn,An,Ln,mi,Xi,li){this.scrollStrategies=Ae,this._overlayContainer=ot,this._componentFactoryResolver=zt,this._positionBuilder=Lt,this._keyboardDispatcher=Mt,this._injector=Tt,this._ngZone=mn,this._document=An,this._directionality=Ln,this._location=mi,this._outsideClickDispatcher=Xi,this._animationsModuleType=li}create(Ae){const ot=this._createHostElement(),zt=this._createPaneElement(ot),Lt=this._createPortalOutlet(zt),Mt=new Ye(Ae);return Mt.direction=Mt.direction||this._directionality.value,new Tn(Lt,ot,zt,Mt,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(Ae){const ot=this._document.createElement("div");return ot.id="cdk-overlay-"+Qn++,ot.classList.add("cdk-overlay-pane"),Ae.appendChild(ot),ot}_createHostElement(){const Ae=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Ae),Ae}_createPortalOutlet(Ae){return this._appRef||(this._appRef=this._injector.get(O.z2F)),new Re.u0(Ae,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return lt.\u0275fac=function(Ae){return new(Ae||lt)(O.LFG(je),O.LFG(Gn),O.LFG(O._Vd),O.LFG(On),O.LFG(In),O.LFG(O.zs3),O.LFG(O.R0b),O.LFG(T.K0),O.LFG(Ee.Is),O.LFG(T.Ye),O.LFG(cn),O.LFG(O.QbO,8))},lt.\u0275prov=O.Yz7({token:lt,factory:lt.\u0275fac}),lt})();const Nn=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],yn=new O.OlP("cdk-connected-overlay-scroll-strategy");let pn=(()=>{class lt{constructor(Ae){this.elementRef=Ae}}return lt.\u0275fac=function(Ae){return new(Ae||lt)(O.Y36(O.SBq))},lt.\u0275dir=O.lG2({type:lt,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),lt})(),Pn=(()=>{class lt{constructor(Ae,ot,zt,Lt,Mt){this._overlay=Ae,this._dir=Mt,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Ce.w0.EMPTY,this._attachSubscription=Ce.w0.EMPTY,this._detachSubscription=Ce.w0.EMPTY,this._positionSubscription=Ce.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new O.vpe,this.positionChange=new O.vpe,this.attach=new O.vpe,this.detach=new O.vpe,this.overlayKeydown=new O.vpe,this.overlayOutsideClick=new O.vpe,this._templatePortal=new Re.UE(ot,zt),this._scrollStrategyFactory=Lt,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(Ae){this._offsetX=Ae,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(Ae){this._offsetY=Ae,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(Ae){this._hasBackdrop=(0,ue.Ig)(Ae)}get lockPosition(){return this._lockPosition}set lockPosition(Ae){this._lockPosition=(0,ue.Ig)(Ae)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(Ae){this._flexibleDimensions=(0,ue.Ig)(Ae)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(Ae){this._growAfterOpen=(0,ue.Ig)(Ae)}get push(){return this._push}set push(Ae){this._push=(0,ue.Ig)(Ae)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(Ae){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),Ae.origin&&this.open&&this._position.apply()),Ae.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Nn);const Ae=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=Ae.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=Ae.detachments().subscribe(()=>this.detach.emit()),Ae.keydownEvents().subscribe(ot=>{this.overlayKeydown.next(ot),ot.keyCode===Ne.hY&&!this.disableClose&&!(0,Ne.Vb)(ot)&&(ot.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(ot=>{this.overlayOutsideClick.next(ot)})}_buildConfig(){const Ae=this._position=this.positionStrategy||this._createPositionStrategy(),ot=new Ye({direction:this._dir,positionStrategy:Ae,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(ot.width=this.width),(this.height||0===this.height)&&(ot.height=this.height),(this.minWidth||0===this.minWidth)&&(ot.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(ot.minHeight=this.minHeight),this.backdropClass&&(ot.backdropClass=this.backdropClass),this.panelClass&&(ot.panelClass=this.panelClass),ot}_updatePositionStrategy(Ae){const ot=this.positions.map(zt=>({originX:zt.originX,originY:zt.originY,overlayX:zt.overlayX,overlayY:zt.overlayY,offsetX:zt.offsetX||this.offsetX,offsetY:zt.offsetY||this.offsetY,panelClass:zt.panelClass||void 0}));return Ae.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(ot).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const Ae=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(Ae),Ae}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof pn?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(Ae=>{this.backdropClick.emit(Ae)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe((0,Ve.o)(()=>this.positionChange.observers.length>0)).subscribe(Ae=>{this.positionChange.emit(Ae),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return lt.\u0275fac=function(Ae){return new(Ae||lt)(O.Y36(_n),O.Y36(O.Rgc),O.Y36(O.s_b),O.Y36(yn),O.Y36(Ee.Is,8))},lt.\u0275dir=O.lG2({type:lt,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[O.TTD]}),lt})();const tn={provide:yn,deps:[_n],useFactory:function Nt(lt){return()=>lt.scrollStrategies.reposition()}};let Rt=(()=>{class lt{}return lt.\u0275fac=function(Ae){return new(Ae||lt)},lt.\u0275mod=O.oAB({type:lt}),lt.\u0275inj=O.cJS({providers:[_n,tn],imports:[Ee.vT,Re.eL,a.Cl,a.Cl]}),lt})()},3353:(ai,qt,N)=>{"use strict";N.d(qt,{Mq:()=>Ne,Oy:()=>pt,ht:()=>We,i$:()=>ce,kV:()=>nt,qK:()=>xe,sA:()=>ft,t4:()=>ue});var a=N(4650),T=N(6895);let O;try{O=typeof Intl<"u"&&Intl.v8BreakIterator}catch{O=!1}let Ee,ue=(()=>{class tt{constructor(Ye){this._platformId=Ye,this.isBrowser=this._platformId?(0,T.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!O)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return tt.\u0275fac=function(Ye){return new(Ye||tt)(a.LFG(a.Lbi))},tt.\u0275prov=a.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"root"}),tt})();const Re=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function xe(){if(Ee)return Ee;if("object"!=typeof document||!document)return Ee=new Set(Re),Ee;let tt=document.createElement("input");return Ee=new Set(Re.filter(je=>(tt.setAttribute("type",je),tt.type===je))),Ee}let Ce,Ve,Je;function ce(tt){return function re(){if(null==Ce&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ce=!0}))}finally{Ce=Ce||!1}return Ce}()?tt:!!tt.capture}function Ne(){if(null==Ve){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ve=!1,Ve;if("scrollBehavior"in document.documentElement.style)Ve=!0;else{const tt=Element.prototype.scrollTo;Ve=!!tt&&!/\{\s*\[native code\]\s*\}/.test(tt.toString())}}return Ve}function nt(tt){if(function Ke(){if(null==Je){const tt=typeof document<"u"?document.head:null;Je=!(!tt||!tt.createShadowRoot&&!tt.attachShadow)}return Je}()){const je=tt.getRootNode?tt.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&je instanceof ShadowRoot)return je}return null}function We(){let tt=typeof document<"u"&&document?document.activeElement:null;for(;tt&&tt.shadowRoot;){const je=tt.shadowRoot.activeElement;if(je===tt)break;tt=je}return tt}function ft(tt){return tt.composedPath?tt.composedPath()[0]:tt.target}function pt(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},4080:(ai,qt,N)=>{"use strict";N.d(qt,{C5:()=>re,Pl:()=>We,UE:()=>ce,eL:()=>pt,u0:()=>Be});var a=N(4650),T=N(6895);class Ce{attach(Ye){return this._attachedHost=Ye,Ye.attach(this)}detach(){let Ye=this._attachedHost;null!=Ye&&(this._attachedHost=null,Ye.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Ye){this._attachedHost=Ye}}class re extends Ce{constructor(Ye,Me,me,St){super(),this.component=Ye,this.viewContainerRef=Me,this.injector=me,this.componentFactoryResolver=St}}class ce extends Ce{constructor(Ye,Me,me,St){super(),this.templateRef=Ye,this.viewContainerRef=Me,this.context=me,this.injector=St}get origin(){return this.templateRef.elementRef}attach(Ye,Me=this.context){return this.context=Me,super.attach(Ye)}detach(){return this.context=void 0,super.detach()}}class be extends Ce{constructor(Ye){super(),this.element=Ye instanceof a.SBq?Ye.nativeElement:Ye}}class Ve{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Ye){return Ye instanceof re?(this._attachedPortal=Ye,this.attachComponentPortal(Ye)):Ye instanceof ce?(this._attachedPortal=Ye,this.attachTemplatePortal(Ye)):this.attachDomPortal&&Ye instanceof be?(this._attachedPortal=Ye,this.attachDomPortal(Ye)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Ye){this._disposeFn=Ye}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Be extends Ve{constructor(Ye,Me,me,St,vt){super(),this.outletElement=Ye,this._componentFactoryResolver=Me,this._appRef=me,this._defaultInjector=St,this.attachDomPortal=an=>{const xn=an.element,In=this._document.createComment("dom-portal");xn.parentNode.insertBefore(In,xn),this.outletElement.appendChild(xn),this._attachedPortal=an,super.setDisposeFn(()=>{In.parentNode&&In.parentNode.replaceChild(xn,In)})},this._document=vt}attachComponentPortal(Ye){const me=(Ye.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Ye.component);let St;return Ye.viewContainerRef?(St=Ye.viewContainerRef.createComponent(me,Ye.viewContainerRef.length,Ye.injector||Ye.viewContainerRef.injector),this.setDisposeFn(()=>St.destroy())):(St=me.create(Ye.injector||this._defaultInjector||a.zs3.NULL),this._appRef.attachView(St.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(St.hostView),St.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(St)),this._attachedPortal=Ye,St}attachTemplatePortal(Ye){let Me=Ye.viewContainerRef,me=Me.createEmbeddedView(Ye.templateRef,Ye.context,{injector:Ye.injector});return me.rootNodes.forEach(St=>this.outletElement.appendChild(St)),me.detectChanges(),this.setDisposeFn(()=>{let St=Me.indexOf(me);-1!==St&&Me.remove(St)}),this._attachedPortal=Ye,me}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(Ye){return Ye.hostView.rootNodes[0]}}let We=(()=>{class je extends Ve{constructor(Me,me,St){super(),this._componentFactoryResolver=Me,this._viewContainerRef=me,this._isInitialized=!1,this.attached=new a.vpe,this.attachDomPortal=vt=>{const an=vt.element,xn=this._document.createComment("dom-portal");vt.setAttachedHost(this),an.parentNode.insertBefore(xn,an),this._getRootNode().appendChild(an),this._attachedPortal=vt,super.setDisposeFn(()=>{xn.parentNode&&xn.parentNode.replaceChild(an,xn)})},this._document=St}get portal(){return this._attachedPortal}set portal(Me){this.hasAttached()&&!Me&&!this._isInitialized||(this.hasAttached()&&super.detach(),Me&&super.attach(Me),this._attachedPortal=Me||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(Me){Me.setAttachedHost(this);const me=null!=Me.viewContainerRef?Me.viewContainerRef:this._viewContainerRef,vt=(Me.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Me.component),an=me.createComponent(vt,me.length,Me.injector||me.injector);return me!==this._viewContainerRef&&this._getRootNode().appendChild(an.hostView.rootNodes[0]),super.setDisposeFn(()=>an.destroy()),this._attachedPortal=Me,this._attachedRef=an,this.attached.emit(an),an}attachTemplatePortal(Me){Me.setAttachedHost(this);const me=this._viewContainerRef.createEmbeddedView(Me.templateRef,Me.context,{injector:Me.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=Me,this._attachedRef=me,this.attached.emit(me),me}_getRootNode(){const Me=this._viewContainerRef.element.nativeElement;return Me.nodeType===Me.ELEMENT_NODE?Me:Me.parentNode}}return je.\u0275fac=function(Me){return new(Me||je)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36(T.K0))},je.\u0275dir=a.lG2({type:je,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[a.qOj]}),je})(),pt=(()=>{class je{}return je.\u0275fac=function(Me){return new(Me||je)},je.\u0275mod=a.oAB({type:je}),je.\u0275inj=a.cJS({}),je})()},6270:(ai,qt,N)=>{"use strict";N.d(qt,{ZD:()=>pn,mF:()=>jt,Cl:()=>Pn,rL:()=>gn});var a=N(1281),T=N(4650),O=N(7579),ue=N(9646),R=N(9751),Ee=N(4968),xe=(N(6406),N(4408));let re,Ce=1;const ce={};function be(Nt){return Nt in ce&&(delete ce[Nt],!0)}const Ve={setImmediate(Nt){const tn=Ce++;return ce[tn]=!0,re||(re=Promise.resolve()),re.then(()=>be(tn)&&Nt()),tn},clearImmediate(Nt){be(Nt)}},{setImmediate:Be,clearImmediate:Je}=Ve,Ke={setImmediate(...Nt){const{delegate:tn}=Ke;return(tn?.setImmediate||Be)(...Nt)},clearImmediate(Nt){const{delegate:tn}=Ke;return(tn?.clearImmediate||Je)(Nt)},delegate:void 0};var We=N(7565);new class ft extends We.v{flush(tn){this._active=!0;const Rt=this._scheduled;this._scheduled=void 0;const{actions:bn}=this;let lt;tn=tn||bn.shift();do{if(lt=tn.execute(tn.state,tn.delay))break}while((tn=bn[0])&&tn.id===Rt&&bn.shift());if(this._active=!1,lt){for(;(tn=bn[0])&&tn.id===Rt&&bn.shift();)tn.unsubscribe();throw lt}}}(class nt extends xe.o{constructor(tn,Rt){super(tn,Rt),this.scheduler=tn,this.work=Rt}requestAsyncId(tn,Rt,bn=0){return null!==bn&&bn>0?super.requestAsyncId(tn,Rt,bn):(tn.actions.push(this),tn._scheduled||(tn._scheduled=Ke.setImmediate(tn.flush.bind(tn,void 0))))}recycleAsyncId(tn,Rt,bn=0){var lt;if(null!=bn?bn>0:this.delay>0)return super.recycleAsyncId(tn,Rt,bn);const{actions:le}=tn;null!=Rt&&(null===(lt=le[le.length-1])||void 0===lt?void 0:lt.id)!==Rt&&(Ke.clearImmediate(Rt),tn._scheduled=void 0)}});var je=N(4986),Ye=N(4482),Me=N(8421),me=N(5403),vt=N(5963);function an(Nt,tn=je.z){return function St(Nt){return(0,Ye.e)((tn,Rt)=>{let bn=!1,lt=null,le=null,Ae=!1;const ot=()=>{if(le?.unsubscribe(),le=null,bn){bn=!1;const Lt=lt;lt=null,Rt.next(Lt)}Ae&&Rt.complete()},zt=()=>{le=null,Ae&&Rt.complete()};tn.subscribe((0,me.x)(Rt,Lt=>{bn=!0,lt=Lt,le||(0,Me.Xf)(Nt(Lt)).subscribe(le=(0,me.x)(Rt,ot,zt))},()=>{Ae=!0,(!bn||!le||le.closed)&&Rt.complete()}))})}(()=>(0,vt.H)(Nt,tn))}var xn=N(9300),In=N(3353),cn=N(6895),Gn=N(445);let jt=(()=>{class Nt{constructor(Rt,bn,lt){this._ngZone=Rt,this._platform=bn,this._scrolled=new O.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=lt}register(Rt){this.scrollContainers.has(Rt)||this.scrollContainers.set(Rt,Rt.elementScrolled().subscribe(()=>this._scrolled.next(Rt)))}deregister(Rt){const bn=this.scrollContainers.get(Rt);bn&&(bn.unsubscribe(),this.scrollContainers.delete(Rt))}scrolled(Rt=20){return this._platform.isBrowser?new R.y(bn=>{this._globalSubscription||this._addGlobalListener();const lt=Rt>0?this._scrolled.pipe(an(Rt)).subscribe(bn):this._scrolled.subscribe(bn);return this._scrolledCount++,()=>{lt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,ue.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Rt,bn)=>this.deregister(bn)),this._scrolled.complete()}ancestorScrolled(Rt,bn){const lt=this.getAncestorScrollContainers(Rt);return this.scrolled(bn).pipe((0,xn.h)(le=>!le||lt.indexOf(le)>-1))}getAncestorScrollContainers(Rt){const bn=[];return this.scrollContainers.forEach((lt,le)=>{this._scrollableContainsElement(le,Rt)&&bn.push(le)}),bn}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Rt,bn){let lt=(0,a.fI)(bn),le=Rt.getElementRef().nativeElement;do{if(lt==le)return!0}while(lt=lt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Rt=this._getWindow();return(0,Ee.R)(Rt.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return Nt.\u0275fac=function(Rt){return new(Rt||Nt)(T.LFG(T.R0b),T.LFG(In.t4),T.LFG(cn.K0,8))},Nt.\u0275prov=T.Yz7({token:Nt,factory:Nt.\u0275fac,providedIn:"root"}),Nt})(),gn=(()=>{class Nt{constructor(Rt,bn,lt){this._platform=Rt,this._change=new O.x,this._changeListener=le=>{this._change.next(le)},this._document=lt,bn.runOutsideAngular(()=>{if(Rt.isBrowser){const le=this._getWindow();le.addEventListener("resize",this._changeListener),le.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Rt=this._getWindow();Rt.removeEventListener("resize",this._changeListener),Rt.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Rt={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Rt}getViewportRect(){const Rt=this.getViewportScrollPosition(),{width:bn,height:lt}=this.getViewportSize();return{top:Rt.top,left:Rt.left,bottom:Rt.top+lt,right:Rt.left+bn,height:lt,width:bn}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Rt=this._document,bn=this._getWindow(),lt=Rt.documentElement,le=lt.getBoundingClientRect();return{top:-le.top||Rt.body.scrollTop||bn.scrollY||lt.scrollTop||0,left:-le.left||Rt.body.scrollLeft||bn.scrollX||lt.scrollLeft||0}}change(Rt=20){return Rt>0?this._change.pipe(an(Rt)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Rt=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Rt.innerWidth,height:Rt.innerHeight}:{width:0,height:0}}}return Nt.\u0275fac=function(Rt){return new(Rt||Nt)(T.LFG(In.t4),T.LFG(T.R0b),T.LFG(cn.K0,8))},Nt.\u0275prov=T.Yz7({token:Nt,factory:Nt.\u0275fac,providedIn:"root"}),Nt})(),pn=(()=>{class Nt{}return Nt.\u0275fac=function(Rt){return new(Rt||Nt)},Nt.\u0275mod=T.oAB({type:Nt}),Nt.\u0275inj=T.cJS({}),Nt})(),Pn=(()=>{class Nt{}return Nt.\u0275fac=function(Rt){return new(Rt||Nt)},Nt.\u0275mod=T.oAB({type:Nt}),Nt.\u0275inj=T.cJS({imports:[Gn.vT,pn,Gn.vT,pn]}),Nt})()},6895:(ai,qt,N)=>{"use strict";N.d(qt,{Do:()=>ft,ED:()=>fa,EM:()=>us,H9:()=>Ur,HT:()=>R,JF:()=>Na,K0:()=>Re,Mx:()=>zi,NF:()=>Bs,O5:()=>nr,OU:()=>Mo,Ov:()=>wa,PM:()=>Ms,RF:()=>Co,S$:()=>Ke,Ts:()=>Bo,V_:()=>re,Ye:()=>pt,b0:()=>We,bD:()=>Zo,ez:()=>Yo,i8:()=>Ws,mk:()=>ji,n9:()=>Wo,q:()=>O,sg:()=>$r,tP:()=>Os,uU:()=>Rr,w_:()=>Ee});var a=N(4650);let T=null;function O(){return T}function R(ae){T||(T=ae)}class Ee{}const Re=new a.OlP("DocumentToken");let xe=(()=>{class ae{historyGo(ve){throw new Error("Not implemented")}}return ae.\u0275fac=function(ve){return new(ve||ae)},ae.\u0275prov=a.Yz7({token:ae,factory:function(){return function Ce(){return(0,a.LFG)(ce)}()},providedIn:"platform"}),ae})();const re=new a.OlP("Location Initialized");let ce=(()=>{class ae extends xe{constructor(ve){super(),this._doc=ve,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(ve){const yt=O().getGlobalEventTarget(this._doc,"window");return yt.addEventListener("popstate",ve,!1),()=>yt.removeEventListener("popstate",ve)}onHashChange(ve){const yt=O().getGlobalEventTarget(this._doc,"window");return yt.addEventListener("hashchange",ve,!1),()=>yt.removeEventListener("hashchange",ve)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(ve){this.location.pathname=ve}pushState(ve,yt,un){be()?this._history.pushState(ve,yt,un):this.location.hash=un}replaceState(ve,yt,un){be()?this._history.replaceState(ve,yt,un):this.location.hash=un}forward(){this._history.forward()}back(){this._history.back()}historyGo(ve=0){this._history.go(ve)}getState(){return this._history.state}}return ae.\u0275fac=function(ve){return new(ve||ae)(a.LFG(Re))},ae.\u0275prov=a.Yz7({token:ae,factory:function(){return function Ve(){return new ce((0,a.LFG)(Re))}()},providedIn:"platform"}),ae})();function be(){return!!window.history.pushState}function Ne(ae,Xe){if(0==ae.length)return Xe;if(0==Xe.length)return ae;let ve=0;return ae.endsWith("/")&&ve++,Xe.startsWith("/")&&ve++,2==ve?ae+Xe.substring(1):1==ve?ae+Xe:ae+"/"+Xe}function Be(ae){const Xe=ae.match(/#|\?|$/),ve=Xe&&Xe.index||ae.length;return ae.slice(0,ve-("/"===ae[ve-1]?1:0))+ae.slice(ve)}function Je(ae){return ae&&"?"!==ae[0]?"?"+ae:ae}let Ke=(()=>{class ae{historyGo(ve){throw new Error("Not implemented")}}return ae.\u0275fac=function(ve){return new(ve||ae)},ae.\u0275prov=a.Yz7({token:ae,factory:function(){return(0,a.f3M)(We)},providedIn:"root"}),ae})();const nt=new a.OlP("appBaseHref");let We=(()=>{class ae extends Ke{constructor(ve,yt){super(),this._platformLocation=ve,this._removeListenerFns=[],this._baseHref=yt??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(Re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ve){this._removeListenerFns.push(this._platformLocation.onPopState(ve),this._platformLocation.onHashChange(ve))}getBaseHref(){return this._baseHref}prepareExternalUrl(ve){return Ne(this._baseHref,ve)}path(ve=!1){const yt=this._platformLocation.pathname+Je(this._platformLocation.search),un=this._platformLocation.hash;return un&&ve?`${yt}${un}`:yt}pushState(ve,yt,un,jn){const si=this.prepareExternalUrl(un+Je(jn));this._platformLocation.pushState(ve,yt,si)}replaceState(ve,yt,un,jn){const si=this.prepareExternalUrl(un+Je(jn));this._platformLocation.replaceState(ve,yt,si)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(ve=0){this._platformLocation.historyGo?.(ve)}}return ae.\u0275fac=function(ve){return new(ve||ae)(a.LFG(xe),a.LFG(nt,8))},ae.\u0275prov=a.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ae})(),ft=(()=>{class ae extends Ke{constructor(ve,yt){super(),this._platformLocation=ve,this._baseHref="",this._removeListenerFns=[],null!=yt&&(this._baseHref=yt)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ve){this._removeListenerFns.push(this._platformLocation.onPopState(ve),this._platformLocation.onHashChange(ve))}getBaseHref(){return this._baseHref}path(ve=!1){let yt=this._platformLocation.hash;return null==yt&&(yt="#"),yt.length>0?yt.substring(1):yt}prepareExternalUrl(ve){const yt=Ne(this._baseHref,ve);return yt.length>0?"#"+yt:yt}pushState(ve,yt,un,jn){let si=this.prepareExternalUrl(un+Je(jn));0==si.length&&(si=this._platformLocation.pathname),this._platformLocation.pushState(ve,yt,si)}replaceState(ve,yt,un,jn){let si=this.prepareExternalUrl(un+Je(jn));0==si.length&&(si=this._platformLocation.pathname),this._platformLocation.replaceState(ve,yt,si)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(ve=0){this._platformLocation.historyGo?.(ve)}}return ae.\u0275fac=function(ve){return new(ve||ae)(a.LFG(xe),a.LFG(nt,8))},ae.\u0275prov=a.Yz7({token:ae,factory:ae.\u0275fac}),ae})(),pt=(()=>{class ae{constructor(ve){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=ve;const yt=this._locationStrategy.getBaseHref();this._baseHref=Be(Ye(yt)),this._locationStrategy.onPopState(un=>{this._subject.emit({url:this.path(!0),pop:!0,state:un.state,type:un.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(ve=!1){return this.normalize(this._locationStrategy.path(ve))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(ve,yt=""){return this.path()==this.normalize(ve+Je(yt))}normalize(ve){return ae.stripTrailingSlash(function je(ae,Xe){return ae&&Xe.startsWith(ae)?Xe.substring(ae.length):Xe}(this._baseHref,Ye(ve)))}prepareExternalUrl(ve){return ve&&"/"!==ve[0]&&(ve="/"+ve),this._locationStrategy.prepareExternalUrl(ve)}go(ve,yt="",un=null){this._locationStrategy.pushState(un,"",ve,yt),this._notifyUrlChangeListeners(this.prepareExternalUrl(ve+Je(yt)),un)}replaceState(ve,yt="",un=null){this._locationStrategy.replaceState(un,"",ve,yt),this._notifyUrlChangeListeners(this.prepareExternalUrl(ve+Je(yt)),un)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(ve=0){this._locationStrategy.historyGo?.(ve)}onUrlChange(ve){return this._urlChangeListeners.push(ve),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(yt=>{this._notifyUrlChangeListeners(yt.url,yt.state)})),()=>{const yt=this._urlChangeListeners.indexOf(ve);this._urlChangeListeners.splice(yt,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(ve="",yt){this._urlChangeListeners.forEach(un=>un(ve,yt))}subscribe(ve,yt,un){return this._subject.subscribe({next:ve,error:yt,complete:un})}}return ae.normalizeQueryParams=Je,ae.joinWithSlash=Ne,ae.stripTrailingSlash=Be,ae.\u0275fac=function(ve){return new(ve||ae)(a.LFG(Ke))},ae.\u0275prov=a.Yz7({token:ae,factory:function(){return function tt(){return new pt((0,a.LFG)(Ke))}()},providedIn:"root"}),ae})();function Ye(ae){return ae.replace(/\/index.html$/,"")}const Me={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var me=(()=>((me=me||{})[me.Decimal=0]="Decimal",me[me.Percent=1]="Percent",me[me.Currency=2]="Currency",me[me.Scientific=3]="Scientific",me))(),vt=(()=>((vt=vt||{})[vt.Format=0]="Format",vt[vt.Standalone=1]="Standalone",vt))(),an=(()=>((an=an||{})[an.Narrow=0]="Narrow",an[an.Abbreviated=1]="Abbreviated",an[an.Wide=2]="Wide",an[an.Short=3]="Short",an))(),xn=(()=>((xn=xn||{})[xn.Short=0]="Short",xn[xn.Medium=1]="Medium",xn[xn.Long=2]="Long",xn[xn.Full=3]="Full",xn))(),In=(()=>((In=In||{})[In.Decimal=0]="Decimal",In[In.Group=1]="Group",In[In.List=2]="List",In[In.PercentSign=3]="PercentSign",In[In.PlusSign=4]="PlusSign",In[In.MinusSign=5]="MinusSign",In[In.Exponential=6]="Exponential",In[In.SuperscriptingExponent=7]="SuperscriptingExponent",In[In.PerMille=8]="PerMille",In[In.Infinity=9]="Infinity",In[In.NaN=10]="NaN",In[In.TimeSeparator=11]="TimeSeparator",In[In.CurrencyDecimal=12]="CurrencyDecimal",In[In.CurrencyGroup=13]="CurrencyGroup",In))();function Vt(ae,Xe){return Rt((0,a.cg1)(ae)[a.wAp.DateFormat],Xe)}function jt(ae,Xe){return Rt((0,a.cg1)(ae)[a.wAp.TimeFormat],Xe)}function Yn(ae,Xe){return Rt((0,a.cg1)(ae)[a.wAp.DateTimeFormat],Xe)}function en(ae,Xe){const ve=(0,a.cg1)(ae),yt=ve[a.wAp.NumberSymbols][Xe];if(typeof yt>"u"){if(Xe===In.CurrencyDecimal)return ve[a.wAp.NumberSymbols][In.Decimal];if(Xe===In.CurrencyGroup)return ve[a.wAp.NumberSymbols][In.Group]}return yt}function pn(ae){if(!ae[a.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${ae[a.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Rt(ae,Xe){for(let ve=Xe;ve>-1;ve--)if(typeof ae[ve]<"u")return ae[ve];throw new Error("Locale data API: locale data undefined")}function bn(ae){const[Xe,ve]=ae.split(":");return{hours:+Xe,minutes:+ve}}const ot=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,zt={},Lt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Mt=(()=>((Mt=Mt||{})[Mt.Short=0]="Short",Mt[Mt.ShortGMT=1]="ShortGMT",Mt[Mt.Long=2]="Long",Mt[Mt.Extended=3]="Extended",Mt))(),Tt=(()=>((Tt=Tt||{})[Tt.FullYear=0]="FullYear",Tt[Tt.Month=1]="Month",Tt[Tt.Date=2]="Date",Tt[Tt.Hours=3]="Hours",Tt[Tt.Minutes=4]="Minutes",Tt[Tt.Seconds=5]="Seconds",Tt[Tt.FractionalSeconds=6]="FractionalSeconds",Tt[Tt.Day=7]="Day",Tt))(),mn=(()=>((mn=mn||{})[mn.DayPeriods=0]="DayPeriods",mn[mn.Days=1]="Days",mn[mn.Months=2]="Months",mn[mn.Eras=3]="Eras",mn))();function An(ae,Xe,ve,yt){let un=function Zt(ae){if(ti(ae))return ae;if("number"==typeof ae&&!isNaN(ae))return new Date(ae);if("string"==typeof ae){if(ae=ae.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(ae)){const[un,jn=1,si=1]=ae.split("-").map(Ji=>+Ji);return Ln(un,jn-1,si)}const ve=parseFloat(ae);if(!isNaN(ae-ve))return new Date(ve);let yt;if(yt=ae.match(ot))return function wn(ae){const Xe=new Date(0);let ve=0,yt=0;const un=ae[8]?Xe.setUTCFullYear:Xe.setFullYear,jn=ae[8]?Xe.setUTCHours:Xe.setHours;ae[9]&&(ve=Number(ae[9]+ae[10]),yt=Number(ae[9]+ae[11])),un.call(Xe,Number(ae[1]),Number(ae[2])-1,Number(ae[3]));const si=Number(ae[4]||0)-ve,Ji=Number(ae[5]||0)-yt,ki=Number(ae[6]||0),Wr=Math.floor(1e3*parseFloat("0."+(ae[7]||0)));return jn.call(Xe,si,Ji,ki,Wr),Xe}(yt)}const Xe=new Date(ae);if(!ti(Xe))throw new Error(`Unable to convert "${ae}" into a date`);return Xe}(ae);Xe=mi(ve,Xe)||Xe;let Ji,si=[];for(;Xe;){if(Ji=Lt.exec(Xe),!Ji){si.push(Xe);break}{si=si.concat(Ji.slice(1));const qr=si.pop();if(!qr)break;Xe=qr}}let ki=un.getTimezoneOffset();yt&&(ki=ct(yt,ki),un=function qe(ae,Xe,ve){const yt=ve?-1:1,un=ae.getTimezoneOffset();return function Fe(ae,Xe){return(ae=new Date(ae.getTime())).setMinutes(ae.getMinutes()+Xe),ae}(ae,yt*(ct(Xe,un)-un))}(un,yt,!0));let Wr="";return si.forEach(qr=>{const Pr=function Te(ae){if(Ue[ae])return Ue[ae];let Xe;switch(ae){case"G":case"GG":case"GGG":Xe=En(mn.Eras,an.Abbreviated);break;case"GGGG":Xe=En(mn.Eras,an.Wide);break;case"GGGGG":Xe=En(mn.Eras,an.Narrow);break;case"y":Xe=Si(Tt.FullYear,1,0,!1,!0);break;case"yy":Xe=Si(Tt.FullYear,2,0,!0,!0);break;case"yyy":Xe=Si(Tt.FullYear,3,0,!1,!0);break;case"yyyy":Xe=Si(Tt.FullYear,4,0,!1,!0);break;case"Y":Xe=st(1);break;case"YY":Xe=st(2,!0);break;case"YYY":Xe=st(3);break;case"YYYY":Xe=st(4);break;case"M":case"L":Xe=Si(Tt.Month,1,1);break;case"MM":case"LL":Xe=Si(Tt.Month,2,1);break;case"MMM":Xe=En(mn.Months,an.Abbreviated);break;case"MMMM":Xe=En(mn.Months,an.Wide);break;case"MMMMM":Xe=En(mn.Months,an.Narrow);break;case"LLL":Xe=En(mn.Months,an.Abbreviated,vt.Standalone);break;case"LLLL":Xe=En(mn.Months,an.Wide,vt.Standalone);break;case"LLLLL":Xe=En(mn.Months,an.Narrow,vt.Standalone);break;case"w":Xe=ye(1);break;case"ww":Xe=ye(2);break;case"W":Xe=ye(1,!0);break;case"d":Xe=Si(Tt.Date,1);break;case"dd":Xe=Si(Tt.Date,2);break;case"c":case"cc":Xe=Si(Tt.Day,1);break;case"ccc":Xe=En(mn.Days,an.Abbreviated,vt.Standalone);break;case"cccc":Xe=En(mn.Days,an.Wide,vt.Standalone);break;case"ccccc":Xe=En(mn.Days,an.Narrow,vt.Standalone);break;case"cccccc":Xe=En(mn.Days,an.Short,vt.Standalone);break;case"E":case"EE":case"EEE":Xe=En(mn.Days,an.Abbreviated);break;case"EEEE":Xe=En(mn.Days,an.Wide);break;case"EEEEE":Xe=En(mn.Days,an.Narrow);break;case"EEEEEE":Xe=En(mn.Days,an.Short);break;case"a":case"aa":case"aaa":Xe=En(mn.DayPeriods,an.Abbreviated);break;case"aaaa":Xe=En(mn.DayPeriods,an.Wide);break;case"aaaaa":Xe=En(mn.DayPeriods,an.Narrow);break;case"b":case"bb":case"bbb":Xe=En(mn.DayPeriods,an.Abbreviated,vt.Standalone,!0);break;case"bbbb":Xe=En(mn.DayPeriods,an.Wide,vt.Standalone,!0);break;case"bbbbb":Xe=En(mn.DayPeriods,an.Narrow,vt.Standalone,!0);break;case"B":case"BB":case"BBB":Xe=En(mn.DayPeriods,an.Abbreviated,vt.Format,!0);break;case"BBBB":Xe=En(mn.DayPeriods,an.Wide,vt.Format,!0);break;case"BBBBB":Xe=En(mn.DayPeriods,an.Narrow,vt.Format,!0);break;case"h":Xe=Si(Tt.Hours,1,-12);break;case"hh":Xe=Si(Tt.Hours,2,-12);break;case"H":Xe=Si(Tt.Hours,1);break;case"HH":Xe=Si(Tt.Hours,2);break;case"m":Xe=Si(Tt.Minutes,1);break;case"mm":Xe=Si(Tt.Minutes,2);break;case"s":Xe=Si(Tt.Seconds,1);break;case"ss":Xe=Si(Tt.Seconds,2);break;case"S":Xe=Si(Tt.FractionalSeconds,1);break;case"SS":Xe=Si(Tt.FractionalSeconds,2);break;case"SSS":Xe=Si(Tt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Xe=It(Mt.Short);break;case"ZZZZZ":Xe=It(Mt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Xe=It(Mt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Xe=It(Mt.Long);break;default:return null}return Ue[ae]=Xe,Xe}(qr);Wr+=Pr?Pr(un,ve,ki):"''"===qr?"'":qr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Wr}function Ln(ae,Xe,ve){const yt=new Date(0);return yt.setFullYear(ae,Xe,ve),yt.setHours(0,0,0),yt}function mi(ae,Xe){const ve=function Gn(ae){return(0,a.cg1)(ae)[a.wAp.LocaleId]}(ae);if(zt[ve]=zt[ve]||{},zt[ve][Xe])return zt[ve][Xe];let yt="";switch(Xe){case"shortDate":yt=Vt(ae,xn.Short);break;case"mediumDate":yt=Vt(ae,xn.Medium);break;case"longDate":yt=Vt(ae,xn.Long);break;case"fullDate":yt=Vt(ae,xn.Full);break;case"shortTime":yt=jt(ae,xn.Short);break;case"mediumTime":yt=jt(ae,xn.Medium);break;case"longTime":yt=jt(ae,xn.Long);break;case"fullTime":yt=jt(ae,xn.Full);break;case"short":const un=mi(ae,"shortTime"),jn=mi(ae,"shortDate");yt=Xi(Yn(ae,xn.Short),[un,jn]);break;case"medium":const si=mi(ae,"mediumTime"),Ji=mi(ae,"mediumDate");yt=Xi(Yn(ae,xn.Medium),[si,Ji]);break;case"long":const ki=mi(ae,"longTime"),Wr=mi(ae,"longDate");yt=Xi(Yn(ae,xn.Long),[ki,Wr]);break;case"full":const qr=mi(ae,"fullTime"),Pr=mi(ae,"fullDate");yt=Xi(Yn(ae,xn.Full),[qr,Pr])}return yt&&(zt[ve][Xe]=yt),yt}function Xi(ae,Xe){return Xe&&(ae=ae.replace(/\{([^}]+)}/g,function(ve,yt){return null!=Xe&&yt in Xe?Xe[yt]:ve})),ae}function li(ae,Xe,ve="-",yt,un){let jn="";(ae<0||un&&ae<=0)&&(un?ae=1-ae:(ae=-ae,jn=ve));let si=String(ae);for(;si.length<Xe;)si="0"+si;return yt&&(si=si.slice(si.length-Xe)),jn+si}function Si(ae,Xe,ve=0,yt=!1,un=!1){return function(jn,si){let Ji=function _r(ae,Xe){switch(ae){case Tt.FullYear:return Xe.getFullYear();case Tt.Month:return Xe.getMonth();case Tt.Date:return Xe.getDate();case Tt.Hours:return Xe.getHours();case Tt.Minutes:return Xe.getMinutes();case Tt.Seconds:return Xe.getSeconds();case Tt.FractionalSeconds:return Xe.getMilliseconds();case Tt.Day:return Xe.getDay();default:throw new Error(`Unknown DateType value "${ae}".`)}}(ae,jn);if((ve>0||Ji>-ve)&&(Ji+=ve),ae===Tt.Hours)0===Ji&&-12===ve&&(Ji=12);else if(ae===Tt.FractionalSeconds)return function Bi(ae,Xe){return li(ae,3).substring(0,Xe)}(Ji,Xe);const ki=en(si,In.MinusSign);return li(Ji,Xe,ki,yt,un)}}function En(ae,Xe,ve=vt.Format,yt=!1){return function(un,jn){return function sn(ae,Xe,ve,yt,un,jn){switch(ve){case mn.Months:return function Ht(ae,Xe,ve){const yt=(0,a.cg1)(ae),jn=Rt([yt[a.wAp.MonthsFormat],yt[a.wAp.MonthsStandalone]],Xe);return Rt(jn,ve)}(Xe,un,yt)[ae.getMonth()];case mn.Days:return function Wn(ae,Xe,ve){const yt=(0,a.cg1)(ae),jn=Rt([yt[a.wAp.DaysFormat],yt[a.wAp.DaysStandalone]],Xe);return Rt(jn,ve)}(Xe,un,yt)[ae.getDay()];case mn.DayPeriods:const si=ae.getHours(),Ji=ae.getMinutes();if(jn){const Wr=function Pn(ae){const Xe=(0,a.cg1)(ae);return pn(Xe),(Xe[a.wAp.ExtraData][2]||[]).map(yt=>"string"==typeof yt?bn(yt):[bn(yt[0]),bn(yt[1])])}(Xe),qr=function Nt(ae,Xe,ve){const yt=(0,a.cg1)(ae);pn(yt);const jn=Rt([yt[a.wAp.ExtraData][0],yt[a.wAp.ExtraData][1]],Xe)||[];return Rt(jn,ve)||[]}(Xe,un,yt),Pr=Wr.findIndex(vo=>{if(Array.isArray(vo)){const[hs,Cs]=vo,Ia=si>=hs.hours&&Ji>=hs.minutes,Uo=si<Cs.hours||si===Cs.hours&&Ji<Cs.minutes;if(hs.hours<Cs.hours){if(Ia&&Uo)return!0}else if(Ia||Uo)return!0}else if(vo.hours===si&&vo.minutes===Ji)return!0;return!1});if(-1!==Pr)return qr[Pr]}return function Tn(ae,Xe,ve){const yt=(0,a.cg1)(ae),jn=Rt([yt[a.wAp.DayPeriodsFormat],yt[a.wAp.DayPeriodsStandalone]],Xe);return Rt(jn,ve)}(Xe,un,yt)[si<12?0:1];case mn.Eras:return function Bt(ae,Xe){return Rt((0,a.cg1)(ae)[a.wAp.Eras],Xe)}(Xe,yt)[ae.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${ve}`)}}(un,jn,ae,Xe,ve,yt)}}function It(ae){return function(Xe,ve,yt){const un=-1*yt,jn=en(ve,In.MinusSign),si=un>0?Math.floor(un/60):Math.ceil(un/60);switch(ae){case Mt.Short:return(un>=0?"+":"")+li(si,2,jn)+li(Math.abs(un%60),2,jn);case Mt.ShortGMT:return"GMT"+(un>=0?"+":"")+li(si,1,jn);case Mt.Long:return"GMT"+(un>=0?"+":"")+li(si,2,jn)+":"+li(Math.abs(un%60),2,jn);case Mt.Extended:return 0===yt?"Z":(un>=0?"+":"")+li(si,2,jn)+":"+li(Math.abs(un%60),2,jn);default:throw new Error(`Unknown zone width "${ae}"`)}}}function pe(ae){return Ln(ae.getFullYear(),ae.getMonth(),ae.getDate()+(4-ae.getDay()))}function ye(ae,Xe=!1){return function(ve,yt){let un;if(Xe){const jn=new Date(ve.getFullYear(),ve.getMonth(),1).getDay()-1,si=ve.getDate();un=1+Math.floor((si+jn)/7)}else{const jn=pe(ve),si=function Ie(ae){const Xe=Ln(ae,0,1).getDay();return Ln(ae,0,1+(Xe<=4?4:11)-Xe)}(jn.getFullYear()),Ji=jn.getTime()-si.getTime();un=1+Math.round(Ji/6048e5)}return li(un,ae,en(yt,In.MinusSign))}}function st(ae,Xe=!1){return function(ve,yt){return li(pe(ve).getFullYear(),ae,en(yt,In.MinusSign),Xe)}}const Ue={};function ct(ae,Xe){ae=ae.replace(/:/g,"");const ve=Date.parse("Jan 01, 1970 00:00:00 "+ae)/6e4;return isNaN(ve)?Xe:ve}function ti(ae){return ae instanceof Date&&!isNaN(ae.valueOf())}const Ui=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function pi(ae,Xe,ve,yt,un){const si=function it(ae,Xe="-"){const ve={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},yt=ae.split(";"),un=yt[0],jn=yt[1],si=-1!==un.indexOf(".")?un.split("."):[un.substring(0,un.lastIndexOf("0")+1),un.substring(un.lastIndexOf("0")+1)],Ji=si[0],ki=si[1]||"";ve.posPre=Ji.substring(0,Ji.indexOf("#"));for(let qr=0;qr<ki.length;qr++){const Pr=ki.charAt(qr);"0"===Pr?ve.minFrac=ve.maxFrac=qr+1:"#"===Pr?ve.maxFrac=qr+1:ve.posSuf+=Pr}const Wr=Ji.split(",");if(ve.gSize=Wr[1]?Wr[1].length:0,ve.lgSize=Wr[2]||Wr[1]?(Wr[2]||Wr[1]).length:0,jn){const qr=un.length-ve.posPre.length-ve.posSuf.length,Pr=jn.indexOf("#");ve.negPre=jn.substring(0,Pr).replace(/'/g,""),ve.negSuf=jn.slice(Pr+qr).replace(/'/g,"")}else ve.negPre=Xe+ve.posPre,ve.negSuf=ve.posSuf;return ve}(function gn(ae,Xe){return(0,a.cg1)(ae)[a.wAp.NumberFormats][Xe]}(Xe,me.Currency),en(Xe,In.MinusSign));return si.minFrac=function Ae(ae){let Xe;const ve=Me[ae];return ve&&(Xe=ve[2]),"number"==typeof Xe?Xe:2}(yt),si.maxFrac=si.minFrac,function Un(ae,Xe,ve,yt,un,jn,si=!1){let Ji="",ki=!1;if(isFinite(ae)){let Wr=function at(ae){let yt,un,jn,si,Ji,Xe=Math.abs(ae)+"",ve=0;for((un=Xe.indexOf("."))>-1&&(Xe=Xe.replace(".","")),(jn=Xe.search(/e/i))>0?(un<0&&(un=jn),un+=+Xe.slice(jn+1),Xe=Xe.substring(0,jn)):un<0&&(un=Xe.length),jn=0;"0"===Xe.charAt(jn);jn++);if(jn===(Ji=Xe.length))yt=[0],un=1;else{for(Ji--;"0"===Xe.charAt(Ji);)Ji--;for(un-=jn,yt=[],si=0;jn<=Ji;jn++,si++)yt[si]=Number(Xe.charAt(jn))}return un>22&&(yt=yt.splice(0,21),ve=un-1,un=1),{digits:yt,exponent:ve,integerLen:un}}(ae);si&&(Wr=function Wt(ae){if(0===ae.digits[0])return ae;const Xe=ae.digits.length-ae.integerLen;return ae.exponent?ae.exponent+=2:(0===Xe?ae.digits.push(0,0):1===Xe&&ae.digits.push(0),ae.integerLen+=2),ae}(Wr));let qr=Xe.minInt,Pr=Xe.minFrac,vo=Xe.maxFrac;if(jn){const Va=jn.match(Ui);if(null===Va)throw new Error(`${jn} is not a valid digit info`);const Ha=Va[1],qi=Va[3],ma=Va[5];null!=Ha&&(qr=Y(Ha)),null!=qi&&(Pr=Y(qi)),null!=ma?vo=Y(ma):null!=qi&&Pr>vo&&(vo=Pr)}!function Yt(ae,Xe,ve){if(Xe>ve)throw new Error(`The minimum number of digits after fraction (${Xe}) is higher than the maximum (${ve}).`);let yt=ae.digits,un=yt.length-ae.integerLen;const jn=Math.min(Math.max(Xe,un),ve);let si=jn+ae.integerLen,Ji=yt[si];if(si>0){yt.splice(Math.max(ae.integerLen,si));for(let Pr=si;Pr<yt.length;Pr++)yt[Pr]=0}else{un=Math.max(0,un),ae.integerLen=1,yt.length=Math.max(1,si=jn+1),yt[0]=0;for(let Pr=1;Pr<si;Pr++)yt[Pr]=0}if(Ji>=5)if(si-1<0){for(let Pr=0;Pr>si;Pr--)yt.unshift(0),ae.integerLen++;yt.unshift(1),ae.integerLen++}else yt[si-1]++;for(;un<Math.max(0,jn);un++)yt.push(0);let ki=0!==jn;const Wr=Xe+ae.integerLen,qr=yt.reduceRight(function(Pr,vo,hs,Cs){return Cs[hs]=(vo+=Pr)<10?vo:vo-10,ki&&(0===Cs[hs]&&hs>=Wr?Cs.pop():ki=!1),vo>=10?1:0},0);qr&&(yt.unshift(qr),ae.integerLen++)}(Wr,Pr,vo);let hs=Wr.digits,Cs=Wr.integerLen;const Ia=Wr.exponent;let Uo=[];for(ki=hs.every(Va=>!Va);Cs<qr;Cs++)hs.unshift(0);for(;Cs<0;Cs++)hs.unshift(0);Cs>0?Uo=hs.splice(Cs,hs.length):(Uo=hs,hs=[0]);const yo=[];for(hs.length>=Xe.lgSize&&yo.unshift(hs.splice(-Xe.lgSize,hs.length).join(""));hs.length>Xe.gSize;)yo.unshift(hs.splice(-Xe.gSize,hs.length).join(""));hs.length&&yo.unshift(hs.join("")),Ji=yo.join(en(ve,yt)),Uo.length&&(Ji+=en(ve,un)+Uo.join("")),Ia&&(Ji+=en(ve,In.Exponential)+"+"+Ia)}else Ji=en(ve,In.Infinity);return Ji=ae<0&&!ki?Xe.negPre+Ji+Xe.negSuf:Xe.posPre+Ji+Xe.posSuf,Ji}(ae,si,Xe,In.CurrencyGroup,In.CurrencyDecimal,un).replace("\xa4",ve).replace("\xa4","").trim()}function Y(ae){const Xe=parseInt(ae);if(isNaN(Xe))throw new Error("Invalid integer literal when parsing "+ae);return Xe}function zi(ae,Xe){Xe=encodeURIComponent(Xe);for(const ve of ae.split(";")){const yt=ve.indexOf("="),[un,jn]=-1==yt?[ve,""]:[ve.slice(0,yt),ve.slice(yt+1)];if(un.trim()===Xe)return decodeURIComponent(jn)}return null}let ji=(()=>{class ae{constructor(ve,yt,un,jn){this._iterableDiffers=ve,this._keyValueDiffers=yt,this._ngEl=un,this._renderer=jn,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(ve){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof ve?ve.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(ve){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof ve?ve.split(/\s+/):ve,this._rawClass&&((0,a.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const ve=this._iterableDiffer.diff(this._rawClass);ve&&this._applyIterableChanges(ve)}else if(this._keyValueDiffer){const ve=this._keyValueDiffer.diff(this._rawClass);ve&&this._applyKeyValueChanges(ve)}}_applyKeyValueChanges(ve){ve.forEachAddedItem(yt=>this._toggleClass(yt.key,yt.currentValue)),ve.forEachChangedItem(yt=>this._toggleClass(yt.key,yt.currentValue)),ve.forEachRemovedItem(yt=>{yt.previousValue&&this._toggleClass(yt.key,!1)})}_applyIterableChanges(ve){ve.forEachAddedItem(yt=>{if("string"!=typeof yt.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,a.AaK)(yt.item)}`);this._toggleClass(yt.item,!0)}),ve.forEachRemovedItem(yt=>this._toggleClass(yt.item,!1))}_applyClasses(ve){ve&&(Array.isArray(ve)||ve instanceof Set?ve.forEach(yt=>this._toggleClass(yt,!0)):Object.keys(ve).forEach(yt=>this._toggleClass(yt,!!ve[yt])))}_removeClasses(ve){ve&&(Array.isArray(ve)||ve instanceof Set?ve.forEach(yt=>this._toggleClass(yt,!1)):Object.keys(ve).forEach(yt=>this._toggleClass(yt,!1)))}_toggleClass(ve,yt){(ve=ve.trim())&&ve.split(/\s+/g).forEach(un=>{yt?this._renderer.addClass(this._ngEl.nativeElement,un):this._renderer.removeClass(this._ngEl.nativeElement,un)})}}return ae.\u0275fac=function(ve){return new(ve||ae)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},ae.\u0275dir=a.lG2({type:ae,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),ae})();class xs{constructor(Xe,ve,yt,un){this.$implicit=Xe,this.ngForOf=ve,this.index=yt,this.count=un}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $r=(()=>{class ae{constructor(ve,yt,un){this._viewContainer=ve,this._template=yt,this._differs=un,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(ve){this._ngForOf=ve,this._ngForOfDirty=!0}set ngForTrackBy(ve){this._trackByFn=ve}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(ve){ve&&(this._template=ve)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const ve=this._ngForOf;!this._differ&&ve&&(this._differ=this._differs.find(ve).create(this.ngForTrackBy))}if(this._differ){const ve=this._differ.diff(this._ngForOf);ve&&this._applyChanges(ve)}}_applyChanges(ve){const yt=this._viewContainer;ve.forEachOperation((un,jn,si)=>{if(null==un.previousIndex)yt.createEmbeddedView(this._template,new xs(un.item,this._ngForOf,-1,-1),null===si?void 0:si);else if(null==si)yt.remove(null===jn?void 0:jn);else if(null!==jn){const Ji=yt.get(jn);yt.move(Ji,si),ss(Ji,un)}});for(let un=0,jn=yt.length;un<jn;un++){const Ji=yt.get(un).context;Ji.index=un,Ji.count=jn,Ji.ngForOf=this._ngForOf}ve.forEachIdentityChange(un=>{ss(yt.get(un.currentIndex),un)})}static ngTemplateContextGuard(ve,yt){return!0}}return ae.\u0275fac=function(ve){return new(ve||ae)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},ae.\u0275dir=a.lG2({type:ae,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),ae})();function ss(ae,Xe){ae.context.$implicit=Xe.item}let nr=(()=>{class ae{constructor(ve,yt){this._viewContainer=ve,this._context=new Jr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=yt}set ngIf(ve){this._context.$implicit=this._context.ngIf=ve,this._updateView()}set ngIfThen(ve){Ps("ngIfThen",ve),this._thenTemplateRef=ve,this._thenViewRef=null,this._updateView()}set ngIfElse(ve){Ps("ngIfElse",ve),this._elseTemplateRef=ve,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(ve,yt){return!0}}return ae.\u0275fac=function(ve){return new(ve||ae)(a.Y36(a.s_b),a.Y36(a.Rgc))},ae.\u0275dir=a.lG2({type:ae,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),ae})();class Jr{constructor(){this.$implicit=null,this.ngIf=null}}function Ps(ae,Xe){if(Xe&&!Xe.createEmbeddedView)throw new Error(`${ae} must be a TemplateRef, but received '${(0,a.AaK)(Xe)}'.`)}class qo{constructor(Xe,ve){this._viewContainerRef=Xe,this._templateRef=ve,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Xe){Xe&&!this._created?this.create():!Xe&&this._created&&this.destroy()}}let Co=(()=>{class ae{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(ve){this._ngSwitch=ve,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(ve){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(ve)}_matchCase(ve){const yt=ve==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||yt,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),yt}_updateDefaultCases(ve){if(this._defaultViews&&ve!==this._defaultUsed){this._defaultUsed=ve;for(let yt=0;yt<this._defaultViews.length;yt++)this._defaultViews[yt].enforceState(ve)}}}return ae.\u0275fac=function(ve){return new(ve||ae)},ae.\u0275dir=a.lG2({type:ae,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),ae})(),Wo=(()=>{class ae{constructor(ve,yt,un){this.ngSwitch=un,un._addCase(),this._view=new qo(ve,yt)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return ae.\u0275fac=function(ve){return new(ve||ae)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(Co,9))},ae.\u0275dir=a.lG2({type:ae,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),ae})(),fa=(()=>{class ae{constructor(ve,yt,un){un._addDefault(new qo(ve,yt))}}return ae.\u0275fac=function(ve){return new(ve||ae)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(Co,9))},ae.\u0275dir=a.lG2({type:ae,selectors:[["","ngSwitchDefault",""]],standalone:!0}),ae})(),Os=(()=>{class ae{constructor(ve){this._viewContainerRef=ve,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(ve){if(ve.ngTemplateOutlet||ve.ngTemplateOutletInjector){const yt=this._viewContainerRef;if(this._viewRef&&yt.remove(yt.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:un,ngTemplateOutletContext:jn,ngTemplateOutletInjector:si}=this;this._viewRef=yt.createEmbeddedView(un,jn,si?{injector:si}:void 0)}else this._viewRef=null}else this._viewRef&&ve.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return ae.\u0275fac=function(ve){return new(ve||ae)(a.Y36(a.s_b))},ae.\u0275dir=a.lG2({type:ae,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.TTD]}),ae})();function cs(ae,Xe){return new a.vHH(2100,!1)}class Po{createSubscription(Xe,ve){return Xe.subscribe({next:ve,error:yt=>{throw yt}})}dispose(Xe){Xe.unsubscribe()}}class Dl{createSubscription(Xe,ve){return Xe.then(ve,yt=>{throw yt})}dispose(Xe){}}const Ls=new Dl,Ga=new Po;let wa=(()=>{class ae{constructor(ve){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=ve}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(ve){return this._obj?ve!==this._obj?(this._dispose(),this.transform(ve)):this._latestValue:(ve&&this._subscribe(ve),this._latestValue)}_subscribe(ve){this._obj=ve,this._strategy=this._selectStrategy(ve),this._subscription=this._strategy.createSubscription(ve,yt=>this._updateLatestValue(ve,yt))}_selectStrategy(ve){if((0,a.QGY)(ve))return Ls;if((0,a.F4k)(ve))return Ga;throw cs()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(ve,yt){ve===this._obj&&(this._latestValue=yt,this._ref.markForCheck())}}return ae.\u0275fac=function(ve){return new(ve||ae)(a.Y36(a.sBO,16))},ae.\u0275pipe=a.Yjl({name:"async",type:ae,pure:!1,standalone:!0}),ae})(),Ws=(()=>{class ae{transform(ve){if(null==ve)return null;if("string"!=typeof ve)throw cs();return ve.toLowerCase()}}return ae.\u0275fac=function(ve){return new(ve||ae)},ae.\u0275pipe=a.Yjl({name:"lowercase",type:ae,pure:!0,standalone:!0}),ae})();const Sr=new a.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Rr=(()=>{class ae{constructor(ve,yt){this.locale=ve,this.defaultTimezone=yt}transform(ve,yt="mediumDate",un,jn){if(null==ve||""===ve||ve!=ve)return null;try{return An(ve,yt,jn||this.locale,un??this.defaultTimezone??void 0)}catch(si){throw cs()}}}return ae.\u0275fac=function(ve){return new(ve||ae)(a.Y36(a.soG,16),a.Y36(Sr,24))},ae.\u0275pipe=a.Yjl({name:"date",type:ae,pure:!0,standalone:!0}),ae})(),Bo=(()=>{class ae{transform(ve){return JSON.stringify(ve,null,2)}}return ae.\u0275fac=function(ve){return new(ve||ae)},ae.\u0275pipe=a.Yjl({name:"json",type:ae,pure:!1,standalone:!0}),ae})(),Ur=(()=>{class ae{constructor(ve,yt="USD"){this._locale=ve,this._defaultCurrencyCode=yt}transform(ve,yt=this._defaultCurrencyCode,un="symbol",jn,si){if(!function tl(ae){return!(null==ae||""===ae||ae!=ae)}(ve))return null;si=si||this._locale,"boolean"==typeof un&&(un=un?"symbol":"code");let Ji=yt||this._defaultCurrencyCode;"code"!==un&&(Ji="symbol"===un||"symbol-narrow"===un?function lt(ae,Xe,ve="en"){const yt=function Nn(ae){return(0,a.cg1)(ae)[a.wAp.Currencies]}(ve)[ae]||Me[ae]||[],un=yt[1];return"narrow"===Xe&&"string"==typeof un?un:yt[0]||ae}(Ji,"symbol"===un?"wide":"narrow",si):un);try{return pi(function Fa(ae){if("string"==typeof ae&&!isNaN(Number(ae)-parseFloat(ae)))return Number(ae);if("number"!=typeof ae)throw new Error(`${ae} is not a number`);return ae}(ve),si,Ji,yt,jn)}catch(ki){throw cs()}}}return ae.\u0275fac=function(ve){return new(ve||ae)(a.Y36(a.soG,16),a.Y36(a.EJc,16))},ae.\u0275pipe=a.Yjl({name:"currency",type:ae,pure:!0,standalone:!0}),ae})();let Mo=(()=>{class ae{transform(ve,yt,un){if(null==ve)return null;if(!this.supports(ve))throw cs();return ve.slice(yt,un)}supports(ve){return"string"==typeof ve||Array.isArray(ve)}}return ae.\u0275fac=function(ve){return new(ve||ae)},ae.\u0275pipe=a.Yjl({name:"slice",type:ae,pure:!1,standalone:!0}),ae})(),Yo=(()=>{class ae{}return ae.\u0275fac=function(ve){return new(ve||ae)},ae.\u0275mod=a.oAB({type:ae}),ae.\u0275inj=a.cJS({}),ae})();const Zo="browser";function Bs(ae){return ae===Zo}function Ms(ae){return"server"===ae}let us=(()=>{class ae{}return ae.\u0275prov=(0,a.Yz7)({token:ae,providedIn:"root",factory:()=>new Ir((0,a.LFG)(Re),window)}),ae})();class Ir{constructor(Xe,ve){this.document=Xe,this.window=ve,this.offset=()=>[0,0]}setOffset(Xe){this.offset=Array.isArray(Xe)?()=>Xe:Xe}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Xe){this.supportsScrolling()&&this.window.scrollTo(Xe[0],Xe[1])}scrollToAnchor(Xe){if(!this.supportsScrolling())return;const ve=function go(ae,Xe){const ve=ae.getElementById(Xe)||ae.getElementsByName(Xe)[0];if(ve)return ve;if("function"==typeof ae.createTreeWalker&&ae.body&&(ae.body.createShadowRoot||ae.body.attachShadow)){const yt=ae.createTreeWalker(ae.body,NodeFilter.SHOW_ELEMENT);let un=yt.currentNode;for(;un;){const jn=un.shadowRoot;if(jn){const si=jn.getElementById(Xe)||jn.querySelector(`[name="${Xe}"]`);if(si)return si}un=yt.nextNode()}}return null}(this.document,Xe);ve&&(this.scrollToElement(ve),ve.focus())}setHistoryScrollRestoration(Xe){if(this.supportScrollRestoration()){const ve=this.window.history;ve&&ve.scrollRestoration&&(ve.scrollRestoration=Xe)}}scrollToElement(Xe){const ve=Xe.getBoundingClientRect(),yt=ve.left+this.window.pageXOffset,un=ve.top+this.window.pageYOffset,jn=this.offset();this.window.scrollTo(yt-jn[0],un-jn[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Xe=Us(this.window.history)||Us(Object.getPrototypeOf(this.window.history));return!(!Xe||!Xe.writable&&!Xe.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Us(ae){return Object.getOwnPropertyDescriptor(ae,"scrollRestoration")}class Na{}},529:(ai,qt,N)=>{"use strict";N.d(qt,{JF:()=>Ae,LE:()=>nt,TP:()=>Wn,WM:()=>re,aW:()=>me,eN:()=>Gn});var a=N(6895),T=N(4650),O=N(9646),ue=N(9751),R=N(4351),Ee=N(9300),Re=N(4004);class xe{}class Ce{}class re{constructor(Mt){this.normalizedNames=new Map,this.lazyUpdate=null,Mt?this.lazyInit="string"==typeof Mt?()=>{this.headers=new Map,Mt.split("\n").forEach(Tt=>{const mn=Tt.indexOf(":");if(mn>0){const An=Tt.slice(0,mn),Ln=An.toLowerCase(),mi=Tt.slice(mn+1).trim();this.maybeSetNormalizedName(An,Ln),this.headers.has(Ln)?this.headers.get(Ln).push(mi):this.headers.set(Ln,[mi])}})}:()=>{this.headers=new Map,Object.keys(Mt).forEach(Tt=>{let mn=Mt[Tt];const An=Tt.toLowerCase();"string"==typeof mn&&(mn=[mn]),mn.length>0&&(this.headers.set(An,mn),this.maybeSetNormalizedName(Tt,An))})}:this.headers=new Map}has(Mt){return this.init(),this.headers.has(Mt.toLowerCase())}get(Mt){this.init();const Tt=this.headers.get(Mt.toLowerCase());return Tt&&Tt.length>0?Tt[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Mt){return this.init(),this.headers.get(Mt.toLowerCase())||null}append(Mt,Tt){return this.clone({name:Mt,value:Tt,op:"a"})}set(Mt,Tt){return this.clone({name:Mt,value:Tt,op:"s"})}delete(Mt,Tt){return this.clone({name:Mt,value:Tt,op:"d"})}maybeSetNormalizedName(Mt,Tt){this.normalizedNames.has(Tt)||this.normalizedNames.set(Tt,Mt)}init(){this.lazyInit&&(this.lazyInit instanceof re?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Mt=>this.applyUpdate(Mt)),this.lazyUpdate=null))}copyFrom(Mt){Mt.init(),Array.from(Mt.headers.keys()).forEach(Tt=>{this.headers.set(Tt,Mt.headers.get(Tt)),this.normalizedNames.set(Tt,Mt.normalizedNames.get(Tt))})}clone(Mt){const Tt=new re;return Tt.lazyInit=this.lazyInit&&this.lazyInit instanceof re?this.lazyInit:this,Tt.lazyUpdate=(this.lazyUpdate||[]).concat([Mt]),Tt}applyUpdate(Mt){const Tt=Mt.name.toLowerCase();switch(Mt.op){case"a":case"s":let mn=Mt.value;if("string"==typeof mn&&(mn=[mn]),0===mn.length)return;this.maybeSetNormalizedName(Mt.name,Tt);const An=("a"===Mt.op?this.headers.get(Tt):void 0)||[];An.push(...mn),this.headers.set(Tt,An);break;case"d":const Ln=Mt.value;if(Ln){let mi=this.headers.get(Tt);if(!mi)return;mi=mi.filter(Xi=>-1===Ln.indexOf(Xi)),0===mi.length?(this.headers.delete(Tt),this.normalizedNames.delete(Tt)):this.headers.set(Tt,mi)}else this.headers.delete(Tt),this.normalizedNames.delete(Tt)}}forEach(Mt){this.init(),Array.from(this.normalizedNames.keys()).forEach(Tt=>Mt(this.normalizedNames.get(Tt),this.headers.get(Tt)))}}class be{encodeKey(Mt){return Je(Mt)}encodeValue(Mt){return Je(Mt)}decodeKey(Mt){return decodeURIComponent(Mt)}decodeValue(Mt){return decodeURIComponent(Mt)}}const Ne=/%(\d[a-f0-9])/gi,Be={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Je(Lt){return encodeURIComponent(Lt).replace(Ne,(Mt,Tt)=>Be[Tt]??Mt)}function Ke(Lt){return`${Lt}`}class nt{constructor(Mt={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Mt.encoder||new be,Mt.fromString){if(Mt.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ve(Lt,Mt){const Tt=new Map;return Lt.length>0&&Lt.replace(/^\?/,"").split("&").forEach(An=>{const Ln=An.indexOf("="),[mi,Xi]=-1==Ln?[Mt.decodeKey(An),""]:[Mt.decodeKey(An.slice(0,Ln)),Mt.decodeValue(An.slice(Ln+1))],li=Tt.get(mi)||[];li.push(Xi),Tt.set(mi,li)}),Tt}(Mt.fromString,this.encoder)}else Mt.fromObject?(this.map=new Map,Object.keys(Mt.fromObject).forEach(Tt=>{const mn=Mt.fromObject[Tt],An=Array.isArray(mn)?mn.map(Ke):[Ke(mn)];this.map.set(Tt,An)})):this.map=null}has(Mt){return this.init(),this.map.has(Mt)}get(Mt){this.init();const Tt=this.map.get(Mt);return Tt?Tt[0]:null}getAll(Mt){return this.init(),this.map.get(Mt)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Mt,Tt){return this.clone({param:Mt,value:Tt,op:"a"})}appendAll(Mt){const Tt=[];return Object.keys(Mt).forEach(mn=>{const An=Mt[mn];Array.isArray(An)?An.forEach(Ln=>{Tt.push({param:mn,value:Ln,op:"a"})}):Tt.push({param:mn,value:An,op:"a"})}),this.clone(Tt)}set(Mt,Tt){return this.clone({param:Mt,value:Tt,op:"s"})}delete(Mt,Tt){return this.clone({param:Mt,value:Tt,op:"d"})}toString(){return this.init(),this.keys().map(Mt=>{const Tt=this.encoder.encodeKey(Mt);return this.map.get(Mt).map(mn=>Tt+"="+this.encoder.encodeValue(mn)).join("&")}).filter(Mt=>""!==Mt).join("&")}clone(Mt){const Tt=new nt({encoder:this.encoder});return Tt.cloneFrom=this.cloneFrom||this,Tt.updates=(this.updates||[]).concat(Mt),Tt}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Mt=>this.map.set(Mt,this.cloneFrom.map.get(Mt))),this.updates.forEach(Mt=>{switch(Mt.op){case"a":case"s":const Tt=("a"===Mt.op?this.map.get(Mt.param):void 0)||[];Tt.push(Ke(Mt.value)),this.map.set(Mt.param,Tt);break;case"d":if(void 0===Mt.value){this.map.delete(Mt.param);break}{let mn=this.map.get(Mt.param)||[];const An=mn.indexOf(Ke(Mt.value));-1!==An&&mn.splice(An,1),mn.length>0?this.map.set(Mt.param,mn):this.map.delete(Mt.param)}}}),this.cloneFrom=this.updates=null)}}class ft{constructor(){this.map=new Map}set(Mt,Tt){return this.map.set(Mt,Tt),this}get(Mt){return this.map.has(Mt)||this.map.set(Mt,Mt.defaultValue()),this.map.get(Mt)}delete(Mt){return this.map.delete(Mt),this}has(Mt){return this.map.has(Mt)}keys(){return this.map.keys()}}function tt(Lt){return typeof ArrayBuffer<"u"&&Lt instanceof ArrayBuffer}function je(Lt){return typeof Blob<"u"&&Lt instanceof Blob}function Ye(Lt){return typeof FormData<"u"&&Lt instanceof FormData}class me{constructor(Mt,Tt,mn,An){let Ln;if(this.url=Tt,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Mt.toUpperCase(),function pt(Lt){switch(Lt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||An?(this.body=void 0!==mn?mn:null,Ln=An):Ln=mn,Ln&&(this.reportProgress=!!Ln.reportProgress,this.withCredentials=!!Ln.withCredentials,Ln.responseType&&(this.responseType=Ln.responseType),Ln.headers&&(this.headers=Ln.headers),Ln.context&&(this.context=Ln.context),Ln.params&&(this.params=Ln.params)),this.headers||(this.headers=new re),this.context||(this.context=new ft),this.params){const mi=this.params.toString();if(0===mi.length)this.urlWithParams=Tt;else{const Xi=Tt.indexOf("?");this.urlWithParams=Tt+(-1===Xi?"?":Xi<Tt.length-1?"&":"")+mi}}else this.params=new nt,this.urlWithParams=Tt}serializeBody(){return null===this.body?null:tt(this.body)||je(this.body)||Ye(this.body)||function Me(Lt){return typeof URLSearchParams<"u"&&Lt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof nt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ye(this.body)?null:je(this.body)?this.body.type||null:tt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof nt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Mt={}){const Tt=Mt.method||this.method,mn=Mt.url||this.url,An=Mt.responseType||this.responseType,Ln=void 0!==Mt.body?Mt.body:this.body,mi=void 0!==Mt.withCredentials?Mt.withCredentials:this.withCredentials,Xi=void 0!==Mt.reportProgress?Mt.reportProgress:this.reportProgress;let li=Mt.headers||this.headers,Bi=Mt.params||this.params;const Si=Mt.context??this.context;return void 0!==Mt.setHeaders&&(li=Object.keys(Mt.setHeaders).reduce((_r,En)=>_r.set(En,Mt.setHeaders[En]),li)),Mt.setParams&&(Bi=Object.keys(Mt.setParams).reduce((_r,En)=>_r.set(En,Mt.setParams[En]),Bi)),new me(Tt,mn,Ln,{params:Bi,headers:li,context:Si,reportProgress:Xi,responseType:An,withCredentials:mi})}}var St=(()=>((St=St||{})[St.Sent=0]="Sent",St[St.UploadProgress=1]="UploadProgress",St[St.ResponseHeader=2]="ResponseHeader",St[St.DownloadProgress=3]="DownloadProgress",St[St.Response=4]="Response",St[St.User=5]="User",St))();class vt{constructor(Mt,Tt=200,mn="OK"){this.headers=Mt.headers||new re,this.status=void 0!==Mt.status?Mt.status:Tt,this.statusText=Mt.statusText||mn,this.url=Mt.url||null,this.ok=this.status>=200&&this.status<300}}class an extends vt{constructor(Mt={}){super(Mt),this.type=St.ResponseHeader}clone(Mt={}){return new an({headers:Mt.headers||this.headers,status:void 0!==Mt.status?Mt.status:this.status,statusText:Mt.statusText||this.statusText,url:Mt.url||this.url||void 0})}}class xn extends vt{constructor(Mt={}){super(Mt),this.type=St.Response,this.body=void 0!==Mt.body?Mt.body:null}clone(Mt={}){return new xn({body:void 0!==Mt.body?Mt.body:this.body,headers:Mt.headers||this.headers,status:void 0!==Mt.status?Mt.status:this.status,statusText:Mt.statusText||this.statusText,url:Mt.url||this.url||void 0})}}class In extends vt{constructor(Mt){super(Mt,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Mt.url||"(unknown url)"}`:`Http failure response for ${Mt.url||"(unknown url)"}: ${Mt.status} ${Mt.statusText}`,this.error=Mt.error||null}}function cn(Lt,Mt){return{body:Mt,headers:Lt.headers,context:Lt.context,observe:Lt.observe,params:Lt.params,reportProgress:Lt.reportProgress,responseType:Lt.responseType,withCredentials:Lt.withCredentials}}let Gn=(()=>{class Lt{constructor(Tt){this.handler=Tt}request(Tt,mn,An={}){let Ln;if(Tt instanceof me)Ln=Tt;else{let li,Bi;li=An.headers instanceof re?An.headers:new re(An.headers),An.params&&(Bi=An.params instanceof nt?An.params:new nt({fromObject:An.params})),Ln=new me(Tt,mn,void 0!==An.body?An.body:null,{headers:li,context:An.context,params:Bi,reportProgress:An.reportProgress,responseType:An.responseType||"json",withCredentials:An.withCredentials})}const mi=(0,O.of)(Ln).pipe((0,R.b)(li=>this.handler.handle(li)));if(Tt instanceof me||"events"===An.observe)return mi;const Xi=mi.pipe((0,Ee.h)(li=>li instanceof xn));switch(An.observe||"body"){case"body":switch(Ln.responseType){case"arraybuffer":return Xi.pipe((0,Re.U)(li=>{if(null!==li.body&&!(li.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return li.body}));case"blob":return Xi.pipe((0,Re.U)(li=>{if(null!==li.body&&!(li.body instanceof Blob))throw new Error("Response is not a Blob.");return li.body}));case"text":return Xi.pipe((0,Re.U)(li=>{if(null!==li.body&&"string"!=typeof li.body)throw new Error("Response is not a string.");return li.body}));default:return Xi.pipe((0,Re.U)(li=>li.body))}case"response":return Xi;default:throw new Error(`Unreachable: unhandled observe type ${An.observe}}`)}}delete(Tt,mn={}){return this.request("DELETE",Tt,mn)}get(Tt,mn={}){return this.request("GET",Tt,mn)}head(Tt,mn={}){return this.request("HEAD",Tt,mn)}jsonp(Tt,mn){return this.request("JSONP",Tt,{params:(new nt).append(mn,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Tt,mn={}){return this.request("OPTIONS",Tt,mn)}patch(Tt,mn,An={}){return this.request("PATCH",Tt,cn(An,mn))}post(Tt,mn,An={}){return this.request("POST",Tt,cn(An,mn))}put(Tt,mn,An={}){return this.request("PUT",Tt,cn(An,mn))}}return Lt.\u0275fac=function(Tt){return new(Tt||Lt)(T.LFG(xe))},Lt.\u0275prov=T.Yz7({token:Lt,factory:Lt.\u0275fac}),Lt})();class Tn{constructor(Mt,Tt){this.next=Mt,this.interceptor=Tt}handle(Mt){return this.interceptor.intercept(Mt,this.next)}}const Wn=new T.OlP("HTTP_INTERCEPTORS");let Ht=(()=>{class Lt{intercept(Tt,mn){return mn.handle(Tt)}}return Lt.\u0275fac=function(Tt){return new(Tt||Lt)},Lt.\u0275prov=T.Yz7({token:Lt,factory:Lt.\u0275fac}),Lt})();const Qn=/^\)\]\}',?\n/;let Nn=(()=>{class Lt{constructor(Tt){this.xhrFactory=Tt}handle(Tt){if("JSONP"===Tt.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ue.y(mn=>{const An=this.xhrFactory.build();if(An.open(Tt.method,Tt.urlWithParams),Tt.withCredentials&&(An.withCredentials=!0),Tt.headers.forEach((sn,It)=>An.setRequestHeader(sn,It.join(","))),Tt.headers.has("Accept")||An.setRequestHeader("Accept","application/json, text/plain, */*"),!Tt.headers.has("Content-Type")){const sn=Tt.detectContentTypeHeader();null!==sn&&An.setRequestHeader("Content-Type",sn)}if(Tt.responseType){const sn=Tt.responseType.toLowerCase();An.responseType="json"!==sn?sn:"text"}const Ln=Tt.serializeBody();let mi=null;const Xi=()=>{if(null!==mi)return mi;const sn=An.statusText||"OK",It=new re(An.getAllResponseHeaders()),xt=function _n(Lt){return"responseURL"in Lt&&Lt.responseURL?Lt.responseURL:/^X-Request-URL:/m.test(Lt.getAllResponseHeaders())?Lt.getResponseHeader("X-Request-URL"):null}(An)||Tt.url;return mi=new an({headers:It,status:An.status,statusText:sn,url:xt}),mi},li=()=>{let{headers:sn,status:It,statusText:xt,url:wt}=Xi(),Ie=null;204!==It&&(Ie=typeof An.response>"u"?An.responseText:An.response),0===It&&(It=Ie?200:0);let pe=It>=200&&It<300;if("json"===Tt.responseType&&"string"==typeof Ie){const ye=Ie;Ie=Ie.replace(Qn,"");try{Ie=""!==Ie?JSON.parse(Ie):null}catch(st){Ie=ye,pe&&(pe=!1,Ie={error:st,text:Ie})}}pe?(mn.next(new xn({body:Ie,headers:sn,status:It,statusText:xt,url:wt||void 0})),mn.complete()):mn.error(new In({error:Ie,headers:sn,status:It,statusText:xt,url:wt||void 0}))},Bi=sn=>{const{url:It}=Xi(),xt=new In({error:sn,status:An.status||0,statusText:An.statusText||"Unknown Error",url:It||void 0});mn.error(xt)};let Si=!1;const _r=sn=>{Si||(mn.next(Xi()),Si=!0);let It={type:St.DownloadProgress,loaded:sn.loaded};sn.lengthComputable&&(It.total=sn.total),"text"===Tt.responseType&&!!An.responseText&&(It.partialText=An.responseText),mn.next(It)},En=sn=>{let It={type:St.UploadProgress,loaded:sn.loaded};sn.lengthComputable&&(It.total=sn.total),mn.next(It)};return An.addEventListener("load",li),An.addEventListener("error",Bi),An.addEventListener("timeout",Bi),An.addEventListener("abort",Bi),Tt.reportProgress&&(An.addEventListener("progress",_r),null!==Ln&&An.upload&&An.upload.addEventListener("progress",En)),An.send(Ln),mn.next({type:St.Sent}),()=>{An.removeEventListener("error",Bi),An.removeEventListener("abort",Bi),An.removeEventListener("load",li),An.removeEventListener("timeout",Bi),Tt.reportProgress&&(An.removeEventListener("progress",_r),null!==Ln&&An.upload&&An.upload.removeEventListener("progress",En)),An.readyState!==An.DONE&&An.abort()}})}}return Lt.\u0275fac=function(Tt){return new(Tt||Lt)(T.LFG(a.JF))},Lt.\u0275prov=T.Yz7({token:Lt,factory:Lt.\u0275fac}),Lt})();const yn=new T.OlP("XSRF_COOKIE_NAME"),pn=new T.OlP("XSRF_HEADER_NAME");class Pn{}let Nt=(()=>{class Lt{constructor(Tt,mn,An){this.doc=Tt,this.platform=mn,this.cookieName=An,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Tt=this.doc.cookie||"";return Tt!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,a.Mx)(Tt,this.cookieName),this.lastCookieString=Tt),this.lastToken}}return Lt.\u0275fac=function(Tt){return new(Tt||Lt)(T.LFG(a.K0),T.LFG(T.Lbi),T.LFG(yn))},Lt.\u0275prov=T.Yz7({token:Lt,factory:Lt.\u0275fac}),Lt})(),tn=(()=>{class Lt{constructor(Tt,mn){this.tokenService=Tt,this.headerName=mn}intercept(Tt,mn){const An=Tt.url.toLowerCase();if("GET"===Tt.method||"HEAD"===Tt.method||An.startsWith("http://")||An.startsWith("https://"))return mn.handle(Tt);const Ln=this.tokenService.getToken();return null!==Ln&&!Tt.headers.has(this.headerName)&&(Tt=Tt.clone({headers:Tt.headers.set(this.headerName,Ln)})),mn.handle(Tt)}}return Lt.\u0275fac=function(Tt){return new(Tt||Lt)(T.LFG(Pn),T.LFG(pn))},Lt.\u0275prov=T.Yz7({token:Lt,factory:Lt.\u0275fac}),Lt})(),Rt=(()=>{class Lt{constructor(Tt,mn){this.backend=Tt,this.injector=mn,this.chain=null}handle(Tt){if(null===this.chain){const mn=this.injector.get(Wn,[]);this.chain=mn.reduceRight((An,Ln)=>new Tn(An,Ln),this.backend)}return this.chain.handle(Tt)}}return Lt.\u0275fac=function(Tt){return new(Tt||Lt)(T.LFG(Ce),T.LFG(T.zs3))},Lt.\u0275prov=T.Yz7({token:Lt,factory:Lt.\u0275fac}),Lt})(),le=(()=>{class Lt{static disable(){return{ngModule:Lt,providers:[{provide:tn,useClass:Ht}]}}static withOptions(Tt={}){return{ngModule:Lt,providers:[Tt.cookieName?{provide:yn,useValue:Tt.cookieName}:[],Tt.headerName?{provide:pn,useValue:Tt.headerName}:[]]}}}return Lt.\u0275fac=function(Tt){return new(Tt||Lt)},Lt.\u0275mod=T.oAB({type:Lt}),Lt.\u0275inj=T.cJS({providers:[tn,{provide:Wn,useExisting:tn,multi:!0},{provide:Pn,useClass:Nt},{provide:yn,useValue:"XSRF-TOKEN"},{provide:pn,useValue:"X-XSRF-TOKEN"}]}),Lt})(),Ae=(()=>{class Lt{}return Lt.\u0275fac=function(Tt){return new(Tt||Lt)},Lt.\u0275mod=T.oAB({type:Lt}),Lt.\u0275inj=T.cJS({providers:[Gn,{provide:xe,useClass:Rt},Nn,{provide:Ce,useExisting:Nn}],imports:[le.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),Lt})()},4650:(ai,qt,N)=>{"use strict";N.d(qt,{$8M:()=>fl,$Z:()=>y_,AFp:()=>iw,ALo:()=>nx,AaK:()=>xe,AsE:()=>Yh,BQk:()=>ri,CHM:()=>ac,CRH:()=>rt,CZH:()=>Rb,CqO:()=>ir,D6c:()=>GC,DdM:()=>wb,Dn7:()=>O0,EJc:()=>sC,EiD:()=>W,EpF:()=>Mi,F$t:()=>Zr,F4k:()=>Ci,FYo:()=>cf,FiY:()=>or,G48:()=>AC,Gf:()=>X,GfV:()=>mh,GkF:()=>hi,Gpc:()=>ce,Gre:()=>u0,Hsn:()=>ya,Ikx:()=>iv,JOm:()=>Cc,JVY:()=>id,Jf7:()=>qm,KtG:()=>ka,L6k:()=>Wd,LAX:()=>Lh,LFG:()=>No,LSH:()=>ui,Lbi:()=>tC,Lck:()=>Yb,MAs:()=>$,MGl:()=>nu,MMx:()=>S0,NdJ:()=>er,O4$:()=>Ji,OlP:()=>Ks,Oqu:()=>tv,PXZ:()=>bC,Q6J:()=>se,QGY:()=>oi,QP$:()=>ti,QbO:()=>nC,Qsj:()=>Hh,R0b:()=>fp,RDi:()=>z,Rgc:()=>ty,SBq:()=>Vh,Sil:()=>aC,Suo:()=>ke,TTD:()=>gs,TgZ:()=>Ot,Tol:()=>Xy,Udp:()=>zp,VKq:()=>k0,W1O:()=>cr,WFA:()=>fr,WLB:()=>$y,X6Q:()=>DC,XFs:()=>Rt,Xpm:()=>wt,Xts:()=>ic,Y36:()=>Xd,YKP:()=>ub,YNc:()=>P,Yjl:()=>Fe,Yz7:()=>jt,Z0I:()=>On,ZZ4:()=>wx,_Bn:()=>cb,_UZ:()=>Sn,_Vd:()=>Cd,_c5:()=>zC,_uU:()=>Ef,aQg:()=>Cx,c2e:()=>iC,cJS:()=>en,cg1:()=>rv,d8E:()=>Zv,dDg:()=>gC,dqk:()=>An,eBb:()=>Oh,eFA:()=>gw,ekj:()=>ev,eoX:()=>fw,f3M:()=>_e,g9A:()=>sw,h0i:()=>ov,hGG:()=>jC,hij:()=>nv,iGM:()=>V,ifc:()=>mn,ip1:()=>nw,jDz:()=>E0,kL8:()=>nh,kcU:()=>Wr,lG2:()=>ct,lcZ:()=>Tb,lqb:()=>sa,lri:()=>dw,mCW:()=>wd,n5z:()=>Zs,n_E:()=>L0,oAB:()=>st,oJD:()=>nn,oxw:()=>pc,pB0:()=>Ko,q3G:()=>gt,q4F:()=>Zm,qLn:()=>Kf,qOj:()=>Pg,qZA:()=>Qt,qzn:()=>fc,rWj:()=>hw,sBO:()=>SC,sIi:()=>Rp,s_b:()=>ny,soG:()=>Fb,tb:()=>ow,tp0:()=>yr,uIk:()=>op,uOi:()=>gi,vHH:()=>Be,vpe:()=>If,wAp:()=>ns,xi3:()=>Db,xp6:()=>mf,ynx:()=>Vn,z2F:()=>Nb,z3N:()=>Ul,zSh:()=>ko,zs3:()=>qd});var a=N(7579),T=N(727),O=N(9751),ue=N(6451),R=N(3099);function Ee(i){for(let o in i)if(i[o]===Ee)return o;throw Error("Could not find renamed property on target object.")}function Re(i,o){for(const u in o)o.hasOwnProperty(u)&&!i.hasOwnProperty(u)&&(i[u]=o[u])}function xe(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(xe).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function Ce(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const re=Ee({__forward_ref__:Ee});function ce(i){return i.__forward_ref__=ce,i.toString=function(){return xe(this())},i}function be(i){return Ve(i)?i():i}function Ve(i){return"function"==typeof i&&i.hasOwnProperty(re)&&i.__forward_ref__===ce}class Be extends Error{constructor(o,u){super(function Je(i,o){return`NG0${Math.abs(i)}${o?": "+o.trim():""}`}(o,u)),this.code=o}}function Ke(i){return"string"==typeof i?i:null==i?"":String(i)}function tt(i,o){throw new Be(-201,!1)}function Ht(i,o){null==i&&function Bt(i,o,u,y){throw new Error(`ASSERTION ERROR: ${i}`+(null==y?"":` [Expected=> ${u} ${y} ${o} <=Actual]`))}(o,i,null,"!=")}function jt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function en(i){return{providers:i.providers||[],imports:i.imports||[]}}function gn(i){return Qn(i,pn)||Qn(i,Nt)}function On(i){return null!==gn(i)}function Qn(i,o){return i.hasOwnProperty(o)?i[o]:null}function yn(i){return i&&(i.hasOwnProperty(Pn)||i.hasOwnProperty(tn))?i[Pn]:null}const pn=Ee({\u0275prov:Ee}),Pn=Ee({\u0275inj:Ee}),Nt=Ee({ngInjectableDef:Ee}),tn=Ee({ngInjectorDef:Ee});var Rt=(()=>((Rt=Rt||{})[Rt.Default=0]="Default",Rt[Rt.Host=1]="Host",Rt[Rt.Self=2]="Self",Rt[Rt.SkipSelf=4]="SkipSelf",Rt[Rt.Optional=8]="Optional",Rt))();let bn;function le(i){const o=bn;return bn=i,o}function Ae(i,o,u){const y=gn(i);return y&&"root"==y.providedIn?void 0===y.value?y.value=y.factory():y.value:u&Rt.Optional?null:void 0!==o?o:void tt(xe(i))}function zt(i){return{toString:i}.toString()}var Lt=(()=>((Lt=Lt||{})[Lt.OnPush=0]="OnPush",Lt[Lt.Default=1]="Default",Lt))(),mn=(()=>{return(i=mn||(mn={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",mn;var i})();const An=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Xi={},li=[],Bi=Ee({\u0275cmp:Ee}),Si=Ee({\u0275dir:Ee}),_r=Ee({\u0275pipe:Ee}),En=Ee({\u0275mod:Ee}),sn=Ee({\u0275fac:Ee}),It=Ee({__NG_ELEMENT_ID__:Ee});let xt=0;function wt(i){return zt(()=>{const u=!0===i.standalone,y={},C={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:y,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Lt.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||li,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||mn.Emulated,id:"c"+xt++,styles:i.styles||li,_:null,setInput:null,schemas:i.schemas||null,tView:null},I=i.dependencies,j=i.features;return C.inputs=Te(i.inputs,y),C.outputs=Te(i.outputs),j&&j.forEach(te=>te(C)),C.directiveDefs=I?()=>("function"==typeof I?I():I).map(pe).filter(ye):null,C.pipeDefs=I?()=>("function"==typeof I?I():I).map(wn).filter(ye):null,C})}function pe(i){return qe(i)||Zt(i)}function ye(i){return null!==i}function st(i){return zt(()=>({type:i.type,bootstrap:i.bootstrap||li,declarations:i.declarations||li,imports:i.imports||li,exports:i.exports||li,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Te(i,o){if(null==i)return Xi;const u={};for(const y in i)if(i.hasOwnProperty(y)){let C=i[y],I=C;Array.isArray(C)&&(I=C[1],C=C[0]),u[C]=y,o&&(o[C]=I)}return u}const ct=wt;function Fe(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function qe(i){return i[Bi]||null}function Zt(i){return i[Si]||null}function wn(i){return i[_r]||null}function ti(i){const o=qe(i)||Zt(i)||wn(i);return null!==o&&o.standalone}function Ui(i,o){const u=i[En]||null;if(!u&&!0===o)throw new Error(`Type ${xe(i)} does not have '\u0275mod' property.`);return u}const Y=16;function Ps(i){return Array.isArray(i)&&"object"==typeof i[1]}function qo(i){return Array.isArray(i)&&!0===i[1]}function Co(i){return 0!=(8&i.flags)}function Wo(i){return 2==(2&i.flags)}function fa(i){return 1==(1&i.flags)}function ws(i){return null!==i.template}function Es(i){return 0!=(256&i[2])}function Oo(i,o){return i.hasOwnProperty(sn)?i[sn]:null}class mo{constructor(o,u,y){this.previousValue=o,this.currentValue=u,this.firstChange=y}isFirstChange(){return this.firstChange}}function gs(){return Ur}function Ur(i){return i.type.prototype.ngOnChanges&&(i.setInput=Fa),tl}function tl(){const i=Sa(this),o=i?.current;if(o){const u=i.previous;if(u===Xi)i.previous=o;else for(let y in o)u[y]=o[y];i.current=null,this.ngOnChanges(o)}}function Fa(i,o,u,y){const C=Sa(i)||function Yo(i,o){return i[Mo]=o}(i,{previous:Xi,current:null}),I=C.current||(C.current={}),j=C.previous,te=this.declaredInputs[u],fe=j[te];I[te]=new mo(fe&&fe.currentValue,o,j===Xi),i[y]=o}gs.ngInherit=!0;const Mo="__ngSimpleChanges__";function Sa(i){return i[Mo]||null}function Kr(i){for(;Array.isArray(i);)i=i[0];return i}function Us(i,o){return Kr(o[i])}function go(i,o){return Kr(o[i.index])}function Na(i,o){return i.data[o]}function zs(i,o){return i[o]}function Vr(i,o){const u=o[i];return Ps(u)?u:u[0]}function eo(i){return 64==(64&i[2])}function Vo(i,o){return null==o?null:i[o]}function Xo(i){i[18]=0}function js(i,o){i[5]+=o;let u=i,y=i[3];for(;null!==y&&(1===o&&1===u[5]||-1===o&&0===u[5]);)y[5]+=o,u=y,y=y[3]}const lr={lFrame:ua(null),bindingsEnabled:!0};function na(){return lr.bindingsEnabled}function _i(){return lr.lFrame.lView}function Cr(){return lr.lFrame.tView}function ac(i){return lr.lFrame.contextLView=i,i[8]}function ka(i){return lr.lFrame.contextLView=null,i}function ks(){let i=Se();for(;null!==i&&64===i.type;)i=i.parent;return i}function Se(){return lr.lFrame.currentTNode}function he(i,o){const u=lr.lFrame;u.currentTNode=i,u.isParent=o}function Et(){return lr.lFrame.isParent}function qn(){lr.lFrame.isParent=!1}function _s(){const i=lr.lFrame;let o=i.bindingRootIndex;return-1===o&&(o=i.bindingRootIndex=i.tView.bindingStartIndex),o}function aa(){return lr.lFrame.bindingIndex++}function la(i){const o=lr.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,u}function Wa(i,o){const u=lr.lFrame;u.bindingIndex=u.bindingRootIndex=i,Vs(o)}function Vs(i){lr.lFrame.currentDirectiveIndex=i}function pa(i){const o=lr.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}function cc(){return lr.lFrame.currentQueryIndex}function ca(i){lr.lFrame.currentQueryIndex=i}function ar(i){const o=i[1];return 2===o.type?o.declTNode:1===o.type?i[6]:null}function xr(i,o,u){if(u&Rt.SkipSelf){let C=o,I=i;for(;!(C=C.parent,null!==C||u&Rt.Host||(C=ar(I),null===C||(I=I[15],10&C.type))););if(null===C)return!1;o=C,i=I}const y=lr.lFrame=co();return y.currentTNode=o,y.lView=i,!0}function il(i){const o=co(),u=i[1];lr.lFrame=o,o.currentTNode=u.firstChild,o.lView=i,o.tView=u,o.contextLView=i,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function co(){const i=lr.lFrame,o=null===i?null:i.child;return null===o?ua(i):o}function ua(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function Gs(){const i=lr.lFrame;return lr.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const ae=Gs;function Xe(){const i=Gs();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function un(){return lr.lFrame.selectedIndex}function jn(i){lr.lFrame.selectedIndex=i}function si(){const i=lr.lFrame;return Na(i.tView,i.selectedIndex)}function Ji(){lr.lFrame.currentNamespace="svg"}function Wr(){!function qr(){lr.lFrame.currentNamespace=null}()}function hs(i,o){for(let u=o.directiveStart,y=o.directiveEnd;u<y;u++){const I=i.data[u].type.prototype,{ngAfterContentInit:j,ngAfterContentChecked:te,ngAfterViewInit:fe,ngAfterViewChecked:Ze,ngOnDestroy:Pt}=I;j&&(i.contentHooks||(i.contentHooks=[])).push(-u,j),te&&((i.contentHooks||(i.contentHooks=[])).push(u,te),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(u,te)),fe&&(i.viewHooks||(i.viewHooks=[])).push(-u,fe),Ze&&((i.viewHooks||(i.viewHooks=[])).push(u,Ze),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(u,Ze)),null!=Pt&&(i.destroyHooks||(i.destroyHooks=[])).push(u,Pt)}}function Cs(i,o,u){yo(i,o,3,u)}function Ia(i,o,u,y){(3&i[2])===u&&yo(i,o,u,y)}function Uo(i,o){let u=i[2];(3&u)===o&&(u&=2047,u+=1,i[2]=u)}function yo(i,o,u,y){const I=y??-1,j=o.length-1;let te=0;for(let fe=void 0!==y?65535&i[18]:0;fe<j;fe++)if("number"==typeof o[fe+1]){if(te=o[fe],null!=y&&te>=y)break}else o[fe]<0&&(i[18]+=65536),(te<I||-1==I)&&(Va(i,u,o,fe),i[18]=(4294901760&i[18])+fe+2),fe++}function Va(i,o,u,y){const C=u[y]<0,I=u[y+1],te=i[C?-u[y]:u[y]];if(C){if(i[2]>>11<i[18]>>16&&(3&i[2])===o){i[2]+=2048;try{I.call(te)}finally{}}}else try{I.call(te)}finally{}}class qi{constructor(o,u,y){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=y}}function vc(i,o,u){let y=0;for(;y<u.length;){const C=u[y];if("number"==typeof C){if(0!==C)break;y++;const I=u[y++],j=u[y++],te=u[y++];i.setAttribute(o,j,te,I)}else{const I=C,j=u[++y];Kl(I)?i.setProperty(o,I,j):i.setAttribute(o,I,j),y++}}return y}function no(i){return 3===i||4===i||6===i}function Kl(i){return 64===i.charCodeAt(0)}function yc(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let u=-1;for(let y=0;y<o.length;y++){const C=o[y];"number"==typeof C?u=C:0===u||da(i,u,C,null,-1===u||2===u?o[++y]:null)}}return i}function da(i,o,u,y,C){let I=0,j=i.length;if(-1===o)j=-1;else for(;I<i.length;){const te=i[I++];if("number"==typeof te){if(te===o){j=-1;break}if(te>o){j=I-1;break}}}for(;I<i.length;){const te=i[I];if("number"==typeof te)break;if(te===u){if(null===y)return void(null!==C&&(i[I+1]=C));if(y===i[I+1])return void(i[I+2]=C)}I++,null!==y&&I++,null!==C&&I++}-1!==j&&(i.splice(j,0,o),I=j+1),i.splice(I++,0,u),null!==y&&i.splice(I++,0,y),null!==C&&i.splice(I++,0,C)}function Fr(i){return-1!==i}function ne(i){return 32767&i}function dt(i,o){let u=function oe(i){return i>>16}(i),y=o;for(;u>0;)y=y[15],u--;return y}let hn=!0;function Dn(i){const o=hn;return hn=i,o}let wi=0;const $i={};function Ri(i,o){const u=vi(i,o);if(-1!==u)return u;const y=o[1];y.firstCreatePass&&(i.injectorIndex=o.length,Kn(y.data,i),Kn(o,null),Kn(y.blueprint,null));const C=f(i,o),I=i.injectorIndex;if(Fr(C)){const j=ne(C),te=dt(C,o),fe=te[1].data;for(let Ze=0;Ze<8;Ze++)o[I+Ze]=te[j+Ze]|fe[j+Ze]}return o[I+8]=C,I}function Kn(i,o){i.push(0,0,0,0,0,0,0,0,o)}function vi(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function f(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let u=0,y=null,C=o;for(;null!==C;){if(y=Qr(C),null===y)return-1;if(u++,C=C[15],-1!==y.injectorIndex)return y.injectorIndex|u<<16}return-1}function w(i,o,u){!function io(i,o,u){let y;"string"==typeof u?y=u.charCodeAt(0)||0:u.hasOwnProperty(It)&&(y=u[It]),null==y&&(y=u[It]=wi++);const C=255&y;o.data[i+(C>>5)]|=1<<C}(i,o,u)}function ee(i,o,u){if(u&Rt.Optional||void 0!==i)return i;tt()}function Le(i,o,u,y){if(u&Rt.Optional&&void 0===y&&(y=null),0==(u&(Rt.Self|Rt.Host))){const C=i[9],I=le(void 0);try{return C?C.get(o,y,u&Rt.Optional):Ae(o,y,u&Rt.Optional)}finally{le(I)}}return ee(y,0,u)}function Dt(i,o,u,y=Rt.Default,C){if(null!==i){if(1024&o[2]){const j=function zo(i,o,u,y,C){let I=i,j=o;for(;null!==I&&null!==j&&1024&j[2]&&!(256&j[2]);){const te=fn(I,j,u,y|Rt.Self,$i);if(te!==$i)return te;let fe=I.parent;if(!fe){const Ze=j[21];if(Ze){const Pt=Ze.get(u,$i,y);if(Pt!==$i)return Pt}fe=Qr(j),j=j[15]}I=fe}return C}(i,o,u,y,$i);if(j!==$i)return j}const I=fn(i,o,u,y,$i);if(I!==$i)return I}return Le(o,u,y,C)}function fn(i,o,u,y,C){const I=function Hi(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(It)?i[It]:void 0;return"number"==typeof o?o>=0?255&o:Al:o}(u);if("function"==typeof I){if(!xr(o,i,y))return y&Rt.Host?ee(C,0,y):Le(o,u,y,C);try{const j=I(y);if(null!=j||y&Rt.Optional)return j;tt()}finally{ae()}}else if("number"==typeof I){let j=null,te=vi(i,o),fe=-1,Ze=y&Rt.Host?o[Y][6]:null;for((-1===te||y&Rt.SkipSelf)&&(fe=-1===te?f(i,o):o[te+8],-1!==fe&&Pi(y,!1)?(j=o[1],te=ne(fe),o=dt(fe,o)):te=-1);-1!==te;){const Pt=o[1];if(hr(I,te,Pt.data)){const Jt=$n(te,o,u,j,y,Ze);if(Jt!==$i)return Jt}fe=o[te+8],-1!==fe&&Pi(y,o[1].data[te+8]===Ze)&&hr(I,te,o)?(j=Pt,te=ne(fe),o=dt(fe,o)):te=-1}}return C}function $n(i,o,u,y,C,I){const j=o[1],te=j.data[i+8],Pt=Xn(te,j,u,null==y?Wo(te)&&hn:y!=j&&0!=(3&te.type),C&Rt.Host&&I===te);return null!==Pt?xi(o,j,Pt,te):$i}function Xn(i,o,u,y,C){const I=i.providerIndexes,j=o.data,te=1048575&I,fe=i.directiveStart,Pt=I>>20,Fn=C?te+Pt:i.directiveEnd;for(let ni=y?te:te+Pt;ni<Fn;ni++){const Ti=j[ni];if(ni<fe&&u===Ti||ni>=fe&&Ti.type===u)return ni}if(C){const ni=j[fe];if(ni&&ws(ni)&&ni.type===u)return fe}return null}function xi(i,o,u,y){let C=i[u];const I=o.data;if(function ma(i){return i instanceof qi}(C)){const j=C;j.resolving&&function We(i,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new Be(-200,`Circular dependency in DI detected for ${i}${u}`)}(function nt(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Ke(i)}(I[u]));const te=Dn(j.canSeeViewProviders);j.resolving=!0;const fe=j.injectImpl?le(j.injectImpl):null;xr(i,y,Rt.Default);try{C=i[u]=j.factory(void 0,I,i,y),o.firstCreatePass&&u>=y.directiveStart&&function vo(i,o,u){const{ngOnChanges:y,ngOnInit:C,ngDoCheck:I}=o.type.prototype;if(y){const j=Ur(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(i,j),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(i,j)}C&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-i,C),I&&((u.preOrderHooks||(u.preOrderHooks=[])).push(i,I),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(i,I))}(u,I[u],o)}finally{null!==fe&&le(fe),Dn(te),j.resolving=!1,ae()}}return C}function hr(i,o,u){return!!(u[o+(i>>5)]&1<<i)}function Pi(i,o){return!(i&Rt.Self||i&Rt.Host&&o)}class Is{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,y){return Dt(this._tNode,this._lView,o,y,u)}}function Al(){return new Is(ks(),_i())}function Zs(i){return zt(()=>{const o=i.prototype.constructor,u=o[sn]||rr(o),y=Object.prototype;let C=Object.getPrototypeOf(i.prototype).constructor;for(;C&&C!==y;){const I=C[sn]||rr(C);if(I&&I!==u)return I;C=Object.getPrototypeOf(C)}return I=>new I})}function rr(i){return Ve(i)?()=>{const o=rr(be(i));return o&&o()}:Oo(i)}function Qr(i){const o=i[1],u=o.type;return 2===u?o.declTNode:1===u?i[6]:null}function fl(i){return function H(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const u=i.attrs;if(u){const y=u.length;let C=0;for(;C<y;){const I=u[C];if(no(I))break;if(0===I)C+=2;else if("number"==typeof I)for(C++;C<y&&"string"==typeof u[C];)C++;else{if(I===o)return u[C+1];C+=2}}}return null}(ks(),i)}const Oi="__parameters__";function Sl(i,o,u){return zt(()=>{const y=function ys(i){return function(...u){if(i){const y=i(...u);for(const C in y)this[C]=y[C]}}}(o);function C(...I){if(this instanceof C)return y.apply(this,I),this;const j=new C(...I);return te.annotation=j,te;function te(fe,Ze,Pt){const Jt=fe.hasOwnProperty(Oi)?fe[Oi]:Object.defineProperty(fe,Oi,{value:[]})[Oi];for(;Jt.length<=Pt;)Jt.push(null);return(Jt[Pt]=Jt[Pt]||[]).push(j),fe}}return u&&(C.prototype=Object.create(u.prototype)),C.prototype.ngMetadataName=i,C.annotationCls=C,C})}class Ks{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=jt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function fs(i,o){void 0===o&&(o=i);for(let u=0;u<i.length;u++){let y=i[u];Array.isArray(y)?(o===i&&(o=i.slice(0,u)),fs(y,o)):o!==i&&o.push(y)}return o}function ia(i,o){i.forEach(u=>Array.isArray(u)?ia(u,o):o(u))}function Ql(i,o,u){o>=i.length?i.push(u):i.splice(o,0,u)}function ea(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function q(i,o){const u=[];for(let y=0;y<i;y++)u.push(o);return u}function dn(i,o,u){let y=Ni(i,o);return y>=0?i[1|y]=u:(y=~y,function de(i,o,u,y){let C=i.length;if(C==o)i.push(u,y);else if(1===C)i.push(y,i[0]),i[0]=u;else{for(C--,i.push(i[C-1],i[C]);C>o;)i[C]=i[C-2],C--;i[o]=u,i[o+1]=y}}(i,y,o,u)),y}function di(i,o){const u=Ni(i,o);if(u>=0)return i[1|u]}function Ni(i,o){return function Fi(i,o,u){let y=0,C=i.length>>u;for(;C!==y;){const I=y+(C-y>>1),j=i[I<<u];if(o===j)return I<<u;j>o?C=I:y=I+1}return~(C<<u)}(i,o,1)}const El={},kc="__NG_DI_FLAG__",ml="ngTempTokenPath",pu=/\n/gm,Zu="__source";let dc;function Ka(i){const o=dc;return dc=i,o}function ll(i,o=Rt.Default){if(void 0===dc)throw new Be(-203,!1);return null===dc?Ae(i,void 0,o):dc.get(i,o&Rt.Optional?null:void 0,o)}function No(i,o=Rt.Default){return(function lt(){return bn}()||ll)(be(i),o)}function _e(i,o=Rt.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),No(i,o)}function He(i){const o=[];for(let u=0;u<i.length;u++){const y=be(i[u]);if(Array.isArray(y)){if(0===y.length)throw new Be(900,!1);let C,I=Rt.Default;for(let j=0;j<y.length;j++){const te=y[j],fe=ln(te);"number"==typeof fe?-1===fe?C=te.token:I|=fe:C=te}o.push(No(C,I))}else o.push(No(y))}return o}function bt(i,o){return i[kc]=o,i.prototype[kc]=o,i}function ln(i){return i[kc]}const or=bt(Sl("Optional"),8),yr=bt(Sl("SkipSelf"),4);var Cc=(()=>((Cc=Cc||{})[Cc.Important=1]="Important",Cc[Cc.DashCase=2]="DashCase",Cc))();const Pc=new Map;let Tc=0;const gu="__ngContext__";function kl(i,o){Ps(o)?(i[gu]=o[20],function Nd(i){Pc.set(i[20],i)}(o)):i[gu]=o}function Bd(i,o){return undefined(i,o)}function Iu(i){const o=i[3];return qo(o)?o[3]:o}function pd(i){return _p(i[13])}function lh(i){return _p(i[4])}function _p(i){for(;null!==i&&!qo(i);)i=i[4];return i}function md(i,o,u,y,C){if(null!=y){let I,j=!1;qo(y)?I=y:Ps(y)&&(j=!0,y=y[0]);const te=Kr(y);0===i&&null!==u?null==C?Jc(o,u,te):yu(o,u,te,C||null,!0):1===i&&null!==u?yu(o,u,te,C||null,!0):2===i?function rf(i,o,u){const y=vd(i,o);y&&function _d(i,o,u,y){i.removeChild(o,u,y)}(i,y,o,u)}(o,te,j):3===i&&o.destroyNode(te),null!=I&&function Vf(i,o,u,y,C){const I=u[7];I!==Kr(u)&&md(o,i,y,I,C);for(let te=10;te<u.length;te++){const fe=u[te];zd(fe[1],fe,i,o,y,I)}}(o,i,I,u,C)}}function vu(i,o,u){return i.createElement(o,u)}function uo(i,o){const u=i[9],y=u.indexOf(o),C=o[3];512&o[2]&&(o[2]&=-513,js(C,-1)),u.splice(y,1)}function ch(i,o){if(i.length<=10)return;const u=10+o,y=i[u];if(y){const C=y[17];null!==C&&C!==i&&uo(C,y),o>0&&(i[u-1][4]=y[4]);const I=ea(i,10+o);!function Nf(i,o){zd(i,o,o[11],2,null,null),o[0]=null,o[6]=null}(y[1],y);const j=I[19];null!==j&&j.detachView(I[1]),y[3]=null,y[4]=null,y[2]&=-65}return y}function Bf(i,o){if(!(128&o[2])){const u=o[11];u.destroyNode&&zd(i,o,u,3,null,null),function Sh(i){let o=i[13];if(!o)return cu(i[1],i);for(;o;){let u=null;if(Ps(o))u=o[13];else{const y=o[10];y&&(u=y)}if(!u){for(;o&&!o[4]&&o!==i;)Ps(o)&&cu(o[1],o),o=o[3];null===o&&(o=i),Ps(o)&&cu(o[1],o),u=o&&o[4]}o=u}}(o)}}function cu(i,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function Oc(i,o){let u;if(null!=i&&null!=(u=i.destroyHooks))for(let y=0;y<u.length;y+=2){const C=o[u[y]];if(!(C instanceof qi)){const I=u[y+1];if(Array.isArray(I))for(let j=0;j<I.length;j+=2){const te=C[I[j]],fe=I[j+1];try{fe.call(te)}finally{}}else try{I.call(C)}finally{}}}}(i,o),function Kp(i,o){const u=i.cleanup,y=o[7];let C=-1;if(null!==u)for(let I=0;I<u.length-1;I+=2)if("string"==typeof u[I]){const j=u[I+1],te="function"==typeof j?j(o):Kr(o[j]),fe=y[C=u[I+2]],Ze=u[I+3];"boolean"==typeof Ze?te.removeEventListener(u[I],fe,Ze):Ze>=0?y[C=Ze]():y[C=-Ze].unsubscribe(),I+=2}else{const j=y[C=u[I+1]];u[I].call(j)}if(null!==y){for(let I=C+1;I<y.length;I++)(0,y[I])();o[7]=null}}(i,o),1===o[1].type&&o[11].destroy();const u=o[17];if(null!==u&&qo(o[3])){u!==o[3]&&uo(u,o);const y=o[19];null!==y&&y.detachView(i)}!function Zp(i){Pc.delete(i[20])}(o)}}function Eh(i,o,u){return function Ud(i,o,u){let y=o;for(;null!==y&&40&y.type;)y=(o=y).parent;if(null===y)return u[0];if(2&y.flags){const C=i.data[y.directiveStart].encapsulation;if(C===mn.None||C===mn.Emulated)return null}return go(y,u)}(i,o.parent,u)}function yu(i,o,u,y,C){i.insertBefore(o,u,y,C)}function Jc(i,o,u){i.appendChild(o,u)}function Mh(i,o,u,y,C){null!==y?yu(i,o,u,y,C):Jc(i,o,u)}function vd(i,o){return i.parentNode(o)}function uh(i,o,u){return bu(i,o,u)}let Pa,Gd,k,bu=function dh(i,o,u){return 40&i.type?go(i,u):null};function kh(i,o,u,y){const C=Eh(i,y,o),I=o[11],te=uh(y.parent||o[6],y,o);if(null!=C)if(Array.isArray(u))for(let fe=0;fe<u.length;fe++)Mh(I,C,u[fe],te,!1);else Mh(I,C,u,te,!1)}function eu(i,o){if(null!==o){const u=o.type;if(3&u)return go(o,i);if(4&u)return Ih(-1,i[o.index]);if(8&u){const y=o.child;if(null!==y)return eu(i,y);{const C=i[o.index];return qo(C)?Ih(-1,C):Kr(C)}}if(32&u)return Bd(o,i)()||Kr(i[o.index]);{const y=_l(i,o);return null!==y?Array.isArray(y)?y[0]:eu(Iu(i[Y]),y):eu(i,o.next)}}return null}function _l(i,o){return null!==o?i[Y][6].projection[o.projection]:null}function Ih(i,o){const u=10+i+1;if(u<o.length){const y=o[u],C=y[1].firstChild;if(null!==C)return eu(y,C)}return o[7]}function ho(i,o,u,y,C,I,j){for(;null!=u;){const te=y[u.index],fe=u.type;if(j&&0===o&&(te&&kl(Kr(te),y),u.flags|=4),64!=(64&u.flags))if(8&fe)ho(i,o,u.child,y,C,I,!1),md(o,i,C,te,I);else if(32&fe){const Ze=Bd(u,y);let Pt;for(;Pt=Ze();)md(o,i,C,Pt,I);md(o,i,C,te,I)}else 16&fe?td(i,o,y,u,C,I):md(o,i,C,te,I);u=j?u.projectionNext:u.next}}function zd(i,o,u,y,C,I){ho(u,y,i.firstChild,o,C,I,!1)}function td(i,o,u,y,C,I){const j=u[Y],fe=j[6].projection[y.projection];if(Array.isArray(fe))for(let Ze=0;Ze<fe.length;Ze++)md(o,i,C,fe[Ze],I);else ho(i,o,fe,j[3],C,I,!0)}function xu(i,o,u){i.setAttribute(o,"style",u)}function bd(i,o,u){""===u?i.removeAttribute(o,"class"):i.setAttribute(o,"class",u)}function nd(i){return function jd(){if(void 0===Pa&&(Pa=null,An.trustedTypes))try{Pa=An.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Pa}()?.createHTML(i)||i}function z(i){Gd=i}function Z(){if(void 0===k&&(k=null,An.trustedTypes))try{k=An.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return k}function Qe(i){return Z()?.createHTML(i)||i}function Bn(i){return Z()?.createScriptURL(i)||i}class fi{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ki extends fi{getTypeName(){return"HTML"}}class pr extends fi{getTypeName(){return"Style"}}class zr extends fi{getTypeName(){return"Script"}}class Or extends fi{getTypeName(){return"URL"}}class vl extends fi{getTypeName(){return"ResourceURL"}}function Ul(i){return i instanceof fi?i.changingThisBreaksApplicationSecurity:i}function fc(i,o){const u=function $d(i){return i instanceof fi&&i.getTypeName()||null}(i);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===o}function id(i){return new Ki(i)}function Wd(i){return new pr(i)}function Oh(i){return new zr(i)}function Lh(i){return new Or(i)}function Ko(i){return new vl(i)}class Yd{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(nd(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch{return null}}}class Lc{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const y=this.inertDocument.createElement("body");u.appendChild(y)}}getInertBodyElement(o){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=nd(o),u;const y=this.inertDocument.createElement("body");return y.innerHTML=nd(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(y),y}stripCustomNsAttrs(o){const u=o.attributes;for(let C=u.length-1;0<C;C--){const j=u.item(C).name;("xmlns:ns1"===j||0===j.indexOf("ns1:"))&&o.removeAttribute(j)}let y=o.firstChild;for(;y;)y.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(y),y=y.nextSibling}}const Rh=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function wd(i){return(i=String(i)).match(Rh)?i:"unsafe:"+i}function Lu(i){const o={};for(const u of i.split(","))o[u]=!0;return o}function Zd(...i){const o={};for(const u of i)for(const y in u)u.hasOwnProperty(y)&&(o[y]=!0);return o}const qp=Lu("area,br,col,hr,img,wbr"),yp=Lu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),sf=Lu("rp,rt"),Uf=Zd(qp,Zd(yp,Lu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zd(sf,Lu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zd(sf,yp)),zf=Lu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),af=Zd(zf,Lu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Lu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),xp=Lu("script,style,template");class Gm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,y=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?y=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,y&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let C=this.checkClobberedElement(u,u.nextSibling);if(C){u=C;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!Uf.hasOwnProperty(u))return this.sanitizedSomething=!0,!xp.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const y=o.attributes;for(let C=0;C<y.length;C++){const I=y.item(C),j=I.name,te=j.toLowerCase();if(!af.hasOwnProperty(te)){this.sanitizedSomething=!0;continue}let fe=I.value;zf[te]&&(fe=wd(fe)),this.buf.push(" ",j,'="',_(fe),'"')}return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();Uf.hasOwnProperty(u)&&!qp.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(_(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const B=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,g=/([^\#-~ |!])/g;function _(i){return i.replace(/&/g,"&amp;").replace(B,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(g,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let M;function W(i,o){let u=null;try{M=M||function Pl(i){const o=new Lc(i);return function Ja(){try{return!!(new window.DOMParser).parseFromString(nd(""),"text/html")}catch{return!1}}()?new Yd(o):o}(i);let y=o?String(o):"";u=M.getInertBodyElement(y);let C=5,I=y;do{if(0===C)throw new Error("Failed to sanitize html because the input is unstable");C--,y=I,I=u.innerHTML,u=M.getInertBodyElement(y)}while(y!==I);return nd((new Gm).sanitizeChildren(we(u)||u))}finally{if(u){const y=we(u)||u;for(;y.firstChild;)y.removeChild(y.firstChild)}}}function we(i){return"content"in i&&function ht(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var gt=(()=>((gt=gt||{})[gt.NONE=0]="NONE",gt[gt.HTML=1]="HTML",gt[gt.STYLE=2]="STYLE",gt[gt.SCRIPT=3]="SCRIPT",gt[gt.URL=4]="URL",gt[gt.RESOURCE_URL=5]="RESOURCE_URL",gt))();function nn(i){const o=cl();return o?Qe(o.sanitize(gt.HTML,i)||""):fc(i,"HTML")?Qe(Ul(i)):W(function E(){return void 0!==Gd?Gd:typeof document<"u"?document:void 0}(),Ke(i))}function ui(i){const o=cl();return o?o.sanitize(gt.URL,i)||"":fc(i,"URL")?Ul(i):wd(Ke(i))}function gi(i){const o=cl();if(o)return Bn(o.sanitize(gt.RESOURCE_URL,i)||"");if(fc(i,"ResourceURL"))return Bn(Ul(i));throw new Be(904,!1)}function cl(){const i=_i();return i&&i[12]}const ic=new Ks("ENVIRONMENT_INITIALIZER"),Ru=new Ks("INJECTOR",-1),Ac=new Ks("INJECTOR_DEF_TYPES");class zl{get(o,u=El){if(u===El){const y=new Error(`NullInjectorError: No provider for ${xe(o)}!`);throw y.name="NullInjectorError",y}return u}}function Cu(...i){return{\u0275providers:Fu(0,i)}}function Fu(i,...o){const u=[],y=new Set;let C;return ia(o,I=>{const j=I;hh(j,u,[],y)&&(C||(C=[]),C.push(j))}),void 0!==C&&Rc(C,u),u}function Rc(i,o){for(let u=0;u<i.length;u++){const{providers:C}=i[u];ia(C,I=>{o.push(I)})}}function hh(i,o,u,y){if(!(i=be(i)))return!1;let C=null,I=yn(i);const j=!I&&qe(i);if(I||j){if(j&&!j.standalone)return!1;C=i}else{const fe=i.ngModule;if(I=yn(fe),!I)return!1;C=fe}const te=y.has(C);if(j){if(te)return!1;if(y.add(C),j.dependencies){const fe="function"==typeof j.dependencies?j.dependencies():j.dependencies;for(const Ze of fe)hh(Ze,o,u,y)}}else{if(!I)return!1;{if(null!=I.imports&&!te){let Ze;y.add(C);try{ia(I.imports,Pt=>{hh(Pt,o,u,y)&&(Ze||(Ze=[]),Ze.push(Pt))})}finally{}void 0!==Ze&&Rc(Ze,o)}if(!te){const Ze=Oo(C)||(()=>new C);o.push({provide:C,useFactory:Ze,deps:li},{provide:Ac,useValue:C,multi:!0},{provide:ic,useValue:()=>No(C),multi:!0})}const fe=I.providers;null==fe||te||ia(fe,Pt=>{o.push(Pt)})}}return C!==i&&void 0!==i.providers}const Nu=Ee({provide:String,useValue:Ee});function rd(i){return null!==i&&"object"==typeof i&&Nu in i}function Ar(i){return"function"==typeof i}const ko=new Ks("Set Injector scope."),za={},Fc={};let yl;function uu(){return void 0===yl&&(yl=new zl),yl}class sa{}class jf extends sa{constructor(o,u,y,C){super(),this.parent=u,this.source=y,this.scopes=C,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gf(o,j=>this.processProvider(j)),this.records.set(Ru,Nc(void 0,this)),C.has("environment")&&this.records.set(sa,Nc(void 0,this));const I=this.records.get(ko);null!=I&&"string"==typeof I.value&&this.scopes.add(I.value),this.injectorDefTypes=new Set(this.get(Ac.multi,li,Rt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const u=Ka(this),y=le(void 0);try{return o()}finally{Ka(u),le(y)}}get(o,u=El,y=Rt.Default){this.assertNotDestroyed();const C=Ka(this),I=le(void 0);try{if(!(y&Rt.SkipSelf)){let te=this.records.get(o);if(void 0===te){const fe=function Qp(i){return"function"==typeof i||"object"==typeof i&&i instanceof Ks}(o)&&gn(o);te=fe&&this.injectableDefInScope(fe)?Nc(Nh(o),za):null,this.records.set(o,te)}if(null!=te)return this.hydrate(o,te)}return(y&Rt.Self?uu():this.parent).get(o,u=y&Rt.Optional&&u===El?null:u)}catch(j){if("NullInjectorError"===j.name){if((j[ml]=j[ml]||[]).unshift(xe(o)),C)throw j;return function zn(i,o,u,y){const C=i[ml];throw o[Zu]&&C.unshift(o[Zu]),i.message=function Zn(i,o,u,y=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let C=xe(o);if(Array.isArray(o))C=o.map(xe).join(" -> ");else if("object"==typeof o){let I=[];for(let j in o)if(o.hasOwnProperty(j)){let te=o[j];I.push(j+":"+("string"==typeof te?JSON.stringify(te):xe(te)))}C=`{${I.join(", ")}}`}return`${u}${y?"("+y+")":""}[${C}]: ${i.replace(pu,"\n  ")}`}("\n"+i.message,C,u,y),i.ngTokenPath=C,i[ml]=null,i}(j,o,"R3InjectorError",this.source)}throw j}finally{le(I),Ka(C)}}resolveInjectorInitializers(){const o=Ka(this),u=le(void 0);try{const y=this.get(ic.multi,li,Rt.Self);for(const C of y)C()}finally{Ka(o),le(u)}}toString(){const o=[],u=this.records;for(const y of u.keys())o.push(xe(y));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Be(205,!1)}processProvider(o){let u=Ar(o=be(o))?o:be(o&&o.provide);const y=function tu(i){return rd(i)?Nc(void 0,i.useValue):Nc(Gl(i),za)}(o);if(Ar(o)||!0!==o.multi)this.records.get(u);else{let C=this.records.get(u);C||(C=Nc(void 0,za,!0),C.factory=()=>He(C.multi),this.records.set(u,C)),u=o,C.multi.push(o)}this.records.set(u,y)}hydrate(o,u){return u.value===za&&(u.value=Fc,u.value=u.factory()),"object"==typeof u.value&&u.value&&function Jg(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=be(o.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function Nh(i){const o=gn(i),u=null!==o?o.factory:Oo(i);if(null!==u)return u;if(i instanceof Ks)throw new Be(204,!1);if(i instanceof Function)return function jl(i){const o=i.length;if(o>0)throw q(o,"?"),new Be(204,!1);const u=function _n(i){const o=i&&(i[pn]||i[Nt]);if(o){const u=function Nn(i){if(i.hasOwnProperty("name"))return i.name;const o=(""+i).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(i);return null!==u?()=>u.factory(i):()=>new i}(i);throw new Be(204,!1)}function Gl(i,o,u){let y;if(Ar(i)){const C=be(i);return Oo(C)||Nh(C)}if(rd(i))y=()=>be(i.useValue);else if(function Dr(i){return!(!i||!i.useFactory)}(i))y=()=>i.useFactory(...He(i.deps||[]));else if(function ph(i){return!(!i||!i.useExisting)}(i))y=()=>No(be(i.useExisting));else{const C=be(i&&(i.useClass||i.provide));if(!function lf(i){return!!i.deps}(i))return Oo(C)||Nh(C);y=()=>new C(...He(i.deps))}return y}function Nc(i,o,u=!1){return{factory:i,value:o,multi:u?[]:void 0}}function cv(i){return!!i.\u0275providers}function Gf(i,o){for(const u of i)Array.isArray(u)?Gf(u,o):cv(u)?Gf(u.\u0275providers,o):o(u)}class $m{}class $f{resolveComponentFactory(o){throw function Wm(i){const o=Error(`No component factory found for ${xe(i)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=i,o}(o)}}let Cd=(()=>{class i{}return i.NULL=new $f,i})();function wp(){return Ol(ks(),_i())}function Ol(i,o){return new Vh(go(i,o))}let Vh=(()=>{class i{constructor(u){this.nativeElement=u}}return i.__NG_ELEMENT_ID__=wp,i})();function em(i){return i instanceof Vh?i.nativeElement:i}class cf{}let Hh=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function Wf(){const i=_i(),u=Vr(ks().index,i);return(Ps(u)?u:i)[11]}(),i})(),uf=(()=>{class i{}return i.\u0275prov=jt({token:i,providedIn:"root",factory:()=>null}),i})();class mh{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Zm=new mh("14.2.12"),df={};function Zf(i){return i.ngOriginalError}class Kf{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o);this._console.error("ERROR",o),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&Zf(o);for(;u&&Zf(u);)u=Zf(u);return u||null}}function qm(i){return i.ownerDocument.defaultView}function Bu(i){return i instanceof Function?i():i}function i_(i,o,u){let y=i.length;for(;;){const C=i.indexOf(o,u);if(-1===C)return C;if(0===C||i.charCodeAt(C-1)<=32){const I=o.length;if(C+I===y||i.charCodeAt(C+I)<=32)return C}u=C+1}}const tm="ng-template";function Bc(i,o,u){let y=0;for(;y<i.length;){let C=i[y++];if(u&&"class"===C){if(C=i[y],-1!==i_(C.toLowerCase(),o,0))return!0}else if(1===C){for(;y<i.length&&"string"==typeof(C=i[y++]);)if(C.toLowerCase()===o)return!0;return!1}}return!1}function Qm(i){return 4===i.type&&i.value!==tm}function hv(i,o,u){return o===(4!==i.type||u?i.value:tm)}function r_(i,o,u){let y=4;const C=i.attrs||[],I=function fv(i){for(let o=0;o<i.length;o++)if(no(i[o]))return o;return i.length}(C);let j=!1;for(let te=0;te<o.length;te++){const fe=o[te];if("number"!=typeof fe){if(!j)if(4&y){if(y=2|1&y,""!==fe&&!hv(i,fe,u)||""===fe&&1===o.length){if(Td(y))return!1;j=!0}}else{const Ze=8&y?fe:o[++te];if(8&y&&null!==i.attrs){if(!Bc(i.attrs,Ze,u)){if(Td(y))return!1;j=!0}continue}const Jt=s_(8&y?"class":fe,C,Qm(i),u);if(-1===Jt){if(Td(y))return!1;j=!0;continue}if(""!==Ze){let Fn;Fn=Jt>I?"":C[Jt+1].toLowerCase();const ni=8&y?Fn:null;if(ni&&-1!==i_(ni,Ze,0)||2&y&&Ze!==Fn){if(Td(y))return!1;j=!0}}}}else{if(!j&&!Td(y)&&!Td(fe))return!1;if(j&&Td(fe))continue;j=!1,y=fe|1&y}}return Td(y)||j}function Td(i){return 0==(1&i)}function s_(i,o,u,y){if(null===o)return-1;let C=0;if(y||!u){let I=!1;for(;C<o.length;){const j=o[C];if(j===i)return C;if(3===j||6===j)I=!0;else{if(1===j||2===j){let te=o[++C];for(;"string"==typeof te;)te=o[++C];continue}if(4===j)break;if(0===j){C+=4;continue}}C+=I?1:2}return-1}return function a_(i,o){let u=i.indexOf(4);if(u>-1)for(u++;u<i.length;){const y=i[u];if("number"==typeof y)return-1;if(y===o)return u;u++}return-1}(o,i)}function o_(i,o,u=!1){for(let y=0;y<o.length;y++)if(r_(i,o[y],u))return!0;return!1}function Xm(i,o){e:for(let u=0;u<o.length;u++){const y=o[u];if(i.length===y.length){for(let C=0;C<i.length;C++)if(i[C]!==y[C])continue e;return!0}}return!1}function im(i,o){return i?":not("+o.trim()+")":o}function pf(i){let o=i[0],u=1,y=2,C="",I=!1;for(;u<i.length;){let j=i[u];if("string"==typeof j)if(2&y){const te=i[++u];C+="["+j+(te.length>0?'="'+te+'"':"")+"]"}else 8&y?C+="."+j:4&y&&(C+=" "+j);else""!==C&&!Td(j)&&(o+=im(I,C),C=""),y=j,I=I||!Td(y);u++}return""!==C&&(o+=im(I,C)),o}const Ds={};function mf(i){l_(Cr(),_i(),un()+i,!1)}function l_(i,o,u,y){if(!y)if(3==(3&o[2])){const I=i.preOrderCheckHooks;null!==I&&Cs(o,I,u)}else{const I=i.preOrderHooks;null!==I&&Ia(o,I,0,u)}jn(u)}function gf(i,o=null,u=null,y){const C=om(i,o,u,y);return C.resolveInjectorInitializers(),C}function om(i,o=null,u=null,y,C=new Set){const I=[u||li,Cu(i)];return y=y||("object"==typeof i?void 0:xe(i)),new jf(I,o||uu(),y||null,C)}let qd=(()=>{class i{static create(u,y){if(Array.isArray(u))return gf({name:""},y,u,"");{const C=u.name??"";return gf({name:C},u.parent,u.providers,C)}}}return i.THROW_IF_NOT_FOUND=El,i.NULL=new zl,i.\u0275prov=jt({token:i,providedIn:"any",factory:()=>No(Ru)}),i.__NG_ELEMENT_ID__=-1,i})();function Xd(i,o=Rt.Default){const u=_i();return null===u?No(i,o):Dt(ks(),u,be(i),o)}function y_(){throw new Error("invalid")}function Uh(i,o){return i<<17|o<<2}function sd(i){return i>>17&32767}function Sp(i){return 2|i}function Vu(i){return(131068&i)>>2}function Ep(i,o){return-131069&i|o<<2}function pm(i){return 1|i}function D_(i,o){const u=i.contentQueries;if(null!==u)for(let y=0;y<u.length;y+=2){const C=u[y],I=u[y+1];if(-1!==I){const j=i.data[I];ca(C),j.contentQueries(2,o[I],I)}}}function ep(i,o,u,y,C,I,j,te,fe,Ze,Pt){const Jt=o.blueprint.slice();return Jt[0]=C,Jt[2]=76|y,(null!==Pt||i&&1024&i[2])&&(Jt[2]|=1024),Xo(Jt),Jt[3]=Jt[15]=i,Jt[8]=u,Jt[10]=j||i&&i[10],Jt[11]=te||i&&i[11],Jt[12]=fe||i&&i[12]||null,Jt[9]=Ze||i&&i[9]||null,Jt[6]=I,Jt[20]=function Fd(){return Tc++}(),Jt[21]=Pt,Jt[Y]=2==o.type?i[Y]:Jt,Jt}function tp(i,o,u,y,C){let I=i.data[o];if(null===I)I=function xm(i,o,u,y,C){const I=Se(),j=Et(),fe=i.data[o]=function Tg(i,o,u,y,C,I){return{type:u,index:y,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:C,attrs:I,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,j?I:I&&I.parent,u,o,y,C);return null===i.firstChild&&(i.firstChild=fe),null!==I&&(j?null==I.child&&null!==fe.parent&&(I.child=fe):null===I.next&&(I.next=fe)),fe}(i,o,u,y,C),function Sc(){return lr.lFrame.inI18n}()&&(I.flags|=64);else if(64&I.type){I.type=u,I.value=y,I.attrs=C;const j=function De(){const i=lr.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();I.injectorIndex=null===j?-1:j.injectorIndex}return he(I,!0),I}function Pp(i,o,u,y){if(0===u)return-1;const C=o.length;for(let I=0;I<u;I++)o.push(y),i.blueprint.push(y),i.data.push(null);return C}function wm(i,o,u){il(o);try{const y=i.viewQuery;null!==y&&H_(1,y,u);const C=i.template;null!==C&&S_(i,o,C,1,u),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&D_(i,o),i.staticViewQueries&&H_(2,i.viewQuery,u);const I=i.components;null!==I&&function A_(i,o){for(let u=0;u<o.length;u++)gy(i,o[u])}(o,I)}catch(y){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),y}finally{o[2]&=-5,Xe()}}function Op(i,o,u,y){const C=o[2];if(128!=(128&C)){il(o);try{Xo(o),function _o(i){return lr.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==u&&S_(i,o,u,2,y);const j=3==(3&C);if(j){const Ze=i.preOrderCheckHooks;null!==Ze&&Cs(o,Ze,null)}else{const Ze=i.preOrderHooks;null!==Ze&&Ia(o,Ze,0,null),Uo(o,0)}if(function Eg(i){for(let o=pd(i);null!==o;o=lh(o)){if(!o[2])continue;const u=o[9];for(let y=0;y<u.length;y++){const C=u[y],I=C[3];0==(512&C[2])&&js(I,1),C[2]|=512}}}(o),function V_(i){for(let o=pd(i);null!==o;o=lh(o))for(let u=10;u<o.length;u++){const y=o[u],C=y[1];eo(y)&&Op(C,y,C.template,y[8])}}(o),null!==i.contentQueries&&D_(i,o),j){const Ze=i.contentCheckHooks;null!==Ze&&Cs(o,Ze)}else{const Ze=i.contentHooks;null!==Ze&&Ia(o,Ze,1),Uo(o,1)}!function wg(i,o){const u=i.hostBindingOpCodes;if(null!==u)try{for(let y=0;y<u.length;y++){const C=u[y];if(C<0)jn(~C);else{const I=C,j=u[++y],te=u[++y];Wa(j,I),te(2,o[I])}}}finally{jn(-1)}}(i,o);const te=i.components;null!==te&&function Av(i,o){for(let u=0;u<o.length;u++)my(i,o[u])}(o,te);const fe=i.viewQuery;if(null!==fe&&H_(2,fe,y),j){const Ze=i.viewCheckHooks;null!==Ze&&Cs(o,Ze)}else{const Ze=i.viewHooks;null!==Ze&&Ia(o,Ze,2),Uo(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,js(o[3],-1))}finally{Xe()}}}function S_(i,o,u,y,C){const I=un(),j=2&y;try{jn(-1),j&&o.length>22&&l_(i,o,22,!1),u(y,C)}finally{jn(I)}}function E_(i,o,u){if(Co(o)){const C=o.directiveEnd;for(let I=o.directiveStart;I<C;I++){const j=i.data[I];j.contentQueries&&j.contentQueries(1,u[I],I)}}}function M_(i,o,u){!na()||(function fy(i,o,u,y){const C=u.directiveStart,I=u.directiveEnd;i.firstCreatePass||Ri(u,o),kl(y,o);const j=u.initialInputs;for(let te=C;te<I;te++){const fe=i.data[te],Ze=ws(fe);Ze&&vh(o,u,fe);const Pt=xi(o,i,te,u);kl(Pt,o),null!==j&&np(0,te-C,Pt,fe,0,j),Ze&&(Vr(u.index,o)[8]=Pt)}}(i,o,u,go(u,o)),128==(128&u.flags)&&function F_(i,o,u){const y=u.directiveStart,C=u.directiveEnd,I=u.index,j=function lc(){return lr.lFrame.currentDirectiveIndex}();try{jn(I);for(let te=y;te<C;te++){const fe=i.data[te],Ze=o[te];Vs(te),(null!==fe.hostBindings||0!==fe.hostVars||null!==fe.hostAttrs)&&Dg(fe,Ze)}}finally{jn(-1),Vs(j)}}(i,o,u))}function k_(i,o,u=go){const y=o.localNames;if(null!==y){let C=o.index+1;for(let I=0;I<y.length;I+=2){const j=y[I+1],te=-1===j?u(o,i):i[j];i[C++]=te}}}function I_(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=P_(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):o}function P_(i,o,u,y,C,I,j,te,fe,Ze){const Pt=22+y,Jt=Pt+C,Fn=function Cg(i,o){const u=[];for(let y=0;y<o;y++)u.push(y<i?null:Ds);return u}(Pt,Jt),ni="function"==typeof Ze?Ze():Ze;return Fn[1]={type:i,blueprint:Fn,template:u,queries:null,viewQuery:te,declTNode:o,data:Fn.slice().fill(null,Pt),bindingStartIndex:Pt,expandoStartIndex:Jt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof I?I():I,pipeRegistry:"function"==typeof j?j():j,firstChild:null,schemas:fe,consts:ni,incompleteFirstPass:!1}}function Ev(i,o,u,y){const C=Bv(o);null===u?C.push(y):(C.push(u),i.firstCreatePass&&km(i).push(y,C.length-1))}function Mv(i,o,u){for(let y in i)if(i.hasOwnProperty(y)){const C=i[y];(u=null===u?{}:u).hasOwnProperty(y)?u[y].push(o,C):u[y]=[o,C]}return u}function Cm(i,o){const y=o.directiveEnd,C=i.data,I=o.attrs,j=[];let te=null,fe=null;for(let Ze=o.directiveStart;Ze<y;Ze++){const Pt=C[Ze],Jt=Pt.inputs,Fn=null===I||Qm(o)?null:py(Jt,I);j.push(Fn),te=Mv(Jt,Ze,te),fe=Mv(Pt.outputs,Ze,fe)}null!==te&&(te.hasOwnProperty("class")&&(o.flags|=16),te.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=j,o.inputs=te,o.outputs=fe}function Tu(i,o,u,y,C,I,j,te){const fe=go(o,u);let Pt,Ze=o.inputs;!te&&null!=Ze&&(Pt=Ze[y])?(U_(i,u,Pt,y,C),Wo(o)&&L_(u,o.index)):3&o.type&&(y=function kv(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(y),C=null!=j?j(C,o.value||"",y):C,I.setProperty(fe,y,C))}function L_(i,o){const u=Vr(o,i);16&u[2]||(u[2]|=32)}function Tm(i,o,u,y){let C=!1;if(na()){const I=function N_(i,o,u){const y=i.directiveRegistry;let C=null;if(y)for(let I=0;I<y.length;I++){const j=y[I];o_(u,j.selectors,!1)&&(C||(C=[]),w(Ri(u,o),i,j.type),ws(j)?(yf(i,u),C.unshift(j)):C.push(j))}return C}(i,o,u),j=null===y?null:{"":-1};if(null!==I){C=!0,Rv(u,i.data.length,I.length);for(let Pt=0;Pt<I.length;Pt++){const Jt=I[Pt];Jt.providersResolver&&Jt.providersResolver(Jt)}let te=!1,fe=!1,Ze=Pp(i,o,I.length,null);for(let Pt=0;Pt<I.length;Pt++){const Jt=I[Pt];u.mergedAttrs=yc(u.mergedAttrs,Jt.hostAttrs),Ag(i,u,o,Ze,Jt),el(Ze,Jt,j),null!==Jt.contentQueries&&(u.flags|=8),(null!==Jt.hostBindings||null!==Jt.hostAttrs||0!==Jt.hostVars)&&(u.flags|=128);const Fn=Jt.type.prototype;!te&&(Fn.ngOnChanges||Fn.ngOnInit||Fn.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(u.index),te=!0),!fe&&(Fn.ngOnChanges||Fn.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(u.index),fe=!0),Ze++}Cm(i,u)}j&&function B_(i,o,u){if(o){const y=i.localNames=[];for(let C=0;C<o.length;C+=2){const I=u[o[C+1]];if(null==I)throw new Be(-301,!1);y.push(o[C],I)}}}(u,y,j)}return u.mergedAttrs=yc(u.mergedAttrs,u.attrs),C}function Lv(i,o,u,y,C,I){const j=I.hostBindings;if(j){let te=i.hostBindingOpCodes;null===te&&(te=i.hostBindingOpCodes=[]);const fe=~o.index;(function R_(i){let o=i.length;for(;o>0;){const u=i[--o];if("number"==typeof u&&u<0)return u}return 0})(te)!=fe&&te.push(fe),te.push(y,C,j)}}function Dg(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function yf(i,o){o.flags|=2,(i.components||(i.components=[])).push(o.index)}function el(i,o,u){if(u){if(o.exportAs)for(let y=0;y<o.exportAs.length;y++)u[o.exportAs[y]]=i;ws(o)&&(u[""]=i)}}function Rv(i,o,u){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+u,i.providerIndexes=o}function Ag(i,o,u,y,C){i.data[y]=C;const I=C.factory||(C.factory=Oo(C.type)),j=new qi(I,ws(C),Xd);i.blueprint[y]=j,u[y]=j,Lv(i,o,0,y,Pp(i,u,C.hostVars,Ds),C)}function vh(i,o,u){const y=go(o,i),C=I_(u),I=i[10],j=Sm(i,ep(i,C,null,u.onPush?32:16,y,o,I,I.createRenderer(y,u),null,null,null));i[o.index]=j}function Ad(i,o,u,y,C,I){const j=go(i,o);!function Dm(i,o,u,y,C,I,j){if(null==I)i.removeAttribute(o,C,u);else{const te=null==j?Ke(I):j(I,y||"",C);i.setAttribute(o,C,te,u)}}(o[11],j,I,i.value,u,y,C)}function np(i,o,u,y,C,I){const j=I[o];if(null!==j){const te=y.setInput;for(let fe=0;fe<j.length;){const Ze=j[fe++],Pt=j[fe++],Jt=j[fe++];null!==te?y.setInput(u,Jt,Ze,Pt):u[Pt]=Jt}}}function py(i,o){let u=null,y=0;for(;y<o.length;){const C=o[y];if(0!==C)if(5!==C){if("number"==typeof C)break;i.hasOwnProperty(C)&&(null===u&&(u=[]),u.push(C,i[C],o[y+1])),y+=2}else y+=2;else y+=4}return u}function Sg(i,o,u,y){return new Array(i,!0,!1,o,null,0,y,u,null,null)}function my(i,o){const u=Vr(o,i);if(eo(u)){const y=u[1];48&u[2]?Op(y,u,y.template,u[8]):u[5]>0&&Lp(u)}}function Lp(i){for(let y=pd(i);null!==y;y=lh(y))for(let C=10;C<y.length;C++){const I=y[C];if(eo(I))if(512&I[2]){const j=I[1];Op(j,I,j.template,I[8])}else I[5]>0&&Lp(I)}const u=i[1].components;if(null!==u)for(let y=0;y<u.length;y++){const C=Vr(u[y],i);eo(C)&&C[5]>0&&Lp(C)}}function gy(i,o){const u=Vr(o,i),y=u[1];(function Am(i,o){for(let u=o.length;u<i.blueprint.length;u++)o.push(i.blueprint[u])})(y,u),wm(y,u,u[8])}function Sm(i,o){return i[13]?i[14][4]=o:i[13]=o,i[14]=o,o}function Em(i){for(;i;){i[2]|=32;const o=Iu(i);if(Es(i)&&!o)return i;i=o}return null}function Mm(i,o,u,y=!0){const C=o[10];C.begin&&C.begin();try{Op(i,o,i.template,u)}catch(j){throw y&&Im(o,j),j}finally{C.end&&C.end()}}function H_(i,o,u){ca(0),o(i,u)}function Bv(i){return i[7]||(i[7]=[])}function km(i){return i.cleanup||(i.cleanup=[])}function Mg(i,o,u){return(null===i||ws(i))&&(u=function us(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(u[o.index])),u[11]}function Im(i,o){const u=i[9],y=u?u.get(Kf,null):null;y&&y.handleError(o)}function U_(i,o,u,y,C){for(let I=0;I<u.length;){const j=u[I++],te=u[I++],fe=o[j],Ze=i.data[j];null!==Ze.setInput?Ze.setInput(fe,C,y,te):fe[te]=C}}function Sd(i,o,u){const y=Us(o,i);!function gd(i,o,u){i.setValue(o,u)}(i[11],y,u)}function Pm(i,o,u){let y=u?i.styles:null,C=u?i.classes:null,I=0;if(null!==o)for(let j=0;j<o.length;j++){const te=o[j];"number"==typeof te?I=te:1==I?C=Ce(C,te):2==I&&(y=Ce(y,te+": "+o[++j]+";"))}u?i.styles=y:i.stylesWithoutHost=y,u?i.classes=C:i.classesWithoutHost=C}function Om(i,o,u,y,C=!1){for(;null!==u;){const I=o[u.index];if(null!==I&&y.push(Kr(I)),qo(I))for(let te=10;te<I.length;te++){const fe=I[te],Ze=fe[1].firstChild;null!==Ze&&Om(fe[1],fe,Ze,y)}const j=u.type;if(8&j)Om(i,o,u.child,y);else if(32&j){const te=Bd(u,o);let fe;for(;fe=te();)y.push(fe)}else if(16&j){const te=_l(o,u);if(Array.isArray(te))y.push(...te);else{const fe=Iu(o[Y]);Om(fe[1],fe,te,y,!0)}}u=C?u.projectionNext:u.next}return y}class ip{constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,u=o[1];return Om(u,o,u.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(qo(o)){const u=o[8],y=u?u.indexOf(this):-1;y>-1&&(ch(o,y),ea(u,y))}this._attachedToViewContainer=!1}Bf(this._lView[1],this._lView)}onDestroy(o){Ev(this._lView[1],this._lView,null,o)}markForCheck(){Em(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Mm(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Hd(i,o){zd(i,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Be(902,!1);this._appRef=o}}class z_ extends ip{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Mm(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class kg extends Cd{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=qe(o);return new fo(u,this.ngModule)}}function j_(i){const o=[];for(let u in i)i.hasOwnProperty(u)&&o.push({propName:i[u],templateName:u});return o}class Lm{constructor(o,u){this.injector=o,this.parentInjector=u}get(o,u,y){const C=this.injector.get(o,df,y);return C!==df||u===df?C:this.parentInjector.get(o,u,y)}}class fo extends $m{constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function rm(i){return i.map(pf).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return j_(this.componentDef.inputs)}get outputs(){return j_(this.componentDef.outputs)}create(o,u,y,C){let I=(C=C||this.ngModule)instanceof sa?C:C?.injector;I&&null!==this.componentDef.getStandaloneInjector&&(I=this.componentDef.getStandaloneInjector(I)||I);const j=I?new Lm(o,I):o,te=j.get(cf,null);if(null===te)throw new Be(407,!1);const fe=j.get(uf,null),Ze=te.createRenderer(null,this.componentDef),Pt=this.componentDef.selectors[0][0]||"div",Jt=y?function O_(i,o,u){return i.selectRootElement(o,u===mn.ShadowDom)}(Ze,y,this.componentDef.encapsulation):vu(Ze,Pt,function Vv(i){const o=i.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(Pt)),Fn=this.componentDef.onPush?288:272,ni=P_(0,null,null,1,0,null,null,null,null,null),Ti=ep(null,ni,null,Fn,null,null,te,Ze,fe,j,null);let tr,gr;il(Ti);try{const Br=function W_(i,o,u,y,C,I){const j=u[1];u[22]=i;const fe=tp(j,22,2,"#host",null),Ze=fe.mergedAttrs=o.hostAttrs;null!==Ze&&(Pm(fe,Ze,!0),null!==i&&(vc(C,i,Ze),null!==fe.classes&&bd(C,i,fe.classes),null!==fe.styles&&xu(C,i,fe.styles)));const Pt=y.createRenderer(i,o),Jt=ep(u,I_(o),null,o.onPush?32:16,u[22],fe,y,Pt,I||null,null,null);return j.firstCreatePass&&(w(Ri(fe,u),j,o.type),yf(j,fe),Rv(fe,u.length,1)),Sm(u,Jt),u[22]=Jt}(Jt,this.componentDef,Ti,te,Ze);if(Jt)if(y)vc(Ze,Jt,["ng-version",Zm.full]);else{const{attrs:ms,classes:Ii}=function sm(i){const o=[],u=[];let y=1,C=2;for(;y<i.length;){let I=i[y];if("string"==typeof I)2===C?""!==I&&o.push(I,i[++y]):8===C&&u.push(I);else{if(!Td(C))break;C=I}y++}return{attrs:o,classes:u}}(this.componentDef.selectors[0]);ms&&vc(Ze,Jt,ms),Ii&&Ii.length>0&&bd(Ze,Jt,Ii.join(" "))}if(gr=Na(ni,22),void 0!==u){const ms=gr.projection=[];for(let Ii=0;Ii<this.ngContentSelectors.length;Ii++){const Ns=u[Ii];ms.push(null!=Ns?Array.from(Ns):null)}}tr=function bl(i,o,u,y){const C=u[1],I=function Ov(i,o,u){const y=ks();i.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),Ag(i,y,o,Pp(i,o,1,null),u),Cm(i,y));const C=xi(o,i,y.directiveStart,y);kl(C,o);const I=go(y,o);return I&&kl(I,o),C}(C,u,o);if(i[8]=u[8]=I,null!==y)for(const te of y)te(I,o);if(o.contentQueries){const te=ks();o.contentQueries(1,I,te.directiveStart)}const j=ks();return!C.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(jn(j.index),Lv(u[1],j,0,j.directiveStart,j.directiveEnd,o),Dg(o,I)),I}(Br,this.componentDef,Ti,[Wc]),wm(ni,Ti,null)}finally{Xe()}return new $_(this.componentType,tr,Ol(gr,Ti),Ti,gr)}}class $_ extends class Xp{}{constructor(o,u,y,C,I){super(),this.location=y,this._rootLView=C,this._tNode=I,this.instance=u,this.hostView=this.changeDetectorRef=new z_(C),this.componentType=o}setInput(o,u){const y=this._tNode.inputs;let C;if(null!==y&&(C=y[o])){const I=this._rootLView;U_(I[1],I,C,o,u),L_(I,this._tNode.index)}}get injector(){return new Is(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Wc(){const i=ks();hs(_i()[1],i)}function Pg(i){let o=function Ed(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),u=!0;const y=[i];for(;o;){let C;if(ws(i))C=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Be(903,!1);C=o.\u0275dir}if(C){if(u){y.push(C);const j=i;j.inputs=rp(i.inputs),j.declaredInputs=rp(i.declaredInputs),j.outputs=rp(i.outputs);const te=C.hostBindings;te&&K_(i,te);const fe=C.viewQuery,Ze=C.contentQueries;if(fe&&Y_(i,fe),Ze&&Z_(i,Ze),Re(i.inputs,C.inputs),Re(i.declaredInputs,C.declaredInputs),Re(i.outputs,C.outputs),ws(C)&&C.data.animation){const Pt=i.data;Pt.animation=(Pt.animation||[]).concat(C.data.animation)}}const I=C.features;if(I)for(let j=0;j<I.length;j++){const te=I[j];te&&te.ngInherit&&te(i),te===Pg&&(u=!1)}}o=Object.getPrototypeOf(o)}!function vy(i){let o=0,u=null;for(let y=i.length-1;y>=0;y--){const C=i[y];C.hostVars=o+=C.hostVars,C.hostAttrs=yc(C.hostAttrs,u=yc(u,C.hostAttrs))}}(y)}function rp(i){return i===Xi?{}:i===li?[]:i}function Y_(i,o){const u=i.viewQuery;i.viewQuery=u?(y,C)=>{o(y,C),u(y,C)}:o}function Z_(i,o){const u=i.contentQueries;i.contentQueries=u?(y,C,I)=>{o(y,C,I),u(y,C,I)}:o}function K_(i,o){const u=i.hostBindings;i.hostBindings=u?(y,C)=>{o(y,C),u(y,C)}:o}let Rm=null;function bf(){if(!Rm){const i=An.Symbol;if(i&&i.iterator)Rm=i.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const y=o[u];"entries"!==y&&"size"!==y&&Map.prototype[y]===Map.prototype.entries&&(Rm=y)}}}return Rm}function Rp(i){return!!Fm(i)&&(Array.isArray(i)||!(i instanceof Map)&&bf()in i)}function Fm(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Md(i,o,u){return i[o]=u}function Yc(i,o,u){return!Object.is(i[o],u)&&(i[o]=u,!0)}function yh(i,o,u,y){const C=Yc(i,o,u);return Yc(i,o+1,y)||C}function op(i,o,u,y){const C=_i();return Yc(C,aa(),o)&&(Cr(),Ad(si(),C,i,o,u,y)),op}function xf(i,o,u,y){return Yc(i,aa(),u)?o+Ke(u)+y:Ds}function wf(i,o,u,y,C,I){const te=yh(i,function Ao(){return lr.lFrame.bindingIndex}(),u,C);return la(2),te?o+Ke(u)+y+Ke(C)+I:Ds}function P(i,o,u,y,C,I,j,te){const fe=_i(),Ze=Cr(),Pt=i+22,Jt=Ze.firstCreatePass?function A(i,o,u,y,C,I,j,te,fe){const Ze=o.consts,Pt=tp(o,i,4,j||null,Vo(Ze,te));Tm(o,u,Pt,Vo(Ze,fe)),hs(o,Pt);const Jt=Pt.tViews=P_(2,Pt,y,C,I,o.directiveRegistry,o.pipeRegistry,null,o.schemas,Ze);return null!==o.queries&&(o.queries.template(o,Pt),Jt.queries=o.queries.embeddedTView(Pt)),Pt}(Pt,Ze,fe,o,u,y,C,I,j):Ze.data[Pt];he(Jt,!1);const Fn=fe[11].createComment("");kh(Ze,fe,Fn,Jt),kl(Fn,fe),Sm(fe,fe[Pt]=Sg(Fn,fe,Fn,Jt)),fa(Jt)&&M_(Ze,fe,Jt),null!=j&&k_(fe,Jt,te)}function $(i){return zs(function ds(){return lr.lFrame.contextLView}(),22+i)}function se(i,o,u){const y=_i();return Yc(y,aa(),o)&&Tu(Cr(),si(),y,i,o,y[11],u,!1),se}function ze(i,o,u,y,C){const j=C?"class":"style";U_(i,u,o.inputs[j],j,y)}function Ot(i,o,u,y){const C=_i(),I=Cr(),j=22+i,te=C[11],fe=C[j]=vu(te,o,function Pr(){return lr.lFrame.currentNamespace}()),Ze=I.firstCreatePass?function _t(i,o,u,y,C,I,j){const te=o.consts,Ze=tp(o,i,2,C,Vo(te,I));return Tm(o,u,Ze,Vo(te,j)),null!==Ze.attrs&&Pm(Ze,Ze.attrs,!1),null!==Ze.mergedAttrs&&Pm(Ze,Ze.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,Ze),Ze}(j,I,C,0,o,u,y):I.data[j];he(Ze,!0);const Pt=Ze.mergedAttrs;null!==Pt&&vc(te,fe,Pt);const Jt=Ze.classes;null!==Jt&&bd(te,fe,Jt);const Fn=Ze.styles;return null!==Fn&&xu(te,fe,Fn),64!=(64&Ze.flags)&&kh(I,C,fe,Ze),0===function $a(){return lr.lFrame.elementDepthCount}()&&kl(fe,C),function Ba(){lr.lFrame.elementDepthCount++}(),fa(Ze)&&(M_(I,C,Ze),E_(I,Ze,C)),null!==y&&k_(C,Ze),Ot}function Qt(){let i=ks();Et()?qn():(i=i.parent,he(i,!1));const o=i;!function Jo(){lr.lFrame.elementDepthCount--}();const u=Cr();return u.firstCreatePass&&(hs(u,i),Co(i)&&u.queries.elementEnd(i)),null!=o.classesWithoutHost&&function Nl(i){return 0!=(16&i.flags)}(o)&&ze(u,o,_i(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function ga(i){return 0!=(32&i.flags)}(o)&&ze(u,o,_i(),o.stylesWithoutHost,!1),Qt}function Sn(i,o,u,y){return Ot(i,o,u,y),Qt(),Sn}function Vn(i,o,u){const y=_i(),C=Cr(),I=i+22,j=C.firstCreatePass?function Mn(i,o,u,y,C){const I=o.consts,j=Vo(I,y),te=tp(o,i,8,"ng-container",j);return null!==j&&Pm(te,j,!0),Tm(o,u,te,Vo(I,C)),null!==o.queries&&o.queries.elementStart(o,te),te}(I,C,y,o,u):C.data[I];he(j,!0);const te=y[I]=y[11].createComment("");return kh(C,y,te,j),kl(te,y),fa(j)&&(M_(C,y,j),E_(C,j,y)),null!=u&&k_(y,j),Vn}function ri(){let i=ks();const o=Cr();return Et()?qn():(i=i.parent,he(i,!1)),o.firstCreatePass&&(hs(o,i),Co(i)&&o.queries.elementEnd(i)),ri}function hi(i,o,u){return Vn(i,o,u),ri(),hi}function Mi(){return _i()}function oi(i){return!!i&&"function"==typeof i.then}function Ci(i){return!!i&&"function"==typeof i.subscribe}const ir=Ci;function er(i,o,u,y){const C=_i(),I=Cr(),j=ks();return Qs(I,C,C[11],j,i,o,0,y),er}function fr(i,o){const u=ks(),y=_i(),C=Cr();return Qs(C,y,Mg(pa(C.data),u,y),u,i,o),fr}function Qs(i,o,u,y,C,I,j,te){const fe=fa(y),Pt=i.firstCreatePass&&km(i),Jt=o[8],Fn=Bv(o);let ni=!0;if(3&y.type||te){const gr=go(y,o),Br=te?te(gr):gr,ms=Fn.length,Ii=te?ul=>te(Kr(ul[y.index])):y.index;let Ns=null;if(!te&&fe&&(Ns=function ts(i,o,u,y){const C=i.cleanup;if(null!=C)for(let I=0;I<C.length-1;I+=2){const j=C[I];if(j===u&&C[I+1]===y){const te=o[7],fe=C[I+2];return te.length>fe?te[fe]:null}"string"==typeof j&&(I+=2)}return null}(i,o,C,y.index)),null!==Ns)(Ns.__ngLastListenerFn__||Ns).__ngNextListenerFn__=I,Ns.__ngLastListenerFn__=I,ni=!1;else{I=jo(y,o,Jt,I,!1);const ul=u.listen(Br,C,I);Fn.push(I,ul),Pt&&Pt.push(C,Ii,ms,ms+1)}}else I=jo(y,o,Jt,I,!1);const Ti=y.outputs;let tr;if(ni&&null!==Ti&&(tr=Ti[C])){const gr=tr.length;if(gr)for(let Br=0;Br<gr;Br+=2){const Vc=o[tr[Br]][tr[Br+1]].subscribe(I),ry=Fn.length;Fn.push(I,Vc),Pt&&Pt.push(C,y.index,ry,-(ry+1))}}}function Xs(i,o,u,y){try{return!1!==u(y)}catch(C){return Im(i,C),!1}}function jo(i,o,u,y,C){return function I(j){if(j===Function)return y;Em(2&i.flags?Vr(i.index,o):o);let fe=Xs(o,0,y,j),Ze=I.__ngNextListenerFn__;for(;Ze;)fe=Xs(o,0,Ze,j)&&fe,Ze=Ze.__ngNextListenerFn__;return C&&!1===fe&&(j.preventDefault(),j.returnValue=!1),fe}}function pc(i=1){return function ve(i){return(lr.lFrame.contextLView=function yt(i,o){for(;i>0;)o=o[15],i--;return o}(i,lr.lFrame.contextLView))[8]}(i)}function Du(i,o){let u=null;const y=function nm(i){const o=i.attrs;if(null!=o){const u=o.indexOf(5);if(0==(1&u))return o[u+1]}return null}(i);for(let C=0;C<o.length;C++){const I=o[C];if("*"!==I){if(null===y?o_(i,I,!0):Xm(y,I))return C}else u=C}return u}function Zr(i){const o=_i()[Y][6];if(!o.projection){const y=o.projection=q(i?i.length:1,null),C=y.slice();let I=o.child;for(;null!==I;){const j=i?Du(I,i):0;null!==j&&(C[j]?C[j].projectionNext=I:y[j]=I,C[j]=I),I=I.next}}}function ya(i,o=0,u){const y=_i(),C=Cr(),I=tp(C,22+i,16,null,u||null);null===I.projection&&(I.projection=o),qn(),64!=(64&I.flags)&&function nc(i,o,u){td(o[11],0,o,u,Eh(i,u,o),uh(u.parent||o[6],u,o))}(C,y,I)}function nu(i,o,u,y,C){const I=_i(),j=xf(I,o,u,y);return j!==Ds&&Tu(Cr(),si(),I,i,j,I[11],C,!1),nu}function Fg(i,o,u,y,C){const I=i[u+1],j=null===o;let te=y?sd(I):Vu(I),fe=!1;for(;0!==te&&(!1===fe||j);){const Pt=i[te+1];Ty(i[te],o)&&(fe=!0,i[te+1]=y?pm(Pt):Sp(Pt)),te=y?sd(Pt):Vu(Pt)}fe&&(i[u+1]=y?Sp(I):pm(I))}function Ty(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&Ni(i,o)>=0}const xl={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ll(i){return i.substring(xl.key,xl.keyEnd)}function Up(i,o){const u=xl.textEnd;return u===o?-1:(o=xl.keyEnd=function cp(i,o,u){for(;o<u&&i.charCodeAt(o)>32;)o++;return o}(i,xl.key=o,u),$h(i,o,u))}function $h(i,o,u){for(;o<u&&i.charCodeAt(o)<=32;)o++;return o}function zp(i,o,u){return Wh(i,o,u,!1),zp}function ev(i,o){return Wh(i,o,null,!0),ev}function Xy(i){rc(dn,eh,i,!0)}function eh(i,o){for(let u=function Nm(i){return function Sf(i){xl.key=0,xl.keyEnd=0,xl.value=0,xl.valueEnd=0,xl.textEnd=i.length}(i),Up(i,$h(i,0,xl.textEnd))}(o);u>=0;u=Up(o,u))dn(i,Ll(o),!0)}function Wh(i,o,u,y){const C=_i(),I=Cr(),j=la(2);I.firstUpdatePass&&jv(I,i,j,y),o!==Ds&&Yc(C,j,o)&&r0(I,I.data[un()],C,C[11],i,C[j+1]=function Ug(i,o){return null==i||("string"==typeof o?i+=o:"object"==typeof i&&(i=xe(Ul(i)))),i}(o,u),y,j)}function rc(i,o,u,y){const C=Cr(),I=la(2);C.firstUpdatePass&&jv(C,null,I,y);const j=_i();if(u!==Ds&&Yc(j,I,u)){const te=C.data[un()];if(iu(te,y)&&!Vg(C,I)){let fe=y?te.classesWithoutHost:te.stylesWithoutHost;null!==fe&&(u=Ce(fe,u||"")),ze(C,te,j,u,y)}else!function Wv(i,o,u,y,C,I,j,te){C===Ds&&(C=li);let fe=0,Ze=0,Pt=0<C.length?C[0]:null,Jt=0<I.length?I[0]:null;for(;null!==Pt||null!==Jt;){const Fn=fe<C.length?C[fe+1]:void 0,ni=Ze<I.length?I[Ze+1]:void 0;let tr,Ti=null;Pt===Jt?(fe+=2,Ze+=2,Fn!==ni&&(Ti=Jt,tr=ni)):null===Jt||null!==Pt&&Pt<Jt?(fe+=2,Ti=Pt):(Ze+=2,Ti=Jt,tr=ni),null!==Ti&&r0(i,o,u,y,Ti,tr,j,te),Pt=fe<C.length?C[fe]:null,Jt=Ze<I.length?I[Ze]:null}}(C,te,j,j[11],j[I+1],j[I+1]=function n0(i,o,u){if(null==u||""===u)return li;const y=[],C=Ul(u);if(Array.isArray(C))for(let I=0;I<C.length;I++)i(y,C[I],!0);else if("object"==typeof C)for(const I in C)C.hasOwnProperty(I)&&i(y,I,C[I]);else"string"==typeof C&&o(y,C);return y}(i,o,u),y,I)}}function Vg(i,o){return o>=i.expandoStartIndex}function jv(i,o,u,y){const C=i.data;if(null===C[u+1]){const I=C[un()],j=Vg(i,u);iu(I,y)&&null===o&&!j&&(o=!1),o=function Jy(i,o,u,y){const C=pa(i);let I=y?o.residualClasses:o.residualStyles;if(null===C)0===(y?o.classBindings:o.styleBindings)&&(u=Hg(u=Gv(null,i,o,u,y),o.attrs,y),I=null);else{const j=o.directiveStylingLast;if(-1===j||i[j]!==C)if(u=Gv(C,i,o,u,y),null===I){let fe=function e0(i,o,u){const y=u?o.classBindings:o.styleBindings;if(0!==Vu(y))return i[sd(y)]}(i,o,y);void 0!==fe&&Array.isArray(fe)&&(fe=Gv(null,i,o,fe[1],y),fe=Hg(fe,o.attrs,y),function Dy(i,o,u,y){i[sd(u?o.classBindings:o.styleBindings)]=y}(i,o,y,fe))}else I=function t0(i,o,u){let y;const C=o.directiveEnd;for(let I=1+o.directiveStylingLast;I<C;I++)y=Hg(y,i[I].hostAttrs,u);return Hg(y,o.attrs,u)}(i,o,y)}return void 0!==I&&(y?o.residualClasses=I:o.residualStyles=I),u}(C,I,o,y),function Af(i,o,u,y,C,I){let j=I?o.classBindings:o.styleBindings,te=sd(j),fe=Vu(j);i[y]=u;let Pt,Ze=!1;if(Array.isArray(u)){const Jt=u;Pt=Jt[1],(null===Pt||Ni(Jt,Pt)>0)&&(Ze=!0)}else Pt=u;if(C)if(0!==fe){const Fn=sd(i[te+1]);i[y+1]=Uh(Fn,te),0!==Fn&&(i[Fn+1]=Ep(i[Fn+1],y)),i[te+1]=function cg(i,o){return 131071&i|o<<17}(i[te+1],y)}else i[y+1]=Uh(te,0),0!==te&&(i[te+1]=Ep(i[te+1],y)),te=y;else i[y+1]=Uh(fe,0),0===te?te=y:i[fe+1]=Ep(i[fe+1],y),fe=y;Ze&&(i[y+1]=Sp(i[y+1])),Fg(i,Pt,y,!0),Fg(i,Pt,y,!1),function Rg(i,o,u,y,C){const I=C?i.residualClasses:i.residualStyles;null!=I&&"string"==typeof o&&Ni(I,o)>=0&&(u[y+1]=pm(u[y+1]))}(o,Pt,i,y,I),j=Uh(te,fe),I?o.classBindings=j:o.styleBindings=j}(C,I,o,u,j,y)}}function Gv(i,o,u,y,C){let I=null;const j=u.directiveEnd;let te=u.directiveStylingLast;for(-1===te?te=u.directiveStart:te++;te<j&&(I=o[te],y=Hg(y,I.hostAttrs,C),I!==i);)te++;return null!==i&&(u.directiveStylingLast=te),y}function Hg(i,o,u){const y=u?1:2;let C=-1;if(null!==o)for(let I=0;I<o.length;I++){const j=o[I];"number"==typeof j?C=j:C===y&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),dn(i,j,!!u||o[++I]))}return void 0===i?null:i}function r0(i,o,u,y,C,I,j,te){if(!(3&o.type))return;const fe=i.data,Ze=fe[te+1];th(function ug(i){return 1==(1&i)}(Ze)?jp(fe,o,u,C,Vu(Ze),j):void 0)||(th(I)||function zh(i){return 2==(2&i)}(Ze)&&(I=jp(fe,null,u,C,te,j)),function yd(i,o,u,y,C){if(o)C?i.addClass(u,y):i.removeClass(u,y);else{let I=-1===y.indexOf("-")?void 0:Cc.DashCase;null==C?i.removeStyle(u,y,I):("string"==typeof C&&C.endsWith("!important")&&(C=C.slice(0,-10),I|=Cc.Important),i.setStyle(u,y,C,I))}}(y,j,Us(un(),u),C,I))}function jp(i,o,u,y,C,I){const j=null===o;let te;for(;C>0;){const fe=i[C],Ze=Array.isArray(fe),Pt=Ze?fe[1]:fe,Jt=null===Pt;let Fn=u[C+1];Fn===Ds&&(Fn=Jt?li:void 0);let ni=Jt?di(Fn,y):Pt===y?Fn:void 0;if(Ze&&!th(ni)&&(ni=di(fe,y)),th(ni)&&(te=ni,j))return te;const Ti=i[C+1];C=j?sd(Ti):Vu(Ti)}if(null!==o){let fe=I?o.residualClasses:o.residualStyles;null!=fe&&(te=di(fe,y))}return te}function th(i){return void 0!==i}function iu(i,o){return 0!=(i.flags&(o?16:32))}function Ef(i,o=""){const u=_i(),y=Cr(),C=i+22,I=y.firstCreatePass?tp(y,C,1,o,null):y.data[C],j=u[C]=function Dh(i,o){return i.createText(o)}(u[11],o);kh(y,u,j,I),he(I,!1)}function tv(i){return nv("",i,""),tv}function nv(i,o,u){const y=_i(),C=xf(y,i,o,u);return C!==Ds&&Sd(y,un(),C),nv}function Yh(i,o,u,y,C){const I=_i(),j=wf(I,i,o,u,y,C);return j!==Ds&&Sd(I,un(),j),Yh}function u0(i,o,u){rc(dn,eh,xf(_i(),i,o,u),!0)}function iv(i,o,u){const y=_i();return Yc(y,aa(),o)&&Tu(Cr(),si(),y,i,o,y[11],u,!0),iv}function Zv(i,o,u){const y=_i();if(Yc(y,aa(),o)){const I=Cr(),j=si();Tu(I,j,y,i,o,Mg(pa(I.data),j,y),u,!0)}return Zv}const Vm=void 0;var Kv=["en",[["a","p"],["AM","PM"],Vm],[["AM","PM"],Vm,Vm],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vm,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vm,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vm,"{1} 'at' {0}",Vm],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ly(i){const u=Math.floor(Math.abs(i)),y=i.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===y?1:5}];let Gg={};function rv(i){const o=function Wg(i){return i.toLowerCase().replace(/_/g,"-")}(i);let u=Gu(o);if(u)return u;const y=o.split("-")[0];if(u=Gu(y),u)return u;if("en"===y)return Kv;throw new Be(701,!1)}function nh(i){return rv(i)[ns.PluralCase]}function Gu(i){return i in Gg||(Gg[i]=An.ng&&An.ng.common&&An.ng.common.locales&&An.ng.common.locales[i]),Gg[i]}var ns=(()=>((ns=ns||{})[ns.LocaleId=0]="LocaleId",ns[ns.DayPeriodsFormat=1]="DayPeriodsFormat",ns[ns.DayPeriodsStandalone=2]="DayPeriodsStandalone",ns[ns.DaysFormat=3]="DaysFormat",ns[ns.DaysStandalone=4]="DaysStandalone",ns[ns.MonthsFormat=5]="MonthsFormat",ns[ns.MonthsStandalone=6]="MonthsStandalone",ns[ns.Eras=7]="Eras",ns[ns.FirstDayOfWeek=8]="FirstDayOfWeek",ns[ns.WeekendRange=9]="WeekendRange",ns[ns.DateFormat=10]="DateFormat",ns[ns.TimeFormat=11]="TimeFormat",ns[ns.DateTimeFormat=12]="DateTimeFormat",ns[ns.NumberSymbols=13]="NumberSymbols",ns[ns.NumberFormats=14]="NumberFormats",ns[ns.CurrencyCode=15]="CurrencyCode",ns[ns.CurrencySymbol=16]="CurrencySymbol",ns[ns.CurrencyName=17]="CurrencyName",ns[ns.Currencies=18]="Currencies",ns[ns.Directionality=19]="Directionality",ns[ns.PluralCase=20]="PluralCase",ns[ns.ExtraData=21]="ExtraData",ns))();const Hm="en-US";let _0=Hm;function Xv(i,o,u,y,C){if(i=be(i),Array.isArray(i))for(let I=0;I<i.length;I++)Xv(i[I],o,u,y,C);else{const I=Cr(),j=_i();let te=Ar(i)?i:be(i.provide),fe=Gl(i);const Ze=ks(),Pt=1048575&Ze.providerIndexes,Jt=Ze.directiveStart,Fn=Ze.providerIndexes>>20;if(Ar(i)||!i.multi){const ni=new qi(fe,C,Xd),Ti=Uy(te,o,C?Pt:Pt+Fn,Jt);-1===Ti?(w(Ri(Ze,j),I,te),Jv(I,i,o.length),o.push(te),Ze.directiveStart++,Ze.directiveEnd++,C&&(Ze.providerIndexes+=1048576),u.push(ni),j.push(ni)):(u[Ti]=ni,j[Ti]=ni)}else{const ni=Uy(te,o,Pt+Fn,Jt),Ti=Uy(te,o,Pt,Pt+Fn),tr=ni>=0&&u[ni],gr=Ti>=0&&u[Ti];if(C&&!gr||!C&&!tr){w(Ri(Ze,j),I,te);const Br=function lb(i,o,u,y,C){const I=new qi(i,u,Xd);return I.multi=[],I.index=o,I.componentProviders=0,Hy(I,C,y&&!u),I}(C?ab:Wb,u.length,C,y,fe);!C&&gr&&(u[Ti].providerFactory=Br),Jv(I,i,o.length,0),o.push(te),Ze.directiveStart++,Ze.directiveEnd++,C&&(Ze.providerIndexes+=1048576),u.push(Br),j.push(Br)}else Jv(I,i,ni>-1?ni:Ti,Hy(u[C?Ti:ni],fe,!C&&y));!C&&y&&gr&&u[Ti].componentProviders++}}}function Jv(i,o,u,y){const C=Ar(o),I=function jr(i){return!!i.useClass}(o);if(C||I){const fe=(I?be(o.useClass):o).prototype.ngOnDestroy;if(fe){const Ze=i.destroyHooks||(i.destroyHooks=[]);if(!C&&o.multi){const Pt=Ze.indexOf(u);-1===Pt?Ze.push(u,[y,fe]):Ze[Pt+1].push(y,fe)}else Ze.push(u,fe)}}}function Hy(i,o,u){return u&&i.componentProviders++,i.multi.push(o)-1}function Uy(i,o,u,y){for(let C=u;C<y;C++)if(o[C]===i)return C;return-1}function Wb(i,o,u,y){return jm(this.multi,[])}function ab(i,o,u,y){const C=this.multi;let I;if(this.providerFactory){const j=this.providerFactory.componentProviders,te=xi(u,u[1],this.providerFactory.index,y);I=te.slice(0,j),jm(C,I);for(let fe=j;fe<te.length;fe++)I.push(te[fe])}else I=[],jm(C,I);return I}function jm(i,o){for(let u=0;u<i.length;u++)o.push((0,i[u])());return o}function cb(i,o=[]){return u=>{u.providersResolver=(y,C)=>function Vy(i,o,u){const y=Cr();if(y.firstCreatePass){const C=ws(i);Xv(u,y.data,y.blueprint,C,!0),Xv(o,y.data,y.blueprint,C,!1)}}(y,C?C(i):i,o)}}class ov{}class ub{}function Yb(i,o){return new db(i,o??null)}class db extends ov{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kg(this);const y=Ui(o);this._bootstrapComponents=Bu(y.bootstrap),this._r3Injector=om(o,u,[{provide:ov,useValue:this},{provide:Cd,useValue:this.componentFactoryResolver}],xe(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class A0 extends ub{constructor(o){super(),this.moduleType=o}create(o){return new db(this.moduleType,o)}}class Zb extends ov{constructor(o,u,y){super(),this.componentFactoryResolver=new kg(this),this.instance=null;const C=new jf([...o,{provide:ov,useValue:this},{provide:Cd,useValue:this.componentFactoryResolver}],u||uu(),y,new Set(["environment"]));this.injector=C,C.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function S0(i,o,u=null){return new Zb(i,o,u).injector}let zy=(()=>{class i{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const y=Fu(0,u.type),C=y.length>0?S0([y],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,C)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=jt({token:i,providedIn:"environment",factory:()=>new i(No(sa))}),i})();function E0(i){i.getStandaloneInjector=o=>o.get(zy).getOrCreateStandaloneInjector(i)}function wb(i,o,u){const y=_s()+i,C=_i();return C[y]===Ds?Md(C,y,u?o.call(u):o()):function sp(i,o){return i[o]}(C,y)}function k0(i,o,u,y){return Xb(_i(),_s(),i,o,u,y)}function $y(i,o,u,y,C){return Jb(_i(),_s(),i,o,u,y,C)}function ey(i,o){const u=i[o];return u===Ds?void 0:u}function Xb(i,o,u,y,C,I){const j=o+u;return Yc(i,j,C)?Md(i,j+1,I?y.call(I,C):y(C)):ey(i,j+1)}function Jb(i,o,u,y,C,I,j){const te=o+u;return yh(i,te,C,I)?Md(i,te+2,j?y.call(j,C,I):y(C,I)):ey(i,te+2)}function Cb(i,o,u,y,C,I,j,te){const fe=o+u;return function Fp(i,o,u,y,C){const I=yh(i,o,u,y);return Yc(i,o+2,C)||I}(i,fe,C,I,j)?Md(i,fe+3,te?y.call(te,C,I,j):y(C,I,j)):ey(i,fe+3)}function nx(i,o){const u=Cr();let y;const C=i+22;u.firstCreatePass?(y=function Vx(i,o){if(o)for(let u=o.length-1;u>=0;u--){const y=o[u];if(i===y.name)return y}}(o,u.pipeRegistry),u.data[C]=y,y.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(C,y.onDestroy)):y=u.data[C];const I=y.factory||(y.factory=Oo(y.type)),j=le(Xd);try{const te=Dn(!1),fe=I();return Dn(te),function U(i,o,u,y){u>=i.data.length&&(i.data[u]=null,i.blueprint[u]=null),o[u]=y}(u,_i(),C,fe),fe}finally{le(j)}}function Tb(i,o,u){const y=i+22,C=_i(),I=zs(C,y);return av(C,y)?Xb(C,_s(),o,I.transform,u,I):I.transform(u)}function Db(i,o,u,y){const C=i+22,I=_i(),j=zs(I,C);return av(I,C)?Jb(I,_s(),o,j.transform,u,y,j):j.transform(u,y)}function O0(i,o,u,y,C){const I=i+22,j=_i(),te=zs(j,I);return av(j,I)?Cb(j,_s(),o,te.transform,u,y,C,te):te.transform(u,y,C)}function av(i,o){return i[1].data[o].pure}function Wy(i){return o=>{setTimeout(i,void 0,o)}}const If=class Eb extends a.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,y){let C=o,I=u||(()=>null),j=y;if(o&&"object"==typeof o){const fe=o;C=fe.next?.bind(fe),I=fe.error?.bind(fe),j=fe.complete?.bind(fe)}this.__isAsync&&(I=Wy(I),C&&(C=Wy(C)),j&&(j=Wy(j)));const te=super.subscribe({next:C,error:I,complete:j});return o instanceof T.w0&&o.add(te),te}};function Mb(){return this._results[bf()]()}class L0{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=bf(),y=L0.prototype;y[u]||(y[u]=Mb)}get changes(){return this._changes||(this._changes=new If)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const y=this;y.dirty=!1;const C=fs(o);(this._changesDetected=!function _a(i,o,u){if(i.length!==o.length)return!1;for(let y=0;y<i.length;y++){let C=i[y],I=o[y];if(u&&(C=u(C),I=u(I)),I!==C)return!1}return!0}(y._results,C,u))&&(y._results=C,y.length=C.length,y.last=C[this.length-1],y.first=C[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ty=(()=>{class i{}return i.__NG_ELEMENT_ID__=R0,i})();const kb=ty,ix=class extends kb{constructor(o,u,y){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=y}createEmbeddedView(o,u){const y=this._declarationTContainer.tViews,C=ep(this._declarationLView,y,o,16,null,y.declTNode,null,null,null,null,u||null);C[17]=this._declarationLView[this._declarationTContainer.index];const j=this._declarationLView[19];return null!==j&&(C[19]=j.createEmbeddedView(y)),wm(y,C,o),new ip(C)}};function R0(){return Kg(ks(),_i())}function Kg(i,o){return 4&i.type?new ix(o,i,Ol(i,o)):null}let ny=(()=>{class i{}return i.__NG_ELEMENT_ID__=rx,i})();function rx(){return B0(ks(),_i())}const F0=ny,Ib=class extends F0{constructor(o,u,y){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=y}get element(){return Ol(this._hostTNode,this._hostLView)}get injector(){return new Is(this._hostTNode,this._hostLView)}get parentInjector(){const o=f(this._hostTNode,this._hostLView);if(Fr(o)){const u=dt(o,this._hostLView),y=ne(o);return new Is(u[1].data[y+8],u)}return new Is(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=N0(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,y){let C,I;"number"==typeof y?C=y:null!=y&&(C=y.index,I=y.injector);const j=o.createEmbeddedView(u||{},I);return this.insert(j,C),j}createComponent(o,u,y,C,I){const j=o&&!function ol(i){return"function"==typeof i}(o);let te;if(j)te=u;else{const Jt=u||{};te=Jt.index,y=Jt.injector,C=Jt.projectableNodes,I=Jt.environmentInjector||Jt.ngModuleRef}const fe=j?o:new fo(qe(o)),Ze=y||this.parentInjector;if(!I&&null==fe.ngModule){const Fn=(j?Ze:this.parentInjector).get(sa,null);Fn&&(I=Fn)}const Pt=fe.create(Ze,C,void 0,I);return this.insert(Pt.hostView,te),Pt}insert(o,u){const y=o._lView,C=y[1];if(function Qo(i){return qo(i[3])}(y)){const Pt=this.indexOf(o);if(-1!==Pt)this.detach(Pt);else{const Jt=y[3],Fn=new Ib(Jt,Jt[6],Jt[3]);Fn.detach(Fn.indexOf(o))}}const I=this._adjustIndex(u),j=this._lContainer;!function Pu(i,o,u,y){const C=10+y,I=u.length;y>0&&(u[C-1][4]=o),y<I-10?(o[4]=u[C],Ql(u,10+y,o)):(u.push(o),o[4]=null),o[3]=u;const j=o[17];null!==j&&u!==j&&function Il(i,o){const u=i[9];o[Y]!==o[3][3][Y]&&(i[2]=!0),null===u?i[9]=[o]:u.push(o)}(j,o);const te=o[19];null!==te&&te.insertView(i),o[2]|=64}(C,y,j,I);const te=Ih(I,j),fe=y[11],Ze=vd(fe,j[7]);return null!==Ze&&function Ah(i,o,u,y,C,I){y[0]=C,y[6]=o,zd(i,y,u,1,C,I)}(C,j[6],fe,y,Ze,te),o.attachToViewContainerRef(),Ql(Yy(j),I,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=N0(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),y=ch(this._lContainer,u);y&&(ea(Yy(this._lContainer),u),Bf(y[1],y))}detach(o){const u=this._adjustIndex(o,-1),y=ch(this._lContainer,u);return y&&null!=ea(Yy(this._lContainer),u)?new ip(y):null}_adjustIndex(o,u=0){return o??this.length+u}};function N0(i){return i[8]}function Yy(i){return i[8]||(i[8]=[])}function B0(i,o){let u;const y=o[i.index];if(qo(y))u=y;else{let C;if(8&i.type)C=Kr(y);else{const I=o[11];C=I.createComment("");const j=go(i,o);yu(I,vd(I,j),C,function as(i,o){return i.nextSibling(o)}(I,j),!1)}o[i.index]=u=Sg(y,o,C,i),Sm(o,u)}return new Ib(u,i,o)}class V0{constructor(o){this.queryList=o,this.matches=null}clone(){return new V0(this.queryList)}setDirty(){this.queryList.setDirty()}}class H0{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const y=null!==o.contentQueries?o.contentQueries[0]:u.length,C=[];for(let I=0;I<y;I++){const j=u.getByIndex(I);C.push(this.queries[j.indexInDeclarationView].clone())}return new H0(C)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==Ei(o,u).matches&&this.queries[u].setDirty()}}class U0{constructor(o,u,y=null){this.predicate=o,this.flags=u,this.read=y}}class Zy{constructor(o=[]){this.queries=o}elementStart(o,u){for(let y=0;y<this.queries.length;y++)this.queries[y].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let y=0;y<this.length;y++){const C=null!==u?u.length:0,I=this.getByIndex(y).embeddedTView(o,C);I&&(I.indexInDeclarationView=y,null!==u?u.push(I):u=[I])}return null!==u?new Zy(u):null}template(o,u){for(let y=0;y<this.queries.length;y++)this.queries[y].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class z0{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new z0(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let y=o.parent;for(;null!==y&&8&y.type&&y.index!==u;)y=y.parent;return u===(null!==y?y.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const y=this.metadata.predicate;if(Array.isArray(y))for(let C=0;C<y.length;C++){const I=y[C];this.matchTNodeWithReadOption(o,u,r(u,I)),this.matchTNodeWithReadOption(o,u,Xn(u,o,I,!1,!1))}else y===ty?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,Xn(u,o,y,!1,!1))}matchTNodeWithReadOption(o,u,y){if(null!==y){const C=this.metadata.read;if(null!==C)if(C===Vh||C===ny||C===ty&&4&u.type)this.addMatch(u.index,-2);else{const I=Xn(u,o,C,!1,!1);null!==I&&this.addMatch(u.index,I)}else this.addMatch(u.index,y)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function r(i,o){const u=i.localNames;if(null!==u)for(let y=0;y<u.length;y+=2)if(u[y]===o)return u[y+1];return null}function t(i,o,u,y){return-1===u?function e(i,o){return 11&i.type?Ol(i,o):4&i.type?Kg(i,o):null}(o,i):-2===u?function c(i,o,u){return u===Vh?Ol(o,i):u===ty?Kg(o,i):u===ny?B0(o,i):void 0}(i,o,y):xi(i,i[1],u,o)}function v(i,o,u,y){const C=o[19].queries[y];if(null===C.matches){const I=i.data,j=u.matches,te=[];for(let fe=0;fe<j.length;fe+=2){const Ze=j[fe];te.push(Ze<0?null:t(o,I[Ze],j[fe+1],u.metadata.read))}C.matches=te}return C.matches}function S(i,o,u,y){const C=i.queries.getByIndex(u),I=C.matches;if(null!==I){const j=v(i,o,C,u);for(let te=0;te<I.length;te+=2){const fe=I[te];if(fe>0)y.push(j[te/2]);else{const Ze=I[te+1],Pt=o[-fe];for(let Jt=10;Jt<Pt.length;Jt++){const Fn=Pt[Jt];Fn[17]===Fn[3]&&S(Fn[1],Fn,Ze,y)}if(null!==Pt[9]){const Jt=Pt[9];for(let Fn=0;Fn<Jt.length;Fn++){const ni=Jt[Fn];S(ni[1],ni,Ze,y)}}}}}return y}function V(i){const o=_i(),u=Cr(),y=cc();ca(y+1);const C=Ei(u,y);if(i.dirty&&function hl(i){return 4==(4&i[2])}(o)===(2==(2&C.metadata.flags))){if(null===C.matches)i.reset([]);else{const I=C.crossesNgTemplate?S(u,o,y,[]):v(u,o,C,y);i.reset(I,em),i.notifyOnChanges()}return!0}return!1}function X(i,o,u){const y=Cr();y.firstCreatePass&&(Jn(y,new U0(i,o,u),-1),2==(2&o)&&(y.staticViewQueries=!0)),vn(y,_i(),o)}function ke(i,o,u,y){const C=Cr();if(C.firstCreatePass){const I=ks();Jn(C,new U0(o,u,y),I.index),function Di(i,o){const u=i.contentQueries||(i.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(i.queries.length-1,o)}(C,i),2==(2&u)&&(C.staticContentQueries=!0)}vn(C,_i(),u)}function rt(){return function Ut(i,o){return i[19].queries[o].queryList}(_i(),cc())}function vn(i,o,u){const y=new L0(4==(4&u));Ev(i,o,y,y.destroy),null===o[19]&&(o[19]=new H0),o[19].queries.push(new V0(y))}function Jn(i,o,u){null===i.queries&&(i.queries=new Zy),i.queries.track(new z0(o,u))}function Ei(i,o){return i.queries.getByIndex(o)}function cr(i,o){return Kg(i,o)}function Lb(...i){}const nw=new Ks("Application Initializer");let Rb=(()=>{class i{constructor(u){this.appInits=u,this.resolve=Lb,this.reject=Lb,this.initialized=!1,this.done=!1,this.donePromise=new Promise((y,C)=>{this.resolve=y,this.reject=C})}runInitializers(){if(this.initialized)return;const u=[],y=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let C=0;C<this.appInits.length;C++){const I=this.appInits[C]();if(oi(I))u.push(I);else if(ir(I)){const j=new Promise((te,fe)=>{I.subscribe({complete:te,error:fe})});u.push(j)}}Promise.all(u).then(()=>{y()}).catch(C=>{this.reject(C)}),0===u.length&&y(),this.initialized=!0}}return i.\u0275fac=function(u){return new(u||i)(No(nw,8))},i.\u0275prov=jt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const iw=new Ks("AppId",{providedIn:"root",factory:function rw(){return`${dx()}${dx()}${dx()}`}});function dx(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const sw=new Ks("Platform Initializer"),tC=new Ks("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ow=new Ks("appBootstrapListener"),nC=new Ks("AnimationModuleType");let iC=(()=>{class i{log(u){console.log(u)}warn(u){console.warn(u)}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275prov=jt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Fb=new Ks("LocaleId",{providedIn:"root",factory:()=>_e(Fb,Rt.Optional|Rt.SkipSelf)||function rC(){return typeof $localize<"u"&&$localize.locale||Hm}()}),sC=new Ks("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class oC{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let aC=(()=>{class i{compileModuleSync(u){return new A0(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const y=this.compileModuleSync(u),I=Bu(Ui(u).declarations).reduce((j,te)=>{const fe=qe(te);return fe&&j.push(new fo(fe)),j},[]);return new oC(y,I)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275prov=jt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const uC=(()=>Promise.resolve(0))();function hx(i){typeof Zone>"u"?uC.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class fp{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:y=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new If(!1),this.onMicrotaskEmpty=new If(!1),this.onStable=new If(!1),this.onError=new If(!1),typeof Zone>"u")throw new Be(908,!1);Zone.assertZonePatched();const C=this;if(C._nesting=0,C._outer=C._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const I=Zone.AsyncStackTaggingZoneSpec;C._inner=C._inner.fork(new I("Angular"))}Zone.TaskTrackingZoneSpec&&(C._inner=C._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(C._inner=C._inner.fork(Zone.longStackTraceZoneSpec)),C.shouldCoalesceEventChangeDetection=!y&&u,C.shouldCoalesceRunChangeDetection=y,C.lastRequestAnimationFrameId=-1,C.nativeRequestAnimationFrame=function dC(){let i=An.requestAnimationFrame,o=An.cancelAnimationFrame;if(typeof Zone<"u"&&i&&o){const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u);const y=o[Zone.__symbol__("OriginalDelegate")];y&&(o=y)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function pC(i){const o=()=>{!function fC(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(An,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,px(i),i.isCheckStableRunning=!0,fx(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),px(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,y,C,I,j,te)=>{try{return cw(i),u.invokeTask(C,I,j,te)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===I.type||i.shouldCoalesceRunChangeDetection)&&o(),uw(i)}},onInvoke:(u,y,C,I,j,te,fe)=>{try{return cw(i),u.invoke(C,I,j,te,fe)}finally{i.shouldCoalesceRunChangeDetection&&o(),uw(i)}},onHasTask:(u,y,C,I)=>{u.hasTask(C,I),y===C&&("microTask"==I.change?(i._hasPendingMicrotasks=I.microTask,px(i),fx(i)):"macroTask"==I.change&&(i.hasPendingMacrotasks=I.macroTask))},onHandleError:(u,y,C,I)=>(u.handleError(C,I),i.runOutsideAngular(()=>i.onError.emit(I)),!1)})}(C)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!fp.isInAngularZone())throw new Be(909,!1)}static assertNotInAngularZone(){if(fp.isInAngularZone())throw new Be(909,!1)}run(o,u,y){return this._inner.run(o,u,y)}runTask(o,u,y,C){const I=this._inner,j=I.scheduleEventTask("NgZoneEvent: "+C,o,hC,Lb,Lb);try{return I.runTask(j,u,y)}finally{I.cancelTask(j)}}runGuarded(o,u,y){return this._inner.runGuarded(o,u,y)}runOutsideAngular(o){return this._outer.run(o)}}const hC={};function fx(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function px(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function cw(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function uw(i){i._nesting--,fx(i)}class mC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new If,this.onMicrotaskEmpty=new If,this.onStable=new If,this.onError=new If}run(o,u,y){return o.apply(u,y)}runGuarded(o,u,y){return o.apply(u,y)}runOutsideAngular(o){return o()}runTask(o,u,y,C){return o.apply(u,y)}}const dw=new Ks(""),hw=new Ks("");let mx,gC=(()=>{class i{constructor(u,y,C){this._ngZone=u,this.registry=y,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,mx||(function _C(i){mx=i}(C),C.addToWindow(y)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fp.assertNotInAngularZone(),hx(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())hx(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(y=>!y.updateCb||!y.updateCb(u)||(clearTimeout(y.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,y,C){let I=-1;y&&y>0&&(I=setTimeout(()=>{this._callbacks=this._callbacks.filter(j=>j.timeoutId!==I),u(this._didWork,this.getPendingTasks())},y)),this._callbacks.push({doneCb:u,timeoutId:I,updateCb:C})}whenStable(u,y,C){if(C&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,y,C),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,y,C){return[]}}return i.\u0275fac=function(u){return new(u||i)(No(fp),No(fw),No(hw))},i.\u0275prov=jt({token:i,factory:i.\u0275fac}),i})(),fw=(()=>{class i{constructor(){this._applications=new Map}registerApplication(u,y){this._applications.set(u,y)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,y=!0){return mx?.findTestabilityInTree(this,u,y)??null}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275prov=jt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),lv=null;const pw=new Ks("AllowMultipleToken"),gx=new Ks("PlatformDestroyListeners");class bC{constructor(o,u){this.name=o,this.token=u}}function gw(i,o,u=[]){const y=`Platform: ${o}`,C=new Ks(y);return(I=[])=>{let j=_x();if(!j||j.injector.get(pw,!1)){const te=[...u,...I,{provide:C,useValue:!0}];i?i(te):function xC(i){if(lv&&!lv.get(pw,!1))throw new Be(400,!1);lv=i;const o=i.get(vw);(function mw(i){const o=i.get(sw,null);o&&o.forEach(u=>u())})(i)}(function _w(i=[],o){return qd.create({name:o,providers:[{provide:ko,useValue:"platform"},{provide:gx,useValue:new Set([()=>lv=null])},...i]})}(te,y))}return function CC(i){const o=_x();if(!o)throw new Be(401,!1);return o}()}}function _x(){return lv?.get(vw)??null}let vw=(()=>{class i{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,y){const C=function bw(i,o){let u;return u="noop"===i?new mC:("zone.js"===i?void 0:i)||new fp(o),u}(y?.ngZone,function yw(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(y)),I=[{provide:fp,useValue:C}];return C.run(()=>{const j=qd.create({providers:I,parent:this.injector,name:u.moduleType.name}),te=u.create(j),fe=te.injector.get(Kf,null);if(!fe)throw new Be(402,!1);return C.runOutsideAngular(()=>{const Ze=C.onError.subscribe({next:Pt=>{fe.handleError(Pt)}});te.onDestroy(()=>{Bb(this._modules,te),Ze.unsubscribe()})}),function xw(i,o,u){try{const y=u();return oi(y)?y.catch(C=>{throw o.runOutsideAngular(()=>i.handleError(C)),C}):y}catch(y){throw o.runOutsideAngular(()=>i.handleError(y)),y}}(fe,C,()=>{const Ze=te.injector.get(Rb);return Ze.runInitializers(),Ze.donePromise.then(()=>(function v0(i){Ht(i,"Expected localeId to be defined"),"string"==typeof i&&(_0=i.toLowerCase().replace(/_/g,"-"))}(te.injector.get(Fb,Hm)||Hm),this._moduleDoBootstrap(te),te))})})}bootstrapModule(u,y=[]){const C=ww({},y);return function vC(i,o,u){const y=new A0(u);return Promise.resolve(y)}(0,0,u).then(I=>this.bootstrapModuleFactory(I,C))}_moduleDoBootstrap(u){const y=u.injector.get(Nb);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(C=>y.bootstrap(C));else{if(!u.instance.ngDoBootstrap)throw new Be(403,!1);u.instance.ngDoBootstrap(y)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Be(404,!1);this._modules.slice().forEach(y=>y.destroy()),this._destroyListeners.forEach(y=>y());const u=this._injector.get(gx,null);u&&(u.forEach(y=>y()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(u){return new(u||i)(No(qd))},i.\u0275prov=jt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function ww(i,o){return Array.isArray(o)?o.reduce(ww,i):{...i,...o}}let Nb=(()=>{class i{constructor(u,y,C){this._zone=u,this._injector=y,this._exceptionHandler=C,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const I=new O.y(te=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{te.next(this._stable),te.complete()})}),j=new O.y(te=>{let fe;this._zone.runOutsideAngular(()=>{fe=this._zone.onStable.subscribe(()=>{fp.assertNotInAngularZone(),hx(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,te.next(!0))})})});const Ze=this._zone.onUnstable.subscribe(()=>{fp.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{te.next(!1)}))});return()=>{fe.unsubscribe(),Ze.unsubscribe()}});this.isStable=(0,ue.T)(I,j.pipe((0,R.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,y){const C=u instanceof $m;if(!this._injector.get(Rb).done)throw!C&&ti(u),new Be(405,false);let j;j=C?u:this._injector.get(Cd).resolveComponentFactory(u),this.componentTypes.push(j.componentType);const te=function yC(i){return i.isBoundToModule}(j)?void 0:this._injector.get(ov),Ze=j.create(qd.NULL,[],y||j.selector,te),Pt=Ze.location.nativeElement,Jt=Ze.injector.get(dw,null);return Jt?.registerApplication(Pt),Ze.onDestroy(()=>{this.detachView(Ze.hostView),Bb(this.components,Ze),Jt?.unregisterApplication(Pt)}),this._loadComponent(Ze),Ze}tick(){if(this._runningTick)throw new Be(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const y=u;this._views.push(y),y.attachToAppRef(this)}detachView(u){const y=u;Bb(this._views,y),y.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(ow,[]).concat(this._bootstrapListeners).forEach(C=>C(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Bb(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new Be(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(u){return new(u||i)(No(fp),No(sa),No(Kf))},i.\u0275prov=jt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Bb(i,o){const u=i.indexOf(o);u>-1&&i.splice(u,1)}let Tw=!0,Dw=!1;function DC(){return Dw=!0,Tw}function AC(){if(Dw)throw new Error("Cannot enable prod mode after platform setup.");Tw=!1}let SC=(()=>{class i{}return i.__NG_ELEMENT_ID__=EC,i})();function EC(i){return function MC(i,o,u){if(Wo(i)&&!u){const y=Vr(i.index,o);return new ip(y,y)}return 47&i.type?new ip(o[Y],o):null}(ks(),_i(),16==(16&i))}class Mw{constructor(){}supports(o){return Rp(o)}create(o){return new RC(o)}}const LC=(i,o)=>o;class RC{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||LC}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,y=this._removalsHead,C=0,I=null;for(;u||y;){const j=!y||u&&u.currentIndex<Iw(y,C,I)?u:y,te=Iw(j,C,I),fe=j.currentIndex;if(j===y)C--,y=y._nextRemoved;else if(u=u._next,null==j.previousIndex)C++;else{I||(I=[]);const Ze=te-C,Pt=fe-C;if(Ze!=Pt){for(let Fn=0;Fn<Ze;Fn++){const ni=Fn<I.length?I[Fn]:I[Fn]=0,Ti=ni+Fn;Pt<=Ti&&Ti<Ze&&(I[Fn]=ni+1)}I[j.previousIndex]=Pt-Ze}}te!==fe&&o(j,te,fe)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!Rp(o))throw new Be(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let C,I,j,u=this._itHead,y=!1;if(Array.isArray(o)){this.length=o.length;for(let te=0;te<this.length;te++)I=o[te],j=this._trackByFn(te,I),null!==u&&Object.is(u.trackById,j)?(y&&(u=this._verifyReinsertion(u,I,j,te)),Object.is(u.item,I)||this._addIdentityChange(u,I)):(u=this._mismatch(u,I,j,te),y=!0),u=u._next}else C=0,function Hv(i,o){if(Array.isArray(i))for(let u=0;u<i.length;u++)o(i[u]);else{const u=i[bf()]();let y;for(;!(y=u.next()).done;)o(y.value)}}(o,te=>{j=this._trackByFn(C,te),null!==u&&Object.is(u.trackById,j)?(y&&(u=this._verifyReinsertion(u,te,j,C)),Object.is(u.item,te)||this._addIdentityChange(u,te)):(u=this._mismatch(u,te,j,C),y=!0),u=u._next,C++}),this.length=C;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,y,C){let I;return null===o?I=this._itTail:(I=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(y,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,I,C)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(y,C))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,I,C)):o=this._addAfter(new FC(u,y),I,C),o}_verifyReinsertion(o,u,y,C){let I=null===this._unlinkedRecords?null:this._unlinkedRecords.get(y,null);return null!==I?o=this._reinsertAfter(I,o._prev,C):o.currentIndex!=C&&(o.currentIndex=C,this._addToMoves(o,C)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,y){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const C=o._prevRemoved,I=o._nextRemoved;return null===C?this._removalsHead=I:C._nextRemoved=I,null===I?this._removalsTail=C:I._prevRemoved=C,this._insertAfter(o,u,y),this._addToMoves(o,y),o}_moveAfter(o,u,y){return this._unlink(o),this._insertAfter(o,u,y),this._addToMoves(o,y),o}_addAfter(o,u,y){return this._insertAfter(o,u,y),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,y){const C=null===u?this._itHead:u._next;return o._next=C,o._prev=u,null===C?this._itTail=o:C._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new kw),this._linkedRecords.put(o),o.currentIndex=y,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,y=o._next;return null===u?this._itHead=y:u._next=y,null===y?this._itTail=u:y._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new kw),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class FC{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class NC{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let y;for(y=this._head;null!==y;y=y._nextDup)if((null===u||u<=y.currentIndex)&&Object.is(y.trackById,o))return y;return null}remove(o){const u=o._prevDup,y=o._nextDup;return null===u?this._head=y:u._nextDup=y,null===y?this._tail=u:y._prevDup=u,null===this._head}}class kw{constructor(){this.map=new Map}put(o){const u=o.trackById;let y=this.map.get(u);y||(y=new NC,this.map.set(u,y)),y.add(o)}get(o,u){const C=this.map.get(o);return C?C.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Iw(i,o,u){const y=i.previousIndex;if(null===y)return y;let C=0;return u&&y<u.length&&(C=u[y]),y+o+C}class Pw{constructor(){}supports(o){return o instanceof Map||Fm(o)}create(){return new BC}}class BC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||Fm(o)))throw new Be(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(y,C)=>{if(u&&u.key===C)this._maybeAddToChanges(u,y),this._appendAfter=u,u=u._next;else{const I=this._getOrCreateRecordForKey(C,y);u=this._insertBeforeOrAppend(u,I)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let y=u;null!==y;y=y._nextRemoved)y===this._mapHead&&(this._mapHead=null),this._records.delete(y.key),y._nextRemoved=y._next,y.previousValue=y.currentValue,y.currentValue=null,y._prev=null,y._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const y=o._prev;return u._next=o,u._prev=y,o._prev=u,y&&(y._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const C=this._records.get(o);this._maybeAddToChanges(C,u);const I=C._prev,j=C._next;return I&&(I._next=j),j&&(j._prev=I),C._next=null,C._prev=null,C}const y=new VC(o);return this._records.set(o,y),y.currentValue=u,this._addToAdditions(y),y}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(y=>u(o[y],y))}}class VC{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ow(){return new wx([new Mw])}let wx=(()=>{class i{constructor(u){this.factories=u}static create(u,y){if(null!=y){const C=y.factories.slice();u=u.concat(C)}return new i(u)}static extend(u){return{provide:i,useFactory:y=>i.create(u,y||Ow()),deps:[[i,new yr,new or]]}}find(u){const y=this.factories.find(C=>C.supports(u));if(null!=y)return y;throw new Be(901,!1)}}return i.\u0275prov=jt({token:i,providedIn:"root",factory:Ow}),i})();function Lw(){return new Cx([new Pw])}let Cx=(()=>{class i{constructor(u){this.factories=u}static create(u,y){if(y){const C=y.factories.slice();u=u.concat(C)}return new i(u)}static extend(u){return{provide:i,useFactory:y=>i.create(u,y||Lw()),deps:[[i,new yr,new or]]}}find(u){const y=this.factories.find(C=>C.supports(u));if(y)return y;throw new Be(901,!1)}}return i.\u0275prov=jt({token:i,providedIn:"root",factory:Lw}),i})();const zC=gw(null,"core",[]);let jC=(()=>{class i{constructor(u){}}return i.\u0275fac=function(u){return new(u||i)(No(Nb))},i.\u0275mod=st({type:i}),i.\u0275inj=en({}),i})();function GC(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},4006:(ai,qt,N)=>{"use strict";N.d(qt,{Cf:()=>nt,EJ:()=>Fa,F:()=>ur,Fj:()=>Ne,JJ:()=>Rt,JL:()=>bn,JU:()=>xe,Kr:()=>Ea,NI:()=>ss,On:()=>ja,UX:()=>Jo,Wl:()=>re,YN:()=>Mo,Zs:()=>Na,_Y:()=>Os,a5:()=>pn,kI:()=>pt,oH:()=>Sr,qu:()=>Cr,sg:()=>os,u:()=>mo,u5:()=>Ba,wV:()=>cs});var a=N(4650),T=N(6895),O=N(8996),ue=N(4128),R=N(4004);let Ee=(()=>{class Se{constructor(he,Et){this._renderer=he,this._elementRef=Et,this.onChange=qn=>{},this.onTouched=()=>{}}setProperty(he,Et){this._renderer.setProperty(this._elementRef.nativeElement,he,Et)}registerOnTouched(he){this.onTouched=he}registerOnChange(he){this.onChange=he}setDisabledState(he){this.setProperty("disabled",he)}}return Se.\u0275fac=function(he){return new(he||Se)(a.Y36(a.Qsj),a.Y36(a.SBq))},Se.\u0275dir=a.lG2({type:Se}),Se})(),Re=(()=>{class Se extends Ee{}return Se.\u0275fac=function(){let De;return function(Et){return(De||(De=a.n5z(Se)))(Et||Se)}}(),Se.\u0275dir=a.lG2({type:Se,features:[a.qOj]}),Se})();const xe=new a.OlP("NgValueAccessor"),Ce={provide:xe,useExisting:(0,a.Gpc)(()=>re),multi:!0};let re=(()=>{class Se extends Re{writeValue(he){this.setProperty("checked",he)}}return Se.\u0275fac=function(){let De;return function(Et){return(De||(De=a.n5z(Se)))(Et||Se)}}(),Se.\u0275dir=a.lG2({type:Se,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(he,Et){1&he&&a.NdJ("change",function(Vi){return Et.onChange(Vi.target.checked)})("blur",function(){return Et.onTouched()})},features:[a._Bn([Ce]),a.qOj]}),Se})();const ce={provide:xe,useExisting:(0,a.Gpc)(()=>Ne),multi:!0},Ve=new a.OlP("CompositionEventMode");let Ne=(()=>{class Se extends Ee{constructor(he,Et,qn){super(he,Et),this._compositionMode=qn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function be(){const Se=(0,T.q)()?(0,T.q)().getUserAgent():"";return/android (\d+)/.test(Se.toLowerCase())}())}writeValue(he){this.setProperty("value",he??"")}_handleInput(he){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(he)}_compositionStart(){this._composing=!0}_compositionEnd(he){this._composing=!1,this._compositionMode&&this.onChange(he)}}return Se.\u0275fac=function(he){return new(he||Se)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(Ve,8))},Se.\u0275dir=a.lG2({type:Se,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(he,Et){1&he&&a.NdJ("input",function(Vi){return Et._handleInput(Vi.target.value)})("blur",function(){return Et.onTouched()})("compositionstart",function(){return Et._compositionStart()})("compositionend",function(Vi){return Et._compositionEnd(Vi.target.value)})},features:[a._Bn([ce]),a.qOj]}),Se})();function Je(Se){return null==Se||("string"==typeof Se||Array.isArray(Se))&&0===Se.length}function Ke(Se){return null!=Se&&"number"==typeof Se.length}const nt=new a.OlP("NgValidators"),We=new a.OlP("NgAsyncValidators"),ft=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class pt{static min(De){return function tt(Se){return De=>{if(Je(De.value)||Je(Se))return null;const he=parseFloat(De.value);return!isNaN(he)&&he<Se?{min:{min:Se,actual:De.value}}:null}}(De)}static max(De){return function je(Se){return De=>{if(Je(De.value)||Je(Se))return null;const he=parseFloat(De.value);return!isNaN(he)&&he>Se?{max:{max:Se,actual:De.value}}:null}}(De)}static required(De){return Ye(De)}static requiredTrue(De){return Me(De)}static email(De){return function me(Se){return Je(Se.value)||ft.test(Se.value)?null:{email:!0}}(De)}static minLength(De){return function St(Se){return De=>Je(De.value)||!Ke(De.value)?null:De.value.length<Se?{minlength:{requiredLength:Se,actualLength:De.value.length}}:null}(De)}static maxLength(De){return function vt(Se){return De=>Ke(De.value)&&De.value.length>Se?{maxlength:{requiredLength:Se,actualLength:De.value.length}}:null}(De)}static pattern(De){return function an(Se){if(!Se)return xn;let De,he;return"string"==typeof Se?(he="","^"!==Se.charAt(0)&&(he+="^"),he+=Se,"$"!==Se.charAt(Se.length-1)&&(he+="$"),De=new RegExp(he)):(he=Se.toString(),De=Se),Et=>{if(Je(Et.value))return null;const qn=Et.value;return De.test(qn)?null:{pattern:{requiredPattern:he,actualValue:qn}}}}(De)}static nullValidator(De){return null}static compose(De){return Bt(De)}static composeAsync(De){return et(De)}}function Ye(Se){return Je(Se.value)?{required:!0}:null}function Me(Se){return!0===Se.value?null:{required:!0}}function xn(Se){return null}function In(Se){return null!=Se}function cn(Se){return(0,a.QGY)(Se)?(0,O.D)(Se):Se}function Gn(Se){let De={};return Se.forEach(he=>{De=null!=he?{...De,...he}:De}),0===Object.keys(De).length?null:De}function Tn(Se,De){return De.map(he=>he(Se))}function Ht(Se){return Se.map(De=>function Wn(Se){return!Se.validate}(De)?De:he=>De.validate(he))}function Bt(Se){if(!Se)return null;const De=Se.filter(In);return 0==De.length?null:function(he){return Gn(Tn(he,De))}}function Kt(Se){return null!=Se?Bt(Ht(Se)):null}function et(Se){if(!Se)return null;const De=Se.filter(In);return 0==De.length?null:function(he){const Et=Tn(he,De).map(cn);return(0,ue.D)(Et).pipe((0,R.U)(Gn))}}function Vt(Se){return null!=Se?et(Ht(Se)):null}function jt(Se,De){return null===Se?[De]:Array.isArray(Se)?[...Se,De]:[Se,De]}function Yn(Se){return Se._rawValidators}function en(Se){return Se._rawAsyncValidators}function gn(Se){return Se?Array.isArray(Se)?Se:[Se]:[]}function On(Se,De){return Array.isArray(Se)?Se.includes(De):Se===De}function Qn(Se,De){const he=gn(De);return gn(Se).forEach(qn=>{On(he,qn)||he.push(qn)}),he}function _n(Se,De){return gn(De).filter(he=>!On(Se,he))}class Nn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(De){this._rawValidators=De||[],this._composedValidatorFn=Kt(this._rawValidators)}_setAsyncValidators(De){this._rawAsyncValidators=De||[],this._composedAsyncValidatorFn=Vt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(De){this._onDestroyCallbacks.push(De)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(De=>De()),this._onDestroyCallbacks=[]}reset(De){this.control&&this.control.reset(De)}hasError(De,he){return!!this.control&&this.control.hasError(De,he)}getError(De,he){return this.control?this.control.getError(De,he):null}}class yn extends Nn{get formDirective(){return null}get path(){return null}}class pn extends Nn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Pn{constructor(De){this._cd=De}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Rt=(()=>{class Se extends Pn{constructor(he){super(he)}}return Se.\u0275fac=function(he){return new(he||Se)(a.Y36(pn,2))},Se.\u0275dir=a.lG2({type:Se,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(he,Et){2&he&&a.ekj("ng-untouched",Et.isUntouched)("ng-touched",Et.isTouched)("ng-pristine",Et.isPristine)("ng-dirty",Et.isDirty)("ng-valid",Et.isValid)("ng-invalid",Et.isInvalid)("ng-pending",Et.isPending)},features:[a.qOj]}),Se})(),bn=(()=>{class Se extends Pn{constructor(he){super(he)}}return Se.\u0275fac=function(he){return new(he||Se)(a.Y36(yn,10))},Se.\u0275dir=a.lG2({type:Se,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(he,Et){2&he&&a.ekj("ng-untouched",Et.isUntouched)("ng-touched",Et.isTouched)("ng-pristine",Et.isPristine)("ng-dirty",Et.isDirty)("ng-valid",Et.isValid)("ng-invalid",Et.isInvalid)("ng-pending",Et.isPending)("ng-submitted",Et.isSubmitted)},features:[a.qOj]}),Se})();const sn="VALID",It="INVALID",xt="PENDING",wt="DISABLED";function Ie(Se){return(Ue(Se)?Se.validators:Se)||null}function pe(Se){return Array.isArray(Se)?Kt(Se):Se||null}function ye(Se,De){return(Ue(De)?De.asyncValidators:Se)||null}function st(Se){return Array.isArray(Se)?Vt(Se):Se||null}function Ue(Se){return null!=Se&&!Array.isArray(Se)&&"object"==typeof Se}function Te(Se,De,he){const Et=Se.controls;if(!(De?Object.keys(Et):Et).length)throw new a.vHH(1e3,"");if(!Et[he])throw new a.vHH(1001,"")}function ct(Se,De,he){Se._forEachChild((Et,qn)=>{if(void 0===he[qn])throw new a.vHH(1002,"")})}class Fe{constructor(De,he){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=De,this._rawAsyncValidators=he,this._composedValidatorFn=pe(this._rawValidators),this._composedAsyncValidatorFn=st(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(De){this._rawValidators=this._composedValidatorFn=De}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(De){this._rawAsyncValidators=this._composedAsyncValidatorFn=De}get parent(){return this._parent}get valid(){return this.status===sn}get invalid(){return this.status===It}get pending(){return this.status==xt}get disabled(){return this.status===wt}get enabled(){return this.status!==wt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(De){this._rawValidators=De,this._composedValidatorFn=pe(De)}setAsyncValidators(De){this._rawAsyncValidators=De,this._composedAsyncValidatorFn=st(De)}addValidators(De){this.setValidators(Qn(De,this._rawValidators))}addAsyncValidators(De){this.setAsyncValidators(Qn(De,this._rawAsyncValidators))}removeValidators(De){this.setValidators(_n(De,this._rawValidators))}removeAsyncValidators(De){this.setAsyncValidators(_n(De,this._rawAsyncValidators))}hasValidator(De){return On(this._rawValidators,De)}hasAsyncValidator(De){return On(this._rawAsyncValidators,De)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(De={}){this.touched=!0,this._parent&&!De.onlySelf&&this._parent.markAsTouched(De)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(De=>De.markAllAsTouched())}markAsUntouched(De={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(he=>{he.markAsUntouched({onlySelf:!0})}),this._parent&&!De.onlySelf&&this._parent._updateTouched(De)}markAsDirty(De={}){this.pristine=!1,this._parent&&!De.onlySelf&&this._parent.markAsDirty(De)}markAsPristine(De={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(he=>{he.markAsPristine({onlySelf:!0})}),this._parent&&!De.onlySelf&&this._parent._updatePristine(De)}markAsPending(De={}){this.status=xt,!1!==De.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!De.onlySelf&&this._parent.markAsPending(De)}disable(De={}){const he=this._parentMarkedDirty(De.onlySelf);this.status=wt,this.errors=null,this._forEachChild(Et=>{Et.disable({...De,onlySelf:!0})}),this._updateValue(),!1!==De.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...De,skipPristineCheck:he}),this._onDisabledChange.forEach(Et=>Et(!0))}enable(De={}){const he=this._parentMarkedDirty(De.onlySelf);this.status=sn,this._forEachChild(Et=>{Et.enable({...De,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:De.emitEvent}),this._updateAncestors({...De,skipPristineCheck:he}),this._onDisabledChange.forEach(Et=>Et(!1))}_updateAncestors(De){this._parent&&!De.onlySelf&&(this._parent.updateValueAndValidity(De),De.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(De){this._parent=De}getRawValue(){return this.value}updateValueAndValidity(De={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sn||this.status===xt)&&this._runAsyncValidator(De.emitEvent)),!1!==De.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!De.onlySelf&&this._parent.updateValueAndValidity(De)}_updateTreeValidity(De={emitEvent:!0}){this._forEachChild(he=>he._updateTreeValidity(De)),this.updateValueAndValidity({onlySelf:!0,emitEvent:De.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wt:sn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(De){if(this.asyncValidator){this.status=xt,this._hasOwnPendingAsyncValidator=!0;const he=cn(this.asyncValidator(this));this._asyncValidationSubscription=he.subscribe(Et=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Et,{emitEvent:De})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(De,he={}){this.errors=De,this._updateControlsErrors(!1!==he.emitEvent)}get(De){let he=De;return null==he||(Array.isArray(he)||(he=he.split(".")),0===he.length)?null:he.reduce((Et,qn)=>Et&&Et._find(qn),this)}getError(De,he){const Et=he?this.get(he):this;return Et&&Et.errors?Et.errors[De]:null}hasError(De,he){return!!this.getError(De,he)}get root(){let De=this;for(;De._parent;)De=De._parent;return De}_updateControlsErrors(De){this.status=this._calculateStatus(),De&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(De)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?wt:this.errors?It:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xt)?xt:this._anyControlsHaveStatus(It)?It:sn}_anyControlsHaveStatus(De){return this._anyControls(he=>he.status===De)}_anyControlsDirty(){return this._anyControls(De=>De.dirty)}_anyControlsTouched(){return this._anyControls(De=>De.touched)}_updatePristine(De={}){this.pristine=!this._anyControlsDirty(),this._parent&&!De.onlySelf&&this._parent._updatePristine(De)}_updateTouched(De={}){this.touched=this._anyControlsTouched(),this._parent&&!De.onlySelf&&this._parent._updateTouched(De)}_registerOnCollectionChange(De){this._onCollectionChange=De}_setUpdateStrategy(De){Ue(De)&&null!=De.updateOn&&(this._updateOn=De.updateOn)}_parentMarkedDirty(De){return!De&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(De){return null}}class qe extends Fe{constructor(De,he,Et){super(Ie(he),ye(Et,he)),this.controls=De,this._initObservables(),this._setUpdateStrategy(he),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(De,he){return this.controls[De]?this.controls[De]:(this.controls[De]=he,he.setParent(this),he._registerOnCollectionChange(this._onCollectionChange),he)}addControl(De,he,Et={}){this.registerControl(De,he),this.updateValueAndValidity({emitEvent:Et.emitEvent}),this._onCollectionChange()}removeControl(De,he={}){this.controls[De]&&this.controls[De]._registerOnCollectionChange(()=>{}),delete this.controls[De],this.updateValueAndValidity({emitEvent:he.emitEvent}),this._onCollectionChange()}setControl(De,he,Et={}){this.controls[De]&&this.controls[De]._registerOnCollectionChange(()=>{}),delete this.controls[De],he&&this.registerControl(De,he),this.updateValueAndValidity({emitEvent:Et.emitEvent}),this._onCollectionChange()}contains(De){return this.controls.hasOwnProperty(De)&&this.controls[De].enabled}setValue(De,he={}){ct(this,0,De),Object.keys(De).forEach(Et=>{Te(this,!0,Et),this.controls[Et].setValue(De[Et],{onlySelf:!0,emitEvent:he.emitEvent})}),this.updateValueAndValidity(he)}patchValue(De,he={}){null!=De&&(Object.keys(De).forEach(Et=>{const qn=this.controls[Et];qn&&qn.patchValue(De[Et],{onlySelf:!0,emitEvent:he.emitEvent})}),this.updateValueAndValidity(he))}reset(De={},he={}){this._forEachChild((Et,qn)=>{Et.reset(De[qn],{onlySelf:!0,emitEvent:he.emitEvent})}),this._updatePristine(he),this._updateTouched(he),this.updateValueAndValidity(he)}getRawValue(){return this._reduceChildren({},(De,he,Et)=>(De[Et]=he.getRawValue(),De))}_syncPendingControls(){let De=this._reduceChildren(!1,(he,Et)=>!!Et._syncPendingControls()||he);return De&&this.updateValueAndValidity({onlySelf:!0}),De}_forEachChild(De){Object.keys(this.controls).forEach(he=>{const Et=this.controls[he];Et&&De(Et,he)})}_setUpControls(){this._forEachChild(De=>{De.setParent(this),De._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(De){for(const[he,Et]of Object.entries(this.controls))if(this.contains(he)&&De(Et))return!0;return!1}_reduceValue(){return this._reduceChildren({},(he,Et,qn)=>((Et.enabled||this.disabled)&&(he[qn]=Et.value),he))}_reduceChildren(De,he){let Et=De;return this._forEachChild((qn,Vi)=>{Et=he(Et,qn,Vi)}),Et}_allControlsDisabled(){for(const De of Object.keys(this.controls))if(this.controls[De].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(De){return this.controls.hasOwnProperty(De)?this.controls[De]:null}}class ti extends qe{}function Li(Se,De){return[...De.path,Se]}function ut(Se,De){Ge(Se,De),De.valueAccessor.writeValue(Se.value),Se.disabled&&De.valueAccessor.setDisabledState?.(!0),function Hn(Se,De){De.valueAccessor.registerOnChange(he=>{Se._pendingValue=he,Se._pendingChange=!0,Se._pendingDirty=!0,"change"===Se.updateOn&&pi(Se,De)})}(Se,De),function mt(Se,De){const he=(Et,qn)=>{De.valueAccessor.writeValue(Et),qn&&De.viewToModelUpdate(Et)};Se.registerOnChange(he),De._registerOnDestroy(()=>{Se._unregisterOnChange(he)})}(Se,De),function Un(Se,De){De.valueAccessor.registerOnTouched(()=>{Se._pendingTouched=!0,"blur"===Se.updateOn&&Se._pendingChange&&pi(Se,De),"submit"!==Se.updateOn&&Se.markAsTouched()})}(Se,De),function ge(Se,De){if(De.valueAccessor.setDisabledState){const he=Et=>{De.valueAccessor.setDisabledState(Et)};Se.registerOnDisabledChange(he),De._registerOnDestroy(()=>{Se._unregisterOnDisabledChange(he)})}}(Se,De)}function ie(Se,De,he=!0){const Et=()=>{};De.valueAccessor&&(De.valueAccessor.registerOnChange(Et),De.valueAccessor.registerOnTouched(Et)),rn(Se,De),Se&&(De._invokeOnDestroyCallbacks(),Se._registerOnCollectionChange(()=>{}))}function K(Se,De){Se.forEach(he=>{he.registerOnValidatorChange&&he.registerOnValidatorChange(De)})}function Ge(Se,De){const he=Yn(Se);null!==De.validator?Se.setValidators(jt(he,De.validator)):"function"==typeof he&&Se.setValidators([he]);const Et=en(Se);null!==De.asyncValidator?Se.setAsyncValidators(jt(Et,De.asyncValidator)):"function"==typeof Et&&Se.setAsyncValidators([Et]);const qn=()=>Se.updateValueAndValidity();K(De._rawValidators,qn),K(De._rawAsyncValidators,qn)}function rn(Se,De){let he=!1;if(null!==Se){if(null!==De.validator){const qn=Yn(Se);if(Array.isArray(qn)&&qn.length>0){const Vi=qn.filter(ds=>ds!==De.validator);Vi.length!==qn.length&&(he=!0,Se.setValidators(Vi))}}if(null!==De.asyncValidator){const qn=en(Se);if(Array.isArray(qn)&&qn.length>0){const Vi=qn.filter(ds=>ds!==De.asyncValidator);Vi.length!==qn.length&&(he=!0,Se.setAsyncValidators(Vi))}}}const Et=()=>{};return K(De._rawValidators,Et),K(De._rawAsyncValidators,Et),he}function pi(Se,De){Se._pendingDirty&&Se.markAsDirty(),Se.setValue(Se._pendingValue,{emitModelToViewChange:!1}),De.viewToModelUpdate(Se._pendingValue),Se._pendingChange=!1}function Ft(Se,De){Ge(Se,De)}function $e(Se,De){if(!Se.hasOwnProperty("model"))return!1;const he=Se.model;return!!he.isFirstChange()||!Object.is(De,he.currentValue)}function Xt(Se,De){Se._syncPendingControls(),De.forEach(he=>{const Et=he.control;"submit"===Et.updateOn&&Et._pendingChange&&(he.viewToModelUpdate(Et._pendingValue),Et._pendingChange=!1)})}function ci(Se,De){if(!De)return null;let he,Et,qn;return Array.isArray(De),De.forEach(Vi=>{Vi.constructor===Ne?he=Vi:function At(Se){return Object.getPrototypeOf(Se.constructor)===Re}(Vi)?Et=Vi:qn=Vi}),qn||Et||he||null}const Hr={provide:yn,useExisting:(0,a.Gpc)(()=>ur)},vr=(()=>Promise.resolve())();let ur=(()=>{class Se extends yn{constructor(he,Et){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new qe({},Kt(he),Vt(Et))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(he){vr.then(()=>{const Et=this._findContainer(he.path);he.control=Et.registerControl(he.name,he.control),ut(he.control,he),he.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(he)})}getControl(he){return this.form.get(he.path)}removeControl(he){vr.then(()=>{const Et=this._findContainer(he.path);Et&&Et.removeControl(he.name),this._directives.delete(he)})}addFormGroup(he){vr.then(()=>{const Et=this._findContainer(he.path),qn=new qe({});Ft(qn,he),Et.registerControl(he.name,qn),qn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(he){vr.then(()=>{const Et=this._findContainer(he.path);Et&&Et.removeControl(he.name)})}getFormGroup(he){return this.form.get(he.path)}updateModel(he,Et){vr.then(()=>{this.form.get(he.path).setValue(Et)})}setValue(he){this.control.setValue(he)}onSubmit(he){return this.submitted=!0,Xt(this.form,this._directives),this.ngSubmit.emit(he),"dialog"===he?.target?.method}onReset(){this.resetForm()}resetForm(he){this.form.reset(he),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(he){return he.pop(),he.length?this.form.get(he):this.form}}return Se.\u0275fac=function(he){return new(he||Se)(a.Y36(nt,10),a.Y36(We,10))},Se.\u0275dir=a.lG2({type:Se,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(he,Et){1&he&&a.NdJ("submit",function(Vi){return Et.onSubmit(Vi)})("reset",function(){return Et.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([Hr]),a.qOj]}),Se})();function xs(Se,De){const he=Se.indexOf(De);he>-1&&Se.splice(he,1)}function $r(Se){return"object"==typeof Se&&null!==Se&&2===Object.keys(Se).length&&"value"in Se&&"disabled"in Se}const ss=class extends Fe{constructor(De=null,he,Et){super(Ie(he),ye(Et,he)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(De),this._setUpdateStrategy(he),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ue(he)&&(he.nonNullable||he.initialValueIsDefault)&&(this.defaultValue=$r(De)?De.value:De)}setValue(De,he={}){this.value=this._pendingValue=De,this._onChange.length&&!1!==he.emitModelToViewChange&&this._onChange.forEach(Et=>Et(this.value,!1!==he.emitViewToModelChange)),this.updateValueAndValidity(he)}patchValue(De,he={}){this.setValue(De,he)}reset(De=this.defaultValue,he={}){this._applyFormState(De),this.markAsPristine(he),this.markAsUntouched(he),this.setValue(this.value,he),this._pendingChange=!1}_updateValue(){}_anyControls(De){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(De){this._onChange.push(De)}_unregisterOnChange(De){xs(this._onChange,De)}registerOnDisabledChange(De){this._onDisabledChange.push(De)}_unregisterOnDisabledChange(De){xs(this._onDisabledChange,De)}_forEachChild(De){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(De){$r(De)?(this.value=this._pendingValue=De.value,De.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=De}},Es={provide:pn,useExisting:(0,a.Gpc)(()=>ja)},ta=(()=>Promise.resolve())();let ja=(()=>{class Se extends pn{constructor(he,Et,qn,Vi,ds){super(),this._changeDetectorRef=ds,this.control=new ss,this._registered=!1,this.update=new a.vpe,this._parent=he,this._setValidators(Et),this._setAsyncValidators(qn),this.valueAccessor=ci(0,Vi)}ngOnChanges(he){if(this._checkForErrors(),!this._registered||"name"in he){if(this._registered&&(this._checkName(),this.formDirective)){const Et=he.name.previousValue;this.formDirective.removeControl({name:Et,path:this._getPath(Et)})}this._setUpControl()}"isDisabled"in he&&this._updateDisabled(he),$e(he,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(he){this.viewModel=he,this.update.emit(he)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ut(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(he){ta.then(()=>{this.control.setValue(he,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(he){const Et=he.isDisabled.currentValue,qn=0!==Et&&(0,a.D6c)(Et);ta.then(()=>{qn&&!this.control.disabled?this.control.disable():!qn&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(he){return this._parent?Li(he,this._parent):[he]}}return Se.\u0275fac=function(he){return new(he||Se)(a.Y36(yn,9),a.Y36(nt,10),a.Y36(We,10),a.Y36(xe,10),a.Y36(a.sBO,8))},Se.\u0275dir=a.lG2({type:Se,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([Es]),a.qOj,a.TTD]}),Se})(),Os=(()=>{class Se{}return Se.\u0275fac=function(he){return new(he||Se)},Se.\u0275dir=a.lG2({type:Se,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Se})();const Ra={provide:xe,useExisting:(0,a.Gpc)(()=>cs),multi:!0};let cs=(()=>{class Se extends Re{writeValue(he){this.setProperty("value",he??"")}registerOnChange(he){this.onChange=Et=>{he(""==Et?null:parseFloat(Et))}}}return Se.\u0275fac=function(){let De;return function(Et){return(De||(De=a.n5z(Se)))(Et||Se)}}(),Se.\u0275dir=a.lG2({type:Se,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(he,Et){1&he&&a.NdJ("input",function(Vi){return Et.onChange(Vi.target.value)})("blur",function(){return Et.onTouched()})},features:[a._Bn([Ra]),a.qOj]}),Se})(),Ls=(()=>{class Se{}return Se.\u0275fac=function(he){return new(he||Se)},Se.\u0275mod=a.oAB({type:Se}),Se.\u0275inj=a.cJS({}),Se})();const Ca=new a.OlP("NgModelWithFormControlWarning"),Rl={provide:pn,useExisting:(0,a.Gpc)(()=>Sr)};let Sr=(()=>{class Se extends pn{constructor(he,Et,qn,Vi){super(),this._ngModelWarningConfig=Vi,this.update=new a.vpe,this._ngModelWarningSent=!1,this._setValidators(he),this._setAsyncValidators(Et),this.valueAccessor=ci(0,qn)}set isDisabled(he){}ngOnChanges(he){if(this._isControlChanged(he)){const Et=he.form.previousValue;Et&&ie(Et,this,!1),ut(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}$e(he,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&ie(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(he){this.viewModel=he,this.update.emit(he)}_isControlChanged(he){return he.hasOwnProperty("form")}}return Se._ngModelWarningSentOnce=!1,Se.\u0275fac=function(he){return new(he||Se)(a.Y36(nt,10),a.Y36(We,10),a.Y36(xe,10),a.Y36(Ca,8))},Se.\u0275dir=a.lG2({type:Se,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[a._Bn([Rl]),a.qOj,a.TTD]}),Se})();const Rr={provide:yn,useExisting:(0,a.Gpc)(()=>os)};let os=(()=>{class Se extends yn{constructor(he,Et){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(he),this._setAsyncValidators(Et)}ngOnChanges(he){this._checkFormPresent(),he.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(rn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(he){const Et=this.form.get(he.path);return ut(Et,he),Et.updateValueAndValidity({emitEvent:!1}),this.directives.push(he),Et}getControl(he){return this.form.get(he.path)}removeControl(he){ie(he.control||null,he,!1),function zi(Se,De){const he=Se.indexOf(De);he>-1&&Se.splice(he,1)}(this.directives,he)}addFormGroup(he){this._setUpFormContainer(he)}removeFormGroup(he){this._cleanUpFormContainer(he)}getFormGroup(he){return this.form.get(he.path)}addFormArray(he){this._setUpFormContainer(he)}removeFormArray(he){this._cleanUpFormContainer(he)}getFormArray(he){return this.form.get(he.path)}updateModel(he,Et){this.form.get(he.path).setValue(Et)}onSubmit(he){return this.submitted=!0,Xt(this.form,this.directives),this.ngSubmit.emit(he),"dialog"===he?.target?.method}onReset(){this.resetForm()}resetForm(he){this.form.reset(he),this.submitted=!1}_updateDomValue(){this.directives.forEach(he=>{const Et=he.control,qn=this.form.get(he.path);Et!==qn&&(ie(Et||null,he),(Se=>Se instanceof ss)(qn)&&(ut(qn,he),he.control=qn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(he){const Et=this.form.get(he.path);Ft(Et,he),Et.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(he){if(this.form){const Et=this.form.get(he.path);Et&&function it(Se,De){return rn(Se,De)}(Et,he)&&Et.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ge(this.form,this),this._oldForm&&rn(this._oldForm,this)}_checkFormPresent(){}}return Se.\u0275fac=function(he){return new(he||Se)(a.Y36(nt,10),a.Y36(We,10))},Se.\u0275dir=a.lG2({type:Se,selectors:[["","formGroup",""]],hostBindings:function(he,Et){1&he&&a.NdJ("submit",function(Vi){return Et.onSubmit(Vi)})("reset",function(){return Et.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([Rr]),a.qOj,a.TTD]}),Se})();const Oo={provide:pn,useExisting:(0,a.Gpc)(()=>mo)};let mo=(()=>{class Se extends pn{constructor(he,Et,qn,Vi,ds){super(),this._ngModelWarningConfig=ds,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=he,this._setValidators(Et),this._setAsyncValidators(qn),this.valueAccessor=ci(0,Vi)}set isDisabled(he){}ngOnChanges(he){this._added||this._setUpControl(),$e(he,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(he){this.viewModel=he,this.update.emit(he)}get path(){return Li(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return Se._ngModelWarningSentOnce=!1,Se.\u0275fac=function(he){return new(he||Se)(a.Y36(yn,13),a.Y36(nt,10),a.Y36(We,10),a.Y36(xe,10),a.Y36(Ca,8))},Se.\u0275dir=a.lG2({type:Se,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([Oo]),a.qOj,a.TTD]}),Se})();const gs={provide:xe,useExisting:(0,a.Gpc)(()=>Fa),multi:!0};function Ur(Se,De){return null==Se?`${De}`:(De&&"object"==typeof De&&(De="Object"),`${Se}: ${De}`.slice(0,50))}let Fa=(()=>{class Se extends Re{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(he){this._compareWith=he}writeValue(he){this.value=he;const qn=Ur(this._getOptionId(he),he);this.setProperty("value",qn)}registerOnChange(he){this.onChange=Et=>{this.value=this._getOptionValue(Et),he(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(he){for(const Et of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Et),he))return Et;return null}_getOptionValue(he){const Et=function tl(Se){return Se.split(":")[0]}(he);return this._optionMap.has(Et)?this._optionMap.get(Et):he}}return Se.\u0275fac=function(){let De;return function(Et){return(De||(De=a.n5z(Se)))(Et||Se)}}(),Se.\u0275dir=a.lG2({type:Se,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(he,Et){1&he&&a.NdJ("change",function(Vi){return Et.onChange(Vi.target.value)})("blur",function(){return Et.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([gs]),a.qOj]}),Se})(),Mo=(()=>{class Se{constructor(he,Et,qn){this._element=he,this._renderer=Et,this._select=qn,this._select&&(this.id=this._select._registerOption())}set ngValue(he){null!=this._select&&(this._select._optionMap.set(this.id,he),this._setElementValue(Ur(this.id,he)),this._select.writeValue(this._select.value))}set value(he){this._setElementValue(he),this._select&&this._select.writeValue(this._select.value)}_setElementValue(he){this._renderer.setProperty(this._element.nativeElement,"value",he)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return Se.\u0275fac=function(he){return new(he||Se)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(Fa,9))},Se.\u0275dir=a.lG2({type:Se,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),Se})();const Sa={provide:xe,useExisting:(0,a.Gpc)(()=>wr),multi:!0};function Yo(Se,De){return null==Se?`${De}`:("string"==typeof De&&(De=`'${De}'`),De&&"object"==typeof De&&(De="Object"),`${Se}: ${De}`.slice(0,50))}let wr=(()=>{class Se extends Re{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(he){this._compareWith=he}writeValue(he){let Et;if(this.value=he,Array.isArray(he)){const qn=he.map(Vi=>this._getOptionId(Vi));Et=(Vi,ds)=>{Vi._setSelected(qn.indexOf(ds.toString())>-1)}}else Et=(qn,Vi)=>{qn._setSelected(!1)};this._optionMap.forEach(Et)}registerOnChange(he){this.onChange=Et=>{const qn=[],Vi=Et.selectedOptions;if(void 0!==Vi){const ds=Vi;for(let Rs=0;Rs<ds.length;Rs++){const _s=this._getOptionValue(ds[Rs].value);qn.push(_s)}}else{const ds=Et.options;for(let Rs=0;Rs<ds.length;Rs++){const to=ds[Rs];if(to.selected){const _s=this._getOptionValue(to.value);qn.push(_s)}}}this.value=qn,he(qn)}}_registerOption(he){const Et=(this._idCounter++).toString();return this._optionMap.set(Et,he),Et}_getOptionId(he){for(const Et of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Et)._value,he))return Et;return null}_getOptionValue(he){const Et=function Zo(Se){return Se.split(":")[0]}(he);return this._optionMap.has(Et)?this._optionMap.get(Et)._value:he}}return Se.\u0275fac=function(){let De;return function(Et){return(De||(De=a.n5z(Se)))(Et||Se)}}(),Se.\u0275dir=a.lG2({type:Se,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(he,Et){1&he&&a.NdJ("change",function(Vi){return Et.onChange(Vi.target)})("blur",function(){return Et.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([Sa]),a.qOj]}),Se})(),Ea=(()=>{class Se{constructor(he,Et,qn){this._element=he,this._renderer=Et,this._select=qn,this._select&&(this.id=this._select._registerOption(this))}set ngValue(he){null!=this._select&&(this._value=he,this._setElementValue(Yo(this.id,he)),this._select.writeValue(this._select.value))}set value(he){this._select?(this._value=he,this._setElementValue(Yo(this.id,he)),this._select.writeValue(this._select.value)):this._setElementValue(he)}_setElementValue(he){this._renderer.setProperty(this._element.nativeElement,"value",he)}_setSelected(he){this._renderer.setProperty(this._element.nativeElement,"selected",he)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return Se.\u0275fac=function(he){return new(he||Se)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(wr,9))},Se.\u0275dir=a.lG2({type:Se,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),Se})(),To=(()=>{class Se{constructor(){this._validator=xn}ngOnChanges(he){if(this.inputName in he){const Et=this.normalizeInput(he[this.inputName].currentValue);this._enabled=this.enabled(Et),this._validator=this._enabled?this.createValidator(Et):xn,this._onChange&&this._onChange()}}validate(he){return this._validator(he)}registerOnValidatorChange(he){this._onChange=he}enabled(he){return null!=he}}return Se.\u0275fac=function(he){return new(he||Se)},Se.\u0275dir=a.lG2({type:Se,features:[a.TTD]}),Se})();const Us={provide:nt,useExisting:(0,a.Gpc)(()=>Lo),multi:!0},go={provide:nt,useExisting:(0,a.Gpc)(()=>Na),multi:!0};let Lo=(()=>{class Se extends To{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=a.D6c,this.createValidator=he=>Ye}enabled(he){return he}}return Se.\u0275fac=function(){let De;return function(Et){return(De||(De=a.n5z(Se)))(Et||Se)}}(),Se.\u0275dir=a.lG2({type:Se,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(he,Et){2&he&&a.uIk("required",Et._enabled?"":null)},inputs:{required:"required"},features:[a._Bn([Us]),a.qOj]}),Se})(),Na=(()=>{class Se extends Lo{constructor(){super(...arguments),this.createValidator=he=>Me}}return Se.\u0275fac=function(){let De;return function(Et){return(De||(De=a.n5z(Se)))(Et||Se)}}(),Se.\u0275dir=a.lG2({type:Se,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(he,Et){2&he&&a.uIk("required",Et._enabled?"":null)},features:[a._Bn([go]),a.qOj]}),Se})(),$a=(()=>{class Se{}return Se.\u0275fac=function(he){return new(he||Se)},Se.\u0275mod=a.oAB({type:Se}),Se.\u0275inj=a.cJS({imports:[Ls]}),Se})(),Ba=(()=>{class Se{}return Se.\u0275fac=function(he){return new(he||Se)},Se.\u0275mod=a.oAB({type:Se}),Se.\u0275inj=a.cJS({imports:[$a]}),Se})(),Jo=(()=>{class Se{static withConfig(he){return{ngModule:Se,providers:[{provide:Ca,useValue:he.warnOnNgModelWithFormControl}]}}}return Se.\u0275fac=function(he){return new(he||Se)},Se.\u0275mod=a.oAB({type:Se}),Se.\u0275inj=a.cJS({imports:[$a]}),Se})();class na extends Fe{constructor(De,he,Et){super(Ie(he),ye(Et,he)),this.controls=De,this._initObservables(),this._setUpdateStrategy(he),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(De){return this.controls[this._adjustIndex(De)]}push(De,he={}){this.controls.push(De),this._registerControl(De),this.updateValueAndValidity({emitEvent:he.emitEvent}),this._onCollectionChange()}insert(De,he,Et={}){this.controls.splice(De,0,he),this._registerControl(he),this.updateValueAndValidity({emitEvent:Et.emitEvent})}removeAt(De,he={}){let Et=this._adjustIndex(De);Et<0&&(Et=0),this.controls[Et]&&this.controls[Et]._registerOnCollectionChange(()=>{}),this.controls.splice(Et,1),this.updateValueAndValidity({emitEvent:he.emitEvent})}setControl(De,he,Et={}){let qn=this._adjustIndex(De);qn<0&&(qn=0),this.controls[qn]&&this.controls[qn]._registerOnCollectionChange(()=>{}),this.controls.splice(qn,1),he&&(this.controls.splice(qn,0,he),this._registerControl(he)),this.updateValueAndValidity({emitEvent:Et.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(De,he={}){ct(this,0,De),De.forEach((Et,qn)=>{Te(this,!1,qn),this.at(qn).setValue(Et,{onlySelf:!0,emitEvent:he.emitEvent})}),this.updateValueAndValidity(he)}patchValue(De,he={}){null!=De&&(De.forEach((Et,qn)=>{this.at(qn)&&this.at(qn).patchValue(Et,{onlySelf:!0,emitEvent:he.emitEvent})}),this.updateValueAndValidity(he))}reset(De=[],he={}){this._forEachChild((Et,qn)=>{Et.reset(De[qn],{onlySelf:!0,emitEvent:he.emitEvent})}),this._updatePristine(he),this._updateTouched(he),this.updateValueAndValidity(he)}getRawValue(){return this.controls.map(De=>De.getRawValue())}clear(De={}){this.controls.length<1||(this._forEachChild(he=>he._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:De.emitEvent}))}_adjustIndex(De){return De<0?De+this.length:De}_syncPendingControls(){let De=this.controls.reduce((he,Et)=>!!Et._syncPendingControls()||he,!1);return De&&this.updateValueAndValidity({onlySelf:!0}),De}_forEachChild(De){this.controls.forEach((he,Et)=>{De(he,Et)})}_updateValue(){this.value=this.controls.filter(De=>De.enabled||this.disabled).map(De=>De.value)}_anyControls(De){return this.controls.some(he=>he.enabled&&De(he))}_setUpControls(){this._forEachChild(De=>this._registerControl(De))}_allControlsDisabled(){for(const De of this.controls)if(De.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(De){De.setParent(this),De._registerOnCollectionChange(this._onCollectionChange)}_find(De){return this.at(De)??null}}function _i(Se){return!!Se&&(void 0!==Se.asyncValidators||void 0!==Se.validators||void 0!==Se.updateOn)}let Cr=(()=>{class Se{constructor(){this.useNonNullable=!1}get nonNullable(){const he=new Se;return he.useNonNullable=!0,he}group(he,Et=null){const qn=this._reduceControls(he);let Vi={};return _i(Et)?Vi=Et:null!==Et&&(Vi.validators=Et.validator,Vi.asyncValidators=Et.asyncValidator),new qe(qn,Vi)}record(he,Et=null){const qn=this._reduceControls(he);return new ti(qn,Et)}control(he,Et,qn){let Vi={};return this.useNonNullable?(_i(Et)?Vi=Et:(Vi.validators=Et,Vi.asyncValidators=qn),new ss(he,{...Vi,nonNullable:!0})):new ss(he,Et,qn)}array(he,Et,qn){const Vi=he.map(ds=>this._createControl(ds));return new na(Vi,Et,qn)}_reduceControls(he){const Et={};return Object.keys(he).forEach(qn=>{Et[qn]=this._createControl(he[qn])}),Et}_createControl(he){return he instanceof ss||he instanceof Fe?he:Array.isArray(he)?this.control(he[0],he.length>1?he[1]:null,he.length>2?he[2]:null):this.control(he)}}return Se.\u0275fac=function(he){return new(he||Se)},Se.\u0275prov=a.Yz7({token:Se,factory:Se.\u0275fac,providedIn:Jo}),Se})()},7957:(ai,qt,N)=>{"use strict";N.d(qt,{Bb:()=>Qn,XC:()=>Ht,ZL:()=>On});var a=N(2687),T=N(1281),O=N(3353),ue=N(4650),R=N(3238),Ee=N(727),Re=N(7579),xe=N(9770),Ce=N(6451),re=N(9646),ce=N(4968),be=N(6895),Ve=N(8184),Ne=N(6270),Be=N(445),Je=N(9521),Ke=N(4080),nt=N(4006),We=N(9549),ft=N(8675),pt=N(3900),tt=N(5698),je=N(9300),Ye=N(4004),Me=N(8505),me=N(1005);const St=["panel"];function vt(_n,Nn){if(1&_n&&(ue.TgZ(0,"div",0,1),ue.Hsn(2),ue.qZA()),2&_n){const yn=Nn.id,pn=ue.oxw();ue.Q6J("id",pn.id)("ngClass",pn._classList),ue.uIk("aria-label",pn.ariaLabel||null)("aria-labelledby",pn._getPanelAriaLabelledby(yn))}}const an=["*"];let xn=0;class In{constructor(Nn,yn){this.source=Nn,this.option=yn}}const cn=(0,R.Kr)(class{}),Gn=new ue.OlP("mat-autocomplete-default-options",{providedIn:"root",factory:function Tn(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1}}});let Wn=(()=>{class _n extends cn{constructor(yn,pn,Pn,Nt){super(),this._changeDetectorRef=yn,this._elementRef=pn,this._activeOptionChanges=Ee.w0.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new ue.vpe,this.opened=new ue.vpe,this.closed=new ue.vpe,this.optionActivated=new ue.vpe,this._classList={},this.id="mat-autocomplete-"+xn++,this.inertGroups=Nt?.SAFARI||!1,this._autoActiveFirstOption=!!Pn.autoActiveFirstOption,this._autoSelectActiveOption=!!Pn.autoSelectActiveOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(yn){this._autoActiveFirstOption=(0,T.Ig)(yn)}get autoSelectActiveOption(){return this._autoSelectActiveOption}set autoSelectActiveOption(yn){this._autoSelectActiveOption=(0,T.Ig)(yn)}set classList(yn){this._classList=yn&&yn.length?(0,T.du)(yn).reduce((pn,Pn)=>(pn[Pn]=!0,pn),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new a.s1(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(yn=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[yn]||null})}),this._setVisibility()}ngOnDestroy(){this._activeOptionChanges.unsubscribe()}_setScrollTop(yn){this.panel&&(this.panel.nativeElement.scrollTop=yn)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(yn){const pn=new In(this,yn);this.optionSelected.emit(pn)}_getPanelAriaLabelledby(yn){return this.ariaLabel?null:this.ariaLabelledby?(yn?yn+" ":"")+this.ariaLabelledby:yn}_setVisibilityClasses(yn){yn[this._visibleClass]=this.showPanel,yn[this._hiddenClass]=!this.showPanel}}return _n.\u0275fac=function(yn){return new(yn||_n)(ue.Y36(ue.sBO),ue.Y36(ue.SBq),ue.Y36(Gn),ue.Y36(O.t4))},_n.\u0275dir=ue.lG2({type:_n,viewQuery:function(yn,pn){if(1&yn&&(ue.Gf(ue.Rgc,7),ue.Gf(St,5)),2&yn){let Pn;ue.iGM(Pn=ue.CRH())&&(pn.template=Pn.first),ue.iGM(Pn=ue.CRH())&&(pn.panel=Pn.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",autoSelectActiveOption:"autoSelectActiveOption",panelWidth:"panelWidth",classList:["class","classList"]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[ue.qOj]}),_n})(),Ht=(()=>{class _n extends Wn{constructor(){super(...arguments),this._visibleClass="mat-autocomplete-visible",this._hiddenClass="mat-autocomplete-hidden"}}return _n.\u0275fac=function(){let Nn;return function(pn){return(Nn||(Nn=ue.n5z(_n)))(pn||_n)}}(),_n.\u0275cmp=ue.Xpm({type:_n,selectors:[["mat-autocomplete"]],contentQueries:function(yn,pn,Pn){if(1&yn&&(ue.Suo(Pn,R.K7,5),ue.Suo(Pn,R.ey,5)),2&yn){let Nt;ue.iGM(Nt=ue.CRH())&&(pn.optionGroups=Nt),ue.iGM(Nt=ue.CRH())&&(pn.options=Nt)}},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple"},exportAs:["matAutocomplete"],features:[ue._Bn([{provide:R.HF,useExisting:_n}]),ue.qOj],ngContentSelectors:an,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(yn,pn){1&yn&&(ue.F$t(),ue.YNc(0,vt,3,4,"ng-template"))},dependencies:[be.mk],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}mat-autocomplete{display:none}"],encapsulation:2,changeDetection:0}),_n})();const et=new ue.OlP("mat-autocomplete-scroll-strategy"),jt={provide:et,deps:[Ve.aV],useFactory:function Vt(_n){return()=>_n.scrollStrategies.reposition()}},Yn={provide:nt.JU,useExisting:(0,ue.Gpc)(()=>On),multi:!0};let gn=(()=>{class _n{constructor(yn,pn,Pn,Nt,tn,Rt,bn,lt,le,Ae,ot){this._element=yn,this._overlay=pn,this._viewContainerRef=Pn,this._zone=Nt,this._changeDetectorRef=tn,this._dir=bn,this._formField=lt,this._document=le,this._viewportRuler=Ae,this._defaults=ot,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=Ee.w0.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new Re.x,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=(0,xe.P)(()=>{const zt=this.autocomplete?this.autocomplete.options:null;return zt?zt.changes.pipe((0,ft.O)(zt),(0,pt.w)(()=>(0,Ce.T)(...zt.map(Lt=>Lt.onSelectionChange)))):this._zone.onStable.pipe((0,tt.q)(1),(0,pt.w)(()=>this.optionSelections))}),this._scrollStrategy=Rt}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(yn){this._autocompleteDisabled=(0,T.Ig)(yn)}ngAfterViewInit(){const yn=this._getWindow();typeof yn<"u"&&this._zone.runOutsideAngular(()=>yn.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(yn){yn.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const yn=this._getWindow();typeof yn<"u"&&yn.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,Ce.T)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe((0,je.h)(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe((0,je.h)(()=>this._overlayAttached)):(0,re.of)()).pipe((0,Ye.U)(yn=>yn instanceof R.rN?yn:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,Ce.T)((0,ce.R)(this._document,"click"),(0,ce.R)(this._document,"auxclick"),(0,ce.R)(this._document,"touchend")).pipe((0,je.h)(yn=>{const pn=(0,O.sA)(yn),Pn=this._formField?this._formField._elementRef.nativeElement:null,Nt=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&pn!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!Pn||!Pn.contains(pn))&&(!Nt||!Nt.contains(pn))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(pn)}))}writeValue(yn){Promise.resolve(null).then(()=>this._assignOptionValue(yn))}registerOnChange(yn){this._onChange=yn}registerOnTouched(yn){this._onTouched=yn}setDisabledState(yn){this._element.nativeElement.disabled=yn}_handleKeydown(yn){const pn=yn.keyCode,Pn=(0,Je.Vb)(yn);if(pn===Je.hY&&!Pn&&yn.preventDefault(),this.activeOption&&pn===Je.K5&&this.panelOpen&&!Pn)this.activeOption._selectViaInteraction(),this._resetActiveItem(),yn.preventDefault();else if(this.autocomplete){const Nt=this.autocomplete._keyManager.activeItem,tn=pn===Je.LH||pn===Je.JH;pn===Je.Mf||tn&&!Pn&&this.panelOpen?this.autocomplete._keyManager.onKeydown(yn):tn&&this._canOpen()&&this.openPanel(),(tn||this.autocomplete._keyManager.activeItem!==Nt)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._element.nativeElement.value),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(yn){let pn=yn.target,Pn=pn.value;"number"===pn.type&&(Pn=""==Pn?null:parseFloat(Pn)),this._previousValue!==Pn&&(this._previousValue=Pn,this._pendingAutoselectedOption=null,this._onChange(Pn),this._canOpen()&&this._document.activeElement===yn.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this.openPanel()}_floatLabel(yn=!1){this._formField&&"auto"===this._formField.floatLabel&&(yn?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const yn=this._zone.onStable.pipe((0,tt.q)(1)),pn=this.autocomplete.options.changes.pipe((0,Me.b)(()=>this._positionStrategy.reapplyLastPosition()),(0,me.g)(0));return(0,Ce.T)(yn,pn).pipe((0,pt.w)(()=>(this._zone.run(()=>{const Pn=this.panelOpen;this._resetActiveItem(),this.autocomplete._setVisibility(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),Pn!==this.panelOpen&&(this.panelOpen?this.autocomplete.opened.emit():this.autocomplete.closed.emit())}),this.panelClosingActions)),(0,tt.q)(1)).subscribe(Pn=>this._setValueAndClose(Pn))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_assignOptionValue(yn){const pn=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(yn):yn;this._updateNativeInputValue(pn??"")}_updateNativeInputValue(yn){this._formField?this._formField._control.value=yn:this._element.nativeElement.value=yn,this._previousValue=yn}_setValueAndClose(yn){const pn=yn?yn.source:this._pendingAutoselectedOption;pn&&(this._clearPreviousSelectedOption(pn),this._assignOptionValue(pn.value),this._onChange(pn.value),this.autocomplete._emitSelectEvent(pn),this._element.nativeElement.focus()),this.closePanel()}_clearPreviousSelectedOption(yn){this.autocomplete.options.forEach(pn=>{pn!==yn&&pn.selected&&pn.deselect()})}_attachOverlay(){let yn=this._overlayRef;yn?(this._positionStrategy.setOrigin(this._getConnectedElement()),yn.updateSize({width:this._getPanelWidth()})):(this._portal=new Ke.UE(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),yn=this._overlay.create(this._getOverlayConfig()),this._overlayRef=yn,this._handleOverlayEvents(yn),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&yn&&yn.updateSize({width:this._getPanelWidth()})})),yn&&!yn.hasAttached()&&(yn.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const pn=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&pn!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){return new Ve.X_({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const yn=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(yn),this._positionStrategy=yn,yn}_setStrategyPositions(yn){const pn=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Pn=this._aboveClass,Nt=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:Pn},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:Pn}];let tn;tn="above"===this.position?Nt:"below"===this.position?pn:[...pn,...Nt],yn.withPositions(tn)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const yn=this.autocomplete;yn.autoActiveFirstOption?yn._keyManager.setFirstItemActive():yn._keyManager.setActiveItem(-1)}_canOpen(){const yn=this._element.nativeElement;return!yn.readOnly&&!yn.disabled&&!this._autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(yn){const pn=this.autocomplete,Pn=(0,R.CB)(yn,pn.options,pn.optionGroups);if(0===yn&&1===Pn)pn._setScrollTop(0);else if(pn.panel){const Nt=pn.options.toArray()[yn];if(Nt){const tn=Nt._getHostElement(),Rt=(0,R.jH)(tn.offsetTop,tn.offsetHeight,pn._getScrollTop(),pn.panel.nativeElement.offsetHeight);pn._setScrollTop(Rt)}}}_handleOverlayEvents(yn){yn.keydownEvents().subscribe(pn=>{(pn.keyCode===Je.hY&&!(0,Je.Vb)(pn)||pn.keyCode===Je.LH&&(0,Je.Vb)(pn,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),pn.stopPropagation(),pn.preventDefault())})}}return _n.\u0275fac=function(yn){return new(yn||_n)(ue.Y36(ue.SBq),ue.Y36(Ve.aV),ue.Y36(ue.s_b),ue.Y36(ue.R0b),ue.Y36(ue.sBO),ue.Y36(et),ue.Y36(Be.Is,8),ue.Y36(We.G_,9),ue.Y36(be.K0,8),ue.Y36(Ne.rL),ue.Y36(Gn,8))},_n.\u0275dir=ue.lG2({type:_n,inputs:{autocomplete:["matAutocomplete","autocomplete"],position:["matAutocompletePosition","position"],connectedTo:["matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"]},features:[ue.TTD]}),_n})(),On=(()=>{class _n extends gn{constructor(){super(...arguments),this._aboveClass="mat-autocomplete-panel-above"}}return _n.\u0275fac=function(){let Nn;return function(pn){return(Nn||(Nn=ue.n5z(_n)))(pn||_n)}}(),_n.\u0275dir=ue.lG2({type:_n,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(yn,pn){1&yn&&ue.NdJ("focusin",function(){return pn._handleFocus()})("blur",function(){return pn._onTouched()})("input",function(Nt){return pn._handleInput(Nt)})("keydown",function(Nt){return pn._handleKeydown(Nt)})("click",function(){return pn._handleClick()}),2&yn&&ue.uIk("autocomplete",pn.autocompleteAttribute)("role",pn.autocompleteDisabled?null:"combobox")("aria-autocomplete",pn.autocompleteDisabled?null:"list")("aria-activedescendant",pn.panelOpen&&pn.activeOption?pn.activeOption.id:null)("aria-expanded",pn.autocompleteDisabled?null:pn.panelOpen.toString())("aria-owns",pn.autocompleteDisabled||!pn.panelOpen||null==pn.autocomplete?null:pn.autocomplete.id)("aria-haspopup",pn.autocompleteDisabled?null:"listbox")},exportAs:["matAutocompleteTrigger"],features:[ue._Bn([Yn]),ue.qOj]}),_n})(),Qn=(()=>{class _n{}return _n.\u0275fac=function(yn){return new(yn||_n)},_n.\u0275mod=ue.oAB({type:_n}),_n.\u0275inj=ue.cJS({providers:[jt],imports:[Ve.U8,R.Ng,R.BQ,be.ez,Ne.ZD,R.Ng,R.BQ]}),_n})()},4859:(ai,qt,N)=>{"use strict";N.d(qt,{lW:()=>re,ot:()=>be,zs:()=>ce});var a=N(4650),T=N(3238),O=N(2687);const ue=["mat-button",""],R=["*"],xe=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Ce=(0,T.pj)((0,T.Id)((0,T.Kr)(class{constructor(Ve){this._elementRef=Ve}})));let re=(()=>{class Ve extends Ce{constructor(Be,Je,Ke){super(Be),this._focusMonitor=Je,this._animationMode=Ke,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const nt of xe)this._hasHostAttributes(nt)&&this._getHostElement().classList.add(nt);Be.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(Be,Je){Be?this._focusMonitor.focusVia(this._getHostElement(),Be,Je):this._getHostElement().focus(Je)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...Be){return Be.some(Je=>this._getHostElement().hasAttribute(Je))}}return Ve.\u0275fac=function(Be){return new(Be||Ve)(a.Y36(a.SBq),a.Y36(O.tE),a.Y36(a.QbO,8))},Ve.\u0275cmp=a.Xpm({type:Ve,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(Be,Je){if(1&Be&&a.Gf(T.wG,5),2&Be){let Ke;a.iGM(Ke=a.CRH())&&(Je.ripple=Ke.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(Be,Je){2&Be&&(a.uIk("disabled",Je.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===Je._animationMode)("mat-button-disabled",Je.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:ue,ngContentSelectors:R,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(Be,Je){1&Be&&(a.F$t(),a.TgZ(0,"span",0),a.Hsn(1),a.qZA(),a._UZ(2,"span",1)(3,"span",2)),2&Be&&(a.xp6(2),a.ekj("mat-button-ripple-round",Je.isRoundButton||Je.isIconButton),a.Q6J("matRippleDisabled",Je._isRippleDisabled())("matRippleCentered",Je.isIconButton)("matRippleTrigger",Je._getHostElement()))},dependencies:[T.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}"],encapsulation:2,changeDetection:0}),Ve})(),ce=(()=>{class Ve extends re{constructor(Be,Je,Ke,nt){super(Je,Be,Ke),this._ngZone=nt,this._haltDisabledEvents=We=>{this.disabled&&(We.preventDefault(),We.stopImmediatePropagation())}}ngAfterViewInit(){super.ngAfterViewInit(),this._ngZone?this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}):this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return Ve.\u0275fac=function(Be){return new(Be||Ve)(a.Y36(O.tE),a.Y36(a.SBq),a.Y36(a.QbO,8),a.Y36(a.R0b,8))},Ve.\u0275cmp=a.Xpm({type:Ve,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(Be,Je){2&Be&&(a.uIk("tabindex",Je.disabled?-1:Je.tabIndex)("disabled",Je.disabled||null)("aria-disabled",Je.disabled.toString()),a.ekj("_mat-animation-noopable","NoopAnimations"===Je._animationMode)("mat-button-disabled",Je.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[a.qOj],attrs:ue,ngContentSelectors:R,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(Be,Je){1&Be&&(a.F$t(),a.TgZ(0,"span",0),a.Hsn(1),a.qZA(),a._UZ(2,"span",1)(3,"span",2)),2&Be&&(a.xp6(2),a.ekj("mat-button-ripple-round",Je.isRoundButton||Je.isIconButton),a.Q6J("matRippleDisabled",Je._isRippleDisabled())("matRippleCentered",Je.isIconButton)("matRippleTrigger",Je._getHostElement()))},dependencies:[T.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}"],encapsulation:2,changeDetection:0}),Ve})(),be=(()=>{class Ve{}return Ve.\u0275fac=function(Be){return new(Be||Ve)},Ve.\u0275mod=a.oAB({type:Ve}),Ve.\u0275inj=a.cJS({imports:[T.si,T.BQ,T.BQ]}),Ve})()},3546:(ai,qt,N)=>{"use strict";N.d(qt,{$j:()=>ce,G2:()=>Ne,QW:()=>je,a8:()=>ft,dk:()=>pt,dn:()=>Ce,hq:()=>be,n5:()=>re});var a=N(4650),T=N(3238);const O=["*",[["mat-card-footer"]]],ue=["*","mat-card-footer"],R=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Ee=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let Ce=(()=>{class Ye{}return Ye.\u0275fac=function(me){return new(me||Ye)},Ye.\u0275dir=a.lG2({type:Ye,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),Ye})(),re=(()=>{class Ye{}return Ye.\u0275fac=function(me){return new(me||Ye)},Ye.\u0275dir=a.lG2({type:Ye,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),Ye})(),ce=(()=>{class Ye{}return Ye.\u0275fac=function(me){return new(me||Ye)},Ye.\u0275dir=a.lG2({type:Ye,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),Ye})(),be=(()=>{class Ye{constructor(){this.align="start"}}return Ye.\u0275fac=function(me){return new(me||Ye)},Ye.\u0275dir=a.lG2({type:Ye,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(me,St){2&me&&a.ekj("mat-card-actions-align-end","end"===St.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),Ye})(),Ne=(()=>{class Ye{}return Ye.\u0275fac=function(me){return new(me||Ye)},Ye.\u0275dir=a.lG2({type:Ye,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),Ye})(),ft=(()=>{class Ye{constructor(me){this._animationMode=me}}return Ye.\u0275fac=function(me){return new(me||Ye)(a.Y36(a.QbO,8))},Ye.\u0275cmp=a.Xpm({type:Ye,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(me,St){2&me&&a.ekj("_mat-animation-noopable","NoopAnimations"===St._animationMode)},exportAs:["matCard"],ngContentSelectors:ue,decls:2,vars:0,template:function(me,St){1&me&&(a.F$t(O),a.Hsn(0),a.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),Ye})(),pt=(()=>{class Ye{}return Ye.\u0275fac=function(me){return new(me||Ye)},Ye.\u0275cmp=a.Xpm({type:Ye,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:Ee,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(me,St){1&me&&(a.F$t(R),a.Hsn(0),a.TgZ(1,"div",0),a.Hsn(2,1),a.qZA(),a.Hsn(3,2))},encapsulation:2,changeDetection:0}),Ye})(),je=(()=>{class Ye{}return Ye.\u0275fac=function(me){return new(me||Ye)},Ye.\u0275mod=a.oAB({type:Ye}),Ye.\u0275inj=a.cJS({imports:[T.BQ,T.BQ]}),Ye})()},6709:(ai,qt,N)=>{"use strict";N.d(qt,{oG:()=>nt,p9:()=>tt});var a=N(2687),T=N(1281),O=N(4650),ue=N(4006),R=N(3238),Ee=N(9643);const Re=["input"],xe=function(je){return{enterDuration:je}},Ce=["*"],re=new O.OlP("mat-checkbox-default-options",{providedIn:"root",factory:ce});function ce(){return{color:"accent",clickAction:"check-indeterminate"}}let be=0;const Ve=ce(),Ne={provide:ue.JU,useExisting:(0,O.Gpc)(()=>nt),multi:!0};class Be{}const Je=(0,R.sb)((0,R.pj)((0,R.Kr)((0,R.Id)(class{constructor(je){this._elementRef=je}}))));let Ke=(()=>{class je extends Je{constructor(Me,me,St,vt,an,xn,In){super(me),this._changeDetectorRef=St,this._ngZone=vt,this._animationMode=xn,this._options=In,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new O.vpe,this.indeterminateChange=new O.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||Ve,this.color=this.defaultColor=this._options.color||Ve.color,this.tabIndex=parseInt(an)||0,this.id=this._uniqueId=`${Me}${++be}`}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(Me){this._required=(0,T.Ig)(Me)}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(Me){const me=(0,T.Ig)(Me);me!=this.checked&&(this._checked=me,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(Me){const me=(0,T.Ig)(Me);me!==this.disabled&&(this._disabled=me,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(Me){const me=Me!=this._indeterminate;this._indeterminate=(0,T.Ig)(Me),me&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(Me){this.checked=!!Me}registerOnChange(Me){this._controlValueAccessorChangeFn=Me}registerOnTouched(Me){this._onTouched=Me}setDisabledState(Me){this.disabled=Me}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(Me){let me=this._currentCheckState,St=this._getAnimationTargetElement();if(me!==Me&&St&&(this._currentAnimationClass.length>0&&St.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(me,Me),this._currentCheckState=Me,this._currentAnimationClass.length>0)){St.classList.add(this._currentAnimationClass);const vt=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{St.classList.remove(vt)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const Me=this._options?.clickAction;this.disabled||"noop"===Me?!this.disabled&&"noop"===Me&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==Me&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(Me){Me.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(Me,me){if("NoopAnimations"===this._animationMode)return"";switch(Me){case 0:if(1===me)return this._animationClasses.uncheckedToChecked;if(3==me)return this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===me?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===me?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===me?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(Me){const me=this._inputElement;me&&(me.nativeElement.indeterminate=Me)}}return je.\u0275fac=function(Me){O.$Z()},je.\u0275dir=O.lG2({type:je,viewQuery:function(Me,me){if(1&Me&&(O.Gf(Re,5),O.Gf(R.wG,5)),2&Me){let St;O.iGM(St=O.CRH())&&(me._inputElement=St.first),O.iGM(St=O.CRH())&&(me.ripple=St.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[O.qOj]}),je})(),nt=(()=>{class je extends Ke{constructor(Me,me,St,vt,an,xn,In){super("mat-checkbox-",Me,me,vt,an,xn,In),this._focusMonitor=St,this._animationClasses={uncheckedToChecked:"mat-checkbox-anim-unchecked-checked",uncheckedToIndeterminate:"mat-checkbox-anim-unchecked-indeterminate",checkedToUnchecked:"mat-checkbox-anim-checked-unchecked",checkedToIndeterminate:"mat-checkbox-anim-checked-indeterminate",indeterminateToChecked:"mat-checkbox-anim-indeterminate-checked",indeterminateToUnchecked:"mat-checkbox-anim-indeterminate-unchecked"}}_createChangeEvent(Me){const me=new Be;return me.source=this,me.checked=Me,me}_getAnimationTargetElement(){return this._elementRef.nativeElement}ngAfterViewInit(){super.ngAfterViewInit(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(Me=>{Me||this._onBlur()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onInputClick(Me){Me.stopPropagation(),super._handleInputClick()}focus(Me,me){Me?this._focusMonitor.focusVia(this._inputElement,Me,me):this._inputElement.nativeElement.focus(me)}}return je.\u0275fac=function(Me){return new(Me||je)(O.Y36(O.SBq),O.Y36(O.sBO),O.Y36(a.tE),O.Y36(O.R0b),O.$8M("tabindex"),O.Y36(O.QbO,8),O.Y36(re,8))},je.\u0275cmp=O.Xpm({type:je,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-checkbox"],hostVars:14,hostBindings:function(Me,me){2&Me&&(O.Ikx("id",me.id),O.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),O.ekj("mat-checkbox-indeterminate",me.indeterminate)("mat-checkbox-checked",me.checked)("mat-checkbox-disabled",me.disabled)("mat-checkbox-label-before","before"==me.labelPosition)("_mat-animation-noopable","NoopAnimations"===me._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[O._Bn([Ne]),O.qOj],ngContentSelectors:Ce,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(Me,me){if(1&Me&&(O.F$t(),O.TgZ(0,"label",0,1)(2,"span",2)(3,"input",3,4),O.NdJ("change",function(vt){return me._onInteractionEvent(vt)})("click",function(vt){return me._onInputClick(vt)}),O.qZA(),O.TgZ(5,"span",5),O._UZ(6,"span",6),O.qZA(),O._UZ(7,"span",7),O.TgZ(8,"span",8),O.O4$(),O.TgZ(9,"svg",9),O._UZ(10,"path",10),O.qZA(),O.kcU(),O._UZ(11,"span",11),O.qZA()(),O.TgZ(12,"span",12,13),O.NdJ("cdkObserveContent",function(){return me._onLabelTextChange()}),O.TgZ(14,"span",14),O._uU(15,"\xa0"),O.qZA(),O.Hsn(16),O.qZA()()),2&Me){const St=O.MAs(1),vt=O.MAs(13);O.uIk("for",me.inputId),O.xp6(2),O.ekj("mat-checkbox-inner-container-no-side-margin",!vt.textContent||!vt.textContent.trim()),O.xp6(1),O.Q6J("id",me.inputId)("required",me.required)("checked",me.checked)("disabled",me.disabled)("tabIndex",me.tabIndex),O.uIk("value",me.value)("name",me.name)("aria-label",me.ariaLabel||null)("aria-labelledby",me.ariaLabelledby)("aria-checked",me._getAriaChecked())("aria-describedby",me.ariaDescribedby),O.xp6(2),O.Q6J("matRippleTrigger",St)("matRippleDisabled",me._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",O.VKq(19,xe,"NoopAnimations"===me._animationMode?0:150))}},dependencies:[R.wG,Ee.wD],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:rgba(0,0,0,0);transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:rgba(0,0,0,0)}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}"],encapsulation:2,changeDetection:0}),je})(),pt=(()=>{class je{}return je.\u0275fac=function(Me){return new(Me||je)},je.\u0275mod=O.oAB({type:je}),je.\u0275inj=O.cJS({}),je})(),tt=(()=>{class je{}return je.\u0275fac=function(Me){return new(Me||je)},je.\u0275mod=O.oAB({type:je}),je.\u0275inj=O.cJS({imports:[R.si,R.BQ,Ee.Q8,pt,R.BQ,pt]}),je})()},7331:(ai,qt,N)=>{"use strict";N.d(qt,{HS:()=>me,Hi:()=>Ht,qn:()=>cn});var a=N(9521),T=N(4650),O=N(3238),ue=N(1281),R=N(3353),Ee=N(6895),Re=N(7579),xe=N(6451),Ce=N(5698),re=N(2722),ce=N(8675),be=N(2687),Ve=N(445),Ne=N(5017),Be=N(4006),Je=N(9549);const Ke=["*"],We=new T.OlP("MatChipRemove"),ft=new T.OlP("MatChipAvatar"),pt=new T.OlP("MatChipTrailingIcon");class tt{constructor(Kt){this._elementRef=Kt}}const je=(0,O.sb)((0,O.pj)((0,O.Kr)(tt),"primary"),-1);let me=(()=>{class Bt extends je{constructor(et,Vt,jt,Yn,en,gn,On,Qn){super(et),this._ngZone=Vt,this._changeDetectorRef=en,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this.role="option",this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new Re.x,this._onBlur=new Re.x,this.selectionChange=new T.vpe,this.destroyed=new T.vpe,this.removed=new T.vpe,this._addHostClassName(),this._chipRippleTarget=gn.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new O.IR(this,Vt,this._chipRippleTarget,jt),this._chipRipple.setupTriggerEvents(et),this.rippleConfig=Yn||{},this._animationsDisabled="NoopAnimations"===On,this.tabIndex=null!=Qn&&parseInt(Qn)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(et){const Vt=(0,ue.Ig)(et);Vt!==this._selected&&(this._selected=Vt,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(et){this._value=et}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(et){this._selectable=(0,ue.Ig)(et)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(et){this._disabled=(0,ue.Ig)(et)}get removable(){return this._removable}set removable(et){this._removable=(0,ue.Ig)(et)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const et="mat-basic-chip",Vt=this._elementRef.nativeElement;Vt.hasAttribute(et)||Vt.tagName.toLowerCase()===et?Vt.classList.add(et):Vt.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(et=!1){return this._selected=!this.selected,this._dispatchSelectionChange(et),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(et){this.disabled&&et.preventDefault()}_handleKeydown(et){if(!this.disabled)switch(et.keyCode){case a.yY:case a.ZH:this.remove(),et.preventDefault();break;case a.L_:this.selectable&&this.toggleSelected(!0),et.preventDefault()}}_blur(){this._ngZone.onStable.pipe((0,Ce.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(et=!1){this.selectionChange.emit({source:this,isUserInput:et,selected:this._selected})}}return Bt.\u0275fac=function(et){return new(et||Bt)(T.Y36(T.SBq),T.Y36(T.R0b),T.Y36(R.t4),T.Y36(O.Y2,8),T.Y36(T.sBO),T.Y36(Ee.K0),T.Y36(T.QbO,8),T.$8M("tabindex"))},Bt.\u0275dir=T.lG2({type:Bt,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(et,Vt,jt){if(1&et&&(T.Suo(jt,ft,5),T.Suo(jt,pt,5),T.Suo(jt,We,5)),2&et){let Yn;T.iGM(Yn=T.CRH())&&(Vt.avatar=Yn.first),T.iGM(Yn=T.CRH())&&(Vt.trailingIcon=Yn.first),T.iGM(Yn=T.CRH())&&(Vt.removeIcon=Yn.first)}},hostAttrs:[1,"mat-chip","mat-focus-indicator"],hostVars:15,hostBindings:function(et,Vt){1&et&&T.NdJ("click",function(Yn){return Vt._handleClick(Yn)})("keydown",function(Yn){return Vt._handleKeydown(Yn)})("focus",function(){return Vt.focus()})("blur",function(){return Vt._blur()}),2&et&&(T.uIk("tabindex",Vt.disabled?null:Vt.tabIndex)("role",Vt.role)("disabled",Vt.disabled||null)("aria-disabled",Vt.disabled.toString())("aria-selected",Vt.ariaSelected),T.ekj("mat-chip-selected",Vt.selected)("mat-chip-with-avatar",Vt.avatar)("mat-chip-with-trailing-icon",Vt.trailingIcon||Vt.removeIcon)("mat-chip-disabled",Vt.disabled)("_mat-animation-noopable",Vt._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",role:"role",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[T.qOj]}),Bt})();const vt=new T.OlP("mat-chips-default-options"),an=(0,O.FD)(class{constructor(Bt,Kt,et,Vt){this._defaultErrorStateMatcher=Bt,this._parentForm=Kt,this._parentFormGroup=et,this.ngControl=Vt,this.stateChanges=new Re.x}});let xn=0;class In{constructor(Kt,et){this.source=Kt,this.value=et}}let cn=(()=>{class Bt extends an{constructor(et,Vt,jt,Yn,en,gn,On){super(gn,Yn,en,On),this._elementRef=et,this._changeDetectorRef=Vt,this._dir=jt,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new Re.x,this._uid="mat-chip-list-"+xn++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(Qn,_n)=>Qn===_n,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new T.vpe,this.valueChange=new T.vpe,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get role(){return this._explicitRole?this._explicitRole:this.empty?null:"listbox"}set role(et){this._explicitRole=et}get multiple(){return this._multiple}set multiple(et){this._multiple=(0,ue.Ig)(et),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(et){this._compareWith=et,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(et){this.writeValue(et),this._value=et}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Be.kI.required)??!1}set required(et){this._required=(0,ue.Ig)(et),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(et){this._placeholder=et,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(et){this._disabled=(0,ue.Ig)(et),this._syncChipsState()}get selectable(){return this._selectable}set selectable(et){this._selectable=(0,ue.Ig)(et),this.chips&&this.chips.forEach(Vt=>Vt.chipListSelectable=this._selectable)}set tabIndex(et){this._userTabIndex=et,this._tabIndex=et}get chipSelectionChanges(){return(0,xe.T)(...this.chips.map(et=>et.selectionChange))}get chipFocusChanges(){return(0,xe.T)(...this.chips.map(et=>et._onFocus))}get chipBlurChanges(){return(0,xe.T)(...this.chips.map(et=>et._onBlur))}get chipRemoveChanges(){return(0,xe.T)(...this.chips.map(et=>et.destroyed))}ngAfterContentInit(){this._keyManager=new be.Em(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe((0,re.R)(this._destroyed)).subscribe(et=>this._keyManager.withHorizontalOrientation(et)),this._keyManager.tabOut.pipe((0,re.R)(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe((0,ce.O)(null),(0,re.R)(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new Ne.Ov(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(et){this._chipInput=et,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",et.id)}setDescribedByIds(et){et.length?this._elementRef.nativeElement.setAttribute("aria-describedby",et.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}writeValue(et){this.chips&&this._setSelectionByValue(et,!1)}registerOnChange(et){this._onChange=et}registerOnTouched(et){this._onTouched=et}setDisabledState(et){this.disabled=et,this.stateChanges.next()}onContainerClick(et){this._originatesFromChip(et)||this.focus()}focus(et){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(et),this.stateChanges.next()))}_focusInput(et){this._chipInput&&this._chipInput.focus(et)}_keydown(et){const Vt=et.target;Vt&&Vt.classList.contains("mat-chip")&&(this._keyManager.onKeydown(et),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const et=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(et)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(et){return et>=0&&et<this.chips.length}_setSelectionByValue(et,Vt=!0){if(this._clearSelection(),this.chips.forEach(jt=>jt.deselect()),Array.isArray(et))et.forEach(jt=>this._selectValue(jt,Vt)),this._sortValues();else{const jt=this._selectValue(et,Vt);jt&&Vt&&this._keyManager.setActiveItem(jt)}}_selectValue(et,Vt=!0){const jt=this.chips.find(Yn=>null!=Yn.value&&this._compareWith(Yn.value,et));return jt&&(Vt?jt.selectViaInteraction():jt.select(),this._selectionModel.select(jt)),jt}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(et){this._selectionModel.clear(),this.chips.forEach(Vt=>{Vt!==et&&Vt.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(et=>{et.selected&&this._selectionModel.select(et)}),this.stateChanges.next())}_propagateChanges(et){let Vt=null;Vt=Array.isArray(this.selected)?this.selected.map(jt=>jt.value):this.selected?this.selected.value:et,this._value=Vt,this.change.emit(new In(this,Vt)),this.valueChange.emit(Vt),this._onChange(Vt),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(et=>{et.source.selected?this._selectionModel.select(et.source):this._selectionModel.deselect(et.source),this.multiple||this.chips.forEach(Vt=>{!this._selectionModel.isSelected(Vt)&&Vt.selected&&Vt.deselect()}),et.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(et=>{let Vt=this.chips.toArray().indexOf(et.chip);this._isValidIndex(Vt)&&this._keyManager.updateActiveItem(Vt),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(et=>{const Vt=et.chip,jt=this.chips.toArray().indexOf(et.chip);this._isValidIndex(jt)&&Vt._hasFocus&&(this._lastDestroyedChipIndex=jt)})}_originatesFromChip(et){let Vt=et.target;for(;Vt&&Vt!==this._elementRef.nativeElement;){if(Vt.classList.contains("mat-chip"))return!0;Vt=Vt.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(et=>et._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(et=>{et._chipListDisabled=this._disabled,et._chipListMultiple=this.multiple})}}return Bt.\u0275fac=function(et){return new(et||Bt)(T.Y36(T.SBq),T.Y36(T.sBO),T.Y36(Ve.Is,8),T.Y36(Be.F,8),T.Y36(Be.sg,8),T.Y36(O.rD),T.Y36(Be.a5,10))},Bt.\u0275cmp=T.Xpm({type:Bt,selectors:[["mat-chip-list"]],contentQueries:function(et,Vt,jt){if(1&et&&T.Suo(jt,me,5),2&et){let Yn;T.iGM(Yn=T.CRH())&&(Vt.chips=Yn)}},hostAttrs:[1,"mat-chip-list"],hostVars:14,hostBindings:function(et,Vt){1&et&&T.NdJ("focus",function(){return Vt.focus()})("blur",function(){return Vt._blur()})("keydown",function(Yn){return Vt._keydown(Yn)}),2&et&&(T.Ikx("id",Vt._uid),T.uIk("tabindex",Vt.disabled?null:Vt._tabIndex)("aria-required",Vt.role?Vt.required:null)("aria-disabled",Vt.disabled.toString())("aria-invalid",Vt.errorState)("aria-multiselectable",Vt.multiple)("role",Vt.role)("aria-orientation",Vt.ariaOrientation),T.ekj("mat-chip-list-disabled",Vt.disabled)("mat-chip-list-invalid",Vt.errorState)("mat-chip-list-required",Vt.required))},inputs:{role:"role",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],errorStateMatcher:"errorStateMatcher",multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",tabIndex:"tabIndex"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[T._Bn([{provide:Je.Eo,useExisting:Bt}]),T.qOj],ngContentSelectors:Ke,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(et,Vt){1&et&&(T.F$t(),T.TgZ(0,"div",0),T.Hsn(1),T.qZA())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}.mat-standard-chip._mat-animation-noopable{transition:none !important;animation:none !important}.mat-standard-chip .mat-chip-remove{border:none;-webkit-appearance:none;-moz-appearance:none;padding:0;background:none}.mat-standard-chip .mat-chip-remove.mat-icon,.mat-standard-chip .mat-chip-remove .mat-icon{width:18px;height:18px;font-size:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.cdk-high-contrast-active .mat-standard-chip.mat-chip-selected{outline-width:3px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden;transform:translateZ(0)}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}'],encapsulation:2,changeDetection:0}),Bt})(),Ht=(()=>{class Bt{}return Bt.\u0275fac=function(et){return new(et||Bt)},Bt.\u0275mod=T.oAB({type:Bt}),Bt.\u0275inj=T.cJS({providers:[O.rD,{provide:vt,useValue:{separatorKeyCodes:[a.K5]}}],imports:[O.BQ]}),Bt})()},3238:(ai,qt,N)=>{"use strict";N.d(qt,{_A:()=>Gn,rD:()=>Yn,sG:()=>Tn,K7:()=>mn,HF:()=>zt,Y2:()=>bn,BQ:()=>pt,uc:()=>Qn,XK:()=>Vt,ey:()=>li,Ng:()=>_r,rN:()=>mi,wG:()=>lt,si:()=>le,IR:()=>tn,CB:()=>Bi,jH:()=>Si,pj:()=>me,Kr:()=>St,Id:()=>Me,FD:()=>an,dB:()=>xn,sb:()=>vt});var a=N(4650),T=N(2687),O=N(445),R=N(6895),Ee=N(3353),Re=N(1281),xe=N(9751),Ce=N(7579),re=N(9521);function Ve(En,sn){if(1&En&&a._UZ(0,"mat-pseudo-checkbox",4),2&En){const It=a.oxw();a.Q6J("state",It.selected?"checked":"unchecked")("disabled",It.disabled)}}function Ne(En,sn){if(1&En&&(a.TgZ(0,"span",5),a._uU(1),a.qZA()),2&En){const It=a.oxw();a.xp6(1),a.hij("(",It.group.label,")")}}const Be=["*"],ft=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function We(){return!0}});let pt=(()=>{class En{constructor(It,xt,wt){this._sanityChecks=xt,this._document=wt,this._hasDoneGlobalChecks=!1,It._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(It){return!(0,Ee.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[It])}}return En.\u0275fac=function(It){return new(It||En)(a.LFG(T.qm),a.LFG(ft,8),a.LFG(R.K0))},En.\u0275mod=a.oAB({type:En}),En.\u0275inj=a.cJS({imports:[O.vT,O.vT]}),En})();function Me(En){return class extends En{constructor(...sn){super(...sn),this._disabled=!1}get disabled(){return this._disabled}set disabled(sn){this._disabled=(0,Re.Ig)(sn)}}}function me(En,sn){return class extends En{constructor(...It){super(...It),this.defaultColor=sn,this.color=sn}get color(){return this._color}set color(It){const xt=It||this.defaultColor;xt!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),xt&&this._elementRef.nativeElement.classList.add(`mat-${xt}`),this._color=xt)}}}function St(En){return class extends En{constructor(...sn){super(...sn),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(sn){this._disableRipple=(0,Re.Ig)(sn)}}}function vt(En,sn=0){return class extends En{constructor(...It){super(...It),this._tabIndex=sn,this.defaultTabIndex=sn}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(It){this._tabIndex=null!=It?(0,Re.su)(It):this.defaultTabIndex}}}function an(En){return class extends En{constructor(...sn){super(...sn),this.errorState=!1}updateErrorState(){const sn=this.errorState,Ie=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);Ie!==sn&&(this.errorState=Ie,this.stateChanges.next())}}}function xn(En){return class extends En{constructor(...sn){super(...sn),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new xe.y(It=>{this._isInitialized?this._notifySubscriber(It):this._pendingSubscribers.push(It)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(sn){sn.next(),sn.complete()}}}const In=new a.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function cn(){return(0,a.f3M)(a.soG)}});class Gn{constructor(){this._localeChanges=new Ce.x,this.localeChanges=this._localeChanges}getValidDateOrNull(sn){return this.isDateInstance(sn)&&this.isValid(sn)?sn:null}deserialize(sn){return null==sn||this.isDateInstance(sn)&&this.isValid(sn)?sn:this.invalid()}setLocale(sn){this.locale=sn,this._localeChanges.next()}compareDate(sn,It){return this.getYear(sn)-this.getYear(It)||this.getMonth(sn)-this.getMonth(It)||this.getDate(sn)-this.getDate(It)}sameDate(sn,It){if(sn&&It){let xt=this.isValid(sn),wt=this.isValid(It);return xt&&wt?!this.compareDate(sn,It):xt==wt}return sn==It}clampDate(sn,It,xt){return It&&this.compareDate(sn,It)<0?It:xt&&this.compareDate(sn,xt)>0?xt:sn}}const Tn=new a.OlP("mat-date-formats"),Wn=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Ht(En,sn){const It=Array(En);for(let xt=0;xt<En;xt++)It[xt]=sn(xt);return It}let Bt=(()=>{class En extends Gn{constructor(It,xt){super(),this.useUtcForDisplay=!1,super.setLocale(It)}getYear(It){return It.getFullYear()}getMonth(It){return It.getMonth()}getDate(It){return It.getDate()}getDayOfWeek(It){return It.getDay()}getMonthNames(It){const xt=new Intl.DateTimeFormat(this.locale,{month:It,timeZone:"utc"});return Ht(12,wt=>this._format(xt,new Date(2017,wt,1)))}getDateNames(){const It=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Ht(31,xt=>this._format(It,new Date(2017,0,xt+1)))}getDayOfWeekNames(It){const xt=new Intl.DateTimeFormat(this.locale,{weekday:It,timeZone:"utc"});return Ht(7,wt=>this._format(xt,new Date(2017,0,wt+1)))}getYearName(It){const xt=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(xt,It)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(It){return this.getDate(this._createDateWithOverflow(this.getYear(It),this.getMonth(It)+1,0))}clone(It){return new Date(It.getTime())}createDate(It,xt,wt){let Ie=this._createDateWithOverflow(It,xt,wt);return Ie.getMonth(),Ie}today(){return new Date}parse(It){return"number"==typeof It?new Date(It):It?new Date(Date.parse(It)):null}format(It,xt){if(!this.isValid(It))throw Error("NativeDateAdapter: Cannot format invalid date.");const wt=new Intl.DateTimeFormat(this.locale,{...xt,timeZone:"utc"});return this._format(wt,It)}addCalendarYears(It,xt){return this.addCalendarMonths(It,12*xt)}addCalendarMonths(It,xt){let wt=this._createDateWithOverflow(this.getYear(It),this.getMonth(It)+xt,this.getDate(It));return this.getMonth(wt)!=((this.getMonth(It)+xt)%12+12)%12&&(wt=this._createDateWithOverflow(this.getYear(wt),this.getMonth(wt),0)),wt}addCalendarDays(It,xt){return this._createDateWithOverflow(this.getYear(It),this.getMonth(It),this.getDate(It)+xt)}toIso8601(It){return[It.getUTCFullYear(),this._2digit(It.getUTCMonth()+1),this._2digit(It.getUTCDate())].join("-")}deserialize(It){if("string"==typeof It){if(!It)return null;if(Wn.test(It)){let xt=new Date(It);if(this.isValid(xt))return xt}}return super.deserialize(It)}isDateInstance(It){return It instanceof Date}isValid(It){return!isNaN(It.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(It,xt,wt){const Ie=new Date;return Ie.setFullYear(It,xt,wt),Ie.setHours(0,0,0,0),Ie}_2digit(It){return("00"+It).slice(-2)}_format(It,xt){const wt=new Date;return wt.setUTCFullYear(xt.getFullYear(),xt.getMonth(),xt.getDate()),wt.setUTCHours(xt.getHours(),xt.getMinutes(),xt.getSeconds(),xt.getMilliseconds()),It.format(wt)}}return En.\u0275fac=function(It){return new(It||En)(a.LFG(In,8),a.LFG(Ee.t4))},En.\u0275prov=a.Yz7({token:En,factory:En.\u0275fac}),En})();const Kt={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let et=(()=>{class En{}return En.\u0275fac=function(It){return new(It||En)},En.\u0275mod=a.oAB({type:En}),En.\u0275inj=a.cJS({providers:[{provide:Gn,useClass:Bt}]}),En})(),Vt=(()=>{class En{}return En.\u0275fac=function(It){return new(It||En)},En.\u0275mod=a.oAB({type:En}),En.\u0275inj=a.cJS({providers:[{provide:Tn,useValue:Kt}],imports:[et]}),En})(),Yn=(()=>{class En{isErrorState(It,xt){return!!(It&&It.invalid&&(It.touched||xt&&xt.submitted))}}return En.\u0275fac=function(It){return new(It||En)},En.\u0275prov=a.Yz7({token:En,factory:En.\u0275fac,providedIn:"root"}),En})(),Qn=(()=>{class En{}return En.\u0275fac=function(It){return new(It||En)},En.\u0275mod=a.oAB({type:En}),En.\u0275inj=a.cJS({imports:[pt,pt]}),En})();class _n{constructor(sn,It,xt,wt=!1){this._renderer=sn,this.element=It,this.config=xt,this._animationForciblyDisabledThroughCss=wt,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Nn={enterDuration:225,exitDuration:150},pn=(0,Ee.i$)({passive:!0}),Pn=["mousedown","touchstart"],Nt=["mouseup","mouseleave","touchend","touchcancel"];class tn{constructor(sn,It,xt,wt){this._target=sn,this._ngZone=It,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,wt.isBrowser&&(this._containerElement=(0,Re.fI)(xt))}fadeInRipple(sn,It,xt={}){const wt=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Ie={...Nn,...xt.animation};xt.centered&&(sn=wt.left+wt.width/2,It=wt.top+wt.height/2);const pe=xt.radius||function Rt(En,sn,It){const xt=Math.max(Math.abs(En-It.left),Math.abs(En-It.right)),wt=Math.max(Math.abs(sn-It.top),Math.abs(sn-It.bottom));return Math.sqrt(xt*xt+wt*wt)}(sn,It,wt),ye=sn-wt.left,st=It-wt.top,Ue=Ie.enterDuration,Te=document.createElement("div");Te.classList.add("mat-ripple-element"),Te.style.left=ye-pe+"px",Te.style.top=st-pe+"px",Te.style.height=2*pe+"px",Te.style.width=2*pe+"px",null!=xt.color&&(Te.style.backgroundColor=xt.color),Te.style.transitionDuration=`${Ue}ms`,this._containerElement.appendChild(Te);const ct=window.getComputedStyle(Te),qe=ct.transitionDuration,Zt="none"===ct.transitionProperty||"0s"===qe||"0s, 0s"===qe,wn=new _n(this,Te,xt,Zt);Te.style.transform="scale3d(1, 1, 1)",wn.state=0,xt.persistent||(this._mostRecentTransientRipple=wn);let ti=null;return!Zt&&(Ue||Ie.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ui=()=>this._finishRippleTransition(wn),Li=()=>this._destroyRipple(wn);Te.addEventListener("transitionend",Ui),Te.addEventListener("transitioncancel",Li),ti={onTransitionEnd:Ui,onTransitionCancel:Li}}),this._activeRipples.set(wn,ti),(Zt||!Ue)&&this._finishRippleTransition(wn),wn}fadeOutRipple(sn){if(2===sn.state||3===sn.state)return;const It=sn.element,xt={...Nn,...sn.config.animation};It.style.transitionDuration=`${xt.exitDuration}ms`,It.style.opacity="0",sn.state=2,(sn._animationForciblyDisabledThroughCss||!xt.exitDuration)&&this._finishRippleTransition(sn)}fadeOutAll(){this._getActiveRipples().forEach(sn=>sn.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(sn=>{sn.config.persistent||sn.fadeOut()})}setupTriggerEvents(sn){const It=(0,Re.fI)(sn);!It||It===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=It,this._registerEvents(Pn))}handleEvent(sn){"mousedown"===sn.type?this._onMousedown(sn):"touchstart"===sn.type?this._onTouchStart(sn):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Nt),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(sn){0===sn.state?this._startFadeOutTransition(sn):2===sn.state&&this._destroyRipple(sn)}_startFadeOutTransition(sn){const It=sn===this._mostRecentTransientRipple,{persistent:xt}=sn.config;sn.state=1,!xt&&(!It||!this._isPointerDown)&&sn.fadeOut()}_destroyRipple(sn){const It=this._activeRipples.get(sn)??null;this._activeRipples.delete(sn),this._activeRipples.size||(this._containerRect=null),sn===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),sn.state=3,null!==It&&(sn.element.removeEventListener("transitionend",It.onTransitionEnd),sn.element.removeEventListener("transitioncancel",It.onTransitionCancel)),sn.element.remove()}_onMousedown(sn){const It=(0,T.X6)(sn),xt=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!It&&!xt&&(this._isPointerDown=!0,this.fadeInRipple(sn.clientX,sn.clientY,this._target.rippleConfig))}_onTouchStart(sn){if(!this._target.rippleDisabled&&!(0,T.yG)(sn)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const It=sn.changedTouches;for(let xt=0;xt<It.length;xt++)this.fadeInRipple(It[xt].clientX,It[xt].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(sn=>{!sn.config.persistent&&(1===sn.state||sn.config.terminateOnPointerUp&&0===sn.state)&&sn.fadeOut()}))}_registerEvents(sn){this._ngZone.runOutsideAngular(()=>{sn.forEach(It=>{this._triggerElement.addEventListener(It,this,pn)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(Pn.forEach(sn=>{this._triggerElement.removeEventListener(sn,this,pn)}),this._pointerUpEventsRegistered&&Nt.forEach(sn=>{this._triggerElement.removeEventListener(sn,this,pn)}))}}const bn=new a.OlP("mat-ripple-global-options");let lt=(()=>{class En{constructor(It,xt,wt,Ie,pe){this._elementRef=It,this._animationMode=pe,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Ie||{},this._rippleRenderer=new tn(this,xt,It,wt)}get disabled(){return this._disabled}set disabled(It){It&&this.fadeOutAllNonPersistent(),this._disabled=It,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(It){this._trigger=It,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(It,xt=0,wt){return"number"==typeof It?this._rippleRenderer.fadeInRipple(It,xt,{...this.rippleConfig,...wt}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...It})}}return En.\u0275fac=function(It){return new(It||En)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Ee.t4),a.Y36(bn,8),a.Y36(a.QbO,8))},En.\u0275dir=a.lG2({type:En,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(It,xt){2&It&&a.ekj("mat-ripple-unbounded",xt.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),En})(),le=(()=>{class En{}return En.\u0275fac=function(It){return new(It||En)},En.\u0275mod=a.oAB({type:En}),En.\u0275inj=a.cJS({imports:[pt,pt]}),En})(),Ae=(()=>{class En{constructor(It){this._animationMode=It,this.state="unchecked",this.disabled=!1}}return En.\u0275fac=function(It){return new(It||En)(a.Y36(a.QbO,8))},En.\u0275cmp=a.Xpm({type:En,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(It,xt){2&It&&a.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===xt.state)("mat-pseudo-checkbox-checked","checked"===xt.state)("mat-pseudo-checkbox-disabled",xt.disabled)("_mat-animation-noopable","NoopAnimations"===xt._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(It,xt){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),En})(),ot=(()=>{class En{}return En.\u0275fac=function(It){return new(It||En)},En.\u0275mod=a.oAB({type:En}),En.\u0275inj=a.cJS({imports:[pt]}),En})();const zt=new a.OlP("MAT_OPTION_PARENT_COMPONENT"),mn=new a.OlP("MatOptgroup");let Ln=0;class mi{constructor(sn,It=!1){this.source=sn,this.isUserInput=It}}let Xi=(()=>{class En{constructor(It,xt,wt,Ie){this._element=It,this._changeDetectorRef=xt,this._parent=wt,this.group=Ie,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Ln++,this.onSelectionChange=new a.vpe,this._stateChanges=new Ce.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(It){this._disabled=(0,Re.Ig)(It)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(It,xt){const wt=this._getHostElement();"function"==typeof wt.focus&&wt.focus(xt)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(It){(It.keyCode===re.K5||It.keyCode===re.L_)&&!(0,re.Vb)(It)&&(this._selectViaInteraction(),It.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const It=this.viewValue;It!==this._mostRecentViewValue&&(this._mostRecentViewValue=It,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(It=!1){this.onSelectionChange.emit(new mi(this,It))}}return En.\u0275fac=function(It){a.$Z()},En.\u0275dir=a.lG2({type:En,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),En})(),li=(()=>{class En extends Xi{constructor(It,xt,wt,Ie){super(It,xt,wt,Ie)}}return En.\u0275fac=function(It){return new(It||En)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(zt,8),a.Y36(mn,8))},En.\u0275cmp=a.Xpm({type:En,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(It,xt){1&It&&a.NdJ("click",function(){return xt._selectViaInteraction()})("keydown",function(Ie){return xt._handleKeydown(Ie)}),2&It&&(a.Ikx("id",xt.id),a.uIk("tabindex",xt._getTabIndex())("aria-selected",xt._getAriaSelected())("aria-disabled",xt.disabled.toString()),a.ekj("mat-selected",xt.selected)("mat-option-multiple",xt.multiple)("mat-active",xt.active)("mat-option-disabled",xt.disabled))},exportAs:["matOption"],features:[a.qOj],ngContentSelectors:Be,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(It,xt){1&It&&(a.F$t(),a.YNc(0,Ve,1,2,"mat-pseudo-checkbox",0),a.TgZ(1,"span",1),a.Hsn(2),a.qZA(),a.YNc(3,Ne,2,1,"span",2),a._UZ(4,"div",3)),2&It&&(a.Q6J("ngIf",xt.multiple),a.xp6(3),a.Q6J("ngIf",xt.group&&xt.group._inert),a.xp6(1),a.Q6J("matRippleTrigger",xt._getHostElement())("matRippleDisabled",xt.disabled||xt.disableRipple))},dependencies:[lt,R.O5,Ae],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}"],encapsulation:2,changeDetection:0}),En})();function Bi(En,sn,It){if(It.length){let xt=sn.toArray(),wt=It.toArray(),Ie=0;for(let pe=0;pe<En+1;pe++)xt[pe].group&&xt[pe].group===wt[Ie]&&Ie++;return Ie}return 0}function Si(En,sn,It,xt){return En<It?En:En+sn>It+xt?Math.max(0,En-xt+sn):It}let _r=(()=>{class En{}return En.\u0275fac=function(It){return new(It||En)},En.\u0275mod=a.oAB({type:En}),En.\u0275inj=a.cJS({imports:[le,R.ez,pt,ot]}),En})()},9602:(ai,qt,N)=>{"use strict";N.d(qt,{FA:()=>Wt,Mq:()=>ct,hl:()=>Ui,nW:()=>ut});var a=N(2687),T=N(8184),O=N(4080),ue=N(6895),R=N(4650),Ee=N(4859),Re=N(6270),xe=N(3238),Ce=N(7579),re=N(727),ce=N(6451),be=N(9646),Ve=N(9521),Ne=N(445),Be=N(5698),Je=N(8675),Ke=N(9300),nt=N(1281),We=N(3353),ft=N(7340),pt=N(4006),tt=N(9549),je=N(4144);const Ye=["mat-calendar-body",""];function Me(at,Yt){if(1&at&&(R.TgZ(0,"tr",2)(1,"td",3),R._uU(2),R.qZA()()),2&at){const Y=R.oxw();R.xp6(1),R.Udp("padding-top",Y._cellPadding)("padding-bottom",Y._cellPadding),R.uIk("colspan",Y.numCols),R.xp6(1),R.hij(" ",Y.label," ")}}function me(at,Yt){if(1&at&&(R.TgZ(0,"td",3),R._uU(1),R.qZA()),2&at){const Y=R.oxw(2);R.Udp("padding-top",Y._cellPadding)("padding-bottom",Y._cellPadding),R.uIk("colspan",Y._firstRowOffset),R.xp6(1),R.hij(" ",Y._firstRowOffset>=Y.labelMinRequiredCells?Y.label:""," ")}}function St(at,Yt){if(1&at){const Y=R.EpF();R.TgZ(0,"td",7)(1,"button",8),R.NdJ("click",function(At){const ci=R.CHM(Y).$implicit,zi=R.oxw(2);return R.KtG(zi._cellClicked(ci,At))})("focus",function(At){const ci=R.CHM(Y).$implicit,zi=R.oxw(2);return R.KtG(zi._emitActiveDateChange(ci,At))}),R.TgZ(2,"div",9),R._uU(3),R.qZA(),R._UZ(4,"div",10),R.qZA()()}if(2&at){const Y=Yt.$implicit,$e=Yt.index,At=R.oxw().index,Xt=R.oxw();R.Udp("width",Xt._cellWidth)("padding-top",Xt._cellPadding)("padding-bottom",Xt._cellPadding),R.uIk("data-mat-row",At)("data-mat-col",$e),R.xp6(1),R.ekj("mat-calendar-body-disabled",!Y.enabled)("mat-calendar-body-active",Xt._isActiveCell(At,$e))("mat-calendar-body-range-start",Xt._isRangeStart(Y.compareValue))("mat-calendar-body-range-end",Xt._isRangeEnd(Y.compareValue))("mat-calendar-body-in-range",Xt._isInRange(Y.compareValue))("mat-calendar-body-comparison-bridge-start",Xt._isComparisonBridgeStart(Y.compareValue,At,$e))("mat-calendar-body-comparison-bridge-end",Xt._isComparisonBridgeEnd(Y.compareValue,At,$e))("mat-calendar-body-comparison-start",Xt._isComparisonStart(Y.compareValue))("mat-calendar-body-comparison-end",Xt._isComparisonEnd(Y.compareValue))("mat-calendar-body-in-comparison-range",Xt._isInComparisonRange(Y.compareValue))("mat-calendar-body-preview-start",Xt._isPreviewStart(Y.compareValue))("mat-calendar-body-preview-end",Xt._isPreviewEnd(Y.compareValue))("mat-calendar-body-in-preview",Xt._isInPreview(Y.compareValue)),R.Q6J("ngClass",Y.cssClasses)("tabindex",Xt._isActiveCell(At,$e)?0:-1),R.uIk("aria-label",Y.ariaLabel)("aria-disabled",!Y.enabled||null)("aria-pressed",Xt._isSelected(Y.compareValue))("aria-current",Xt.todayValue===Y.compareValue?"date":null),R.xp6(1),R.ekj("mat-calendar-body-selected",Xt._isSelected(Y.compareValue))("mat-calendar-body-comparison-identical",Xt._isComparisonIdentical(Y.compareValue))("mat-calendar-body-today",Xt.todayValue===Y.compareValue),R.xp6(1),R.hij(" ",Y.displayValue," ")}}function vt(at,Yt){if(1&at&&(R.TgZ(0,"tr",4),R.YNc(1,me,2,6,"td",5),R.YNc(2,St,5,47,"td",6),R.qZA()),2&at){const Y=Yt.$implicit,$e=Yt.index,At=R.oxw();R.xp6(1),R.Q6J("ngIf",0===$e&&At._firstRowOffset),R.xp6(1),R.Q6J("ngForOf",Y)}}function an(at,Yt){if(1&at&&(R.TgZ(0,"th",5)(1,"span",6),R._uU(2),R.qZA(),R.TgZ(3,"span",7),R._uU(4),R.qZA()()),2&at){const Y=Yt.$implicit;R.xp6(2),R.Oqu(Y.long),R.xp6(2),R.Oqu(Y.narrow)}}const xn=["*"];function In(at,Yt){}function cn(at,Yt){if(1&at){const Y=R.EpF();R.TgZ(0,"mat-month-view",5),R.NdJ("activeDateChange",function(At){R.CHM(Y);const Xt=R.oxw();return R.KtG(Xt.activeDate=At)})("_userSelection",function(At){R.CHM(Y);const Xt=R.oxw();return R.KtG(Xt._dateSelected(At))}),R.qZA()}if(2&at){const Y=R.oxw();R.Q6J("activeDate",Y.activeDate)("selected",Y.selected)("dateFilter",Y.dateFilter)("maxDate",Y.maxDate)("minDate",Y.minDate)("dateClass",Y.dateClass)("comparisonStart",Y.comparisonStart)("comparisonEnd",Y.comparisonEnd)}}function Gn(at,Yt){if(1&at){const Y=R.EpF();R.TgZ(0,"mat-year-view",6),R.NdJ("activeDateChange",function(At){R.CHM(Y);const Xt=R.oxw();return R.KtG(Xt.activeDate=At)})("monthSelected",function(At){R.CHM(Y);const Xt=R.oxw();return R.KtG(Xt._monthSelectedInYearView(At))})("selectedChange",function(At){R.CHM(Y);const Xt=R.oxw();return R.KtG(Xt._goToDateInView(At,"month"))}),R.qZA()}if(2&at){const Y=R.oxw();R.Q6J("activeDate",Y.activeDate)("selected",Y.selected)("dateFilter",Y.dateFilter)("maxDate",Y.maxDate)("minDate",Y.minDate)("dateClass",Y.dateClass)}}function Tn(at,Yt){if(1&at){const Y=R.EpF();R.TgZ(0,"mat-multi-year-view",7),R.NdJ("activeDateChange",function(At){R.CHM(Y);const Xt=R.oxw();return R.KtG(Xt.activeDate=At)})("yearSelected",function(At){R.CHM(Y);const Xt=R.oxw();return R.KtG(Xt._yearSelectedInMultiYearView(At))})("selectedChange",function(At){R.CHM(Y);const Xt=R.oxw();return R.KtG(Xt._goToDateInView(At,"year"))}),R.qZA()}if(2&at){const Y=R.oxw();R.Q6J("activeDate",Y.activeDate)("selected",Y.selected)("dateFilter",Y.dateFilter)("maxDate",Y.maxDate)("minDate",Y.minDate)("dateClass",Y.dateClass)}}function Wn(at,Yt){}const Ht=["button"];function Bt(at,Yt){1&at&&(R.O4$(),R.TgZ(0,"svg",3),R._UZ(1,"path",4),R.qZA())}const Kt=[[["","matDatepickerToggleIcon",""]]],et=["[matDatepickerToggleIcon]"];let gn=(()=>{class at{constructor(){this.changes=new Ce.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(Y,$e){return`${Y} \u2013 ${$e}`}}return at.\u0275fac=function(Y){return new(Y||at)},at.\u0275prov=R.Yz7({token:at,factory:at.\u0275fac,providedIn:"root"}),at})();class On{constructor(Yt,Y,$e,At,Xt={},ci=Yt,zi){this.value=Yt,this.displayValue=Y,this.ariaLabel=$e,this.enabled=At,this.cssClasses=Xt,this.compareValue=ci,this.rawValue=zi}}let Qn=(()=>{class at{constructor(Y,$e){this._elementRef=Y,this._ngZone=$e,this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new R.vpe,this.previewChange=new R.vpe,this.activeDateChange=new R.vpe,this._enterHandler=At=>{if(this._skipNextFocus&&"focus"===At.type)this._skipNextFocus=!1;else if(At.target&&this.isRange){const Xt=this._getCellFromElement(At.target);Xt&&this._ngZone.run(()=>this.previewChange.emit({value:Xt.enabled?Xt:null,event:At}))}},this._leaveHandler=At=>{null!==this.previewEnd&&this.isRange&&At.target&&this._getCellFromElement(At.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:At}))},$e.runOutsideAngular(()=>{const At=Y.nativeElement;At.addEventListener("mouseenter",this._enterHandler,!0),At.addEventListener("focus",this._enterHandler,!0),At.addEventListener("mouseleave",this._leaveHandler,!0),At.addEventListener("blur",this._leaveHandler,!0)})}ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}_cellClicked(Y,$e){Y.enabled&&this.selectedValueChange.emit({value:Y.value,event:$e})}_emitActiveDateChange(Y,$e){Y.enabled&&this.activeDateChange.emit({value:Y.value,event:$e})}_isSelected(Y){return this.startValue===Y||this.endValue===Y}ngOnChanges(Y){const $e=Y.numCols,{rows:At,numCols:Xt}=this;(Y.rows||$e)&&(this._firstRowOffset=At&&At.length&&At[0].length?Xt-At[0].length:0),(Y.cellAspectRatio||$e||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/Xt+"%"),($e||!this._cellWidth)&&(this._cellWidth=100/Xt+"%")}ngOnDestroy(){const Y=this._elementRef.nativeElement;Y.removeEventListener("mouseenter",this._enterHandler,!0),Y.removeEventListener("focus",this._enterHandler,!0),Y.removeEventListener("mouseleave",this._leaveHandler,!0),Y.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(Y,$e){let At=Y*this.numCols+$e;return Y&&(At-=this._firstRowOffset),At==this.activeCell}_focusActiveCell(Y=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Be.q)(1)).subscribe(()=>{setTimeout(()=>{const $e=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");$e&&(Y||(this._skipNextFocus=!0),$e.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(Y){return Nn(Y,this.startValue,this.endValue)}_isRangeEnd(Y){return yn(Y,this.startValue,this.endValue)}_isInRange(Y){return pn(Y,this.startValue,this.endValue,this.isRange)}_isComparisonStart(Y){return Nn(Y,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(Y,$e,At){if(!this._isComparisonStart(Y)||this._isRangeStart(Y)||!this._isInRange(Y))return!1;let Xt=this.rows[$e][At-1];if(!Xt){const ci=this.rows[$e-1];Xt=ci&&ci[ci.length-1]}return Xt&&!this._isRangeEnd(Xt.compareValue)}_isComparisonBridgeEnd(Y,$e,At){if(!this._isComparisonEnd(Y)||this._isRangeEnd(Y)||!this._isInRange(Y))return!1;let Xt=this.rows[$e][At+1];if(!Xt){const ci=this.rows[$e+1];Xt=ci&&ci[0]}return Xt&&!this._isRangeStart(Xt.compareValue)}_isComparisonEnd(Y){return yn(Y,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(Y){return pn(Y,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(Y){return this.comparisonStart===this.comparisonEnd&&Y===this.comparisonStart}_isPreviewStart(Y){return Nn(Y,this.previewStart,this.previewEnd)}_isPreviewEnd(Y){return yn(Y,this.previewStart,this.previewEnd)}_isInPreview(Y){return pn(Y,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(Y){let $e;if(_n(Y)?$e=Y:_n(Y.parentNode)&&($e=Y.parentNode),$e){const At=$e.getAttribute("data-mat-row"),Xt=$e.getAttribute("data-mat-col");if(At&&Xt)return this.rows[parseInt(At)][parseInt(Xt)]}return null}}return at.\u0275fac=function(Y){return new(Y||at)(R.Y36(R.SBq),R.Y36(R.R0b))},at.\u0275cmp=R.Xpm({type:at,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange"},exportAs:["matCalendarBody"],features:[R.TTD],attrs:Ye,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(Y,$e){1&Y&&(R.YNc(0,Me,3,6,"tr",0),R.YNc(1,vt,3,2,"tr",1)),2&Y&&(R.Q6J("ngIf",$e._firstRowOffset<$e.labelMinRequiredCells),R.xp6(1),R.Q6J("ngForOf",$e.rows))},dependencies:[ue.mk,ue.sg,ue.O5],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content,.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content{outline:dotted 2px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content.mat-calendar-body-selected,.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content.mat-calendar-body-selected{outline:solid 3px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),at})();function _n(at){return"TD"===at.nodeName}function Nn(at,Yt,Y){return null!==Y&&Yt!==Y&&at<Y&&at===Yt}function yn(at,Yt,Y){return null!==Yt&&Yt!==Y&&at>=Yt&&at===Y}function pn(at,Yt,Y,$e){return $e&&null!==Yt&&null!==Y&&Yt!==Y&&at>=Yt&&at<=Y}class Pn{constructor(Yt,Y){this.start=Yt,this.end=Y}}let Nt=(()=>{class at{constructor(Y,$e){this.selection=Y,this._adapter=$e,this._selectionChanged=new Ce.x,this.selectionChanged=this._selectionChanged,this.selection=Y}updateSelection(Y,$e){const At=this.selection;this.selection=Y,this._selectionChanged.next({selection:Y,source:$e,oldValue:At})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(Y){return this._adapter.isDateInstance(Y)&&this._adapter.isValid(Y)}}return at.\u0275fac=function(Y){R.$Z()},at.\u0275prov=R.Yz7({token:at,factory:at.\u0275fac}),at})(),tn=(()=>{class at extends Nt{constructor(Y){super(null,Y)}add(Y){super.updateSelection(Y,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const Y=new at(this._adapter);return Y.updateSelection(this.selection,this),Y}}return at.\u0275fac=function(Y){return new(Y||at)(R.LFG(xe._A))},at.\u0275prov=R.Yz7({token:at,factory:at.\u0275fac}),at})();const lt={provide:Nt,deps:[[new R.FiY,new R.tp0,Nt],xe._A],useFactory:function bn(at,Yt){return at||new tn(Yt)}},ot=new R.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let mn=(()=>{class at{constructor(Y,$e,At,Xt,ci){this._changeDetectorRef=Y,this._dateFormats=$e,this._dateAdapter=At,this._dir=Xt,this._rangeStrategy=ci,this._rerenderSubscription=re.w0.EMPTY,this.selectedChange=new R.vpe,this._userSelection=new R.vpe,this.activeDateChange=new R.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(Y){const $e=this._activeDate,At=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Y))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(At,this.minDate,this.maxDate),this._hasSameMonthAndYear($e,this._activeDate)||this._init()}get selected(){return this._selected}set selected(Y){this._selected=Y instanceof Pn?Y:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Y)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(Y){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Y))}get maxDate(){return this._maxDate}set maxDate(Y){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Y))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Je.O)(null)).subscribe(()=>this._init())}ngOnChanges(Y){const $e=Y.comparisonStart||Y.comparisonEnd;$e&&!$e.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(Y){const $e=Y.value,At=this._getDateFromDayOfMonth($e);let Xt,ci;this._selected instanceof Pn?(Xt=this._getDateInCurrentMonth(this._selected.start),ci=this._getDateInCurrentMonth(this._selected.end)):Xt=ci=this._getDateInCurrentMonth(this._selected),(Xt!==$e||ci!==$e)&&this.selectedChange.emit(At),this._userSelection.emit({value:At,event:Y.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_updateActiveDate(Y){const At=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(Y.value),this._dateAdapter.compareDate(At,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(Y){const $e=this._activeDate,At=this._isRtl();switch(Y.keyCode){case Ve.oh:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,At?1:-1);break;case Ve.SV:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,At?-1:1);break;case Ve.LH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case Ve.JH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case Ve.Sd:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case Ve.uR:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case Ve.Ku:this.activeDate=Y.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case Ve.VM:this.activeDate=Y.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case Ve.K5:case Ve.L_:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&Y.preventDefault());case Ve.hY:return void(null!=this._previewEnd&&!(0,Ve.Vb)(Y)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:Y}),Y.preventDefault(),Y.stopPropagation()));default:return}this._dateAdapter.compareDate($e,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),Y.preventDefault()}_handleCalendarBodyKeyup(Y){(Y.keyCode===Ve.L_||Y.keyCode===Ve.K5)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:Y}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let Y=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(Y)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(Y){this._matCalendarBody._focusActiveCell(Y)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:Y,value:$e}){if(this._rangeStrategy){const Xt=this._rangeStrategy.createPreview($e?$e.rawValue:null,this.selected,Y);this._previewStart=this._getCellCompareValue(Xt.start),this._previewEnd=this._getCellCompareValue(Xt.end),this._changeDetectorRef.detectChanges()}}_getDateFromDayOfMonth(Y){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),Y)}_initWeekdays(){const Y=this._dateAdapter.getFirstDayOfWeek(),$e=this._dateAdapter.getDayOfWeekNames("narrow");let Xt=this._dateAdapter.getDayOfWeekNames("long").map((ci,zi)=>({long:ci,narrow:$e[zi]}));this._weekdays=Xt.slice(Y).concat(Xt.slice(0,Y))}_createWeekCells(){const Y=this._dateAdapter.getNumDaysInMonth(this.activeDate),$e=this._dateAdapter.getDateNames();this._weeks=[[]];for(let At=0,Xt=this._firstWeekOffset;At<Y;At++,Xt++){7==Xt&&(this._weeks.push([]),Xt=0);const ci=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),At+1),zi=this._shouldEnableDate(ci),ji=this._dateAdapter.format(ci,this._dateFormats.display.dateA11yLabel),Hr=this.dateClass?this.dateClass(ci,"month"):void 0;this._weeks[this._weeks.length-1].push(new On(At+1,$e[At],ji,zi,Hr,this._getCellCompareValue(ci),ci))}}_shouldEnableDate(Y){return!!Y&&(!this.minDate||this._dateAdapter.compareDate(Y,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(Y,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(Y))}_getDateInCurrentMonth(Y){return Y&&this._hasSameMonthAndYear(Y,this.activeDate)?this._dateAdapter.getDate(Y):null}_hasSameMonthAndYear(Y,$e){return!(!Y||!$e||this._dateAdapter.getMonth(Y)!=this._dateAdapter.getMonth($e)||this._dateAdapter.getYear(Y)!=this._dateAdapter.getYear($e))}_getCellCompareValue(Y){if(Y){const $e=this._dateAdapter.getYear(Y),At=this._dateAdapter.getMonth(Y),Xt=this._dateAdapter.getDate(Y);return new Date($e,At,Xt).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(Y){Y instanceof Pn?(this._rangeStart=this._getCellCompareValue(Y.start),this._rangeEnd=this._getCellCompareValue(Y.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(Y),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(Y){return!this.dateFilter||this.dateFilter(Y)}}return at.\u0275fac=function(Y){return new(Y||at)(R.Y36(R.sBO),R.Y36(xe.sG,8),R.Y36(xe._A,8),R.Y36(Ne.Is,8),R.Y36(ot,8))},at.\u0275cmp=R.Xpm({type:at,selectors:[["mat-month-view"]],viewQuery:function(Y,$e){if(1&Y&&R.Gf(Qn,5),2&Y){let At;R.iGM(At=R.CRH())&&($e._matCalendarBody=At.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[R.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","activeDateChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(Y,$e){1&Y&&(R.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),R.YNc(3,an,5,2,"th",2),R.qZA(),R.TgZ(4,"tr"),R._UZ(5,"th",3),R.qZA()(),R.TgZ(6,"tbody",4),R.NdJ("selectedValueChange",function(Xt){return $e._dateSelected(Xt)})("activeDateChange",function(Xt){return $e._updateActiveDate(Xt)})("previewChange",function(Xt){return $e._previewChanged(Xt)})("keyup",function(Xt){return $e._handleCalendarBodyKeyup(Xt)})("keydown",function(Xt){return $e._handleCalendarBodyKeydown(Xt)}),R.qZA()()),2&Y&&(R.xp6(3),R.Q6J("ngForOf",$e._weekdays),R.xp6(3),R.Q6J("label",$e._monthLabel)("rows",$e._weeks)("todayValue",$e._todayDate)("startValue",$e._rangeStart)("endValue",$e._rangeEnd)("comparisonStart",$e._comparisonRangeStart)("comparisonEnd",$e._comparisonRangeEnd)("previewStart",$e._previewStart)("previewEnd",$e._previewEnd)("isRange",$e._isRange)("labelMinRequiredCells",3)("activeCell",$e._dateAdapter.getDate($e.activeDate)-1))},dependencies:[ue.sg,Qn],encapsulation:2,changeDetection:0}),at})(),mi=(()=>{class at{constructor(Y,$e,At){this._changeDetectorRef=Y,this._dateAdapter=$e,this._dir=At,this._rerenderSubscription=re.w0.EMPTY,this.selectedChange=new R.vpe,this.yearSelected=new R.vpe,this.activeDateChange=new R.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(Y){let $e=this._activeDate;const At=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Y))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(At,this.minDate,this.maxDate),Xi(this._dateAdapter,$e,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(Y){this._selected=Y instanceof Pn?Y:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Y)),this._setSelectedYear(Y)}get minDate(){return this._minDate}set minDate(Y){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Y))}get maxDate(){return this._maxDate}set maxDate(Y){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Y))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Je.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const $e=this._dateAdapter.getYear(this._activeDate)-li(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let At=0,Xt=[];At<24;At++)Xt.push($e+At),4==Xt.length&&(this._years.push(Xt.map(ci=>this._createCellForYear(ci))),Xt=[]);this._changeDetectorRef.markForCheck()}_yearSelected(Y){const $e=Y.value,At=this._dateAdapter.createDate($e,0,1),Xt=this._getDateFromYear($e);this.yearSelected.emit(At),this.selectedChange.emit(Xt)}_updateActiveDate(Y){const At=this._activeDate;this.activeDate=this._getDateFromYear(Y.value),this._dateAdapter.compareDate(At,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(Y){const $e=this._activeDate,At=this._isRtl();switch(Y.keyCode){case Ve.oh:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,At?1:-1);break;case Ve.SV:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,At?-1:1);break;case Ve.LH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case Ve.JH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case Ve.Sd:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-li(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case Ve.uR:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-li(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case Ve.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Y.altKey?-240:-24);break;case Ve.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Y.altKey?240:24);break;case Ve.K5:case Ve.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate($e,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),Y.preventDefault()}_handleCalendarBodyKeyup(Y){(Y.keyCode===Ve.L_||Y.keyCode===Ve.K5)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:Y}),this._selectionKeyPressed=!1)}_getActiveCell(){return li(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(Y){const $e=this._dateAdapter.getMonth(this.activeDate),At=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(Y,$e,1));return this._dateAdapter.createDate(Y,$e,Math.min(this._dateAdapter.getDate(this.activeDate),At))}_createCellForYear(Y){const $e=this._dateAdapter.createDate(Y,0,1),At=this._dateAdapter.getYearName($e),Xt=this.dateClass?this.dateClass($e,"multi-year"):void 0;return new On(Y,At,At,this._shouldEnableYear(Y),Xt)}_shouldEnableYear(Y){if(null==Y||this.maxDate&&Y>this._dateAdapter.getYear(this.maxDate)||this.minDate&&Y<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let At=this._dateAdapter.createDate(Y,0,1);this._dateAdapter.getYear(At)==Y;At=this._dateAdapter.addCalendarDays(At,1))if(this.dateFilter(At))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(Y){if(this._selectedYear=null,Y instanceof Pn){const $e=Y.start||Y.end;$e&&(this._selectedYear=this._dateAdapter.getYear($e))}else Y&&(this._selectedYear=this._dateAdapter.getYear(Y))}}return at.\u0275fac=function(Y){return new(Y||at)(R.Y36(R.sBO),R.Y36(xe._A,8),R.Y36(Ne.Is,8))},at.\u0275cmp=R.Xpm({type:at,selectors:[["mat-multi-year-view"]],viewQuery:function(Y,$e){if(1&Y&&R.Gf(Qn,5),2&Y){let At;R.iGM(At=R.CRH())&&($e._matCalendarBody=At.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(Y,$e){1&Y&&(R.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),R._UZ(3,"th",2),R.qZA()(),R.TgZ(4,"tbody",3),R.NdJ("selectedValueChange",function(Xt){return $e._yearSelected(Xt)})("activeDateChange",function(Xt){return $e._updateActiveDate(Xt)})("keyup",function(Xt){return $e._handleCalendarBodyKeyup(Xt)})("keydown",function(Xt){return $e._handleCalendarBodyKeydown(Xt)}),R.qZA()()),2&Y&&(R.xp6(4),R.Q6J("rows",$e._years)("todayValue",$e._todayYear)("startValue",$e._selectedYear)("endValue",$e._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",$e._getActiveCell()))},dependencies:[Qn],encapsulation:2,changeDetection:0}),at})();function Xi(at,Yt,Y,$e,At){const Xt=at.getYear(Yt),ci=at.getYear(Y),zi=Bi(at,$e,At);return Math.floor((Xt-zi)/24)===Math.floor((ci-zi)/24)}function li(at,Yt,Y,$e){return function Si(at,Yt){return(at%Yt+Yt)%Yt}(at.getYear(Yt)-Bi(at,Y,$e),24)}function Bi(at,Yt,Y){let $e=0;return Y?$e=at.getYear(Y)-24+1:Yt&&($e=at.getYear(Yt)),$e}let _r=(()=>{class at{constructor(Y,$e,At,Xt){this._changeDetectorRef=Y,this._dateFormats=$e,this._dateAdapter=At,this._dir=Xt,this._rerenderSubscription=re.w0.EMPTY,this.selectedChange=new R.vpe,this.monthSelected=new R.vpe,this.activeDateChange=new R.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(Y){let $e=this._activeDate;const At=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Y))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(At,this.minDate,this.maxDate),this._dateAdapter.getYear($e)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(Y){this._selected=Y instanceof Pn?Y:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Y)),this._setSelectedMonth(Y)}get minDate(){return this._minDate}set minDate(Y){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Y))}get maxDate(){return this._maxDate}set maxDate(Y){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Y))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Je.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(Y){const $e=Y.value,At=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),$e,1);this.monthSelected.emit(At);const Xt=this._getDateFromMonth($e);this.selectedChange.emit(Xt)}_updateActiveDate(Y){const At=this._activeDate;this.activeDate=this._getDateFromMonth(Y.value),this._dateAdapter.compareDate(At,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(Y){const $e=this._activeDate,At=this._isRtl();switch(Y.keyCode){case Ve.oh:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,At?1:-1);break;case Ve.SV:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,At?-1:1);break;case Ve.LH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case Ve.JH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case Ve.Sd:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case Ve.uR:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case Ve.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Y.altKey?-10:-1);break;case Ve.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Y.altKey?10:1);break;case Ve.K5:case Ve.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate($e,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),Y.preventDefault()}_handleCalendarBodyKeyup(Y){(Y.keyCode===Ve.L_||Y.keyCode===Ve.K5)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:Y}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let Y=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map($e=>$e.map(At=>this._createCellForMonth(At,Y[At]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(Y){return Y&&this._dateAdapter.getYear(Y)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(Y):null}_getDateFromMonth(Y){const $e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),Y,1),At=this._dateAdapter.getNumDaysInMonth($e);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),Y,Math.min(this._dateAdapter.getDate(this.activeDate),At))}_createCellForMonth(Y,$e){const At=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),Y,1),Xt=this._dateAdapter.format(At,this._dateFormats.display.monthYearA11yLabel),ci=this.dateClass?this.dateClass(At,"year"):void 0;return new On(Y,$e.toLocaleUpperCase(),Xt,this._shouldEnableMonth(Y),ci)}_shouldEnableMonth(Y){const $e=this._dateAdapter.getYear(this.activeDate);if(null==Y||this._isYearAndMonthAfterMaxDate($e,Y)||this._isYearAndMonthBeforeMinDate($e,Y))return!1;if(!this.dateFilter)return!0;for(let Xt=this._dateAdapter.createDate($e,Y,1);this._dateAdapter.getMonth(Xt)==Y;Xt=this._dateAdapter.addCalendarDays(Xt,1))if(this.dateFilter(Xt))return!0;return!1}_isYearAndMonthAfterMaxDate(Y,$e){if(this.maxDate){const At=this._dateAdapter.getYear(this.maxDate),Xt=this._dateAdapter.getMonth(this.maxDate);return Y>At||Y===At&&$e>Xt}return!1}_isYearAndMonthBeforeMinDate(Y,$e){if(this.minDate){const At=this._dateAdapter.getYear(this.minDate),Xt=this._dateAdapter.getMonth(this.minDate);return Y<At||Y===At&&$e<Xt}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(Y){this._selectedMonth=Y instanceof Pn?this._getMonthInCurrentYear(Y.start)||this._getMonthInCurrentYear(Y.end):this._getMonthInCurrentYear(Y)}}return at.\u0275fac=function(Y){return new(Y||at)(R.Y36(R.sBO),R.Y36(xe.sG,8),R.Y36(xe._A,8),R.Y36(Ne.Is,8))},at.\u0275cmp=R.Xpm({type:at,selectors:[["mat-year-view"]],viewQuery:function(Y,$e){if(1&Y&&R.Gf(Qn,5),2&Y){let At;R.iGM(At=R.CRH())&&($e._matCalendarBody=At.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(Y,$e){1&Y&&(R.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),R._UZ(3,"th",2),R.qZA()(),R.TgZ(4,"tbody",3),R.NdJ("selectedValueChange",function(Xt){return $e._monthSelected(Xt)})("activeDateChange",function(Xt){return $e._updateActiveDate(Xt)})("keyup",function(Xt){return $e._handleCalendarBodyKeyup(Xt)})("keydown",function(Xt){return $e._handleCalendarBodyKeydown(Xt)}),R.qZA()()),2&Y&&(R.xp6(4),R.Q6J("label",$e._yearLabel)("rows",$e._months)("todayValue",$e._todayMonth)("startValue",$e._selectedMonth)("endValue",$e._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",$e._dateAdapter.getMonth($e.activeDate)))},dependencies:[Qn],encapsulation:2,changeDetection:0}),at})(),En=0,sn=(()=>{class at{constructor(Y,$e,At,Xt,ci){this._intl=Y,this.calendar=$e,this._dateAdapter=At,this._dateFormats=Xt,this._buttonDescriptionId="mat-calendar-button-"+En++,this.calendar.stateChanges.subscribe(()=>ci.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const $e=this._dateAdapter.getYear(this.calendar.activeDate)-li(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),At=$e+24-1,Xt=this._dateAdapter.getYearName(this._dateAdapter.createDate($e,0,1)),ci=this._dateAdapter.getYearName(this._dateAdapter.createDate(At,0,1));return this._intl.formatYearRange(Xt,ci)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(Y,$e){return"month"==this.calendar.currentView?this._dateAdapter.getYear(Y)==this._dateAdapter.getYear($e)&&this._dateAdapter.getMonth(Y)==this._dateAdapter.getMonth($e):"year"==this.calendar.currentView?this._dateAdapter.getYear(Y)==this._dateAdapter.getYear($e):Xi(this._dateAdapter,Y,$e,this.calendar.minDate,this.calendar.maxDate)}}return at.\u0275fac=function(Y){return new(Y||at)(R.Y36(gn),R.Y36((0,R.Gpc)(()=>It)),R.Y36(xe._A,8),R.Y36(xe.sG,8),R.Y36(R.sBO))},at.\u0275cmp=R.Xpm({type:at,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:xn,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(Y,$e){1&Y&&(R.F$t(),R.TgZ(0,"div",0)(1,"div",1)(2,"button",2),R.NdJ("click",function(){return $e.currentPeriodClicked()}),R.TgZ(3,"span"),R._uU(4),R.qZA(),R.O4$(),R.TgZ(5,"svg",3),R._UZ(6,"polygon",4),R.qZA()(),R.kcU(),R._UZ(7,"div",5),R.Hsn(8),R.TgZ(9,"button",6),R.NdJ("click",function(){return $e.previousClicked()}),R.qZA(),R.TgZ(10,"button",7),R.NdJ("click",function(){return $e.nextClicked()}),R.qZA()()()),2&Y&&(R.xp6(2),R.uIk("aria-label",$e.periodButtonLabel)("aria-describedby",$e._buttonDescriptionId),R.xp6(1),R.uIk("id",$e._buttonDescriptionId),R.xp6(1),R.Oqu($e.periodButtonText),R.xp6(1),R.ekj("mat-calendar-invert","month"!==$e.calendar.currentView),R.xp6(4),R.Q6J("disabled",!$e.previousEnabled()),R.uIk("aria-label",$e.prevButtonLabel),R.xp6(1),R.Q6J("disabled",!$e.nextEnabled()),R.uIk("aria-label",$e.nextButtonLabel))},dependencies:[Ee.lW],encapsulation:2,changeDetection:0}),at})(),It=(()=>{class at{constructor(Y,$e,At,Xt){this._dateAdapter=$e,this._dateFormats=At,this._changeDetectorRef=Xt,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new R.vpe,this.yearSelected=new R.vpe,this.monthSelected=new R.vpe,this.viewChanged=new R.vpe(!0),this._userSelection=new R.vpe,this.stateChanges=new Ce.x,this._intlChanges=Y.changes.subscribe(()=>{Xt.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(Y){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Y))}get selected(){return this._selected}set selected(Y){this._selected=Y instanceof Pn?Y:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Y))}get minDate(){return this._minDate}set minDate(Y){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Y))}get maxDate(){return this._maxDate}set maxDate(Y){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Y))}get activeDate(){return this._clampedActiveDate}set activeDate(Y){this._clampedActiveDate=this._dateAdapter.clampDate(Y,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(Y){const $e=this._currentView!==Y?Y:null;this._currentView=Y,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),$e&&this.viewChanged.emit($e)}ngAfterContentInit(){this._calendarHeaderPortal=new O.C5(this.headerComponent||sn),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(Y){const $e=Y.minDate&&!this._dateAdapter.sameDate(Y.minDate.previousValue,Y.minDate.currentValue)?Y.minDate:void 0,At=Y.maxDate&&!this._dateAdapter.sameDate(Y.maxDate.previousValue,Y.maxDate.currentValue)?Y.maxDate:void 0,Xt=$e||At||Y.dateFilter;if(Xt&&!Xt.firstChange){const ci=this._getCurrentViewComponent();ci&&(this._changeDetectorRef.detectChanges(),ci._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(Y){const $e=Y.value;(this.selected instanceof Pn||$e&&!this._dateAdapter.sameDate($e,this.selected))&&this.selectedChange.emit($e),this._userSelection.emit(Y)}_yearSelectedInMultiYearView(Y){this.yearSelected.emit(Y)}_monthSelectedInYearView(Y){this.monthSelected.emit(Y)}_goToDateInView(Y,$e){this.activeDate=Y,this.currentView=$e}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return at.\u0275fac=function(Y){return new(Y||at)(R.Y36(gn),R.Y36(xe._A,8),R.Y36(xe.sG,8),R.Y36(R.sBO))},at.\u0275cmp=R.Xpm({type:at,selectors:[["mat-calendar"]],viewQuery:function(Y,$e){if(1&Y&&(R.Gf(mn,5),R.Gf(_r,5),R.Gf(mi,5)),2&Y){let At;R.iGM(At=R.CRH())&&($e.monthView=At.first),R.iGM(At=R.CRH())&&($e.yearView=At.first),R.iGM(At=R.CRH())&&($e.multiYearView=At.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[R._Bn([lt]),R.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(Y,$e){1&Y&&(R.YNc(0,In,0,0,"ng-template",0),R.TgZ(1,"div",1),R.YNc(2,cn,1,8,"mat-month-view",2),R.YNc(3,Gn,1,6,"mat-year-view",3),R.YNc(4,Tn,1,6,"mat-multi-year-view",4),R.qZA()),2&Y&&(R.Q6J("cdkPortalOutlet",$e._calendarHeaderPortal),R.xp6(1),R.Q6J("ngSwitch",$e.currentView),R.xp6(1),R.Q6J("ngSwitchCase","month"),R.xp6(1),R.Q6J("ngSwitchCase","year"),R.xp6(1),R.Q6J("ngSwitchCase","multi-year"))},dependencies:[ue.RF,ue.n9,a.kH,O.Pl,mn,_r,mi],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}'],encapsulation:2,changeDetection:0}),at})();const xt={transformPanel:(0,ft.X$)("transformPanel",[(0,ft.eR)("void => enter-dropdown",(0,ft.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,ft.F4)([(0,ft.oB)({opacity:0,transform:"scale(1, 0.8)"}),(0,ft.oB)({opacity:1,transform:"scale(1, 1)"})]))),(0,ft.eR)("void => enter-dialog",(0,ft.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,ft.F4)([(0,ft.oB)({opacity:0,transform:"scale(0.7)"}),(0,ft.oB)({transform:"none",opacity:1})]))),(0,ft.eR)("* => void",(0,ft.jt)("100ms linear",(0,ft.oB)({opacity:0})))]),fadeInCalendar:(0,ft.X$)("fadeInCalendar",[(0,ft.SB)("void",(0,ft.oB)({opacity:0})),(0,ft.SB)("enter",(0,ft.oB)({opacity:1})),(0,ft.eR)("void => *",(0,ft.jt)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let wt=0;const Ie=new R.OlP("mat-datepicker-scroll-strategy"),ye={provide:Ie,deps:[T.aV],useFactory:function pe(at){return()=>at.scrollStrategies.reposition()}},st=(0,xe.pj)(class{constructor(at){this._elementRef=at}});let Ue=(()=>{class at extends st{constructor(Y,$e,At,Xt,ci,zi){super(Y),this._changeDetectorRef=$e,this._globalModel=At,this._dateAdapter=Xt,this._rangeSelectionStrategy=ci,this._subscriptions=new re.w0,this._animationDone=new Ce.x,this._actionsPortal=null,this._closeButtonText=zi.closeCalendarLabel}ngOnInit(){this._model=this._actionsPortal?this._globalModel.clone():this._globalModel,this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(Y){const $e=this._model.selection,At=Y.value,Xt=$e instanceof Pn;if(Xt&&this._rangeSelectionStrategy){const ci=this._rangeSelectionStrategy.selectionFinished(At,$e,Y.event);this._model.updateSelection(ci,this)}else At&&(Xt||!this._dateAdapter.sameDate(At,$e))&&this._model.add(At);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}}return at.\u0275fac=function(Y){return new(Y||at)(R.Y36(R.SBq),R.Y36(R.sBO),R.Y36(Nt),R.Y36(xe._A),R.Y36(ot,8),R.Y36(gn))},at.\u0275cmp=R.Xpm({type:at,selectors:[["mat-datepicker-content"]],viewQuery:function(Y,$e){if(1&Y&&R.Gf(It,5),2&Y){let At;R.iGM(At=R.CRH())&&($e._calendar=At.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(Y,$e){1&Y&&R.WFA("@transformPanel.done",function(){return $e._animationDone.next()}),2&Y&&(R.d8E("@transformPanel",$e._animationState),R.ekj("mat-datepicker-content-touch",$e.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[R.qOj],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(Y,$e){if(1&Y&&(R.TgZ(0,"div",0)(1,"mat-calendar",1),R.NdJ("yearSelected",function(Xt){return $e.datepicker._selectYear(Xt)})("monthSelected",function(Xt){return $e.datepicker._selectMonth(Xt)})("viewChanged",function(Xt){return $e.datepicker._viewChanged(Xt)})("_userSelection",function(Xt){return $e._handleUserSelection(Xt)}),R.qZA(),R.YNc(2,Wn,0,0,"ng-template",2),R.TgZ(3,"button",3),R.NdJ("focus",function(){return $e._closeButtonFocused=!0})("blur",function(){return $e._closeButtonFocused=!1})("click",function(){return $e.datepicker.close()}),R._uU(4),R.qZA()()),2&Y){let At;R.ekj("mat-datepicker-content-container-with-custom-header",$e.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",$e._actionsPortal),R.uIk("aria-modal",!0)("aria-labelledby",null!==(At=$e._dialogLabelId)&&void 0!==At?At:void 0),R.xp6(1),R.Q6J("id",$e.datepicker.id)("ngClass",$e.datepicker.panelClass)("startAt",$e.datepicker.startAt)("startView",$e.datepicker.startView)("minDate",$e.datepicker._getMinDate())("maxDate",$e.datepicker._getMaxDate())("dateFilter",$e.datepicker._getDateFilter())("headerComponent",$e.datepicker.calendarHeaderComponent)("selected",$e._getSelected())("dateClass",$e.datepicker.dateClass)("comparisonStart",$e.comparisonStart)("comparisonEnd",$e.comparisonEnd)("@fadeInCalendar","enter"),R.xp6(1),R.Q6J("cdkPortalOutlet",$e._actionsPortal),R.xp6(1),R.ekj("cdk-visually-hidden",!$e._closeButtonFocused),R.Q6J("color",$e.color||"primary"),R.xp6(1),R.Oqu($e._closeButtonText)}},dependencies:[ue.mk,Ee.lW,a.mK,O.Pl,It],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[xt.transformPanel,xt.fadeInCalendar]},changeDetection:0}),at})(),Te=(()=>{class at{constructor(Y,$e,At,Xt,ci,zi,ji){this._overlay=Y,this._ngZone=$e,this._viewContainerRef=At,this._dateAdapter=ci,this._dir=zi,this._model=ji,this._inputStateChanges=re.w0.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new R.vpe,this.monthSelected=new R.vpe,this.viewChanged=new R.vpe(!0),this.openedStream=new R.vpe,this.closedStream=new R.vpe,this._opened=!1,this.id="mat-datepicker-"+wt++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new Ce.x,this._scrollStrategy=Xt}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(Y){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Y))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(Y){this._color=Y}get touchUi(){return this._touchUi}set touchUi(Y){this._touchUi=(0,nt.Ig)(Y)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(Y){const $e=(0,nt.Ig)(Y);$e!==this._disabled&&(this._disabled=$e,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(Y){this._restoreFocus=(0,nt.Ig)(Y)}get panelClass(){return this._panelClass}set panelClass(Y){this._panelClass=(0,nt.du)(Y)}get opened(){return this._opened}set opened(Y){(0,nt.Ig)(Y)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(Y){const $e=Y.xPosition||Y.yPosition;if($e&&!$e.firstChange&&this._overlayRef){const At=this._overlayRef.getConfig().positionStrategy;At instanceof T._G&&(this._setConnectedPositions(At),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(Y){this._model.add(Y)}_selectYear(Y){this.yearSelected.emit(Y)}_selectMonth(Y){this.monthSelected.emit(Y)}_viewChanged(Y){this.viewChanged.emit(Y)}registerInput(Y){return this._inputStateChanges.unsubscribe(),this.datepickerInput=Y,this._inputStateChanges=Y.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(Y){this._actionsPortal=Y}removeActions(Y){Y===this._actionsPortal&&(this._actionsPortal=null)}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=(0,We.ht)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const $e=this._componentRef.instance;$e._startExitAnimation(),$e._animationDone.pipe((0,Be.q)(1)).subscribe(()=>this._destroyOverlay())}const Y=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(Y)):Y()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(Y){Y.datepicker=this,Y.color=this.color,Y._actionsPortal=this._actionsPortal,Y._dialogLabelId=this.datepickerInput.getOverlayLabelId()}_openOverlay(){this._destroyOverlay();const Y=this.touchUi,$e=new O.C5(Ue,this._viewContainerRef),At=this._overlayRef=this._overlay.create(new T.X_({positionStrategy:Y?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[Y?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:Y?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(Y?"dialog":"popup")}));this._getCloseStream(At).subscribe(Xt=>{Xt&&Xt.preventDefault(),this.close()}),At.keydownEvents().subscribe(Xt=>{const ci=Xt.keyCode;(ci===Ve.LH||ci===Ve.JH||ci===Ve.oh||ci===Ve.SV||ci===Ve.Ku||ci===Ve.VM)&&Xt.preventDefault()}),this._componentRef=At.attach($e),this._forwardContentValues(this._componentRef.instance),Y||this._ngZone.onStable.pipe((0,Be.q)(1)).subscribe(()=>At.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const Y=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(Y)}_setConnectedPositions(Y){const $e="end"===this.xPosition?"end":"start",At="start"===$e?"end":"start",Xt="above"===this.yPosition?"bottom":"top",ci="top"===Xt?"bottom":"top";return Y.withPositions([{originX:$e,originY:ci,overlayX:$e,overlayY:Xt},{originX:$e,originY:Xt,overlayX:$e,overlayY:ci},{originX:At,originY:ci,overlayX:At,overlayY:Xt},{originX:At,originY:Xt,overlayX:At,overlayY:ci}])}_getCloseStream(Y){return(0,ce.T)(Y.backdropClick(),Y.detachments(),Y.keydownEvents().pipe((0,Ke.h)($e=>$e.keyCode===Ve.hY&&!(0,Ve.Vb)($e)||this.datepickerInput&&(0,Ve.Vb)($e,"altKey")&&$e.keyCode===Ve.LH)))}}return at.\u0275fac=function(Y){return new(Y||at)(R.Y36(T.aV),R.Y36(R.R0b),R.Y36(R.s_b),R.Y36(Ie),R.Y36(xe._A,8),R.Y36(Ne.Is,8),R.Y36(Nt))},at.\u0275dir=R.lG2({type:at,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[R.TTD]}),at})(),ct=(()=>{class at extends Te{}return at.\u0275fac=function(){let Yt;return function($e){return(Yt||(Yt=R.n5z(at)))($e||at)}}(),at.\u0275cmp=R.Xpm({type:at,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[R._Bn([lt,{provide:Te,useExisting:at}]),R.qOj],decls:0,vars:0,template:function(Y,$e){},encapsulation:2,changeDetection:0}),at})();class Fe{constructor(Yt,Y){this.target=Yt,this.targetElement=Y,this.value=this.target.value}}let qe=(()=>{class at{constructor(Y,$e,At){this._elementRef=Y,this._dateAdapter=$e,this._dateFormats=At,this.dateChange=new R.vpe,this.dateInput=new R.vpe,this.stateChanges=new Ce.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=re.w0.EMPTY,this._localeSubscription=re.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=Xt=>{const ci=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Xt.value));return!ci||this._matchesFilter(ci)?null:{matDatepickerFilter:!0}},this._minValidator=Xt=>{const ci=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Xt.value)),zi=this._getMinDate();return!zi||!ci||this._dateAdapter.compareDate(zi,ci)<=0?null:{matDatepickerMin:{min:zi,actual:ci}}},this._maxValidator=Xt=>{const ci=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Xt.value)),zi=this._getMaxDate();return!zi||!ci||this._dateAdapter.compareDate(zi,ci)>=0?null:{matDatepickerMax:{max:zi,actual:ci}}},this._lastValueValid=!1,this._localeSubscription=$e.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(Y){this._assignValueProgrammatically(Y)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(Y){const $e=(0,nt.Ig)(Y),At=this._elementRef.nativeElement;this._disabled!==$e&&(this._disabled=$e,this.stateChanges.next(void 0)),$e&&this._isInitialized&&At.blur&&At.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(Y){this._model=Y,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe($e=>{if(this._shouldHandleChangeEvent($e)){const At=this._getValueFromModel($e.selection);this._lastValueValid=this._isValidValue(At),this._cvaOnChange(At),this._onTouched(),this._formatValue(At),this.dateInput.emit(new Fe(this,this._elementRef.nativeElement)),this.dateChange.emit(new Fe(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(Y){(function Zt(at,Yt){const Y=Object.keys(at);for(let $e of Y){const{previousValue:At,currentValue:Xt}=at[$e];if(!Yt.isDateInstance(At)||!Yt.isDateInstance(Xt))return!0;if(!Yt.sameDate(At,Xt))return!0}return!1})(Y,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(Y){this._validatorOnChange=Y}validate(Y){return this._validator?this._validator(Y):null}writeValue(Y){this._assignValueProgrammatically(Y)}registerOnChange(Y){this._cvaOnChange=Y}registerOnTouched(Y){this._onTouched=Y}setDisabledState(Y){this.disabled=Y}_onKeydown(Y){Y.altKey&&Y.keyCode===Ve.JH&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),Y.preventDefault())}_onInput(Y){const $e=this._lastValueValid;let At=this._dateAdapter.parse(Y,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(At),At=this._dateAdapter.getValidDateOrNull(At);const Xt=!this._dateAdapter.sameDate(At,this.value);!At||Xt?this._cvaOnChange(At):(Y&&!this.value&&this._cvaOnChange(At),$e!==this._lastValueValid&&this._validatorOnChange()),Xt&&(this._assignValue(At),this.dateInput.emit(new Fe(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Fe(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(Y){this._elementRef.nativeElement.value=null!=Y?this._dateAdapter.format(Y,this._dateFormats.display.dateInput):""}_assignValue(Y){this._model?(this._assignValueToModel(Y),this._pendingValue=null):this._pendingValue=Y}_isValidValue(Y){return!Y||this._dateAdapter.isValid(Y)}_parentDisabled(){return!1}_assignValueProgrammatically(Y){Y=this._dateAdapter.deserialize(Y),this._lastValueValid=this._isValidValue(Y),Y=this._dateAdapter.getValidDateOrNull(Y),this._assignValue(Y),this._formatValue(Y)}_matchesFilter(Y){const $e=this._getDateFilter();return!$e||$e(Y)}}return at.\u0275fac=function(Y){return new(Y||at)(R.Y36(R.SBq),R.Y36(xe._A,8),R.Y36(xe.sG,8))},at.\u0275dir=R.lG2({type:at,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[R.TTD]}),at})();const wn={provide:pt.JU,useExisting:(0,R.Gpc)(()=>Ui),multi:!0},ti={provide:pt.Cf,useExisting:(0,R.Gpc)(()=>Ui),multi:!0};let Ui=(()=>{class at extends qe{constructor(Y,$e,At,Xt){super(Y,$e,At),this._formField=Xt,this._closedSubscription=re.w0.EMPTY,this._validator=pt.kI.compose(super._getValidators())}set matDatepicker(Y){Y&&(this._datepicker=Y,this._closedSubscription=Y.closedStream.subscribe(()=>this._onTouched()),this._registerModel(Y.registerInput(this)))}get min(){return this._min}set min(Y){const $e=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Y));this._dateAdapter.sameDate($e,this._min)||(this._min=$e,this._validatorOnChange())}get max(){return this._max}set max(Y){const $e=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Y));this._dateAdapter.sameDate($e,this._max)||(this._max=$e,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(Y){const $e=this._matchesFilter(this.value);this._dateFilter=Y,this._matchesFilter(this.value)!==$e&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(Y){return Y}_assignValueToModel(Y){this._model&&this._model.updateSelection(Y,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(Y){return Y.source!==this}}return at.\u0275fac=function(Y){return new(Y||at)(R.Y36(R.SBq),R.Y36(xe._A,8),R.Y36(xe.sG,8),R.Y36(tt.G_,8))},at.\u0275dir=R.lG2({type:at,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(Y,$e){1&Y&&R.NdJ("input",function(Xt){return $e._onInput(Xt.target.value)})("change",function(){return $e._onChange()})("blur",function(){return $e._onBlur()})("keydown",function(Xt){return $e._onKeydown(Xt)}),2&Y&&(R.Ikx("disabled",$e.disabled),R.uIk("aria-haspopup",$e._datepicker?"dialog":null)("aria-owns",(null==$e._datepicker?null:$e._datepicker.opened)&&$e._datepicker.id||null)("min",$e.min?$e._dateAdapter.toIso8601($e.min):null)("max",$e.max?$e._dateAdapter.toIso8601($e.max):null)("data-mat-calendar",$e._datepicker?$e._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[R._Bn([wn,ti,{provide:je.Jk,useExisting:at}]),R.qOj]}),at})(),Li=(()=>{class at{}return at.\u0275fac=function(Y){return new(Y||at)},at.\u0275dir=R.lG2({type:at,selectors:[["","matDatepickerToggleIcon",""]]}),at})(),ut=(()=>{class at{constructor(Y,$e,At){this._intl=Y,this._changeDetectorRef=$e,this._stateChanges=re.w0.EMPTY;const Xt=Number(At);this.tabIndex=Xt||0===Xt?Xt:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(Y){this._disabled=(0,nt.Ig)(Y)}ngOnChanges(Y){Y.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(Y){this.datepicker&&!this.disabled&&(this.datepicker.open(),Y.stopPropagation())}_watchStateChanges(){const Y=this.datepicker?this.datepicker.stateChanges:(0,be.of)(),$e=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,be.of)(),At=this.datepicker?(0,ce.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,be.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,ce.T)(this._intl.changes,Y,$e,At).subscribe(()=>this._changeDetectorRef.markForCheck())}}return at.\u0275fac=function(Y){return new(Y||at)(R.Y36(gn),R.Y36(R.sBO),R.$8M("tabindex"))},at.\u0275cmp=R.Xpm({type:at,selectors:[["mat-datepicker-toggle"]],contentQueries:function(Y,$e,At){if(1&Y&&R.Suo(At,Li,5),2&Y){let Xt;R.iGM(Xt=R.CRH())&&($e._customIcon=Xt.first)}},viewQuery:function(Y,$e){if(1&Y&&R.Gf(Ht,5),2&Y){let At;R.iGM(At=R.CRH())&&($e._button=At.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(Y,$e){1&Y&&R.NdJ("click",function(Xt){return $e._open(Xt)}),2&Y&&(R.uIk("tabindex",null)("data-mat-calendar",$e.datepicker?$e.datepicker.id:null),R.ekj("mat-datepicker-toggle-active",$e.datepicker&&$e.datepicker.opened)("mat-accent",$e.datepicker&&"accent"===$e.datepicker.color)("mat-warn",$e.datepicker&&"warn"===$e.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[R.TTD],ngContentSelectors:et,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(Y,$e){1&Y&&(R.F$t(Kt),R.TgZ(0,"button",0,1),R.YNc(2,Bt,2,0,"svg",2),R.Hsn(3),R.qZA()),2&Y&&(R.Q6J("disabled",$e.disabled)("disableRipple",$e.disableRipple),R.uIk("aria-haspopup",$e.datepicker?"dialog":null)("aria-label",$e.ariaLabel||$e._intl.openCalendarLabel)("tabindex",$e.disabled?-1:$e.tabIndex),R.xp6(2),R.Q6J("ngIf",!$e._customIcon))},dependencies:[ue.O5,Ee.lW],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),at})(),Wt=(()=>{class at{}return at.\u0275fac=function(Y){return new(Y||at)},at.\u0275mod=R.oAB({type:at}),at.\u0275inj=R.cJS({providers:[gn,ye],imports:[ue.ez,Ee.ot,T.U8,a.rt,O.eL,xe.BQ,Re.ZD]}),at})()},4850:(ai,qt,N)=>{"use strict";N.d(qt,{d:()=>ue,t:()=>R});var a=N(4650),T=N(1281),O=N(3238);let ue=(()=>{class Ee{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(xe){this._vertical=(0,T.Ig)(xe)}get inset(){return this._inset}set inset(xe){this._inset=(0,T.Ig)(xe)}}return Ee.\u0275fac=function(xe){return new(xe||Ee)},Ee.\u0275cmp=a.Xpm({type:Ee,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(xe,Ce){2&xe&&(a.uIk("aria-orientation",Ce.vertical?"vertical":"horizontal"),a.ekj("mat-divider-vertical",Ce.vertical)("mat-divider-horizontal",!Ce.vertical)("mat-divider-inset",Ce.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(xe,Ce){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),Ee})(),R=(()=>{class Ee{}return Ee.\u0275fac=function(xe){return new(xe||Ee)},Ee.\u0275mod=a.oAB({type:Ee}),Ee.\u0275inj=a.cJS({imports:[O.BQ,O.BQ]}),Ee})()},9549:(ai,qt,N)=>{"use strict";N.d(qt,{Eo:()=>Wn,G_:()=>tn,KE:()=>Rt,R9:()=>_n,TO:()=>Gn,hX:()=>Yn,lN:()=>bn});var a=N(9643),T=N(6895),O=N(4650),ue=N(3238),R=N(445),Ee=N(1281),Re=N(7579),xe=N(6451),Ce=N(4968),re=N(8675),ce=N(2722),be=N(5698),Ve=N(7340),Ne=N(3353);const Be=["connectionContainer"],Je=["inputContainer"],Ke=["label"];function nt(lt,le){1&lt&&(O.ynx(0),O.TgZ(1,"div",14),O._UZ(2,"div",15)(3,"div",16)(4,"div",17),O.qZA(),O.TgZ(5,"div",18),O._UZ(6,"div",15)(7,"div",16)(8,"div",17),O.qZA(),O.BQk())}function We(lt,le){if(1&lt){const Ae=O.EpF();O.TgZ(0,"div",19),O.NdJ("cdkObserveContent",function(){O.CHM(Ae);const zt=O.oxw();return O.KtG(zt.updateOutlineGap())}),O.Hsn(1,1),O.qZA()}if(2&lt){const Ae=O.oxw();O.Q6J("cdkObserveContentDisabled","outline"!=Ae.appearance)}}function ft(lt,le){if(1&lt&&(O.ynx(0),O.Hsn(1,2),O.TgZ(2,"span"),O._uU(3),O.qZA(),O.BQk()),2&lt){const Ae=O.oxw(2);O.xp6(3),O.Oqu(Ae._control.placeholder)}}function pt(lt,le){1&lt&&O.Hsn(0,3,["*ngSwitchCase","true"])}function tt(lt,le){1&lt&&(O.TgZ(0,"span",23),O._uU(1," *"),O.qZA())}function je(lt,le){if(1&lt){const Ae=O.EpF();O.TgZ(0,"label",20,21),O.NdJ("cdkObserveContent",function(){O.CHM(Ae);const zt=O.oxw();return O.KtG(zt.updateOutlineGap())}),O.YNc(2,ft,4,1,"ng-container",12),O.YNc(3,pt,1,0,"ng-content",12),O.YNc(4,tt,2,0,"span",22),O.qZA()}if(2&lt){const Ae=O.oxw();O.ekj("mat-empty",Ae._control.empty&&!Ae._shouldAlwaysFloat())("mat-form-field-empty",Ae._control.empty&&!Ae._shouldAlwaysFloat())("mat-accent","accent"==Ae.color)("mat-warn","warn"==Ae.color),O.Q6J("cdkObserveContentDisabled","outline"!=Ae.appearance)("id",Ae._labelId)("ngSwitch",Ae._hasLabel()),O.uIk("for",Ae._control.id)("aria-owns",Ae._control.id),O.xp6(2),O.Q6J("ngSwitchCase",!1),O.xp6(1),O.Q6J("ngSwitchCase",!0),O.xp6(1),O.Q6J("ngIf",!Ae.hideRequiredMarker&&Ae._control.required&&!Ae._control.disabled)}}function Ye(lt,le){1&lt&&(O.TgZ(0,"div",24),O.Hsn(1,4),O.qZA())}function Me(lt,le){if(1&lt&&(O.TgZ(0,"div",25),O._UZ(1,"span",26),O.qZA()),2&lt){const Ae=O.oxw();O.xp6(1),O.ekj("mat-accent","accent"==Ae.color)("mat-warn","warn"==Ae.color)}}function me(lt,le){if(1&lt&&(O.TgZ(0,"div"),O.Hsn(1,5),O.qZA()),2&lt){const Ae=O.oxw();O.Q6J("@transitionMessages",Ae._subscriptAnimationState)}}function St(lt,le){if(1&lt&&(O.TgZ(0,"div",30),O._uU(1),O.qZA()),2&lt){const Ae=O.oxw(2);O.Q6J("id",Ae._hintLabelId),O.xp6(1),O.Oqu(Ae.hintLabel)}}function vt(lt,le){if(1&lt&&(O.TgZ(0,"div",27),O.YNc(1,St,2,2,"div",28),O.Hsn(2,6),O._UZ(3,"div",29),O.Hsn(4,7),O.qZA()),2&lt){const Ae=O.oxw();O.Q6J("@transitionMessages",Ae._subscriptAnimationState),O.xp6(1),O.Q6J("ngIf",Ae.hintLabel)}}const an=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],xn=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let In=0;const cn=new O.OlP("MatError");let Gn=(()=>{class lt{constructor(Ae,ot){this.id="mat-error-"+In++,Ae||ot.nativeElement.setAttribute("aria-live","polite")}}return lt.\u0275fac=function(Ae){return new(Ae||lt)(O.$8M("aria-live"),O.Y36(O.SBq))},lt.\u0275dir=O.lG2({type:lt,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(Ae,ot){2&Ae&&O.uIk("id",ot.id)},inputs:{id:"id"},features:[O._Bn([{provide:cn,useExisting:lt}])]}),lt})();const Tn={transitionMessages:(0,Ve.X$)("transitionMessages",[(0,Ve.SB)("enter",(0,Ve.oB)({opacity:1,transform:"translateY(0%)"})),(0,Ve.eR)("void => enter",[(0,Ve.oB)({opacity:0,transform:"translateY(-5px)"}),(0,Ve.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Wn=(()=>{class lt{}return lt.\u0275fac=function(Ae){return new(Ae||lt)},lt.\u0275dir=O.lG2({type:lt}),lt})();const Vt=new O.OlP("MatHint");let Yn=(()=>{class lt{}return lt.\u0275fac=function(Ae){return new(Ae||lt)},lt.\u0275dir=O.lG2({type:lt,selectors:[["mat-label"]]}),lt})(),en=(()=>{class lt{}return lt.\u0275fac=function(Ae){return new(Ae||lt)},lt.\u0275dir=O.lG2({type:lt,selectors:[["mat-placeholder"]]}),lt})();const gn=new O.OlP("MatPrefix"),Qn=new O.OlP("MatSuffix");let _n=(()=>{class lt{}return lt.\u0275fac=function(Ae){return new(Ae||lt)},lt.\u0275dir=O.lG2({type:lt,selectors:[["","matSuffix",""]],features:[O._Bn([{provide:Qn,useExisting:lt}])]}),lt})(),Nn=0;const Pn=(0,ue.pj)(class{constructor(lt){this._elementRef=lt}},"primary"),Nt=new O.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),tn=new O.OlP("MatFormField");let Rt=(()=>{class lt extends Pn{constructor(Ae,ot,zt,Lt,Mt,Tt,mn){super(Ae),this._changeDetectorRef=ot,this._dir=zt,this._defaults=Lt,this._platform=Mt,this._ngZone=Tt,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Re.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Nn++,this._labelId="mat-form-field-label-"+Nn++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==mn,this.appearance=Lt?.appearance||"legacy",Lt&&(this._hideRequiredMarker=Boolean(Lt.hideRequiredMarker),Lt.color&&(this.color=this.defaultColor=Lt.color))}get appearance(){return this._appearance}set appearance(Ae){const ot=this._appearance;this._appearance=Ae||this._defaults?.appearance||"legacy","outline"===this._appearance&&ot!==Ae&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(Ae){this._hideRequiredMarker=(0,Ee.Ig)(Ae)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(Ae){this._hintLabel=Ae,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(Ae){Ae!==this._floatLabel&&(this._floatLabel=Ae||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(Ae){this._explicitFormFieldControl=Ae}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const Ae=this._control;Ae.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${Ae.controlType}`),Ae.stateChanges.pipe((0,re.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),Ae.ngControl&&Ae.ngControl.valueChanges&&Ae.ngControl.valueChanges.pipe((0,ce.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,ce.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,xe.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,re.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,re.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,ce.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(Ae){const ot=this._control?this._control.ngControl:null;return ot&&ot[Ae]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,Ce.R)(this._label.nativeElement,"transitionend").pipe((0,be.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let Ae=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&Ae.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const ot=this._hintChildren?this._hintChildren.find(Lt=>"start"===Lt.align):null,zt=this._hintChildren?this._hintChildren.find(Lt=>"end"===Lt.align):null;ot?Ae.push(ot.id):this._hintLabel&&Ae.push(this._hintLabelId),zt&&Ae.push(zt.id)}else this._errorChildren&&Ae.push(...this._errorChildren.map(ot=>ot.id));this._control.setDescribedByIds(Ae)}}_validateControlChild(){}updateOutlineGap(){const Ae=this._label?this._label.nativeElement:null,ot=this._connectionContainerRef.nativeElement,zt=".mat-form-field-outline-start",Lt=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!Ae||!Ae.children.length||!Ae.textContent.trim()){const Ln=ot.querySelectorAll(`${zt}, ${Lt}`);for(let mi=0;mi<Ln.length;mi++)Ln[mi].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let Mt=0,Tt=0;const mn=ot.querySelectorAll(zt),An=ot.querySelectorAll(Lt);if(this._label&&this._label.nativeElement.children.length){const Ln=ot.getBoundingClientRect();if(0===Ln.width&&0===Ln.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const mi=this._getStartEnd(Ln),Xi=Ae.children,li=this._getStartEnd(Xi[0].getBoundingClientRect());let Bi=0;for(let Si=0;Si<Xi.length;Si++)Bi+=Xi[Si].offsetWidth;Mt=Math.abs(li-mi)-5,Tt=Bi>0?.75*Bi+10:0}for(let Ln=0;Ln<mn.length;Ln++)mn[Ln].style.width=`${Mt}px`;for(let Ln=0;Ln<An.length;Ln++)An[Ln].style.width=`${Tt}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(Ae){return this._dir&&"rtl"===this._dir.value?Ae.right:Ae.left}_isAttachedToDOM(){const Ae=this._elementRef.nativeElement;if(Ae.getRootNode){const ot=Ae.getRootNode();return ot&&ot!==Ae}return document.documentElement.contains(Ae)}}return lt.\u0275fac=function(Ae){return new(Ae||lt)(O.Y36(O.SBq),O.Y36(O.sBO),O.Y36(R.Is,8),O.Y36(Nt,8),O.Y36(Ne.t4),O.Y36(O.R0b),O.Y36(O.QbO,8))},lt.\u0275cmp=O.Xpm({type:lt,selectors:[["mat-form-field"]],contentQueries:function(Ae,ot,zt){if(1&Ae&&(O.Suo(zt,Wn,5),O.Suo(zt,Wn,7),O.Suo(zt,Yn,5),O.Suo(zt,Yn,7),O.Suo(zt,en,5),O.Suo(zt,cn,5),O.Suo(zt,Vt,5),O.Suo(zt,gn,5),O.Suo(zt,Qn,5)),2&Ae){let Lt;O.iGM(Lt=O.CRH())&&(ot._controlNonStatic=Lt.first),O.iGM(Lt=O.CRH())&&(ot._controlStatic=Lt.first),O.iGM(Lt=O.CRH())&&(ot._labelChildNonStatic=Lt.first),O.iGM(Lt=O.CRH())&&(ot._labelChildStatic=Lt.first),O.iGM(Lt=O.CRH())&&(ot._placeholderChild=Lt.first),O.iGM(Lt=O.CRH())&&(ot._errorChildren=Lt),O.iGM(Lt=O.CRH())&&(ot._hintChildren=Lt),O.iGM(Lt=O.CRH())&&(ot._prefixChildren=Lt),O.iGM(Lt=O.CRH())&&(ot._suffixChildren=Lt)}},viewQuery:function(Ae,ot){if(1&Ae&&(O.Gf(Be,7),O.Gf(Je,5),O.Gf(Ke,5)),2&Ae){let zt;O.iGM(zt=O.CRH())&&(ot._connectionContainerRef=zt.first),O.iGM(zt=O.CRH())&&(ot._inputContainerRef=zt.first),O.iGM(zt=O.CRH())&&(ot._label=zt.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(Ae,ot){2&Ae&&O.ekj("mat-form-field-appearance-standard","standard"==ot.appearance)("mat-form-field-appearance-fill","fill"==ot.appearance)("mat-form-field-appearance-outline","outline"==ot.appearance)("mat-form-field-appearance-legacy","legacy"==ot.appearance)("mat-form-field-invalid",ot._control.errorState)("mat-form-field-can-float",ot._canLabelFloat())("mat-form-field-should-float",ot._shouldLabelFloat())("mat-form-field-has-label",ot._hasFloatingLabel())("mat-form-field-hide-placeholder",ot._hideControlPlaceholder())("mat-form-field-disabled",ot._control.disabled)("mat-form-field-autofilled",ot._control.autofilled)("mat-focused",ot._control.focused)("ng-untouched",ot._shouldForward("untouched"))("ng-touched",ot._shouldForward("touched"))("ng-pristine",ot._shouldForward("pristine"))("ng-dirty",ot._shouldForward("dirty"))("ng-valid",ot._shouldForward("valid"))("ng-invalid",ot._shouldForward("invalid"))("ng-pending",ot._shouldForward("pending"))("_mat-animation-noopable",!ot._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[O._Bn([{provide:tn,useExisting:lt}]),O.qOj],ngContentSelectors:xn,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(Ae,ot){1&Ae&&(O.F$t(an),O.TgZ(0,"div",0)(1,"div",1,2),O.NdJ("click",function(Lt){return ot._control.onContainerClick&&ot._control.onContainerClick(Lt)}),O.YNc(3,nt,9,0,"ng-container",3),O.YNc(4,We,2,1,"div",4),O.TgZ(5,"div",5,6),O.Hsn(7),O.TgZ(8,"span",7),O.YNc(9,je,5,16,"label",8),O.qZA()(),O.YNc(10,Ye,2,0,"div",9),O.qZA(),O.YNc(11,Me,2,4,"div",10),O.TgZ(12,"div",11),O.YNc(13,me,2,1,"div",12),O.YNc(14,vt,5,2,"div",13),O.qZA()()),2&Ae&&(O.xp6(3),O.Q6J("ngIf","outline"==ot.appearance),O.xp6(1),O.Q6J("ngIf",ot._prefixChildren.length),O.xp6(5),O.Q6J("ngIf",ot._hasFloatingLabel()),O.xp6(1),O.Q6J("ngIf",ot._suffixChildren.length),O.xp6(1),O.Q6J("ngIf","outline"!=ot.appearance),O.xp6(1),O.Q6J("ngSwitch",ot._getDisplayedMessages()),O.xp6(1),O.Q6J("ngSwitchCase","error"),O.xp6(1),O.Q6J("ngSwitchCase","hint"))},dependencies:[T.O5,T.RF,T.n9,a.wD],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[Tn.transitionMessages]},changeDetection:0}),lt})(),bn=(()=>{class lt{}return lt.\u0275fac=function(Ae){return new(Ae||lt)},lt.\u0275mod=O.oAB({type:lt}),lt.\u0275inj=O.cJS({imports:[T.ez,ue.BQ,a.Q8,ue.BQ]}),lt})()},7392:(ai,qt,N)=>{"use strict";N.d(qt,{Hw:()=>et,Ps:()=>Vt});var a=N(4650),T=N(3238),O=N(1281),ue=N(6895),R=N(9646),Ee=N(2843),Re=N(4128),xe=N(727),Ce=N(8505),re=N(4004),ce=N(262),be=N(8746),Ve=N(3099),Ne=N(5698),Be=N(529),Je=N(1481);const Ke=["*"];let nt;function ft(jt){return function We(){if(void 0===nt&&(nt=null,typeof window<"u")){const jt=window;void 0!==jt.trustedTypes&&(nt=jt.trustedTypes.createPolicy("angular#components",{createHTML:Yn=>Yn}))}return nt}()?.createHTML(jt)||jt}function pt(jt){return Error(`Unable to find icon with the name "${jt}"`)}function je(jt){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${jt}".`)}function Ye(jt){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${jt}".`)}class Me{constructor(Yn,en,gn){this.url=Yn,this.svgText=en,this.options=gn}}let me=(()=>{class jt{constructor(en,gn,On,Qn){this._httpClient=en,this._sanitizer=gn,this._errorHandler=Qn,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons"],this._document=On}addSvgIcon(en,gn,On){return this.addSvgIconInNamespace("",en,gn,On)}addSvgIconLiteral(en,gn,On){return this.addSvgIconLiteralInNamespace("",en,gn,On)}addSvgIconInNamespace(en,gn,On,Qn){return this._addSvgIconConfig(en,gn,new Me(On,null,Qn))}addSvgIconResolver(en){return this._resolvers.push(en),this}addSvgIconLiteralInNamespace(en,gn,On,Qn){const _n=this._sanitizer.sanitize(a.q3G.HTML,On);if(!_n)throw Ye(On);const Nn=ft(_n);return this._addSvgIconConfig(en,gn,new Me("",Nn,Qn))}addSvgIconSet(en,gn){return this.addSvgIconSetInNamespace("",en,gn)}addSvgIconSetLiteral(en,gn){return this.addSvgIconSetLiteralInNamespace("",en,gn)}addSvgIconSetInNamespace(en,gn,On){return this._addSvgIconSetConfig(en,new Me(gn,null,On))}addSvgIconSetLiteralInNamespace(en,gn,On){const Qn=this._sanitizer.sanitize(a.q3G.HTML,gn);if(!Qn)throw Ye(gn);const _n=ft(Qn);return this._addSvgIconSetConfig(en,new Me("",_n,On))}registerFontClassAlias(en,gn=en){return this._fontCssClassesByAlias.set(en,gn),this}classNameForFontAlias(en){return this._fontCssClassesByAlias.get(en)||en}setDefaultFontSetClass(...en){return this._defaultFontSetClass=en,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(en){const gn=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,en);if(!gn)throw je(en);const On=this._cachedIconsByUrl.get(gn);return On?(0,R.of)(an(On)):this._loadSvgIconFromConfig(new Me(en,null)).pipe((0,Ce.b)(Qn=>this._cachedIconsByUrl.set(gn,Qn)),(0,re.U)(Qn=>an(Qn)))}getNamedSvgIcon(en,gn=""){const On=xn(gn,en);let Qn=this._svgIconConfigs.get(On);if(Qn)return this._getSvgFromConfig(Qn);if(Qn=this._getIconConfigFromResolvers(gn,en),Qn)return this._svgIconConfigs.set(On,Qn),this._getSvgFromConfig(Qn);const _n=this._iconSetConfigs.get(gn);return _n?this._getSvgFromIconSetConfigs(en,_n):(0,Ee._)(pt(On))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(en){return en.svgText?(0,R.of)(an(this._svgElementFromConfig(en))):this._loadSvgIconFromConfig(en).pipe((0,re.U)(gn=>an(gn)))}_getSvgFromIconSetConfigs(en,gn){const On=this._extractIconWithNameFromAnySet(en,gn);if(On)return(0,R.of)(On);const Qn=gn.filter(_n=>!_n.svgText).map(_n=>this._loadSvgIconSetFromConfig(_n).pipe((0,ce.K)(Nn=>{const pn=`Loading icon set URL: ${this._sanitizer.sanitize(a.q3G.RESOURCE_URL,_n.url)} failed: ${Nn.message}`;return this._errorHandler.handleError(new Error(pn)),(0,R.of)(null)})));return(0,Re.D)(Qn).pipe((0,re.U)(()=>{const _n=this._extractIconWithNameFromAnySet(en,gn);if(!_n)throw pt(en);return _n}))}_extractIconWithNameFromAnySet(en,gn){for(let On=gn.length-1;On>=0;On--){const Qn=gn[On];if(Qn.svgText&&Qn.svgText.toString().indexOf(en)>-1){const _n=this._svgElementFromConfig(Qn),Nn=this._extractSvgIconFromSet(_n,en,Qn.options);if(Nn)return Nn}}return null}_loadSvgIconFromConfig(en){return this._fetchIcon(en).pipe((0,Ce.b)(gn=>en.svgText=gn),(0,re.U)(()=>this._svgElementFromConfig(en)))}_loadSvgIconSetFromConfig(en){return en.svgText?(0,R.of)(null):this._fetchIcon(en).pipe((0,Ce.b)(gn=>en.svgText=gn))}_extractSvgIconFromSet(en,gn,On){const Qn=en.querySelector(`[id="${gn}"]`);if(!Qn)return null;const _n=Qn.cloneNode(!0);if(_n.removeAttribute("id"),"svg"===_n.nodeName.toLowerCase())return this._setSvgAttributes(_n,On);if("symbol"===_n.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(_n),On);const Nn=this._svgElementFromString(ft("<svg></svg>"));return Nn.appendChild(_n),this._setSvgAttributes(Nn,On)}_svgElementFromString(en){const gn=this._document.createElement("DIV");gn.innerHTML=en;const On=gn.querySelector("svg");if(!On)throw Error("<svg> tag not found");return On}_toSvgElement(en){const gn=this._svgElementFromString(ft("<svg></svg>")),On=en.attributes;for(let Qn=0;Qn<On.length;Qn++){const{name:_n,value:Nn}=On[Qn];"id"!==_n&&gn.setAttribute(_n,Nn)}for(let Qn=0;Qn<en.childNodes.length;Qn++)en.childNodes[Qn].nodeType===this._document.ELEMENT_NODE&&gn.appendChild(en.childNodes[Qn].cloneNode(!0));return gn}_setSvgAttributes(en,gn){return en.setAttribute("fit",""),en.setAttribute("height","100%"),en.setAttribute("width","100%"),en.setAttribute("preserveAspectRatio","xMidYMid meet"),en.setAttribute("focusable","false"),gn&&gn.viewBox&&en.setAttribute("viewBox",gn.viewBox),en}_fetchIcon(en){const{url:gn,options:On}=en,Qn=On?.withCredentials??!1;if(!this._httpClient)throw function tt(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==gn)throw Error(`Cannot fetch icon from URL "${gn}".`);const _n=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,gn);if(!_n)throw je(gn);const Nn=this._inProgressUrlFetches.get(_n);if(Nn)return Nn;const yn=this._httpClient.get(_n,{responseType:"text",withCredentials:Qn}).pipe((0,re.U)(pn=>ft(pn)),(0,be.x)(()=>this._inProgressUrlFetches.delete(_n)),(0,Ve.B)());return this._inProgressUrlFetches.set(_n,yn),yn}_addSvgIconConfig(en,gn,On){return this._svgIconConfigs.set(xn(en,gn),On),this}_addSvgIconSetConfig(en,gn){const On=this._iconSetConfigs.get(en);return On?On.push(gn):this._iconSetConfigs.set(en,[gn]),this}_svgElementFromConfig(en){if(!en.svgElement){const gn=this._svgElementFromString(en.svgText);this._setSvgAttributes(gn,en.options),en.svgElement=gn}return en.svgElement}_getIconConfigFromResolvers(en,gn){for(let On=0;On<this._resolvers.length;On++){const Qn=this._resolvers[On](gn,en);if(Qn)return In(Qn)?new Me(Qn.url,null,Qn.options):new Me(Qn,null)}}}return jt.\u0275fac=function(en){return new(en||jt)(a.LFG(Be.eN,8),a.LFG(Je.H7),a.LFG(ue.K0,8),a.LFG(a.qLn))},jt.\u0275prov=a.Yz7({token:jt,factory:jt.\u0275fac,providedIn:"root"}),jt})();function an(jt){return jt.cloneNode(!0)}function xn(jt,Yn){return jt+":"+Yn}function In(jt){return!(!jt.url||!jt.options)}const cn=(0,T.pj)(class{constructor(jt){this._elementRef=jt}}),Gn=new a.OlP("MAT_ICON_DEFAULT_OPTIONS"),Tn=new a.OlP("mat-icon-location",{providedIn:"root",factory:function Wn(){const jt=(0,a.f3M)(ue.K0),Yn=jt?jt.location:null;return{getPathname:()=>Yn?Yn.pathname+Yn.search:""}}}),Ht=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Bt=Ht.map(jt=>`[${jt}]`).join(", "),Kt=/^url\(['"]?#(.*?)['"]?\)$/;let et=(()=>{class jt extends cn{constructor(en,gn,On,Qn,_n,Nn){super(en),this._iconRegistry=gn,this._location=Qn,this._errorHandler=_n,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=xe.w0.EMPTY,Nn&&(Nn.color&&(this.color=this.defaultColor=Nn.color),Nn.fontSet&&(this.fontSet=Nn.fontSet)),On||en.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(en){this._inline=(0,O.Ig)(en)}get svgIcon(){return this._svgIcon}set svgIcon(en){en!==this._svgIcon&&(en?this._updateSvgIcon(en):this._svgIcon&&this._clearSvgElement(),this._svgIcon=en)}get fontSet(){return this._fontSet}set fontSet(en){const gn=this._cleanupFontValue(en);gn!==this._fontSet&&(this._fontSet=gn,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(en){const gn=this._cleanupFontValue(en);gn!==this._fontIcon&&(this._fontIcon=gn,this._updateFontIconClasses())}_splitIconName(en){if(!en)return["",""];const gn=en.split(":");switch(gn.length){case 1:return["",gn[0]];case 2:return gn;default:throw Error(`Invalid icon name: "${en}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const en=this._elementsWithExternalReferences;if(en&&en.size){const gn=this._location.getPathname();gn!==this._previousPath&&(this._previousPath=gn,this._prependPathToReferences(gn))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(en){this._clearSvgElement();const gn=this._location.getPathname();this._previousPath=gn,this._cacheChildrenWithExternalReferences(en),this._prependPathToReferences(gn),this._elementRef.nativeElement.appendChild(en)}_clearSvgElement(){const en=this._elementRef.nativeElement;let gn=en.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();gn--;){const On=en.childNodes[gn];(1!==On.nodeType||"svg"===On.nodeName.toLowerCase())&&On.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const en=this._elementRef.nativeElement,gn=(this.fontSet?[this._iconRegistry.classNameForFontAlias(this.fontSet)]:this._iconRegistry.getDefaultFontSetClass()).filter(On=>On.length>0);this._previousFontSetClass.forEach(On=>en.classList.remove(On)),gn.forEach(On=>en.classList.add(On)),this._previousFontSetClass=gn,this.fontIcon!==this._previousFontIconClass&&(this._previousFontIconClass&&en.classList.remove(this._previousFontIconClass),this.fontIcon&&en.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(en){return"string"==typeof en?en.trim().split(" ")[0]:en}_prependPathToReferences(en){const gn=this._elementsWithExternalReferences;gn&&gn.forEach((On,Qn)=>{On.forEach(_n=>{Qn.setAttribute(_n.name,`url('${en}#${_n.value}')`)})})}_cacheChildrenWithExternalReferences(en){const gn=en.querySelectorAll(Bt),On=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Qn=0;Qn<gn.length;Qn++)Ht.forEach(_n=>{const Nn=gn[Qn],yn=Nn.getAttribute(_n),pn=yn?yn.match(Kt):null;if(pn){let Pn=On.get(Nn);Pn||(Pn=[],On.set(Nn,Pn)),Pn.push({name:_n,value:pn[1]})}})}_updateSvgIcon(en){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),en){const[gn,On]=this._splitIconName(en);gn&&(this._svgNamespace=gn),On&&(this._svgName=On),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(On,gn).pipe((0,Ne.q)(1)).subscribe(Qn=>this._setSvgElement(Qn),Qn=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${gn}:${On}! ${Qn.message}`))})}}}return jt.\u0275fac=function(en){return new(en||jt)(a.Y36(a.SBq),a.Y36(me),a.$8M("aria-hidden"),a.Y36(Tn),a.Y36(a.qLn),a.Y36(Gn,8))},jt.\u0275cmp=a.Xpm({type:jt,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(en,gn){2&en&&(a.uIk("data-mat-icon-type",gn._usingFontIcon()?"font":"svg")("data-mat-icon-name",gn._svgName||gn.fontIcon)("data-mat-icon-namespace",gn._svgNamespace||gn.fontSet),a.ekj("mat-icon-inline",gn.inline)("mat-icon-no-color","primary"!==gn.color&&"accent"!==gn.color&&"warn"!==gn.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[a.qOj],ngContentSelectors:Ke,decls:1,vars:0,template:function(en,gn){1&en&&(a.F$t(),a.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),jt})(),Vt=(()=>{class jt{}return jt.\u0275fac=function(en){return new(en||jt)},jt.\u0275mod=a.oAB({type:jt}),jt.\u0275inj=a.cJS({imports:[T.BQ,T.BQ]}),jt})()},4144:(ai,qt,N)=>{"use strict";N.d(qt,{Jk:()=>Be,Nt:()=>We,c:()=>ft});var a=N(1281),T=N(3353),O=N(4650),ue=N(515),R=N(7579);const Ee=(0,T.i$)({passive:!0});let Re=(()=>{class pt{constructor(je,Ye){this._platform=je,this._ngZone=Ye,this._monitoredElements=new Map}monitor(je){if(!this._platform.isBrowser)return ue.E;const Ye=(0,a.fI)(je),Me=this._monitoredElements.get(Ye);if(Me)return Me.subject;const me=new R.x,St="cdk-text-field-autofilled",vt=an=>{"cdk-text-field-autofill-start"!==an.animationName||Ye.classList.contains(St)?"cdk-text-field-autofill-end"===an.animationName&&Ye.classList.contains(St)&&(Ye.classList.remove(St),this._ngZone.run(()=>me.next({target:an.target,isAutofilled:!1}))):(Ye.classList.add(St),this._ngZone.run(()=>me.next({target:an.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{Ye.addEventListener("animationstart",vt,Ee),Ye.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(Ye,{subject:me,unlisten:()=>{Ye.removeEventListener("animationstart",vt,Ee)}}),me}stopMonitoring(je){const Ye=(0,a.fI)(je),Me=this._monitoredElements.get(Ye);Me&&(Me.unlisten(),Me.subject.complete(),Ye.classList.remove("cdk-text-field-autofill-monitored"),Ye.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(Ye))}ngOnDestroy(){this._monitoredElements.forEach((je,Ye)=>this.stopMonitoring(Ye))}}return pt.\u0275fac=function(je){return new(je||pt)(O.LFG(T.t4),O.LFG(O.R0b))},pt.\u0275prov=O.Yz7({token:pt,factory:pt.\u0275fac,providedIn:"root"}),pt})(),re=(()=>{class pt{}return pt.\u0275fac=function(je){return new(je||pt)},pt.\u0275mod=O.oAB({type:pt}),pt.\u0275inj=O.cJS({}),pt})();var ce=N(4006),be=N(3238),Ve=N(9549);const Be=new O.OlP("MAT_INPUT_VALUE_ACCESSOR"),Je=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Ke=0;const nt=(0,be.FD)(class{constructor(pt,tt,je,Ye){this._defaultErrorStateMatcher=pt,this._parentForm=tt,this._parentFormGroup=je,this.ngControl=Ye,this.stateChanges=new R.x}});let We=(()=>{class pt extends nt{constructor(je,Ye,Me,me,St,vt,an,xn,In,cn){super(vt,me,St,Me),this._elementRef=je,this._platform=Ye,this._autofillMonitor=xn,this._formField=cn,this._uid="mat-input-"+Ke++,this.focused=!1,this.stateChanges=new R.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Wn=>(0,T.qK)().has(Wn)),this._iOSKeyupListener=Wn=>{const Ht=Wn.target;!Ht.value&&0===Ht.selectionStart&&0===Ht.selectionEnd&&(Ht.setSelectionRange(1,1),Ht.setSelectionRange(0,0))};const Gn=this._elementRef.nativeElement,Tn=Gn.nodeName.toLowerCase();this._inputValueAccessor=an||Gn,this._previousNativeValue=this.value,this.id=this.id,Ye.IOS&&In.runOutsideAngular(()=>{je.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Tn,this._isTextarea="textarea"===Tn,this._isInFormField=!!cn,this._isNativeSelect&&(this.controlType=Gn.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(je){this._disabled=(0,a.Ig)(je),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(je){this._id=je||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(ce.kI.required)??!1}set required(je){this._required=(0,a.Ig)(je)}get type(){return this._type}set type(je){this._type=je||"text",this._validateType(),!this._isTextarea&&(0,T.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(je){je!==this.value&&(this._inputValueAccessor.value=je,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(je){this._readonly=(0,a.Ig)(je)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(je=>{this.autofilled=je.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(je){this._elementRef.nativeElement.focus(je)}_focusChanged(je){je!==this.focused&&(this.focused=je,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const je=this._formField,Ye=je&&"legacy"===je.appearance&&!je._hasLabel?.()?null:this.placeholder;if(Ye!==this._previousPlaceholder){const Me=this._elementRef.nativeElement;this._previousPlaceholder=Ye,Ye?Me.setAttribute("placeholder",Ye):Me.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const je=this._elementRef.nativeElement.value;this._previousNativeValue!==je&&(this._previousNativeValue=je,this.stateChanges.next())}_validateType(){Je.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let je=this._elementRef.nativeElement.validity;return je&&je.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const je=this._elementRef.nativeElement,Ye=je.options[0];return this.focused||je.multiple||!this.empty||!!(je.selectedIndex>-1&&Ye&&Ye.label)}return this.focused||!this.empty}setDescribedByIds(je){je.length?this._elementRef.nativeElement.setAttribute("aria-describedby",je.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const je=this._elementRef.nativeElement;return this._isNativeSelect&&(je.multiple||je.size>1)}}return pt.\u0275fac=function(je){return new(je||pt)(O.Y36(O.SBq),O.Y36(T.t4),O.Y36(ce.a5,10),O.Y36(ce.F,8),O.Y36(ce.sg,8),O.Y36(be.rD),O.Y36(Be,10),O.Y36(Re),O.Y36(O.R0b),O.Y36(Ve.G_,8))},pt.\u0275dir=O.lG2({type:pt,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(je,Ye){1&je&&O.NdJ("focus",function(){return Ye._focusChanged(!0)})("blur",function(){return Ye._focusChanged(!1)})("input",function(){return Ye._onInput()}),2&je&&(O.Ikx("disabled",Ye.disabled)("required",Ye.required),O.uIk("id",Ye.id)("data-placeholder",Ye.placeholder)("name",Ye.name||null)("readonly",Ye.readonly&&!Ye._isNativeSelect||null)("aria-invalid",Ye.empty&&Ye.required?null:Ye.errorState)("aria-required",Ye.required),O.ekj("mat-input-server",Ye._isServer)("mat-native-select-inline",Ye._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[O._Bn([{provide:Ve.Eo,useExisting:pt}]),O.qOj,O.TTD]}),pt})(),ft=(()=>{class pt{}return pt.\u0275fac=function(je){return new(je||pt)},pt.\u0275mod=O.oAB({type:pt}),pt.\u0275inj=O.cJS({providers:[be.rD],imports:[re,Ve.lN,be.BQ,re,Ve.lN]}),pt})()},8739:(ai,qt,N)=>{"use strict";N.d(qt,{NW:()=>Ye,TU:()=>Me});var a=N(6895),T=N(4650),O=N(3238),ue=N(4859),R=N(4385),Ee=N(1733),Re=N(1281),xe=N(7579),Ce=N(9549);function re(me,St){if(1&me&&(T.TgZ(0,"mat-option",19),T._uU(1),T.qZA()),2&me){const vt=St.$implicit;T.Q6J("value",vt),T.xp6(1),T.hij(" ",vt," ")}}function ce(me,St){if(1&me){const vt=T.EpF();T.TgZ(0,"mat-form-field",16)(1,"mat-select",17),T.NdJ("selectionChange",function(xn){T.CHM(vt);const In=T.oxw(2);return T.KtG(In._changePageSize(xn.value))}),T.YNc(2,re,2,2,"mat-option",18),T.qZA()()}if(2&me){const vt=T.oxw(2);T.Q6J("appearance",vt._formFieldAppearance)("color",vt.color),T.xp6(1),T.Q6J("value",vt.pageSize)("disabled",vt.disabled)("panelClass",vt.selectConfig.panelClass||"")("disableOptionCentering",vt.selectConfig.disableOptionCentering)("aria-label",vt._intl.itemsPerPageLabel),T.xp6(1),T.Q6J("ngForOf",vt._displayedPageSizeOptions)}}function be(me,St){if(1&me&&(T.TgZ(0,"div",20),T._uU(1),T.qZA()),2&me){const vt=T.oxw(2);T.xp6(1),T.Oqu(vt.pageSize)}}function Ve(me,St){if(1&me&&(T.TgZ(0,"div",12)(1,"div",13),T._uU(2),T.qZA(),T.YNc(3,ce,3,8,"mat-form-field",14),T.YNc(4,be,2,1,"div",15),T.qZA()),2&me){const vt=T.oxw();T.xp6(2),T.hij(" ",vt._intl.itemsPerPageLabel," "),T.xp6(1),T.Q6J("ngIf",vt._displayedPageSizeOptions.length>1),T.xp6(1),T.Q6J("ngIf",vt._displayedPageSizeOptions.length<=1)}}function Ne(me,St){if(1&me){const vt=T.EpF();T.TgZ(0,"button",21),T.NdJ("click",function(){T.CHM(vt);const xn=T.oxw();return T.KtG(xn.firstPage())}),T.O4$(),T.TgZ(1,"svg",7),T._UZ(2,"path",22),T.qZA()()}if(2&me){const vt=T.oxw();T.Q6J("matTooltip",vt._intl.firstPageLabel)("matTooltipDisabled",vt._previousButtonsDisabled())("matTooltipPosition","above")("disabled",vt._previousButtonsDisabled()),T.uIk("aria-label",vt._intl.firstPageLabel)}}function Be(me,St){if(1&me){const vt=T.EpF();T.O4$(),T.kcU(),T.TgZ(0,"button",23),T.NdJ("click",function(){T.CHM(vt);const xn=T.oxw();return T.KtG(xn.lastPage())}),T.O4$(),T.TgZ(1,"svg",7),T._UZ(2,"path",24),T.qZA()()}if(2&me){const vt=T.oxw();T.Q6J("matTooltip",vt._intl.lastPageLabel)("matTooltipDisabled",vt._nextButtonsDisabled())("matTooltipPosition","above")("disabled",vt._nextButtonsDisabled()),T.uIk("aria-label",vt._intl.lastPageLabel)}}let Je=(()=>{class me{constructor(){this.changes=new xe.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(vt,an,xn)=>{if(0==xn||0==an)return`0 of ${xn}`;const In=vt*an;return`${In+1} \u2013 ${In<(xn=Math.max(xn,0))?Math.min(In+an,xn):In+an} of ${xn}`}}}return me.\u0275fac=function(vt){return new(vt||me)},me.\u0275prov=T.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})();const nt={provide:Je,deps:[[new T.FiY,new T.tp0,Je]],useFactory:function Ke(me){return me||new Je}},pt=new T.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),tt=(0,O.Id)((0,O.dB)(class{}));let je=(()=>{class me extends tt{constructor(vt,an,xn){if(super(),this._intl=vt,this._changeDetectorRef=an,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new T.vpe,this._intlChanges=vt.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),xn){const{pageSize:In,pageSizeOptions:cn,hidePageSize:Gn,showFirstLastButtons:Tn}=xn;null!=In&&(this._pageSize=In),null!=cn&&(this._pageSizeOptions=cn),null!=Gn&&(this._hidePageSize=Gn),null!=Tn&&(this._showFirstLastButtons=Tn)}}get pageIndex(){return this._pageIndex}set pageIndex(vt){this._pageIndex=Math.max((0,Re.su)(vt),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(vt){this._length=(0,Re.su)(vt),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(vt){this._pageSize=Math.max((0,Re.su)(vt),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(vt){this._pageSizeOptions=(vt||[]).map(an=>(0,Re.su)(an)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(vt){this._hidePageSize=(0,Re.Ig)(vt)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(vt){this._showFirstLastButtons=(0,Re.Ig)(vt)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const vt=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(vt)}previousPage(){if(!this.hasPreviousPage())return;const vt=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(vt)}firstPage(){if(!this.hasPreviousPage())return;const vt=this.pageIndex;this.pageIndex=0,this._emitPageEvent(vt)}lastPage(){if(!this.hasNextPage())return;const vt=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(vt)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const vt=this.getNumberOfPages()-1;return this.pageIndex<vt&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(vt){const xn=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/vt)||0,this.pageSize=vt,this._emitPageEvent(xn)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((vt,an)=>vt-an),this._changeDetectorRef.markForCheck())}_emitPageEvent(vt){this.page.emit({previousPageIndex:vt,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return me.\u0275fac=function(vt){T.$Z()},me.\u0275dir=T.lG2({type:me,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[T.qOj]}),me})(),Ye=(()=>{class me extends je{constructor(vt,an,xn){super(vt,an,xn),xn&&null!=xn.formFieldAppearance&&(this._formFieldAppearance=xn.formFieldAppearance)}}return me.\u0275fac=function(vt){return new(vt||me)(T.Y36(Je),T.Y36(T.sBO),T.Y36(pt,8))},me.\u0275cmp=T.Xpm({type:me,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[T.qOj],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","panelClass","disableOptionCentering","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(vt,an){1&vt&&(T.TgZ(0,"div",0)(1,"div",1),T.YNc(2,Ve,5,3,"div",2),T.TgZ(3,"div",3)(4,"div",4),T._uU(5),T.qZA(),T.YNc(6,Ne,3,5,"button",5),T.TgZ(7,"button",6),T.NdJ("click",function(){return an.previousPage()}),T.O4$(),T.TgZ(8,"svg",7),T._UZ(9,"path",8),T.qZA()(),T.kcU(),T.TgZ(10,"button",9),T.NdJ("click",function(){return an.nextPage()}),T.O4$(),T.TgZ(11,"svg",7),T._UZ(12,"path",10),T.qZA()(),T.YNc(13,Be,3,5,"button",11),T.qZA()()()),2&vt&&(T.xp6(2),T.Q6J("ngIf",!an.hidePageSize),T.xp6(3),T.hij(" ",an._intl.getRangeLabel(an.pageIndex,an.pageSize,an.length)," "),T.xp6(1),T.Q6J("ngIf",an.showFirstLastButtons),T.xp6(1),T.Q6J("matTooltip",an._intl.previousPageLabel)("matTooltipDisabled",an._previousButtonsDisabled())("matTooltipPosition","above")("disabled",an._previousButtonsDisabled()),T.uIk("aria-label",an._intl.previousPageLabel),T.xp6(3),T.Q6J("matTooltip",an._intl.nextPageLabel)("matTooltipDisabled",an._nextButtonsDisabled())("matTooltipPosition","above")("disabled",an._nextButtonsDisabled()),T.uIk("aria-label",an._intl.nextPageLabel),T.xp6(3),T.Q6J("ngIf",an.showFirstLastButtons))},dependencies:[a.sg,a.O5,ue.lW,Ce.KE,R.gD,O.ey,Ee.gM],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}"],encapsulation:2,changeDetection:0}),me})(),Me=(()=>{class me{}return me.\u0275fac=function(vt){return new(vt||me)},me.\u0275mod=T.oAB({type:me}),me.\u0275inj=T.cJS({providers:[nt],imports:[a.ez,ue.ot,R.LD,Ee.AV,O.BQ]}),me})()},1572:(ai,qt,N)=>{"use strict";N.d(qt,{Cq:()=>Ke,Ou:()=>Je});var a=N(1281),T=N(3353),O=N(6270),ue=N(6895),R=N(4650),Ee=N(3238),Re=N(727);function xe(We,ft){if(1&We&&(R.O4$(),R._UZ(0,"circle",4)),2&We){const pt=R.oxw(),tt=R.MAs(1);R.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+pt._spinnerAnimationLabel)("stroke-dashoffset",pt._getStrokeDashOffset(),"px")("stroke-dasharray",pt._getStrokeCircumference(),"px")("stroke-width",pt._getCircleStrokeWidth(),"%")("transform-origin",pt._getCircleTransformOrigin(tt)),R.uIk("r",pt._getCircleRadius())}}function Ce(We,ft){if(1&We&&(R.O4$(),R._UZ(0,"circle",4)),2&We){const pt=R.oxw(),tt=R.MAs(1);R.Udp("stroke-dashoffset",pt._getStrokeDashOffset(),"px")("stroke-dasharray",pt._getStrokeCircumference(),"px")("stroke-width",pt._getCircleStrokeWidth(),"%")("transform-origin",pt._getCircleTransformOrigin(tt)),R.uIk("r",pt._getCircleRadius())}}const be=(0,Ee.pj)(class{constructor(We){this._elementRef=We}},"primary"),Ve=new R.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function Ne(){return{diameter:100}}});class Je extends be{constructor(ft,pt,tt,je,Ye,Me,me,St){super(ft),this._document=tt,this._diameter=100,this._value=0,this._resizeSubscription=Re.w0.EMPTY,this.mode="determinate";const vt=Je._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),vt.has(tt.head)||vt.set(tt.head,new Set([100])),this._noopAnimations="NoopAnimations"===je&&!!Ye&&!Ye._forceAnimations,"mat-spinner"===ft.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),Ye&&(Ye.color&&(this.color=this.defaultColor=Ye.color),Ye.diameter&&(this.diameter=Ye.diameter),Ye.strokeWidth&&(this.strokeWidth=Ye.strokeWidth)),pt.isBrowser&&pt.SAFARI&&me&&Me&&St&&(this._resizeSubscription=me.change(150).subscribe(()=>{"indeterminate"===this.mode&&St.run(()=>Me.markForCheck())}))}get diameter(){return this._diameter}set diameter(ft){this._diameter=(0,a.su)(ft),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(ft){this._strokeWidth=(0,a.su)(ft)}get value(){return"determinate"===this.mode?this._value:0}set value(ft){this._value=Math.max(0,Math.min(100,(0,a.su)(ft)))}ngOnInit(){const ft=this._elementRef.nativeElement;this._styleRoot=(0,T.kV)(ft)||this._document.head,this._attachStyleNode(),ft.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const ft=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${ft} ${ft}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(ft){const pt=50*(ft.currentScale??1);return`${pt}% ${pt}%`}_attachStyleNode(){const ft=this._styleRoot,pt=this._diameter,tt=Je._diameters;let je=tt.get(ft);if(!je||!je.has(pt)){const Ye=this._document.createElement("style");Ye.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),Ye.textContent=this._getAnimationText(),ft.appendChild(Ye),je||(je=new Set,tt.set(ft,je)),je.add(pt)}}_getAnimationText(){const ft=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*ft).replace(/END_VALUE/g,""+.2*ft).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Je._diameters=new WeakMap,Je.\u0275fac=function(ft){return new(ft||Je)(R.Y36(R.SBq),R.Y36(T.t4),R.Y36(ue.K0,8),R.Y36(R.QbO,8),R.Y36(Ve),R.Y36(R.sBO),R.Y36(O.rL),R.Y36(R.R0b))},Je.\u0275cmp=R.Xpm({type:Je,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(ft,pt){2&ft&&(R.uIk("aria-valuemin","determinate"===pt.mode?0:null)("aria-valuemax","determinate"===pt.mode?100:null)("aria-valuenow","determinate"===pt.mode?pt.value:null)("mode",pt.mode),R.Udp("width",pt.diameter,"px")("height",pt.diameter,"px"),R.ekj("_mat-animation-noopable",pt._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[R.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(ft,pt){1&ft&&(R.O4$(),R.TgZ(0,"svg",0,1),R.YNc(2,xe,1,11,"circle",2),R.YNc(3,Ce,1,9,"circle",3),R.qZA()),2&ft&&(R.Udp("width",pt.diameter,"px")("height",pt.diameter,"px"),R.Q6J("ngSwitch","indeterminate"===pt.mode),R.uIk("viewBox",pt._getViewBox()),R.xp6(2),R.Q6J("ngSwitchCase",!0),R.xp6(1),R.Q6J("ngSwitchCase",!1))},dependencies:[ue.RF,ue.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let Ke=(()=>{class We{}return We.\u0275fac=function(pt){return new(pt||We)},We.\u0275mod=R.oAB({type:We}),We.\u0275inj=R.cJS({imports:[Ee.BQ,ue.ez,Ee.BQ]}),We})()},4385:(ai,qt,N)=>{"use strict";N.d(qt,{LD:()=>Rt,gD:()=>tn});var a=N(8184),T=N(6895),O=N(4650),ue=N(3238),R=N(9549),Ee=N(6270),Re=N(2687),xe=N(445),Ce=N(1281),re=N(5017),ce=N(9521),be=N(4006),Ve=N(7579),Ne=N(9770),Be=N(6451),Je=N(8675),Ke=N(3900),nt=N(5698),We=N(9300),ft=N(4004),pt=N(1884),tt=N(2722),je=N(7340);const Ye=["trigger"],Me=["panel"];function me(bn,lt){if(1&bn&&(O.TgZ(0,"span",8),O._uU(1),O.qZA()),2&bn){const le=O.oxw();O.xp6(1),O.Oqu(le.placeholder)}}function St(bn,lt){if(1&bn&&(O.TgZ(0,"span",12),O._uU(1),O.qZA()),2&bn){const le=O.oxw(2);O.xp6(1),O.Oqu(le.triggerValue)}}function vt(bn,lt){1&bn&&O.Hsn(0,0,["*ngSwitchCase","true"])}function an(bn,lt){if(1&bn&&(O.TgZ(0,"span",9),O.YNc(1,St,2,1,"span",10),O.YNc(2,vt,1,0,"ng-content",11),O.qZA()),2&bn){const le=O.oxw();O.Q6J("ngSwitch",!!le.customTrigger),O.xp6(2),O.Q6J("ngSwitchCase",!0)}}function xn(bn,lt){if(1&bn){const le=O.EpF();O.TgZ(0,"div",13)(1,"div",14,15),O.NdJ("@transformPanel.done",function(ot){O.CHM(le);const zt=O.oxw();return O.KtG(zt._panelDoneAnimatingStream.next(ot.toState))})("keydown",function(ot){O.CHM(le);const zt=O.oxw();return O.KtG(zt._handleKeydown(ot))}),O.Hsn(3,1),O.qZA()()}if(2&bn){const le=O.oxw();O.Q6J("@transformPanelWrap",void 0),O.xp6(1),O.Gre("mat-select-panel ",le._getPanelTheme(),""),O.Udp("transform-origin",le._transformOrigin)("font-size",le._triggerFontSize,"px"),O.Q6J("ngClass",le.panelClass)("@transformPanel",le.multiple?"showing-multiple":"showing"),O.uIk("id",le.id+"-panel")("aria-multiselectable",le.multiple)("aria-label",le.ariaLabel||null)("aria-labelledby",le._getPanelAriaLabelledby())}}const In=[[["mat-select-trigger"]],"*"],cn=["mat-select-trigger","*"],Gn={transformPanelWrap:(0,je.X$)("transformPanelWrap",[(0,je.eR)("* => void",(0,je.IO)("@transformPanel",[(0,je.pV)()],{optional:!0}))]),transformPanel:(0,je.X$)("transformPanel",[(0,je.SB)("void",(0,je.oB)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),(0,je.SB)("showing",(0,je.oB)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),(0,je.SB)("showing-multiple",(0,je.oB)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),(0,je.eR)("void => *",(0,je.jt)("120ms cubic-bezier(0, 0, 0.2, 1)")),(0,je.eR)("* => void",(0,je.jt)("100ms 25ms linear",(0,je.oB)({opacity:0})))])};let Bt=0;const gn=new O.OlP("mat-select-scroll-strategy"),Qn=new O.OlP("MAT_SELECT_CONFIG"),_n={provide:gn,deps:[a.aV],useFactory:function On(bn){return()=>bn.scrollStrategies.reposition()}};class Nn{constructor(lt,le){this.source=lt,this.value=le}}const yn=(0,ue.Kr)((0,ue.sb)((0,ue.Id)((0,ue.FD)(class{constructor(bn,lt,le,Ae,ot){this._elementRef=bn,this._defaultErrorStateMatcher=lt,this._parentForm=le,this._parentFormGroup=Ae,this.ngControl=ot,this.stateChanges=new Ve.x}})))),pn=new O.OlP("MatSelectTrigger");let Nt=(()=>{class bn extends yn{constructor(le,Ae,ot,zt,Lt,Mt,Tt,mn,An,Ln,mi,Xi,li,Bi){super(Lt,zt,Tt,mn,Ln),this._viewportRuler=le,this._changeDetectorRef=Ae,this._ngZone=ot,this._dir=Mt,this._parentFormField=An,this._liveAnnouncer=li,this._defaultOptions=Bi,this._panelOpen=!1,this._compareWith=(Si,_r)=>Si===_r,this._uid="mat-select-"+Bt++,this._triggerAriaLabelledBy=null,this._destroy=new Ve.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+Bt++,this._panelDoneAnimatingStream=new Ve.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=(0,Ne.P)(()=>{const Si=this.options;return Si?Si.changes.pipe((0,Je.O)(Si),(0,Ke.w)(()=>(0,Be.T)(...Si.map(_r=>_r.onSelectionChange)))):this._ngZone.onStable.pipe((0,nt.q)(1),(0,Ke.w)(()=>this.optionSelectionChanges))}),this.openedChange=new O.vpe,this._openedStream=this.openedChange.pipe((0,We.h)(Si=>Si),(0,ft.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,We.h)(Si=>!Si),(0,ft.U)(()=>{})),this.selectionChange=new O.vpe,this.valueChange=new O.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=Bi?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=Bi.typeaheadDebounceInterval),this._scrollStrategyFactory=Xi,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(mi)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(le){this._placeholder=le,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(be.kI.required)??!1}set required(le){this._required=(0,Ce.Ig)(le),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(le){this._multiple=(0,Ce.Ig)(le)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(le){this._disableOptionCentering=(0,Ce.Ig)(le)}get compareWith(){return this._compareWith}set compareWith(le){this._compareWith=le,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(le){this._assignValue(le)&&this._onChange(le)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(le){this._typeaheadDebounceInterval=(0,Ce.su)(le)}get id(){return this._id}set id(le){this._id=le||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new re.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,pt.x)(),(0,tt.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,tt.R)(this._destroy)).subscribe(le=>{le.added.forEach(Ae=>Ae.select()),le.removed.forEach(Ae=>Ae.deselect())}),this.options.changes.pipe((0,Je.O)(null),(0,tt.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const le=this._getTriggerAriaLabelledby(),Ae=this.ngControl;if(le!==this._triggerAriaLabelledBy){const ot=this._elementRef.nativeElement;this._triggerAriaLabelledBy=le,le?ot.setAttribute("aria-labelledby",le):ot.removeAttribute("aria-labelledby")}Ae&&(this._previousControl!==Ae.control&&(void 0!==this._previousControl&&null!==Ae.disabled&&Ae.disabled!==this.disabled&&(this.disabled=Ae.disabled),this._previousControl=Ae.control),this.updateErrorState())}ngOnChanges(le){(le.disabled||le.userAriaDescribedBy)&&this.stateChanges.next(),le.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(le){this._assignValue(le)}registerOnChange(le){this._onChange=le}registerOnTouched(le){this._onTouched=le}setDisabledState(le){this.disabled=le,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const le=this._selectionModel.selected.map(Ae=>Ae.viewValue);return this._isRtl()&&le.reverse(),le.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(le){this.disabled||(this.panelOpen?this._handleOpenKeydown(le):this._handleClosedKeydown(le))}_handleClosedKeydown(le){const Ae=le.keyCode,ot=Ae===ce.JH||Ae===ce.LH||Ae===ce.oh||Ae===ce.SV,zt=Ae===ce.K5||Ae===ce.L_,Lt=this._keyManager;if(!Lt.isTyping()&&zt&&!(0,ce.Vb)(le)||(this.multiple||le.altKey)&&ot)le.preventDefault(),this.open();else if(!this.multiple){const Mt=this.selected;Lt.onKeydown(le);const Tt=this.selected;Tt&&Mt!==Tt&&this._liveAnnouncer.announce(Tt.viewValue,1e4)}}_handleOpenKeydown(le){const Ae=this._keyManager,ot=le.keyCode,zt=ot===ce.JH||ot===ce.LH,Lt=Ae.isTyping();if(zt&&le.altKey)le.preventDefault(),this.close();else if(Lt||ot!==ce.K5&&ot!==ce.L_||!Ae.activeItem||(0,ce.Vb)(le))if(!Lt&&this._multiple&&ot===ce.A&&le.ctrlKey){le.preventDefault();const Mt=this.options.some(Tt=>!Tt.disabled&&!Tt.selected);this.options.forEach(Tt=>{Tt.disabled||(Mt?Tt.select():Tt.deselect())})}else{const Mt=Ae.activeItemIndex;Ae.onKeydown(le),this._multiple&&zt&&le.shiftKey&&Ae.activeItem&&Ae.activeItemIndex!==Mt&&Ae.activeItem._selectViaInteraction()}else le.preventDefault(),Ae.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,nt.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(le){if(this._selectionModel.selected.forEach(Ae=>Ae.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&le)Array.isArray(le),le.forEach(Ae=>this._selectOptionByValue(Ae)),this._sortValues();else{const Ae=this._selectOptionByValue(le);Ae?this._keyManager.updateActiveItem(Ae):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(le){const Ae=this.options.find(ot=>{if(this._selectionModel.isSelected(ot))return!1;try{return null!=ot.value&&this._compareWith(ot.value,le)}catch{return!1}});return Ae&&this._selectionModel.select(Ae),Ae}_assignValue(le){return!!(le!==this._value||this._multiple&&Array.isArray(le))&&(this.options&&this._setSelectionByValue(le),this._value=le,!0)}_initKeyManager(){this._keyManager=new Re.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe((0,tt.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe((0,tt.R)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const le=(0,Be.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,tt.R)(le)).subscribe(Ae=>{this._onSelect(Ae.source,Ae.isUserInput),Ae.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Be.T)(...this.options.map(Ae=>Ae._stateChanges)).pipe((0,tt.R)(le)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(le,Ae){const ot=this._selectionModel.isSelected(le);null!=le.value||this._multiple?(ot!==le.selected&&(le.selected?this._selectionModel.select(le):this._selectionModel.deselect(le)),Ae&&this._keyManager.setActiveItem(le),this.multiple&&(this._sortValues(),Ae&&this.focus())):(le.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(le.value)),ot!==this._selectionModel.isSelected(le)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const le=this.options.toArray();this._selectionModel.sort((Ae,ot)=>this.sortComparator?this.sortComparator(Ae,ot,le):le.indexOf(Ae)-le.indexOf(ot)),this.stateChanges.next()}}_propagateChanges(le){let Ae=null;Ae=this.multiple?this.selected.map(ot=>ot.value):this.selected?this.selected.value:le,this._value=Ae,this.valueChange.emit(Ae),this._onChange(Ae),this.selectionChange.emit(this._getChangeEvent(Ae)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(le){this._elementRef.nativeElement.focus(le)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const le=this._parentFormField?.getLabelId();return this.ariaLabelledby?(le?le+" ":"")+this.ariaLabelledby:le}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const le=this._parentFormField?.getLabelId();let Ae=(le?le+" ":"")+this._valueId;return this.ariaLabelledby&&(Ae+=" "+this.ariaLabelledby),Ae}_panelDoneAnimating(le){this.openedChange.emit(le)}setDescribedByIds(le){le.length?this._elementRef.nativeElement.setAttribute("aria-describedby",le.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return bn.\u0275fac=function(le){return new(le||bn)(O.Y36(Ee.rL),O.Y36(O.sBO),O.Y36(O.R0b),O.Y36(ue.rD),O.Y36(O.SBq),O.Y36(xe.Is,8),O.Y36(be.F,8),O.Y36(be.sg,8),O.Y36(R.G_,8),O.Y36(be.a5,10),O.$8M("tabindex"),O.Y36(gn),O.Y36(Re.Kd),O.Y36(Qn,8))},bn.\u0275dir=O.lG2({type:bn,viewQuery:function(le,Ae){if(1&le&&(O.Gf(Ye,5),O.Gf(Me,5),O.Gf(a.pI,5)),2&le){let ot;O.iGM(ot=O.CRH())&&(Ae.trigger=ot.first),O.iGM(ot=O.CRH())&&(Ae.panel=ot.first),O.iGM(ot=O.CRH())&&(Ae._overlayDir=ot.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[O.qOj,O.TTD]}),bn})(),tn=(()=>{class bn extends Nt{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(le,Ae,ot){const zt=this._getItemHeight();return Math.min(Math.max(0,zt*le-Ae+zt/2),ot)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,tt.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,nt.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(le){const Ae=(0,ue.CB)(le,this.options,this.optionGroups),ot=this._getItemHeight();this.panel.nativeElement.scrollTop=0===le&&1===Ae?0:(0,ue.jH)((le+Ae)*ot,ot,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(le){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(le)}_getChangeEvent(le){return new Nn(this,le)}_calculateOverlayOffsetX(){const le=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),Ae=this._viewportRuler.getViewportSize(),ot=this._isRtl(),zt=this.multiple?56:32;let Lt;if(this.multiple)Lt=40;else if(this.disableOptionCentering)Lt=16;else{let mn=this._selectionModel.selected[0]||this.options.first;Lt=mn&&mn.group?32:16}ot||(Lt*=-1);const Mt=0-(le.left+Lt-(ot?zt:0)),Tt=le.right+Lt-Ae.width+(ot?0:zt);Mt>0?Lt+=Mt+8:Tt>0&&(Lt-=Tt+8),this._overlayDir.offsetX=Math.round(Lt),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(le,Ae,ot){const zt=this._getItemHeight(),Lt=(zt-this._triggerRect.height)/2,Mt=Math.floor(256/zt);let Tt;return this.disableOptionCentering?0:(Tt=0===this._scrollTop?le*zt:this._scrollTop===ot?(le-(this._getItemCount()-Mt))*zt+(zt-(this._getItemCount()*zt-256)%zt):Ae-zt/2,Math.round(-1*Tt-Lt))}_checkOverlayWithinViewport(le){const Ae=this._getItemHeight(),ot=this._viewportRuler.getViewportSize(),zt=this._triggerRect.top-8,Lt=ot.height-this._triggerRect.bottom-8,Mt=Math.abs(this._offsetY),mn=Math.min(this._getItemCount()*Ae,256)-Mt-this._triggerRect.height;mn>Lt?this._adjustPanelUp(mn,Lt):Mt>zt?this._adjustPanelDown(Mt,zt,le):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(le,Ae){const ot=Math.round(le-Ae);this._scrollTop-=ot,this._offsetY-=ot,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(le,Ae,ot){const zt=Math.round(le-Ae);if(this._scrollTop+=zt,this._offsetY+=zt,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=ot)return this._scrollTop=ot,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const le=this._getItemHeight(),Ae=this._getItemCount(),ot=Math.min(Ae*le,256),Lt=Ae*le-ot;let Mt;Mt=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),Mt+=(0,ue.CB)(Mt,this.options,this.optionGroups);const Tt=ot/2;this._scrollTop=this._calculateOverlayScroll(Mt,Tt,Lt),this._offsetY=this._calculateOverlayOffsetY(Mt,Tt,Lt),this._checkOverlayWithinViewport(Lt)}_getOriginBasedOnOption(){const le=this._getItemHeight(),Ae=(le-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-Ae+le/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return bn.\u0275fac=function(){let lt;return function(Ae){return(lt||(lt=O.n5z(bn)))(Ae||bn)}}(),bn.\u0275cmp=O.Xpm({type:bn,selectors:[["mat-select"]],contentQueries:function(le,Ae,ot){if(1&le&&(O.Suo(ot,pn,5),O.Suo(ot,ue.ey,5),O.Suo(ot,ue.K7,5)),2&le){let zt;O.iGM(zt=O.CRH())&&(Ae.customTrigger=zt.first),O.iGM(zt=O.CRH())&&(Ae.options=zt),O.iGM(zt=O.CRH())&&(Ae.optionGroups=zt)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(le,Ae){1&le&&O.NdJ("keydown",function(zt){return Ae._handleKeydown(zt)})("focus",function(){return Ae._onFocus()})("blur",function(){return Ae._onBlur()}),2&le&&(O.uIk("id",Ae.id)("tabindex",Ae.tabIndex)("aria-controls",Ae.panelOpen?Ae.id+"-panel":null)("aria-expanded",Ae.panelOpen)("aria-label",Ae.ariaLabel||null)("aria-required",Ae.required.toString())("aria-disabled",Ae.disabled.toString())("aria-invalid",Ae.errorState)("aria-activedescendant",Ae._getAriaActiveDescendant()),O.ekj("mat-select-disabled",Ae.disabled)("mat-select-invalid",Ae.errorState)("mat-select-required",Ae.required)("mat-select-empty",Ae.empty)("mat-select-multiple",Ae.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[O._Bn([{provide:R.Eo,useExisting:bn},{provide:ue.HF,useExisting:bn}]),O.qOj],ngContentSelectors:cn,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(le,Ae){if(1&le&&(O.F$t(In),O.TgZ(0,"div",0,1),O.NdJ("click",function(){return Ae.toggle()}),O.TgZ(3,"div",2),O.YNc(4,me,2,1,"span",3),O.YNc(5,an,3,2,"span",4),O.qZA(),O.TgZ(6,"div",5),O._UZ(7,"div",6),O.qZA()(),O.YNc(8,xn,4,14,"ng-template",7),O.NdJ("backdropClick",function(){return Ae.close()})("attach",function(){return Ae._onAttached()})("detach",function(){return Ae.close()})),2&le){const ot=O.MAs(1);O.uIk("aria-owns",Ae.panelOpen?Ae.id+"-panel":null),O.xp6(3),O.Q6J("ngSwitch",Ae.empty),O.uIk("id",Ae._valueId),O.xp6(1),O.Q6J("ngSwitchCase",!0),O.xp6(1),O.Q6J("ngSwitchCase",!1),O.xp6(3),O.Q6J("cdkConnectedOverlayPanelClass",Ae._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",Ae._scrollStrategy)("cdkConnectedOverlayOrigin",ot)("cdkConnectedOverlayOpen",Ae.panelOpen)("cdkConnectedOverlayPositions",Ae._positions)("cdkConnectedOverlayMinWidth",null==Ae._triggerRect?null:Ae._triggerRect.width)("cdkConnectedOverlayOffsetY",Ae._offsetY)}},dependencies:[T.mk,T.RF,T.n9,T.ED,a.pI,a.xu],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[Gn.transformPanelWrap,Gn.transformPanel]},changeDetection:0}),bn})(),Rt=(()=>{class bn{}return bn.\u0275fac=function(le){return new(le||bn)},bn.\u0275mod=O.oAB({type:bn}),bn.\u0275inj=O.cJS({providers:[_n],imports:[T.ez,a.U8,ue.Ng,ue.BQ,Ee.ZD,R.lN,ue.Ng,ue.BQ]}),bn})()},7155:(ai,qt,N)=>{"use strict";N.d(qt,{ev:()=>Zt,Dz:()=>st,w1:()=>ct,ge:()=>Fe,fO:()=>Ue,XQ:()=>Li,as:()=>wn,Gk:()=>ie,nj:()=>Ui,BZ:()=>ye,p0:()=>rn});var a=N(4650),T=N(445),O=N(1281),ue=N(5017),R=N(3353),Ee=N(6270),Re=N(6895),xe=N(7579),Ce=N(8996),re=N(1135),ce=N(9751),be=N(576),Ne=N(9646),Be=N(2722),Je=N(5698);const Ke=[[["caption"]],[["colgroup"],["col"]]],nt=["caption","colgroup, col"];function pt(mt){return class extends mt{constructor(...Ft){super(...Ft),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(Ft){const it=this._sticky;this._sticky=(0,O.Ig)(Ft),this._hasStickyChanged=it!==this._sticky}hasStickyChanged(){const Ft=this._hasStickyChanged;return this._hasStickyChanged=!1,Ft}resetStickyChanged(){this._hasStickyChanged=!1}}}const tt=new a.OlP("CDK_TABLE");let Ye=(()=>{class mt{constructor(it){this.template=it}}return mt.\u0275fac=function(it){return new(it||mt)(a.Y36(a.Rgc))},mt.\u0275dir=a.lG2({type:mt,selectors:[["","cdkCellDef",""]]}),mt})(),Me=(()=>{class mt{constructor(it){this.template=it}}return mt.\u0275fac=function(it){return new(it||mt)(a.Y36(a.Rgc))},mt.\u0275dir=a.lG2({type:mt,selectors:[["","cdkHeaderCellDef",""]]}),mt})(),me=(()=>{class mt{constructor(it){this.template=it}}return mt.\u0275fac=function(it){return new(it||mt)(a.Y36(a.Rgc))},mt.\u0275dir=a.lG2({type:mt,selectors:[["","cdkFooterCellDef",""]]}),mt})();class St{}const vt=pt(St);let an=(()=>{class mt extends vt{constructor(it){super(),this._table=it,this._stickyEnd=!1}get name(){return this._name}set name(it){this._setNameInput(it)}get stickyEnd(){return this._stickyEnd}set stickyEnd(it){const Wt=this._stickyEnd;this._stickyEnd=(0,O.Ig)(it),this._hasStickyChanged=Wt!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(it){it&&(this._name=it,this.cssClassFriendlyName=it.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return mt.\u0275fac=function(it){return new(it||mt)(a.Y36(tt,8))},mt.\u0275dir=a.lG2({type:mt,selectors:[["","cdkColumnDef",""]],contentQueries:function(it,Wt,at){if(1&it&&(a.Suo(at,Ye,5),a.Suo(at,Me,5),a.Suo(at,me,5)),2&it){let Yt;a.iGM(Yt=a.CRH())&&(Wt.cell=Yt.first),a.iGM(Yt=a.CRH())&&(Wt.headerCell=Yt.first),a.iGM(Yt=a.CRH())&&(Wt.footerCell=Yt.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[a._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:mt}]),a.qOj]}),mt})();class xn{constructor(Ft,it){it.nativeElement.classList.add(...Ft._columnCssClassName)}}let In=(()=>{class mt extends xn{constructor(it,Wt){super(it,Wt)}}return mt.\u0275fac=function(it){return new(it||mt)(a.Y36(an),a.Y36(a.SBq))},mt.\u0275dir=a.lG2({type:mt,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[a.qOj]}),mt})(),Gn=(()=>{class mt extends xn{constructor(it,Wt){if(super(it,Wt),1===it._table?._elementRef.nativeElement.nodeType){const at=it._table._elementRef.nativeElement.getAttribute("role");Wt.nativeElement.setAttribute("role","grid"===at||"treegrid"===at?"gridcell":"cell")}}}return mt.\u0275fac=function(it){return new(it||mt)(a.Y36(an),a.Y36(a.SBq))},mt.\u0275dir=a.lG2({type:mt,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[a.qOj]}),mt})();class Tn{constructor(){this.tasks=[],this.endTasks=[]}}const Wn=new a.OlP("_COALESCED_STYLE_SCHEDULER");let Ht=(()=>{class mt{constructor(it){this._ngZone=it,this._currentSchedule=null,this._destroyed=new xe.x}schedule(it){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(it)}scheduleEnd(it){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(it)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Tn,this._getScheduleObservable().pipe((0,Be.R)(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const it=this._currentSchedule;this._currentSchedule=new Tn;for(const Wt of it.tasks)Wt();for(const Wt of it.endTasks)Wt()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Ce.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,Je.q)(1))}}return mt.\u0275fac=function(it){return new(it||mt)(a.LFG(a.R0b))},mt.\u0275prov=a.Yz7({token:mt,factory:mt.\u0275fac}),mt})(),Kt=(()=>{class mt{constructor(it,Wt){this.template=it,this._differs=Wt}ngOnChanges(it){if(!this._columnsDiffer){const Wt=it.columns&&it.columns.currentValue||[];this._columnsDiffer=this._differs.find(Wt).create(),this._columnsDiffer.diff(Wt)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(it){return this instanceof jt?it.headerCell.template:this instanceof gn?it.footerCell.template:it.cell.template}}return mt.\u0275fac=function(it){return new(it||mt)(a.Y36(a.Rgc),a.Y36(a.ZZ4))},mt.\u0275dir=a.lG2({type:mt,features:[a.TTD]}),mt})();class et extends Kt{}const Vt=pt(et);let jt=(()=>{class mt extends Vt{constructor(it,Wt,at){super(it,Wt),this._table=at}ngOnChanges(it){super.ngOnChanges(it)}}return mt.\u0275fac=function(it){return new(it||mt)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(tt,8))},mt.\u0275dir=a.lG2({type:mt,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[a.qOj,a.TTD]}),mt})();class Yn extends Kt{}const en=pt(Yn);let gn=(()=>{class mt extends en{constructor(it,Wt,at){super(it,Wt),this._table=at}ngOnChanges(it){super.ngOnChanges(it)}}return mt.\u0275fac=function(it){return new(it||mt)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(tt,8))},mt.\u0275dir=a.lG2({type:mt,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[a.qOj,a.TTD]}),mt})(),On=(()=>{class mt extends Kt{constructor(it,Wt,at){super(it,Wt),this._table=at}}return mt.\u0275fac=function(it){return new(it||mt)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(tt,8))},mt.\u0275dir=a.lG2({type:mt,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[a.qOj]}),mt})(),Qn=(()=>{class mt{constructor(it){this._viewContainer=it,mt.mostRecentCellOutlet=this}ngOnDestroy(){mt.mostRecentCellOutlet===this&&(mt.mostRecentCellOutlet=null)}}return mt.mostRecentCellOutlet=null,mt.\u0275fac=function(it){return new(it||mt)(a.Y36(a.s_b))},mt.\u0275dir=a.lG2({type:mt,selectors:[["","cdkCellOutlet",""]]}),mt})(),_n=(()=>{class mt{}return mt.\u0275fac=function(it){return new(it||mt)},mt.\u0275cmp=a.Xpm({type:mt,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(it,Wt){1&it&&a.GkF(0,0)},dependencies:[Qn],encapsulation:2}),mt})(),yn=(()=>{class mt{}return mt.\u0275fac=function(it){return new(it||mt)},mt.\u0275cmp=a.Xpm({type:mt,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(it,Wt){1&it&&a.GkF(0,0)},dependencies:[Qn],encapsulation:2}),mt})(),pn=(()=>{class mt{constructor(it){this.templateRef=it,this._contentClassName="cdk-no-data-row"}}return mt.\u0275fac=function(it){return new(it||mt)(a.Y36(a.Rgc))},mt.\u0275dir=a.lG2({type:mt,selectors:[["ng-template","cdkNoDataRow",""]]}),mt})();const Pn=["top","bottom","left","right"];class Nt{constructor(Ft,it,Wt,at,Yt=!0,Y=!0,$e){this._isNativeHtmlTable=Ft,this._stickCellCss=it,this.direction=Wt,this._coalescedStyleScheduler=at,this._isBrowser=Yt,this._needsPositionStickyOnElement=Y,this._positionListener=$e,this._cachedCellWidths=[],this._borderCellCss={top:`${it}-border-elem-top`,bottom:`${it}-border-elem-bottom`,left:`${it}-border-elem-left`,right:`${it}-border-elem-right`}}clearStickyPositioning(Ft,it){const Wt=[];for(const at of Ft)if(at.nodeType===at.ELEMENT_NODE){Wt.push(at);for(let Yt=0;Yt<at.children.length;Yt++)Wt.push(at.children[Yt])}this._coalescedStyleScheduler.schedule(()=>{for(const at of Wt)this._removeStickyStyle(at,it)})}updateStickyColumns(Ft,it,Wt,at=!0){if(!Ft.length||!this._isBrowser||!it.some(ji=>ji)&&!Wt.some(ji=>ji))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const Yt=Ft[0],Y=Yt.children.length,$e=this._getCellWidths(Yt,at),At=this._getStickyStartColumnPositions($e,it),Xt=this._getStickyEndColumnPositions($e,Wt),ci=it.lastIndexOf(!0),zi=Wt.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const ji="rtl"===this.direction,Hr=ji?"right":"left",vr=ji?"left":"right";for(const ur of Ft)for(let xs=0;xs<Y;xs++){const $r=ur.children[xs];it[xs]&&this._addStickyStyle($r,Hr,At[xs],xs===ci),Wt[xs]&&this._addStickyStyle($r,vr,Xt[xs],xs===zi)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===ci?[]:$e.slice(0,ci+1).map((ur,xs)=>it[xs]?ur:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===zi?[]:$e.slice(zi).map((ur,xs)=>Wt[xs+zi]?ur:null).reverse()}))})}stickRows(Ft,it,Wt){if(!this._isBrowser)return;const at="bottom"===Wt?Ft.slice().reverse():Ft,Yt="bottom"===Wt?it.slice().reverse():it,Y=[],$e=[],At=[];for(let ci=0,zi=0;ci<at.length;ci++){if(!Yt[ci])continue;Y[ci]=zi;const ji=at[ci];At[ci]=this._isNativeHtmlTable?Array.from(ji.children):[ji];const Hr=ji.getBoundingClientRect().height;zi+=Hr,$e[ci]=Hr}const Xt=Yt.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let ci=0;ci<at.length;ci++){if(!Yt[ci])continue;const zi=Y[ci],ji=ci===Xt;for(const Hr of At[ci])this._addStickyStyle(Hr,Wt,zi,ji)}"top"===Wt?this._positionListener?.stickyHeaderRowsUpdated({sizes:$e,offsets:Y,elements:At}):this._positionListener?.stickyFooterRowsUpdated({sizes:$e,offsets:Y,elements:At})})}updateStickyFooterContainer(Ft,it){if(!this._isNativeHtmlTable)return;const Wt=Ft.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{it.some(at=>!at)?this._removeStickyStyle(Wt,["bottom"]):this._addStickyStyle(Wt,"bottom",0,!1)})}_removeStickyStyle(Ft,it){for(const at of it)Ft.style[at]="",Ft.classList.remove(this._borderCellCss[at]);Pn.some(at=>-1===it.indexOf(at)&&Ft.style[at])?Ft.style.zIndex=this._getCalculatedZIndex(Ft):(Ft.style.zIndex="",this._needsPositionStickyOnElement&&(Ft.style.position=""),Ft.classList.remove(this._stickCellCss))}_addStickyStyle(Ft,it,Wt,at){Ft.classList.add(this._stickCellCss),at&&Ft.classList.add(this._borderCellCss[it]),Ft.style[it]=`${Wt}px`,Ft.style.zIndex=this._getCalculatedZIndex(Ft),this._needsPositionStickyOnElement&&(Ft.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(Ft){const it={top:100,bottom:10,left:1,right:1};let Wt=0;for(const at of Pn)Ft.style[at]&&(Wt+=it[at]);return Wt?`${Wt}`:""}_getCellWidths(Ft,it=!0){if(!it&&this._cachedCellWidths.length)return this._cachedCellWidths;const Wt=[],at=Ft.children;for(let Yt=0;Yt<at.length;Yt++)Wt.push(at[Yt].getBoundingClientRect().width);return this._cachedCellWidths=Wt,Wt}_getStickyStartColumnPositions(Ft,it){const Wt=[];let at=0;for(let Yt=0;Yt<Ft.length;Yt++)it[Yt]&&(Wt[Yt]=at,at+=Ft[Yt]);return Wt}_getStickyEndColumnPositions(Ft,it){const Wt=[];let at=0;for(let Yt=Ft.length;Yt>0;Yt--)it[Yt]&&(Wt[Yt]=at,at+=Ft[Yt]);return Wt}}const Lt=new a.OlP("CDK_SPL");let Tt=(()=>{class mt{constructor(it,Wt){this.viewContainer=it,this.elementRef=Wt}}return mt.\u0275fac=function(it){return new(it||mt)(a.Y36(a.s_b),a.Y36(a.SBq))},mt.\u0275dir=a.lG2({type:mt,selectors:[["","rowOutlet",""]]}),mt})(),mn=(()=>{class mt{constructor(it,Wt){this.viewContainer=it,this.elementRef=Wt}}return mt.\u0275fac=function(it){return new(it||mt)(a.Y36(a.s_b),a.Y36(a.SBq))},mt.\u0275dir=a.lG2({type:mt,selectors:[["","headerRowOutlet",""]]}),mt})(),An=(()=>{class mt{constructor(it,Wt){this.viewContainer=it,this.elementRef=Wt}}return mt.\u0275fac=function(it){return new(it||mt)(a.Y36(a.s_b),a.Y36(a.SBq))},mt.\u0275dir=a.lG2({type:mt,selectors:[["","footerRowOutlet",""]]}),mt})(),Ln=(()=>{class mt{constructor(it,Wt){this.viewContainer=it,this.elementRef=Wt}}return mt.\u0275fac=function(it){return new(it||mt)(a.Y36(a.s_b),a.Y36(a.SBq))},mt.\u0275dir=a.lG2({type:mt,selectors:[["","noDataRowOutlet",""]]}),mt})(),li=(()=>{class mt{constructor(it,Wt,at,Yt,Y,$e,At,Xt,ci,zi,ji,Hr){this._differs=it,this._changeDetectorRef=Wt,this._elementRef=at,this._dir=Y,this._platform=At,this._viewRepeater=Xt,this._coalescedStyleScheduler=ci,this._viewportRuler=zi,this._stickyPositioningListener=ji,this._ngZone=Hr,this._onDestroy=new xe.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new a.vpe,this.viewChange=new re.X({start:0,end:Number.MAX_VALUE}),Yt||this._elementRef.nativeElement.setAttribute("role","table"),this._document=$e,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(it){this._trackByFn=it}get dataSource(){return this._dataSource}set dataSource(it){this._dataSource!==it&&this._switchDataSource(it)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(it){this._multiTemplateDataRows=(0,O.Ig)(it),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(it){this._fixedLayout=(0,O.Ig)(it),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((it,Wt)=>this.trackBy?this.trackBy(Wt.dataIndex,Wt.data):Wt),this._viewportRuler.change().pipe((0,Be.R)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const Wt=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||Wt,this._forceRecalculateCellWidths=Wt,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(it=>{it.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,ue.Z9)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const it=this._dataDiffer.diff(this._renderRows);if(!it)return this._updateNoDataRow(),void this.contentChanged.next();const Wt=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(it,Wt,(at,Yt,Y)=>this._getEmbeddedViewArgs(at.item,Y),at=>at.item.data,at=>{1===at.operation&&at.context&&this._renderCellTemplateForItem(at.record.item.rowDef,at.context)}),this._updateRowIndexContext(),it.forEachIdentityChange(at=>{Wt.get(at.currentIndex).context.$implicit=at.item.data}),this._updateNoDataRow(),this._ngZone&&a.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,Je.q)(1),(0,Be.R)(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(it){this._customColumnDefs.add(it)}removeColumnDef(it){this._customColumnDefs.delete(it)}addRowDef(it){this._customRowDefs.add(it)}removeRowDef(it){this._customRowDefs.delete(it)}addHeaderRowDef(it){this._customHeaderRowDefs.add(it),this._headerRowDefChanged=!0}removeHeaderRowDef(it){this._customHeaderRowDefs.delete(it),this._headerRowDefChanged=!0}addFooterRowDef(it){this._customFooterRowDefs.add(it),this._footerRowDefChanged=!0}removeFooterRowDef(it){this._customFooterRowDefs.delete(it),this._footerRowDefChanged=!0}setNoDataRow(it){this._customNoDataRow=it}updateStickyHeaderRowStyles(){const it=this._getRenderedRows(this._headerRowOutlet),at=this._elementRef.nativeElement.querySelector("thead");at&&(at.style.display=it.length?"":"none");const Yt=this._headerRowDefs.map(Y=>Y.sticky);this._stickyStyler.clearStickyPositioning(it,["top"]),this._stickyStyler.stickRows(it,Yt,"top"),this._headerRowDefs.forEach(Y=>Y.resetStickyChanged())}updateStickyFooterRowStyles(){const it=this._getRenderedRows(this._footerRowOutlet),at=this._elementRef.nativeElement.querySelector("tfoot");at&&(at.style.display=it.length?"":"none");const Yt=this._footerRowDefs.map(Y=>Y.sticky);this._stickyStyler.clearStickyPositioning(it,["bottom"]),this._stickyStyler.stickRows(it,Yt,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,Yt),this._footerRowDefs.forEach(Y=>Y.resetStickyChanged())}updateStickyColumnStyles(){const it=this._getRenderedRows(this._headerRowOutlet),Wt=this._getRenderedRows(this._rowOutlet),at=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...it,...Wt,...at],["left","right"]),this._stickyColumnStylesNeedReset=!1),it.forEach((Yt,Y)=>{this._addStickyColumnStyles([Yt],this._headerRowDefs[Y])}),this._rowDefs.forEach(Yt=>{const Y=[];for(let $e=0;$e<Wt.length;$e++)this._renderRows[$e].rowDef===Yt&&Y.push(Wt[$e]);this._addStickyColumnStyles(Y,Yt)}),at.forEach((Yt,Y)=>{this._addStickyColumnStyles([Yt],this._footerRowDefs[Y])}),Array.from(this._columnDefsByName.values()).forEach(Yt=>Yt.resetStickyChanged())}_getAllRenderRows(){const it=[],Wt=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let at=0;at<this._data.length;at++){let Yt=this._data[at];const Y=this._getRenderRowsForData(Yt,at,Wt.get(Yt));this._cachedRenderRowsMap.has(Yt)||this._cachedRenderRowsMap.set(Yt,new WeakMap);for(let $e=0;$e<Y.length;$e++){let At=Y[$e];const Xt=this._cachedRenderRowsMap.get(At.data);Xt.has(At.rowDef)?Xt.get(At.rowDef).push(At):Xt.set(At.rowDef,[At]),it.push(At)}}return it}_getRenderRowsForData(it,Wt,at){return this._getRowDefs(it,Wt).map(Y=>{const $e=at&&at.has(Y)?at.get(Y):[];if($e.length){const At=$e.shift();return At.dataIndex=Wt,At}return{data:it,rowDef:Y,dataIndex:Wt}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Bi(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(Wt=>{this._columnDefsByName.has(Wt.name),this._columnDefsByName.set(Wt.name,Wt)})}_cacheRowDefs(){this._headerRowDefs=Bi(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Bi(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Bi(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const it=this._rowDefs.filter(Wt=>!Wt.when);this._defaultRowDef=it[0]}_renderUpdatedColumns(){const it=(Y,$e)=>Y||!!$e.getColumnsDiff(),Wt=this._rowDefs.reduce(it,!1);Wt&&this._forceRenderDataRows();const at=this._headerRowDefs.reduce(it,!1);at&&this._forceRenderHeaderRows();const Yt=this._footerRowDefs.reduce(it,!1);return Yt&&this._forceRenderFooterRows(),Wt||at||Yt}_switchDataSource(it){this._data=[],(0,ue.Z9)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),it||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=it}_observeRenderChanges(){if(!this.dataSource)return;let it;(0,ue.Z9)(this.dataSource)?it=this.dataSource.connect(this):function Ve(mt){return!!mt&&(mt instanceof ce.y||(0,be.m)(mt.lift)&&(0,be.m)(mt.subscribe))}(this.dataSource)?it=this.dataSource:Array.isArray(this.dataSource)&&(it=(0,Ne.of)(this.dataSource)),this._renderChangeSubscription=it.pipe((0,Be.R)(this._onDestroy)).subscribe(Wt=>{this._data=Wt||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((it,Wt)=>this._renderRow(this._headerRowOutlet,it,Wt)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((it,Wt)=>this._renderRow(this._footerRowOutlet,it,Wt)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(it,Wt){const at=Array.from(Wt.columns||[]).map($e=>this._columnDefsByName.get($e)),Yt=at.map($e=>$e.sticky),Y=at.map($e=>$e.stickyEnd);this._stickyStyler.updateStickyColumns(it,Yt,Y,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(it){const Wt=[];for(let at=0;at<it.viewContainer.length;at++){const Yt=it.viewContainer.get(at);Wt.push(Yt.rootNodes[0])}return Wt}_getRowDefs(it,Wt){if(1==this._rowDefs.length)return[this._rowDefs[0]];let at=[];if(this.multiTemplateDataRows)at=this._rowDefs.filter(Yt=>!Yt.when||Yt.when(Wt,it));else{let Yt=this._rowDefs.find(Y=>Y.when&&Y.when(Wt,it))||this._defaultRowDef;Yt&&at.push(Yt)}return at}_getEmbeddedViewArgs(it,Wt){return{templateRef:it.rowDef.template,context:{$implicit:it.data},index:Wt}}_renderRow(it,Wt,at,Yt={}){const Y=it.viewContainer.createEmbeddedView(Wt.template,Yt,at);return this._renderCellTemplateForItem(Wt,Yt),Y}_renderCellTemplateForItem(it,Wt){for(let at of this._getCellTemplates(it))Qn.mostRecentCellOutlet&&Qn.mostRecentCellOutlet._viewContainer.createEmbeddedView(at,Wt);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const it=this._rowOutlet.viewContainer;for(let Wt=0,at=it.length;Wt<at;Wt++){const Y=it.get(Wt).context;Y.count=at,Y.first=0===Wt,Y.last=Wt===at-1,Y.even=Wt%2==0,Y.odd=!Y.even,this.multiTemplateDataRows?(Y.dataIndex=this._renderRows[Wt].dataIndex,Y.renderIndex=Wt):Y.index=this._renderRows[Wt].dataIndex}}_getCellTemplates(it){return it&&it.columns?Array.from(it.columns,Wt=>{const at=this._columnDefsByName.get(Wt);return it.extractCellTemplate(at)}):[]}_applyNativeTableSections(){const it=this._document.createDocumentFragment(),Wt=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const at of Wt){const Yt=this._document.createElement(at.tag);Yt.setAttribute("role","rowgroup");for(const Y of at.outlets)Yt.appendChild(Y.elementRef.nativeElement);it.appendChild(Yt)}this._elementRef.nativeElement.appendChild(it)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const it=(Wt,at)=>Wt||at.hasStickyChanged();this._headerRowDefs.reduce(it,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(it,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(it,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Nt(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,Ne.of)()).pipe((0,Be.R)(this._onDestroy)).subscribe(Wt=>{this._stickyStyler.direction=Wt,this.updateStickyColumnStyles()})}_getOwnDefs(it){return it.filter(Wt=>!Wt._table||Wt._table===this)}_updateNoDataRow(){const it=this._customNoDataRow||this._noDataRow;if(!it)return;const Wt=0===this._rowOutlet.viewContainer.length;if(Wt===this._isShowingNoDataRow)return;const at=this._noDataRowOutlet.viewContainer;if(Wt){const Yt=at.createEmbeddedView(it.templateRef),Y=Yt.rootNodes[0];1===Yt.rootNodes.length&&Y?.nodeType===this._document.ELEMENT_NODE&&(Y.setAttribute("role","row"),Y.classList.add(it._contentClassName))}else at.clear();this._isShowingNoDataRow=Wt}}return mt.\u0275fac=function(it){return new(it||mt)(a.Y36(a.ZZ4),a.Y36(a.sBO),a.Y36(a.SBq),a.$8M("role"),a.Y36(T.Is,8),a.Y36(Re.K0),a.Y36(R.t4),a.Y36(ue.k),a.Y36(Wn),a.Y36(Ee.rL),a.Y36(Lt,12),a.Y36(a.R0b,8))},mt.\u0275cmp=a.Xpm({type:mt,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(it,Wt,at){if(1&it&&(a.Suo(at,pn,5),a.Suo(at,an,5),a.Suo(at,On,5),a.Suo(at,jt,5),a.Suo(at,gn,5)),2&it){let Yt;a.iGM(Yt=a.CRH())&&(Wt._noDataRow=Yt.first),a.iGM(Yt=a.CRH())&&(Wt._contentColumnDefs=Yt),a.iGM(Yt=a.CRH())&&(Wt._contentRowDefs=Yt),a.iGM(Yt=a.CRH())&&(Wt._contentHeaderRowDefs=Yt),a.iGM(Yt=a.CRH())&&(Wt._contentFooterRowDefs=Yt)}},viewQuery:function(it,Wt){if(1&it&&(a.Gf(Tt,7),a.Gf(mn,7),a.Gf(An,7),a.Gf(Ln,7)),2&it){let at;a.iGM(at=a.CRH())&&(Wt._rowOutlet=at.first),a.iGM(at=a.CRH())&&(Wt._headerRowOutlet=at.first),a.iGM(at=a.CRH())&&(Wt._footerRowOutlet=at.first),a.iGM(at=a.CRH())&&(Wt._noDataRowOutlet=at.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(it,Wt){2&it&&a.ekj("cdk-table-fixed-layout",Wt.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[a._Bn([{provide:tt,useExisting:mt},{provide:ue.k,useClass:ue.yy},{provide:Wn,useClass:Ht},{provide:Lt,useValue:null}])],ngContentSelectors:nt,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(it,Wt){1&it&&(a.F$t(Ke),a.Hsn(0),a.Hsn(1,1),a.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[Tt,mn,An,Ln],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),mt})();function Bi(mt,Ft){return mt.concat(Array.from(Ft))}let En=(()=>{class mt{}return mt.\u0275fac=function(it){return new(it||mt)},mt.\u0275mod=a.oAB({type:mt}),mt.\u0275inj=a.cJS({imports:[Ee.Cl]}),mt})();var sn=N(3238);const It=[[["caption"]],[["colgroup"],["col"]]],xt=["caption","colgroup, col"];let ye=(()=>{class mt extends li{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return mt.\u0275fac=function(){let Ft;return function(Wt){return(Ft||(Ft=a.n5z(mt)))(Wt||mt)}}(),mt.\u0275cmp=a.Xpm({type:mt,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(it,Wt){2&it&&a.ekj("mat-table-fixed-layout",Wt.fixedLayout)},exportAs:["matTable"],features:[a._Bn([{provide:ue.k,useClass:ue.yy},{provide:li,useExisting:mt},{provide:tt,useExisting:mt},{provide:Wn,useClass:Ht},{provide:Lt,useValue:null}]),a.qOj],ngContentSelectors:xt,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(it,Wt){1&it&&(a.F$t(It),a.Hsn(0),a.Hsn(1,1),a.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[Tt,mn,An,Ln],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),mt})(),st=(()=>{class mt extends Ye{}return mt.\u0275fac=function(){let Ft;return function(Wt){return(Ft||(Ft=a.n5z(mt)))(Wt||mt)}}(),mt.\u0275dir=a.lG2({type:mt,selectors:[["","matCellDef",""]],features:[a._Bn([{provide:Ye,useExisting:mt}]),a.qOj]}),mt})(),Ue=(()=>{class mt extends Me{}return mt.\u0275fac=function(){let Ft;return function(Wt){return(Ft||(Ft=a.n5z(mt)))(Wt||mt)}}(),mt.\u0275dir=a.lG2({type:mt,selectors:[["","matHeaderCellDef",""]],features:[a._Bn([{provide:Me,useExisting:mt}]),a.qOj]}),mt})(),ct=(()=>{class mt extends an{get name(){return this._name}set name(it){this._setNameInput(it)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return mt.\u0275fac=function(){let Ft;return function(Wt){return(Ft||(Ft=a.n5z(mt)))(Wt||mt)}}(),mt.\u0275dir=a.lG2({type:mt,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[a._Bn([{provide:an,useExisting:mt},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:mt}]),a.qOj]}),mt})(),Fe=(()=>{class mt extends In{}return mt.\u0275fac=function(){let Ft;return function(Wt){return(Ft||(Ft=a.n5z(mt)))(Wt||mt)}}(),mt.\u0275dir=a.lG2({type:mt,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[a.qOj]}),mt})(),Zt=(()=>{class mt extends Gn{}return mt.\u0275fac=function(){let Ft;return function(Wt){return(Ft||(Ft=a.n5z(mt)))(Wt||mt)}}(),mt.\u0275dir=a.lG2({type:mt,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[a.qOj]}),mt})(),wn=(()=>{class mt extends jt{}return mt.\u0275fac=function(){let Ft;return function(Wt){return(Ft||(Ft=a.n5z(mt)))(Wt||mt)}}(),mt.\u0275dir=a.lG2({type:mt,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[a._Bn([{provide:jt,useExisting:mt}]),a.qOj]}),mt})(),Ui=(()=>{class mt extends On{}return mt.\u0275fac=function(){let Ft;return function(Wt){return(Ft||(Ft=a.n5z(mt)))(Wt||mt)}}(),mt.\u0275dir=a.lG2({type:mt,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[a._Bn([{provide:On,useExisting:mt}]),a.qOj]}),mt})(),Li=(()=>{class mt extends _n{}return mt.\u0275fac=function(){let Ft;return function(Wt){return(Ft||(Ft=a.n5z(mt)))(Wt||mt)}}(),mt.\u0275cmp=a.Xpm({type:mt,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[a._Bn([{provide:_n,useExisting:mt}]),a.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(it,Wt){1&it&&a.GkF(0,0)},dependencies:[Qn],encapsulation:2}),mt})(),ie=(()=>{class mt extends yn{}return mt.\u0275fac=function(){let Ft;return function(Wt){return(Ft||(Ft=a.n5z(mt)))(Wt||mt)}}(),mt.\u0275cmp=a.Xpm({type:mt,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[a._Bn([{provide:yn,useExisting:mt}]),a.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(it,Wt){1&it&&a.GkF(0,0)},dependencies:[Qn],encapsulation:2}),mt})(),rn=(()=>{class mt{}return mt.\u0275fac=function(it){return new(it||mt)},mt.\u0275mod=a.oAB({type:mt}),mt.\u0275inj=a.cJS({imports:[En,sn.BQ,sn.BQ]}),mt})()},3848:(ai,qt,N)=>{"use strict";N.d(qt,{Nh:()=>Ue,SP:()=>sn,uX:()=>bn});var a=N(2687),T=N(9643),O=N(4080),ue=N(6895),R=N(4650),Ee=N(3238),Re=N(5698),xe=N(8675),Ce=N(1884),re=N(2722),ce=N(3900),be=N(5684),Ve=N(7579),Ne=N(727),Be=N(4968),Je=N(9646),Ke=N(6451),nt=N(515),We=N(9751),ft=N(5963),pt=N(445),tt=N(7340),je=N(1281),Ye=N(6270),Me=N(3353),me=N(9521);function St(Te,ct){1&Te&&R.Hsn(0)}const vt=["*"];function an(Te,ct){}const xn=function(Te){return{animationDuration:Te}},In=function(Te,ct){return{value:Te,params:ct}},cn=["tabListContainer"],Gn=["tabList"],Tn=["tabListInner"],Wn=["nextPaginator"],Ht=["previousPaginator"],Bt=["tabBodyWrapper"],Kt=["tabHeader"];function et(Te,ct){}function Vt(Te,ct){if(1&Te&&R.YNc(0,et,0,0,"ng-template",10),2&Te){const Fe=R.oxw().$implicit;R.Q6J("cdkPortalOutlet",Fe.templateLabel)}}function jt(Te,ct){if(1&Te&&R._uU(0),2&Te){const Fe=R.oxw().$implicit;R.Oqu(Fe.textLabel)}}function Yn(Te,ct){if(1&Te){const Fe=R.EpF();R.TgZ(0,"div",6),R.NdJ("click",function(){const Zt=R.CHM(Fe),wn=Zt.$implicit,ti=Zt.index,Ui=R.oxw(),Li=R.MAs(1);return R.KtG(Ui._handleClick(wn,Li,ti))})("cdkFocusChange",function(Zt){const ti=R.CHM(Fe).index,Ui=R.oxw();return R.KtG(Ui._tabFocusChanged(Zt,ti))}),R.TgZ(1,"div",7),R.YNc(2,Vt,1,1,"ng-template",8),R.YNc(3,jt,1,1,"ng-template",null,9,R.W1O),R.qZA()()}if(2&Te){const Fe=ct.$implicit,qe=ct.index,Zt=R.MAs(4),wn=R.oxw();R.ekj("mat-tab-label-active",wn.selectedIndex===qe),R.Q6J("id",wn._getTabLabelId(qe))("ngClass",Fe.labelClass)("disabled",Fe.disabled)("matRippleDisabled",Fe.disabled||wn.disableRipple),R.uIk("tabIndex",wn._getTabIndex(Fe,qe))("aria-posinset",qe+1)("aria-setsize",wn._tabs.length)("aria-controls",wn._getTabContentId(qe))("aria-selected",wn.selectedIndex===qe)("aria-label",Fe.ariaLabel||null)("aria-labelledby",!Fe.ariaLabel&&Fe.ariaLabelledby?Fe.ariaLabelledby:null),R.xp6(2),R.Q6J("ngIf",Fe.templateLabel)("ngIfElse",Zt)}}function en(Te,ct){if(1&Te){const Fe=R.EpF();R.TgZ(0,"mat-tab-body",11),R.NdJ("_onCentered",function(){R.CHM(Fe);const Zt=R.oxw();return R.KtG(Zt._removeTabBodyWrapperHeight())})("_onCentering",function(Zt){R.CHM(Fe);const wn=R.oxw();return R.KtG(wn._setTabBodyWrapperHeight(Zt))}),R.qZA()}if(2&Te){const Fe=ct.$implicit,qe=ct.index,Zt=R.oxw();R.ekj("mat-tab-body-active",Zt.selectedIndex===qe),R.Q6J("id",Zt._getTabContentId(qe))("ngClass",Fe.bodyClass)("content",Fe.content)("position",Fe.position)("origin",Fe.origin)("animationDuration",Zt.animationDuration)("preserveContent",Zt.preserveContent),R.uIk("tabindex",null!=Zt.contentTabIndex&&Zt.selectedIndex===qe?Zt.contentTabIndex:null)("aria-labelledby",Zt._getTabLabelId(qe))}}const On=new R.OlP("MatInkBarPositioner",{providedIn:"root",factory:function Qn(){return ct=>({left:ct?(ct.offsetLeft||0)+"px":"0",width:ct?(ct.offsetWidth||0)+"px":"0"})}});let _n=(()=>{class Te{constructor(Fe,qe,Zt,wn){this._elementRef=Fe,this._ngZone=qe,this._inkBarPositioner=Zt,this._animationMode=wn}alignToElement(Fe){this.show(),this._ngZone.onStable.pipe((0,Re.q)(1)).subscribe(()=>{const qe=this._inkBarPositioner(Fe),Zt=this._elementRef.nativeElement;Zt.style.left=qe.left,Zt.style.width=qe.width})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return Te.\u0275fac=function(Fe){return new(Fe||Te)(R.Y36(R.SBq),R.Y36(R.R0b),R.Y36(On),R.Y36(R.QbO,8))},Te.\u0275dir=R.lG2({type:Te,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(Fe,qe){2&Fe&&R.ekj("_mat-animation-noopable","NoopAnimations"===qe._animationMode)}}),Te})();const Nn=new R.OlP("MatTabContent"),pn=new R.OlP("MatTabLabel"),Pn=new R.OlP("MAT_TAB"),tn=(0,Ee.Id)(class{}),Rt=new R.OlP("MAT_TAB_GROUP");let bn=(()=>{class Te extends tn{constructor(Fe,qe){super(),this._viewContainerRef=Fe,this._closestTabGroup=qe,this.textLabel="",this._contentPortal=null,this._stateChanges=new Ve.x,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(Fe){this._setTemplateLabelInput(Fe)}get content(){return this._contentPortal}ngOnChanges(Fe){(Fe.hasOwnProperty("textLabel")||Fe.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new O.UE(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(Fe){Fe&&Fe._closestTab===this&&(this._templateLabel=Fe)}}return Te.\u0275fac=function(Fe){return new(Fe||Te)(R.Y36(R.s_b),R.Y36(Rt,8))},Te.\u0275cmp=R.Xpm({type:Te,selectors:[["mat-tab"]],contentQueries:function(Fe,qe,Zt){if(1&Fe&&(R.Suo(Zt,pn,5),R.Suo(Zt,Nn,7,R.Rgc)),2&Fe){let wn;R.iGM(wn=R.CRH())&&(qe.templateLabel=wn.first),R.iGM(wn=R.CRH())&&(qe._explicitContent=wn.first)}},viewQuery:function(Fe,qe){if(1&Fe&&R.Gf(R.Rgc,7),2&Fe){let Zt;R.iGM(Zt=R.CRH())&&(qe._implicitContent=Zt.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[R._Bn([{provide:Pn,useExisting:Te}]),R.qOj,R.TTD],ngContentSelectors:vt,decls:1,vars:0,template:function(Fe,qe){1&Fe&&(R.F$t(),R.YNc(0,St,1,0,"ng-template"))},encapsulation:2}),Te})();const lt={translateTab:(0,tt.X$)("translateTab",[(0,tt.SB)("center, void, left-origin-center, right-origin-center",(0,tt.oB)({transform:"none"})),(0,tt.SB)("left",(0,tt.oB)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,tt.SB)("right",(0,tt.oB)({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,tt.eR)("* => left, * => right, left => center, right => center",(0,tt.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),(0,tt.eR)("void => left-origin-center",[(0,tt.oB)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),(0,tt.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),(0,tt.eR)("void => right-origin-center",[(0,tt.oB)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),(0,tt.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let le=(()=>{class Te extends O.Pl{constructor(Fe,qe,Zt,wn){super(Fe,qe,wn),this._host=Zt,this._centeringSub=Ne.w0.EMPTY,this._leavingSub=Ne.w0.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe((0,xe.O)(this._host._isCenterPosition(this._host._position))).subscribe(Fe=>{Fe&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return Te.\u0275fac=function(Fe){return new(Fe||Te)(R.Y36(R._Vd),R.Y36(R.s_b),R.Y36((0,R.Gpc)(()=>ot)),R.Y36(ue.K0))},Te.\u0275dir=R.lG2({type:Te,selectors:[["","matTabBodyHost",""]],features:[R.qOj]}),Te})(),Ae=(()=>{class Te{constructor(Fe,qe,Zt){this._elementRef=Fe,this._dir=qe,this._dirChangeSubscription=Ne.w0.EMPTY,this._translateTabComplete=new Ve.x,this._onCentering=new R.vpe,this._beforeCentering=new R.vpe,this._afterLeavingCenter=new R.vpe,this._onCentered=new R.vpe(!0),this.animationDuration="500ms",this.preserveContent=!1,qe&&(this._dirChangeSubscription=qe.change.subscribe(wn=>{this._computePositionAnimationState(wn),Zt.markForCheck()})),this._translateTabComplete.pipe((0,Ce.x)((wn,ti)=>wn.fromState===ti.fromState&&wn.toState===ti.toState)).subscribe(wn=>{this._isCenterPosition(wn.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(wn.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(Fe){this._positionIndex=Fe,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(Fe){const qe=this._isCenterPosition(Fe.toState);this._beforeCentering.emit(qe),qe&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(Fe){return"center"==Fe||"left-origin-center"==Fe||"right-origin-center"==Fe}_computePositionAnimationState(Fe=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==Fe?"left":"right":this._positionIndex>0?"ltr"==Fe?"right":"left":"center"}_computePositionFromOrigin(Fe){const qe=this._getLayoutDirection();return"ltr"==qe&&Fe<=0||"rtl"==qe&&Fe>0?"left-origin-center":"right-origin-center"}}return Te.\u0275fac=function(Fe){return new(Fe||Te)(R.Y36(R.SBq),R.Y36(pt.Is,8),R.Y36(R.sBO))},Te.\u0275dir=R.lG2({type:Te,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),Te})(),ot=(()=>{class Te extends Ae{constructor(Fe,qe,Zt){super(Fe,qe,Zt)}}return Te.\u0275fac=function(Fe){return new(Fe||Te)(R.Y36(R.SBq),R.Y36(pt.Is,8),R.Y36(R.sBO))},Te.\u0275cmp=R.Xpm({type:Te,selectors:[["mat-tab-body"]],viewQuery:function(Fe,qe){if(1&Fe&&R.Gf(O.Pl,5),2&Fe){let Zt;R.iGM(Zt=R.CRH())&&(qe._portalHost=Zt.first)}},hostAttrs:[1,"mat-tab-body"],features:[R.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(Fe,qe){1&Fe&&(R.TgZ(0,"div",0,1),R.NdJ("@translateTab.start",function(wn){return qe._onTranslateTabStarted(wn)})("@translateTab.done",function(wn){return qe._translateTabComplete.next(wn)}),R.YNc(2,an,0,0,"ng-template",2),R.qZA()),2&Fe&&R.Q6J("@translateTab",R.WLB(3,In,qe._position,R.VKq(1,xn,qe.animationDuration)))},dependencies:[le],styles:['.mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}.mat-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[lt.translateTab]}}),Te})();const zt=new R.OlP("MAT_TABS_CONFIG"),Lt=(0,Ee.Id)(class{});let Mt=(()=>{class Te extends Lt{constructor(Fe){super(),this.elementRef=Fe}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return Te.\u0275fac=function(Fe){return new(Fe||Te)(R.Y36(R.SBq))},Te.\u0275dir=R.lG2({type:Te,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(Fe,qe){2&Fe&&(R.uIk("aria-disabled",!!qe.disabled),R.ekj("mat-tab-disabled",qe.disabled))},inputs:{disabled:"disabled"},features:[R.qOj]}),Te})();const Tt=(0,Me.i$)({passive:!0});let mi=(()=>{class Te{constructor(Fe,qe,Zt,wn,ti,Ui,Li){this._elementRef=Fe,this._changeDetectorRef=qe,this._viewportRuler=Zt,this._dir=wn,this._ngZone=ti,this._platform=Ui,this._animationMode=Li,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Ve.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Ve.x,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new R.vpe,this.indexFocused=new R.vpe,ti.runOutsideAngular(()=>{(0,Be.R)(Fe.nativeElement,"mouseleave").pipe((0,re.R)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get disablePagination(){return this._disablePagination}set disablePagination(Fe){this._disablePagination=(0,je.Ig)(Fe)}get selectedIndex(){return this._selectedIndex}set selectedIndex(Fe){Fe=(0,je.su)(Fe),this._selectedIndex!=Fe&&(this._selectedIndexChanged=!0,this._selectedIndex=Fe,this._keyManager&&this._keyManager.updateActiveItem(Fe))}ngAfterViewInit(){(0,Be.R)(this._previousPaginator.nativeElement,"touchstart",Tt).pipe((0,re.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),(0,Be.R)(this._nextPaginator.nativeElement,"touchstart",Tt).pipe((0,re.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const Fe=this._dir?this._dir.change:(0,Je.of)("ltr"),qe=this._viewportRuler.change(150),Zt=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new a.Em(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe((0,Re.q)(1)).subscribe(Zt),(0,Ke.T)(Fe,qe,this._items.changes,this._itemsResized()).pipe((0,re.R)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),Zt()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe((0,re.R)(this._destroyed)).subscribe(wn=>{this.indexFocused.emit(wn),this._setTabFocus(wn)})}_itemsResized(){return"function"!=typeof ResizeObserver?nt.E:this._items.changes.pipe((0,xe.O)(this._items),(0,ce.w)(Fe=>new We.y(qe=>this._ngZone.runOutsideAngular(()=>{const Zt=new ResizeObserver(()=>{qe.next()});return Fe.forEach(wn=>{Zt.observe(wn.elementRef.nativeElement)}),()=>{Zt.disconnect()}}))),(0,be.T)(1))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(Fe){if(!(0,me.Vb)(Fe))switch(Fe.keyCode){case me.K5:case me.L_:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(Fe));break;default:this._keyManager.onKeydown(Fe)}}_onContentChanges(){const Fe=this._elementRef.nativeElement.textContent;Fe!==this._currentTextContent&&(this._currentTextContent=Fe||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(Fe){!this._isValidIndex(Fe)||this.focusIndex===Fe||!this._keyManager||this._keyManager.setActiveItem(Fe)}_isValidIndex(Fe){if(!this._items)return!0;const qe=this._items?this._items.toArray()[Fe]:null;return!!qe&&!qe.disabled}_setTabFocus(Fe){if(this._showPaginationControls&&this._scrollToLabel(Fe),this._items&&this._items.length){this._items.toArray()[Fe].focus();const qe=this._tabListContainer.nativeElement;qe.scrollLeft="ltr"==this._getLayoutDirection()?0:qe.scrollWidth-qe.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const Fe=this.scrollDistance,qe="ltr"===this._getLayoutDirection()?-Fe:Fe;this._tabList.nativeElement.style.transform=`translateX(${Math.round(qe)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(Fe){this._scrollTo(Fe)}_scrollHeader(Fe){return this._scrollTo(this._scrollDistance+("before"==Fe?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(Fe){this._stopInterval(),this._scrollHeader(Fe)}_scrollToLabel(Fe){if(this.disablePagination)return;const qe=this._items?this._items.toArray()[Fe]:null;if(!qe)return;const Zt=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:wn,offsetWidth:ti}=qe.elementRef.nativeElement;let Ui,Li;"ltr"==this._getLayoutDirection()?(Ui=wn,Li=Ui+ti):(Li=this._tabListInner.nativeElement.offsetWidth-wn,Ui=Li-ti);const ut=this.scrollDistance,ie=this.scrollDistance+Zt;Ui<ut?this.scrollDistance-=ut-Ui+60:Li>ie&&(this.scrollDistance+=Li-ie+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const Fe=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;Fe||(this.scrollDistance=0),Fe!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=Fe}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const Fe=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,qe=Fe?Fe.elementRef.nativeElement:null;qe?this._inkBar.alignToElement(qe):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(Fe,qe){qe&&null!=qe.button&&0!==qe.button||(this._stopInterval(),(0,ft.H)(650,100).pipe((0,re.R)((0,Ke.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:Zt,distance:wn}=this._scrollHeader(Fe);(0===wn||wn>=Zt)&&this._stopInterval()}))}_scrollTo(Fe){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const qe=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(qe,Fe)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:qe,distance:this._scrollDistance}}}return Te.\u0275fac=function(Fe){return new(Fe||Te)(R.Y36(R.SBq),R.Y36(R.sBO),R.Y36(Ye.rL),R.Y36(pt.Is,8),R.Y36(R.R0b),R.Y36(Me.t4),R.Y36(R.QbO,8))},Te.\u0275dir=R.lG2({type:Te,inputs:{disablePagination:"disablePagination"}}),Te})(),Xi=(()=>{class Te extends mi{constructor(Fe,qe,Zt,wn,ti,Ui,Li){super(Fe,qe,Zt,wn,ti,Ui,Li),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(Fe){this._disableRipple=(0,je.Ig)(Fe)}_itemSelected(Fe){Fe.preventDefault()}}return Te.\u0275fac=function(Fe){return new(Fe||Te)(R.Y36(R.SBq),R.Y36(R.sBO),R.Y36(Ye.rL),R.Y36(pt.Is,8),R.Y36(R.R0b),R.Y36(Me.t4),R.Y36(R.QbO,8))},Te.\u0275dir=R.lG2({type:Te,inputs:{disableRipple:"disableRipple"},features:[R.qOj]}),Te})(),li=(()=>{class Te extends Xi{constructor(Fe,qe,Zt,wn,ti,Ui,Li){super(Fe,qe,Zt,wn,ti,Ui,Li)}}return Te.\u0275fac=function(Fe){return new(Fe||Te)(R.Y36(R.SBq),R.Y36(R.sBO),R.Y36(Ye.rL),R.Y36(pt.Is,8),R.Y36(R.R0b),R.Y36(Me.t4),R.Y36(R.QbO,8))},Te.\u0275cmp=R.Xpm({type:Te,selectors:[["mat-tab-header"]],contentQueries:function(Fe,qe,Zt){if(1&Fe&&R.Suo(Zt,Mt,4),2&Fe){let wn;R.iGM(wn=R.CRH())&&(qe._items=wn)}},viewQuery:function(Fe,qe){if(1&Fe&&(R.Gf(_n,7),R.Gf(cn,7),R.Gf(Gn,7),R.Gf(Tn,7),R.Gf(Wn,5),R.Gf(Ht,5)),2&Fe){let Zt;R.iGM(Zt=R.CRH())&&(qe._inkBar=Zt.first),R.iGM(Zt=R.CRH())&&(qe._tabListContainer=Zt.first),R.iGM(Zt=R.CRH())&&(qe._tabList=Zt.first),R.iGM(Zt=R.CRH())&&(qe._tabListInner=Zt.first),R.iGM(Zt=R.CRH())&&(qe._nextPaginator=Zt.first),R.iGM(Zt=R.CRH())&&(qe._previousPaginator=Zt.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(Fe,qe){2&Fe&&R.ekj("mat-tab-header-pagination-controls-enabled",qe._showPaginationControls)("mat-tab-header-rtl","rtl"==qe._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[R.qOj],ngContentSelectors:vt,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(Fe,qe){1&Fe&&(R.F$t(),R.TgZ(0,"button",0,1),R.NdJ("click",function(){return qe._handlePaginatorClick("before")})("mousedown",function(wn){return qe._handlePaginatorPress("before",wn)})("touchend",function(){return qe._stopInterval()}),R._UZ(2,"div",2),R.qZA(),R.TgZ(3,"div",3,4),R.NdJ("keydown",function(wn){return qe._handleKeydown(wn)}),R.TgZ(5,"div",5,6),R.NdJ("cdkObserveContent",function(){return qe._onContentChanges()}),R.TgZ(7,"div",7,8),R.Hsn(9),R.qZA(),R._UZ(10,"mat-ink-bar"),R.qZA()(),R.TgZ(11,"button",9,10),R.NdJ("mousedown",function(wn){return qe._handlePaginatorPress("after",wn)})("click",function(){return qe._handlePaginatorClick("after")})("touchend",function(){return qe._stopInterval()}),R._UZ(13,"div",2),R.qZA()),2&Fe&&(R.ekj("mat-tab-header-pagination-disabled",qe._disableScrollBefore),R.Q6J("matRippleDisabled",qe._disableScrollBefore||qe.disableRipple)("disabled",qe._disableScrollBefore||null),R.xp6(5),R.ekj("_mat-animation-noopable","NoopAnimations"===qe._animationMode),R.xp6(6),R.ekj("mat-tab-header-pagination-disabled",qe._disableScrollAfter),R.Q6J("matRippleDisabled",qe._disableScrollAfter||qe.disableRipple)("disabled",qe._disableScrollAfter||null))},dependencies:[Ee.wG,T.wD,_n],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-list._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}"],encapsulation:2}),Te})(),Bi=0;class Si{}const _r=(0,Ee.pj)((0,Ee.Kr)(class{constructor(Te){this._elementRef=Te}}),"primary");let En=(()=>{class Te extends _r{constructor(Fe,qe,Zt,wn){super(Fe),this._changeDetectorRef=qe,this._animationMode=wn,this._tabs=new R.n_E,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=Ne.w0.EMPTY,this._tabLabelSubscription=Ne.w0.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new R.vpe,this.focusChange=new R.vpe,this.animationDone=new R.vpe,this.selectedTabChange=new R.vpe(!0),this._groupId=Bi++,this.animationDuration=Zt&&Zt.animationDuration?Zt.animationDuration:"500ms",this.disablePagination=!(!Zt||null==Zt.disablePagination)&&Zt.disablePagination,this.dynamicHeight=!(!Zt||null==Zt.dynamicHeight)&&Zt.dynamicHeight,this.contentTabIndex=Zt?.contentTabIndex??null,this.preserveContent=!!Zt?.preserveContent}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(Fe){this._dynamicHeight=(0,je.Ig)(Fe)}get selectedIndex(){return this._selectedIndex}set selectedIndex(Fe){this._indexToSelect=(0,je.su)(Fe,null)}get animationDuration(){return this._animationDuration}set animationDuration(Fe){this._animationDuration=/^\d+$/.test(Fe+"")?Fe+"ms":Fe}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(Fe){this._contentTabIndex=(0,je.su)(Fe,null)}get disablePagination(){return this._disablePagination}set disablePagination(Fe){this._disablePagination=(0,je.Ig)(Fe)}get preserveContent(){return this._preserveContent}set preserveContent(Fe){this._preserveContent=(0,je.Ig)(Fe)}get backgroundColor(){return this._backgroundColor}set backgroundColor(Fe){const qe=this._elementRef.nativeElement;qe.classList.remove(`mat-background-${this.backgroundColor}`),Fe&&qe.classList.add(`mat-background-${Fe}`),this._backgroundColor=Fe}ngAfterContentChecked(){const Fe=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=Fe){const qe=null==this._selectedIndex;if(!qe){this.selectedTabChange.emit(this._createChangeEvent(Fe));const Zt=this._tabBodyWrapper.nativeElement;Zt.style.minHeight=Zt.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((Zt,wn)=>Zt.isActive=wn===Fe),qe||(this.selectedIndexChange.emit(Fe),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((qe,Zt)=>{qe.position=Zt-Fe,null!=this._selectedIndex&&0==qe.position&&!qe.origin&&(qe.origin=Fe-this._selectedIndex)}),this._selectedIndex!==Fe&&(this._selectedIndex=Fe,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const Fe=this._clampTabIndex(this._indexToSelect);if(Fe===this._selectedIndex){const qe=this._tabs.toArray();let Zt;for(let wn=0;wn<qe.length;wn++)if(qe[wn].isActive){this._indexToSelect=this._selectedIndex=wn,this._lastFocusedTabIndex=null,Zt=qe[wn];break}!Zt&&qe[Fe]&&Promise.resolve().then(()=>{qe[Fe].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(Fe))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe((0,xe.O)(this._allTabs)).subscribe(Fe=>{this._tabs.reset(Fe.filter(qe=>qe._closestTabGroup===this||!qe._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(Fe){const qe=this._tabHeader;qe&&(qe.focusIndex=Fe)}_focusChanged(Fe){this._lastFocusedTabIndex=Fe,this.focusChange.emit(this._createChangeEvent(Fe))}_createChangeEvent(Fe){const qe=new Si;return qe.index=Fe,this._tabs&&this._tabs.length&&(qe.tab=this._tabs.toArray()[Fe]),qe}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,Ke.T)(...this._tabs.map(Fe=>Fe._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(Fe){return Math.min(this._tabs.length-1,Math.max(Fe||0,0))}_getTabLabelId(Fe){return`mat-tab-label-${this._groupId}-${Fe}`}_getTabContentId(Fe){return`mat-tab-content-${this._groupId}-${Fe}`}_setTabBodyWrapperHeight(Fe){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const qe=this._tabBodyWrapper.nativeElement;qe.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(qe.style.height=Fe+"px")}_removeTabBodyWrapperHeight(){const Fe=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=Fe.clientHeight,Fe.style.height="",this.animationDone.emit()}_handleClick(Fe,qe,Zt){Fe.disabled||(this.selectedIndex=qe.focusIndex=Zt)}_getTabIndex(Fe,qe){return Fe.disabled?null:qe===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(Fe,qe){Fe&&"mouse"!==Fe&&"touch"!==Fe&&(this._tabHeader.focusIndex=qe)}}return Te.\u0275fac=function(Fe){return new(Fe||Te)(R.Y36(R.SBq),R.Y36(R.sBO),R.Y36(zt,8),R.Y36(R.QbO,8))},Te.\u0275dir=R.lG2({type:Te,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[R.qOj]}),Te})(),sn=(()=>{class Te extends En{constructor(Fe,qe,Zt,wn){super(Fe,qe,Zt,wn)}}return Te.\u0275fac=function(Fe){return new(Fe||Te)(R.Y36(R.SBq),R.Y36(R.sBO),R.Y36(zt,8),R.Y36(R.QbO,8))},Te.\u0275cmp=R.Xpm({type:Te,selectors:[["mat-tab-group"]],contentQueries:function(Fe,qe,Zt){if(1&Fe&&R.Suo(Zt,bn,5),2&Fe){let wn;R.iGM(wn=R.CRH())&&(qe._allTabs=wn)}},viewQuery:function(Fe,qe){if(1&Fe&&(R.Gf(Bt,5),R.Gf(Kt,5)),2&Fe){let Zt;R.iGM(Zt=R.CRH())&&(qe._tabBodyWrapper=Zt.first),R.iGM(Zt=R.CRH())&&(qe._tabHeader=Zt.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(Fe,qe){2&Fe&&R.ekj("mat-tab-group-dynamic-height",qe.dynamicHeight)("mat-tab-group-inverted-header","below"===qe.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[R._Bn([{provide:Rt,useExisting:Te}]),R.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","ngClass","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","ngClass","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(Fe,qe){1&Fe&&(R.TgZ(0,"mat-tab-header",0,1),R.NdJ("indexFocused",function(wn){return qe._focusChanged(wn)})("selectFocusedIndex",function(wn){return qe.selectedIndex=wn}),R.YNc(2,Yn,5,15,"div",2),R.qZA(),R.TgZ(3,"div",3,4),R.YNc(5,en,1,11,"mat-tab-body",5),R.qZA()),2&Fe&&(R.Q6J("selectedIndex",qe.selectedIndex||0)("disableRipple",qe.disableRipple)("disablePagination",qe.disablePagination),R.xp6(2),R.Q6J("ngForOf",qe._tabs),R.xp6(1),R.ekj("_mat-animation-noopable","NoopAnimations"===qe._animationMode),R.xp6(2),R.Q6J("ngForOf",qe._tabs))},dependencies:[ue.mk,ue.sg,ue.O5,O.Pl,Ee.wG,a.kH,Mt,ot,li],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}"],encapsulation:2}),Te})(),Ue=(()=>{class Te{}return Te.\u0275fac=function(Fe){return new(Fe||Te)},Te.\u0275mod=R.oAB({type:Te}),Te.\u0275inj=R.cJS({imports:[ue.ez,Ee.BQ,O.eL,Ee.si,T.Q8,a.rt,Ee.BQ]}),Te})()},1733:(ai,qt,N)=>{"use strict";N.d(qt,{gM:()=>On,AV:()=>Nn});var a=N(8184),T=N(2687),O=N(6895),ue=N(4650),R=N(3238),Ee=N(6270),Re=N(445),xe=N(1281),Ce=N(9521),re=N(7579),ce=N(9841),be=N(7272),Ve=N(9751),Ne=N(5698),Be=N(5684),Je=N(8372),Ke=N(4004),nt=N(8675),We=N(2722),ft=N(3353);const tt=new Set;let je,Ye=(()=>{class pn{constructor(Nt){this._platform=Nt,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):me}matchMedia(Nt){return(this._platform.WEBKIT||this._platform.BLINK)&&function Me(pn){if(!tt.has(pn))try{je||(je=document.createElement("style"),je.setAttribute("type","text/css"),document.head.appendChild(je)),je.sheet&&(je.sheet.insertRule(`@media ${pn} {body{ }}`,0),tt.add(pn))}catch(Pn){console.error(Pn)}}(Nt),this._matchMedia(Nt)}}return pn.\u0275fac=function(Nt){return new(Nt||pn)(ue.LFG(ft.t4))},pn.\u0275prov=ue.Yz7({token:pn,factory:pn.\u0275fac,providedIn:"root"}),pn})();function me(pn){return{matches:"all"===pn||""===pn,media:pn,addListener:()=>{},removeListener:()=>{}}}let St=(()=>{class pn{constructor(Nt,tn){this._mediaMatcher=Nt,this._zone=tn,this._queries=new Map,this._destroySubject=new re.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Nt){return vt((0,xe.Eq)(Nt)).some(Rt=>this._registerQuery(Rt).mql.matches)}observe(Nt){const Rt=vt((0,xe.Eq)(Nt)).map(lt=>this._registerQuery(lt).observable);let bn=(0,ce.a)(Rt);return bn=(0,be.z)(bn.pipe((0,Ne.q)(1)),bn.pipe((0,Be.T)(1),(0,Je.b)(0))),bn.pipe((0,Ke.U)(lt=>{const le={matches:!1,breakpoints:{}};return lt.forEach(({matches:Ae,query:ot})=>{le.matches=le.matches||Ae,le.breakpoints[ot]=Ae}),le}))}_registerQuery(Nt){if(this._queries.has(Nt))return this._queries.get(Nt);const tn=this._mediaMatcher.matchMedia(Nt),bn={observable:new Ve.y(lt=>{const le=Ae=>this._zone.run(()=>lt.next(Ae));return tn.addListener(le),()=>{tn.removeListener(le)}}).pipe((0,nt.O)(tn),(0,Ke.U)(({matches:lt})=>({query:Nt,matches:lt})),(0,We.R)(this._destroySubject)),mql:tn};return this._queries.set(Nt,bn),bn}}return pn.\u0275fac=function(Nt){return new(Nt||pn)(ue.LFG(Ye),ue.LFG(ue.R0b))},pn.\u0275prov=ue.Yz7({token:pn,factory:pn.\u0275fac,providedIn:"root"}),pn})();function vt(pn){return pn.map(Pn=>Pn.split(",")).reduce((Pn,Nt)=>Pn.concat(Nt)).map(Pn=>Pn.trim())}var xn=N(4080);N(7340);const cn=["tooltip"],Wn="tooltip-panel",Ht=(0,ft.i$)({passive:!0}),et=new ue.OlP("mat-tooltip-scroll-strategy"),jt={provide:et,deps:[a.aV],useFactory:function Vt(pn){return()=>pn.scrollStrategies.reposition({scrollThrottle:20})}},Yn=new ue.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function en(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let gn=(()=>{class pn{constructor(Nt,tn,Rt,bn,lt,le,Ae,ot,zt,Lt,Mt,Tt){this._overlay=Nt,this._elementRef=tn,this._scrollDispatcher=Rt,this._viewContainerRef=bn,this._ngZone=lt,this._platform=le,this._ariaDescriber=Ae,this._focusMonitor=ot,this._dir=Lt,this._defaultOptions=Mt,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new re.x,this._scrollStrategy=zt,this._document=Tt,Mt&&(Mt.position&&(this.position=Mt.position),Mt.touchGestures&&(this.touchGestures=Mt.touchGestures)),Lt.change.pipe((0,We.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(Nt){Nt!==this._position&&(this._position=Nt,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(Nt){this._disabled=(0,xe.Ig)(Nt),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(Nt){this._showDelay=(0,xe.su)(Nt)}get hideDelay(){return this._hideDelay}set hideDelay(Nt){this._hideDelay=(0,xe.su)(Nt),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(Nt){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=Nt?String(Nt).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(Nt){this._tooltipClass=Nt,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,We.R)(this._destroyed)).subscribe(Nt=>{Nt?"keyboard"===Nt&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const Nt=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([tn,Rt])=>{Nt.removeEventListener(tn,Rt,Ht)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(Nt,this.message,"tooltip"),this._focusMonitor.stopMonitoring(Nt)}show(Nt=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const tn=this._createOverlay();this._detach(),this._portal=this._portal||new xn.C5(this._tooltipComponent,this._viewContainerRef);const Rt=this._tooltipInstance=tn.attach(this._portal).instance;Rt._triggerElement=this._elementRef.nativeElement,Rt._mouseLeaveHideDelay=this._hideDelay,Rt.afterHidden().pipe((0,We.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),Rt.show(Nt)}hide(Nt=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(Nt)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const Nt=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),tn=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(Nt);return tn.positionChanges.pipe((0,We.R)(this._destroyed)).subscribe(Rt=>{this._updateCurrentPositionClass(Rt.connectionPair),this._tooltipInstance&&Rt.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:tn,panelClass:`${this._cssClassPrefix}-${Wn}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,We.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,We.R)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,We.R)(this._destroyed)).subscribe(Rt=>{this._isTooltipVisible()&&Rt.keyCode===Ce.hY&&!(0,Ce.Vb)(Rt)&&(Rt.preventDefault(),Rt.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(Nt){const tn=Nt.getConfig().positionStrategy,Rt=this._getOrigin(),bn=this._getOverlayPosition();tn.withPositions([this._addOffset({...Rt.main,...bn.main}),this._addOffset({...Rt.fallback,...bn.fallback})])}_addOffset(Nt){return Nt}_getOrigin(){const Nt=!this._dir||"ltr"==this._dir.value,tn=this.position;let Rt;"above"==tn||"below"==tn?Rt={originX:"center",originY:"above"==tn?"top":"bottom"}:"before"==tn||"left"==tn&&Nt||"right"==tn&&!Nt?Rt={originX:"start",originY:"center"}:("after"==tn||"right"==tn&&Nt||"left"==tn&&!Nt)&&(Rt={originX:"end",originY:"center"});const{x:bn,y:lt}=this._invertPosition(Rt.originX,Rt.originY);return{main:Rt,fallback:{originX:bn,originY:lt}}}_getOverlayPosition(){const Nt=!this._dir||"ltr"==this._dir.value,tn=this.position;let Rt;"above"==tn?Rt={overlayX:"center",overlayY:"bottom"}:"below"==tn?Rt={overlayX:"center",overlayY:"top"}:"before"==tn||"left"==tn&&Nt||"right"==tn&&!Nt?Rt={overlayX:"end",overlayY:"center"}:("after"==tn||"right"==tn&&Nt||"left"==tn&&!Nt)&&(Rt={overlayX:"start",overlayY:"center"});const{x:bn,y:lt}=this._invertPosition(Rt.overlayX,Rt.overlayY);return{main:Rt,fallback:{overlayX:bn,overlayY:lt}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,Ne.q)(1),(0,We.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(Nt){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=Nt,this._tooltipInstance._markForCheck())}_invertPosition(Nt,tn){return"above"===this.position||"below"===this.position?"top"===tn?tn="bottom":"bottom"===tn&&(tn="top"):"end"===Nt?Nt="start":"start"===Nt&&(Nt="end"),{x:Nt,y:tn}}_updateCurrentPositionClass(Nt){const{overlayY:tn,originX:Rt,originY:bn}=Nt;let lt;if(lt="center"===tn?this._dir&&"rtl"===this._dir.value?"end"===Rt?"left":"right":"start"===Rt?"left":"right":"bottom"===tn&&"top"===bn?"above":"below",lt!==this._currentPosition){const le=this._overlayRef;if(le){const Ae=`${this._cssClassPrefix}-${Wn}-`;le.removePanelClass(Ae+this._currentPosition),le.addPanelClass(Ae+lt)}this._currentPosition=lt}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const Nt=[];if(this._platformSupportsMouseEvents())Nt.push(["mouseleave",tn=>{const Rt=tn.relatedTarget;(!Rt||!this._overlayRef?.overlayElement.contains(Rt))&&this.hide()}],["wheel",tn=>this._wheelListener(tn)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const tn=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};Nt.push(["touchend",tn],["touchcancel",tn])}this._addListeners(Nt),this._passiveListeners.push(...Nt)}_addListeners(Nt){Nt.forEach(([tn,Rt])=>{this._elementRef.nativeElement.addEventListener(tn,Rt,Ht)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(Nt){if(this._isTooltipVisible()){const tn=this._document.elementFromPoint(Nt.clientX,Nt.clientY),Rt=this._elementRef.nativeElement;tn!==Rt&&!Rt.contains(tn)&&this.hide()}}_disableNativeGesturesIfNecessary(){const Nt=this.touchGestures;if("off"!==Nt){const tn=this._elementRef.nativeElement,Rt=tn.style;("on"===Nt||"INPUT"!==tn.nodeName&&"TEXTAREA"!==tn.nodeName)&&(Rt.userSelect=Rt.msUserSelect=Rt.webkitUserSelect=Rt.MozUserSelect="none"),("on"===Nt||!tn.draggable)&&(Rt.webkitUserDrag="none"),Rt.touchAction="none",Rt.webkitTapHighlightColor="transparent"}}}return pn.\u0275fac=function(Nt){ue.$Z()},pn.\u0275dir=ue.lG2({type:pn,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),pn})(),On=(()=>{class pn extends gn{constructor(Nt,tn,Rt,bn,lt,le,Ae,ot,zt,Lt,Mt,Tt){super(Nt,tn,Rt,bn,lt,le,Ae,ot,zt,Lt,Mt,Tt),this._tooltipComponent=_n}}return pn.\u0275fac=function(Nt){return new(Nt||pn)(ue.Y36(a.aV),ue.Y36(ue.SBq),ue.Y36(Ee.mF),ue.Y36(ue.s_b),ue.Y36(ue.R0b),ue.Y36(ft.t4),ue.Y36(T.$s),ue.Y36(T.tE),ue.Y36(et),ue.Y36(Re.Is,8),ue.Y36(Yn,8),ue.Y36(O.K0))},pn.\u0275dir=ue.lG2({type:pn,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[ue.qOj]}),pn})(),Qn=(()=>{class pn{constructor(Nt,tn){this._changeDetectorRef=Nt,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new re.x,this._animationsDisabled="NoopAnimations"===tn}show(Nt){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},Nt)}hide(Nt){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},Nt)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:Nt}){(!Nt||!this._triggerElement.contains(Nt))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:Nt}){(Nt===this._showAnimation||Nt===this._hideAnimation)&&this._finalizeAnimation(Nt===this._showAnimation)}_finalizeAnimation(Nt){Nt?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(Nt){const tn=this._tooltip.nativeElement,Rt=this._showAnimation,bn=this._hideAnimation;if(tn.classList.remove(Nt?bn:Rt),tn.classList.add(Nt?Rt:bn),this._isVisible=Nt,Nt&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const lt=getComputedStyle(tn);("0s"===lt.getPropertyValue("animation-duration")||"none"===lt.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}Nt&&this._onShow(),this._animationsDisabled&&(tn.classList.add("_mat-animation-noopable"),this._finalizeAnimation(Nt))}}return pn.\u0275fac=function(Nt){return new(Nt||pn)(ue.Y36(ue.sBO),ue.Y36(ue.QbO,8))},pn.\u0275dir=ue.lG2({type:pn}),pn})(),_n=(()=>{class pn extends Qn{constructor(Nt,tn,Rt){super(Nt,Rt),this._breakpointObserver=tn,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return pn.\u0275fac=function(Nt){return new(Nt||pn)(ue.Y36(ue.sBO),ue.Y36(St),ue.Y36(ue.QbO,8))},pn.\u0275cmp=ue.Xpm({type:pn,selectors:[["mat-tooltip-component"]],viewQuery:function(Nt,tn){if(1&Nt&&ue.Gf(cn,7),2&Nt){let Rt;ue.iGM(Rt=ue.CRH())&&(tn._tooltip=Rt.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(Nt,tn){1&Nt&&ue.NdJ("mouseleave",function(bn){return tn._handleMouseLeave(bn)}),2&Nt&&ue.Udp("zoom",tn.isVisible()?1:null)},features:[ue.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(Nt,tn){if(1&Nt&&(ue.TgZ(0,"div",0,1),ue.NdJ("animationend",function(bn){return tn._handleAnimationEnd(bn)}),ue.ALo(2,"async"),ue._uU(3),ue.qZA()),2&Nt){let Rt;ue.ekj("mat-tooltip-handset",null==(Rt=ue.lcZ(2,4,tn._isHandset))?null:Rt.matches),ue.Q6J("ngClass",tn.tooltipClass),ue.xp6(3),ue.Oqu(tn.message)}},dependencies:[O.mk,O.Ov],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}"],encapsulation:2,changeDetection:0}),pn})(),Nn=(()=>{class pn{}return pn.\u0275fac=function(Nt){return new(Nt||pn)},pn.\u0275mod=ue.oAB({type:pn}),pn.\u0275inj=ue.cJS({providers:[jt],imports:[T.rt,O.ez,a.U8,R.BQ,R.BQ,Ee.ZD]}),pn})()},1481:(ai,qt,N)=>{"use strict";N.d(qt,{Dx:()=>Lt,H7:()=>wn,b2:()=>lt,q6:()=>Nt,se:()=>In});var a=N(6895),T=N(4650);class O extends a.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ue extends O{static makeCurrent(){(0,a.HT)(new ue)}onAndCancel(ie,K,ge){return ie.addEventListener(K,ge,!1),()=>{ie.removeEventListener(K,ge,!1)}}dispatchEvent(ie,K){ie.dispatchEvent(K)}remove(ie){ie.parentNode&&ie.parentNode.removeChild(ie)}createElement(ie,K){return(K=K||this.getDefaultDocument()).createElement(ie)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ie){return ie.nodeType===Node.ELEMENT_NODE}isShadowRoot(ie){return ie instanceof DocumentFragment}getGlobalEventTarget(ie,K){return"window"===K?window:"document"===K?ie:"body"===K?ie.body:null}getBaseHref(ie){const K=function Ee(){return R=R||document.querySelector("base"),R?R.getAttribute("href"):null}();return null==K?null:function xe(ut){Re=Re||document.createElement("a"),Re.setAttribute("href",ut);const ie=Re.pathname;return"/"===ie.charAt(0)?ie:`/${ie}`}(K)}resetBaseElement(){R=null}getUserAgent(){return window.navigator.userAgent}getCookie(ie){return(0,a.Mx)(document.cookie,ie)}}let Re,R=null;const Ce=new T.OlP("TRANSITION_ID"),ce=[{provide:T.ip1,useFactory:function re(ut,ie,K){return()=>{K.get(T.CZH).donePromise.then(()=>{const ge=(0,a.q)(),Ge=ie.querySelectorAll(`style[ng-transition="${ut}"]`);for(let rn=0;rn<Ge.length;rn++)ge.remove(Ge[rn])})}},deps:[Ce,a.K0,T.zs3],multi:!0}];let Ve=(()=>{class ut{build(){return new XMLHttpRequest}}return ut.\u0275fac=function(K){return new(K||ut)},ut.\u0275prov=T.Yz7({token:ut,factory:ut.\u0275fac}),ut})();const Ne=new T.OlP("EventManagerPlugins");let Be=(()=>{class ut{constructor(K,ge){this._zone=ge,this._eventNameToPlugin=new Map,K.forEach(Ge=>Ge.manager=this),this._plugins=K.slice().reverse()}addEventListener(K,ge,Ge){return this._findPluginFor(ge).addEventListener(K,ge,Ge)}addGlobalEventListener(K,ge,Ge){return this._findPluginFor(ge).addGlobalEventListener(K,ge,Ge)}getZone(){return this._zone}_findPluginFor(K){const ge=this._eventNameToPlugin.get(K);if(ge)return ge;const Ge=this._plugins;for(let rn=0;rn<Ge.length;rn++){const Hn=Ge[rn];if(Hn.supports(K))return this._eventNameToPlugin.set(K,Hn),Hn}throw new Error(`No event manager plugin found for event ${K}`)}}return ut.\u0275fac=function(K){return new(K||ut)(T.LFG(Ne),T.LFG(T.R0b))},ut.\u0275prov=T.Yz7({token:ut,factory:ut.\u0275fac}),ut})();class Je{constructor(ie){this._doc=ie}addGlobalEventListener(ie,K,ge){const Ge=(0,a.q)().getGlobalEventTarget(this._doc,ie);if(!Ge)throw new Error(`Unsupported event target ${Ge} for event ${K}`);return this.addEventListener(Ge,K,ge)}}let Ke=(()=>{class ut{constructor(){this._stylesSet=new Set}addStyles(K){const ge=new Set;K.forEach(Ge=>{this._stylesSet.has(Ge)||(this._stylesSet.add(Ge),ge.add(Ge))}),this.onStylesAdded(ge)}onStylesAdded(K){}getAllStyles(){return Array.from(this._stylesSet)}}return ut.\u0275fac=function(K){return new(K||ut)},ut.\u0275prov=T.Yz7({token:ut,factory:ut.\u0275fac}),ut})(),nt=(()=>{class ut extends Ke{constructor(K){super(),this._doc=K,this._hostNodes=new Map,this._hostNodes.set(K.head,[])}_addStylesToHost(K,ge,Ge){K.forEach(rn=>{const Hn=this._doc.createElement("style");Hn.textContent=rn,Ge.push(ge.appendChild(Hn))})}addHost(K){const ge=[];this._addStylesToHost(this._stylesSet,K,ge),this._hostNodes.set(K,ge)}removeHost(K){const ge=this._hostNodes.get(K);ge&&ge.forEach(We),this._hostNodes.delete(K)}onStylesAdded(K){this._hostNodes.forEach((ge,Ge)=>{this._addStylesToHost(K,Ge,ge)})}ngOnDestroy(){this._hostNodes.forEach(K=>K.forEach(We))}}return ut.\u0275fac=function(K){return new(K||ut)(T.LFG(a.K0))},ut.\u0275prov=T.Yz7({token:ut,factory:ut.\u0275fac}),ut})();function We(ut){(0,a.q)().remove(ut)}const ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},pt=/%COMP%/g;function vt(ut,ie,K){for(let ge=0;ge<ie.length;ge++){let Ge=ie[ge];Array.isArray(Ge)?vt(ut,Ge,K):(Ge=Ge.replace(pt,ut),K.push(Ge))}return K}function an(ut){return ie=>{if("__ngUnwrap__"===ie)return ut;!1===ut(ie)&&(ie.preventDefault(),ie.returnValue=!1)}}let In=(()=>{class ut{constructor(K,ge,Ge){this.eventManager=K,this.sharedStylesHost=ge,this.appId=Ge,this.rendererByCompId=new Map,this.defaultRenderer=new cn(K)}createRenderer(K,ge){if(!K||!ge)return this.defaultRenderer;switch(ge.encapsulation){case T.ifc.Emulated:{let Ge=this.rendererByCompId.get(ge.id);return Ge||(Ge=new Ht(this.eventManager,this.sharedStylesHost,ge,this.appId),this.rendererByCompId.set(ge.id,Ge)),Ge.applyToHost(K),Ge}case 1:case T.ifc.ShadowDom:return new Bt(this.eventManager,this.sharedStylesHost,K,ge);default:if(!this.rendererByCompId.has(ge.id)){const Ge=vt(ge.id,ge.styles,[]);this.sharedStylesHost.addStyles(Ge),this.rendererByCompId.set(ge.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return ut.\u0275fac=function(K){return new(K||ut)(T.LFG(Be),T.LFG(nt),T.LFG(T.AFp))},ut.\u0275prov=T.Yz7({token:ut,factory:ut.\u0275fac}),ut})();class cn{constructor(ie){this.eventManager=ie,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ie,K){return K?document.createElementNS(ft[K]||K,ie):document.createElement(ie)}createComment(ie){return document.createComment(ie)}createText(ie){return document.createTextNode(ie)}appendChild(ie,K){(Wn(ie)?ie.content:ie).appendChild(K)}insertBefore(ie,K,ge){ie&&(Wn(ie)?ie.content:ie).insertBefore(K,ge)}removeChild(ie,K){ie&&ie.removeChild(K)}selectRootElement(ie,K){let ge="string"==typeof ie?document.querySelector(ie):ie;if(!ge)throw new Error(`The selector "${ie}" did not match any elements`);return K||(ge.textContent=""),ge}parentNode(ie){return ie.parentNode}nextSibling(ie){return ie.nextSibling}setAttribute(ie,K,ge,Ge){if(Ge){K=Ge+":"+K;const rn=ft[Ge];rn?ie.setAttributeNS(rn,K,ge):ie.setAttribute(K,ge)}else ie.setAttribute(K,ge)}removeAttribute(ie,K,ge){if(ge){const Ge=ft[ge];Ge?ie.removeAttributeNS(Ge,K):ie.removeAttribute(`${ge}:${K}`)}else ie.removeAttribute(K)}addClass(ie,K){ie.classList.add(K)}removeClass(ie,K){ie.classList.remove(K)}setStyle(ie,K,ge,Ge){Ge&(T.JOm.DashCase|T.JOm.Important)?ie.style.setProperty(K,ge,Ge&T.JOm.Important?"important":""):ie.style[K]=ge}removeStyle(ie,K,ge){ge&T.JOm.DashCase?ie.style.removeProperty(K):ie.style[K]=""}setProperty(ie,K,ge){ie[K]=ge}setValue(ie,K){ie.nodeValue=K}listen(ie,K,ge){return"string"==typeof ie?this.eventManager.addGlobalEventListener(ie,K,an(ge)):this.eventManager.addEventListener(ie,K,an(ge))}}function Wn(ut){return"TEMPLATE"===ut.tagName&&void 0!==ut.content}class Ht extends cn{constructor(ie,K,ge,Ge){super(ie),this.component=ge;const rn=vt(Ge+"-"+ge.id,ge.styles,[]);K.addStyles(rn),this.contentAttr=function me(ut){return"_ngcontent-%COMP%".replace(pt,ut)}(Ge+"-"+ge.id),this.hostAttr=function St(ut){return"_nghost-%COMP%".replace(pt,ut)}(Ge+"-"+ge.id)}applyToHost(ie){super.setAttribute(ie,this.hostAttr,"")}createElement(ie,K){const ge=super.createElement(ie,K);return super.setAttribute(ge,this.contentAttr,""),ge}}class Bt extends cn{constructor(ie,K,ge,Ge){super(ie),this.sharedStylesHost=K,this.hostEl=ge,this.shadowRoot=ge.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const rn=vt(Ge.id,Ge.styles,[]);for(let Hn=0;Hn<rn.length;Hn++){const Un=document.createElement("style");Un.textContent=rn[Hn],this.shadowRoot.appendChild(Un)}}nodeOrShadowRoot(ie){return ie===this.hostEl?this.shadowRoot:ie}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ie,K){return super.appendChild(this.nodeOrShadowRoot(ie),K)}insertBefore(ie,K,ge){return super.insertBefore(this.nodeOrShadowRoot(ie),K,ge)}removeChild(ie,K){return super.removeChild(this.nodeOrShadowRoot(ie),K)}parentNode(ie){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ie)))}}let Kt=(()=>{class ut extends Je{constructor(K){super(K)}supports(K){return!0}addEventListener(K,ge,Ge){return K.addEventListener(ge,Ge,!1),()=>this.removeEventListener(K,ge,Ge)}removeEventListener(K,ge,Ge){return K.removeEventListener(ge,Ge)}}return ut.\u0275fac=function(K){return new(K||ut)(T.LFG(a.K0))},ut.\u0275prov=T.Yz7({token:ut,factory:ut.\u0275fac}),ut})();const et=["alt","control","meta","shift"],Vt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jt={alt:ut=>ut.altKey,control:ut=>ut.ctrlKey,meta:ut=>ut.metaKey,shift:ut=>ut.shiftKey};let Yn=(()=>{class ut extends Je{constructor(K){super(K)}supports(K){return null!=ut.parseEventName(K)}addEventListener(K,ge,Ge){const rn=ut.parseEventName(ge),Hn=ut.eventCallback(rn.fullKey,Ge,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,a.q)().onAndCancel(K,rn.domEventName,Hn))}static parseEventName(K){const ge=K.toLowerCase().split("."),Ge=ge.shift();if(0===ge.length||"keydown"!==Ge&&"keyup"!==Ge)return null;const rn=ut._normalizeKey(ge.pop());let Hn="",Un=ge.indexOf("code");if(Un>-1&&(ge.splice(Un,1),Hn="code."),et.forEach(mt=>{const Ft=ge.indexOf(mt);Ft>-1&&(ge.splice(Ft,1),Hn+=mt+".")}),Hn+=rn,0!=ge.length||0===rn.length)return null;const pi={};return pi.domEventName=Ge,pi.fullKey=Hn,pi}static matchEventFullKeyCode(K,ge){let Ge=Vt[K.key]||K.key,rn="";return ge.indexOf("code.")>-1&&(Ge=K.code,rn="code."),!(null==Ge||!Ge)&&(Ge=Ge.toLowerCase()," "===Ge?Ge="space":"."===Ge&&(Ge="dot"),et.forEach(Hn=>{Hn!==Ge&&(0,jt[Hn])(K)&&(rn+=Hn+".")}),rn+=Ge,rn===ge)}static eventCallback(K,ge,Ge){return rn=>{ut.matchEventFullKeyCode(rn,K)&&Ge.runGuarded(()=>ge(rn))}}static _normalizeKey(K){return"esc"===K?"escape":K}}return ut.\u0275fac=function(K){return new(K||ut)(T.LFG(a.K0))},ut.\u0275prov=T.Yz7({token:ut,factory:ut.\u0275fac}),ut})();const Nt=(0,T.eFA)(T._c5,"browser",[{provide:T.Lbi,useValue:a.bD},{provide:T.g9A,useValue:function Nn(){ue.makeCurrent()},multi:!0},{provide:a.K0,useFactory:function pn(){return(0,T.RDi)(document),document},deps:[]}]),tn=new T.OlP(""),Rt=[{provide:T.rWj,useClass:class be{addToWindow(ie){T.dqk.getAngularTestability=(ge,Ge=!0)=>{const rn=ie.findTestabilityInTree(ge,Ge);if(null==rn)throw new Error("Could not find testability for element.");return rn},T.dqk.getAllAngularTestabilities=()=>ie.getAllTestabilities(),T.dqk.getAllAngularRootElements=()=>ie.getAllRootElements(),T.dqk.frameworkStabilizers||(T.dqk.frameworkStabilizers=[]),T.dqk.frameworkStabilizers.push(ge=>{const Ge=T.dqk.getAllAngularTestabilities();let rn=Ge.length,Hn=!1;const Un=function(pi){Hn=Hn||pi,rn--,0==rn&&ge(Hn)};Ge.forEach(function(pi){pi.whenStable(Un)})})}findTestabilityInTree(ie,K,ge){return null==K?null:ie.getTestability(K)??(ge?(0,a.q)().isShadowRoot(K)?this.findTestabilityInTree(ie,K.host,!0):this.findTestabilityInTree(ie,K.parentElement,!0):null)}},deps:[]},{provide:T.lri,useClass:T.dDg,deps:[T.R0b,T.eoX,T.rWj]},{provide:T.dDg,useClass:T.dDg,deps:[T.R0b,T.eoX,T.rWj]}],bn=[{provide:T.zSh,useValue:"root"},{provide:T.qLn,useFactory:function yn(){return new T.qLn},deps:[]},{provide:Ne,useClass:Kt,multi:!0,deps:[a.K0,T.R0b,T.Lbi]},{provide:Ne,useClass:Yn,multi:!0,deps:[a.K0]},{provide:In,useClass:In,deps:[Be,nt,T.AFp]},{provide:T.FYo,useExisting:In},{provide:Ke,useExisting:nt},{provide:nt,useClass:nt,deps:[a.K0]},{provide:Be,useClass:Be,deps:[Ne,T.R0b]},{provide:a.JF,useClass:Ve,deps:[]},[]];let lt=(()=>{class ut{constructor(K){}static withServerTransition(K){return{ngModule:ut,providers:[{provide:T.AFp,useValue:K.appId},{provide:Ce,useExisting:T.AFp},ce]}}}return ut.\u0275fac=function(K){return new(K||ut)(T.LFG(tn,12))},ut.\u0275mod=T.oAB({type:ut}),ut.\u0275inj=T.cJS({providers:[...bn,...Rt],imports:[a.ez,T.hGG]}),ut})(),Lt=(()=>{class ut{constructor(K){this._doc=K}getTitle(){return this._doc.title}setTitle(K){this._doc.title=K||""}}return ut.\u0275fac=function(K){return new(K||ut)(T.LFG(a.K0))},ut.\u0275prov=T.Yz7({token:ut,factory:function(K){let ge=null;return ge=K?new K:function zt(){return new Lt((0,T.LFG)(a.K0))}(),ge},providedIn:"root"}),ut})();typeof window<"u"&&window;let wn=(()=>{class ut{}return ut.\u0275fac=function(K){return new(K||ut)},ut.\u0275prov=T.Yz7({token:ut,factory:function(K){let ge=null;return ge=K?new(K||ut):T.LFG(Ui),ge},providedIn:"root"}),ut})(),Ui=(()=>{class ut extends wn{constructor(K){super(),this._doc=K}sanitize(K,ge){if(null==ge)return null;switch(K){case T.q3G.NONE:return ge;case T.q3G.HTML:return(0,T.qzn)(ge,"HTML")?(0,T.z3N)(ge):(0,T.EiD)(this._doc,String(ge)).toString();case T.q3G.STYLE:return(0,T.qzn)(ge,"Style")?(0,T.z3N)(ge):ge;case T.q3G.SCRIPT:if((0,T.qzn)(ge,"Script"))return(0,T.z3N)(ge);throw new Error("unsafe value used in a script context");case T.q3G.URL:return(0,T.qzn)(ge,"URL")?(0,T.z3N)(ge):(0,T.mCW)(String(ge));case T.q3G.RESOURCE_URL:if((0,T.qzn)(ge,"ResourceURL"))return(0,T.z3N)(ge);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${K} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(K){return(0,T.JVY)(K)}bypassSecurityTrustStyle(K){return(0,T.L6k)(K)}bypassSecurityTrustScript(K){return(0,T.eBb)(K)}bypassSecurityTrustUrl(K){return(0,T.LAX)(K)}bypassSecurityTrustResourceUrl(K){return(0,T.pB0)(K)}}return ut.\u0275fac=function(K){return new(K||ut)(T.LFG(a.K0))},ut.\u0275prov=T.Yz7({token:ut,factory:function(K){let ge=null;return ge=K?new K:function ti(ut){return new Ui(ut.get(a.K0))}(T.LFG(T.zs3)),ge},providedIn:"root"}),ut})()},6806:(ai,qt,N)=>{"use strict";N.d(qt,{gz:()=>Rr,jw:()=>cs,F0:()=>fn,rH:()=>xi,Od:()=>hr,yS:()=>Hi,Bz:()=>ro,lC:()=>Ms});var a=N(4650),T=N(8996),O=N(9646),ue=N(1135),R=N(6805),Ee=N(9841),Re=N(7272),xe=N(9770),Ce=N(9635),re=N(2843),ce=N(9751),be=N(515),Ve=N(727),Ne=N(4482),Be=N(5403);function Je(){return(0,Ne.e)((q,Q)=>{let G=null;q._refCount++;const de=(0,Be.x)(Q,void 0,void 0,void 0,()=>{if(!q||q._refCount<=0||0<--q._refCount)return void(G=null);const Pe=q._connection,Ct=G;G=null,Pe&&(!Ct||Pe===Ct)&&Pe.unsubscribe(),Q.unsubscribe()});q.subscribe(de),de.closed||(G=q.connect())})}class Ke extends ce.y{constructor(Q,G){super(),this.source=Q,this.subjectFactory=G,this._subject=null,this._refCount=0,this._connection=null,(0,Ne.A)(Q)&&(this.lift=Q.lift)}_subscribe(Q){return this.getSubject().subscribe(Q)}getSubject(){const Q=this._subject;return(!Q||Q.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:Q}=this;this._subject=this._connection=null,Q?.unsubscribe()}connect(){let Q=this._connection;if(!Q){Q=this._connection=new Ve.w0;const G=this.getSubject();Q.add(this.source.subscribe((0,Be.x)(G,void 0,()=>{this._teardown(),G.complete()},de=>{this._teardown(),G.error(de)},()=>this._teardown()))),Q.closed&&(this._connection=null,Q=Ve.w0.EMPTY)}return Q}refCount(){return Je()(this)}}var nt=N(7579),We=N(6895),ft=N(4004),pt=N(3900),tt=N(5698),je=N(8675),Ye=N(9300),Me=N(5577),me=N(590),St=N(4351),vt=N(8505),an=N(262),xn=N(5026);function In(q){return q<=0?()=>be.E:(0,Ne.e)((Q,G)=>{let de=[];Q.subscribe((0,Be.x)(G,Pe=>{de.push(Pe),q<de.length&&de.shift()},()=>{for(const Pe of de)G.next(Pe);G.complete()},void 0,()=>{de=null}))})}var cn=N(8068),Gn=N(6590),Tn=N(4671);function Wn(q,Q){const G=arguments.length>=2;return de=>de.pipe(q?(0,Ye.h)((Pe,Ct)=>q(Pe,Ct,de)):Tn.y,In(1),G?(0,Gn.d)(Q):(0,cn.T)(()=>new R.K))}var Ht=N(2529),Bt=N(9718),Kt=N(8746),et=N(8189),Vt=N(1481);const jt="primary",Yn=Symbol("RouteTitle");class en{constructor(Q){this.params=Q||{}}has(Q){return Object.prototype.hasOwnProperty.call(this.params,Q)}get(Q){if(this.has(Q)){const G=this.params[Q];return Array.isArray(G)?G[0]:G}return null}getAll(Q){if(this.has(Q)){const G=this.params[Q];return Array.isArray(G)?G:[G]}return[]}get keys(){return Object.keys(this.params)}}function gn(q){return new en(q)}function On(q,Q,G){const de=G.path.split("/");if(de.length>q.length||"full"===G.pathMatch&&(Q.hasChildren()||de.length<q.length))return null;const Pe={};for(let Ct=0;Ct<de.length;Ct++){const on=de[Ct],dn=q[Ct];if(on.startsWith(":"))Pe[on.substring(1)]=dn;else if(on!==dn.path)return null}return{consumed:q.slice(0,de.length),posParams:Pe}}function _n(q,Q){const G=q?Object.keys(q):void 0,de=Q?Object.keys(Q):void 0;if(!G||!de||G.length!=de.length)return!1;let Pe;for(let Ct=0;Ct<G.length;Ct++)if(Pe=G[Ct],!Nn(q[Pe],Q[Pe]))return!1;return!0}function Nn(q,Q){if(Array.isArray(q)&&Array.isArray(Q)){if(q.length!==Q.length)return!1;const G=[...q].sort(),de=[...Q].sort();return G.every((Pe,Ct)=>de[Ct]===Pe)}return q===Q}function yn(q){return Array.prototype.concat.apply([],q)}function pn(q){return q.length>0?q[q.length-1]:null}function Nt(q,Q){for(const G in q)q.hasOwnProperty(G)&&Q(q[G],G)}function tn(q){return(0,a.CqO)(q)?q:(0,a.QGY)(q)?(0,T.D)(Promise.resolve(q)):(0,O.of)(q)}const lt={exact:function zt(q,Q,G){if(!li(q.segments,Q.segments)||!mn(q.segments,Q.segments,G)||q.numberOfChildren!==Q.numberOfChildren)return!1;for(const de in Q.children)if(!q.children[de]||!zt(q.children[de],Q.children[de],G))return!1;return!0},subset:Mt},le={exact:function ot(q,Q){return _n(q,Q)},subset:function Lt(q,Q){return Object.keys(Q).length<=Object.keys(q).length&&Object.keys(Q).every(G=>Nn(q[G],Q[G]))},ignored:()=>!0};function Ae(q,Q,G){return lt[G.paths](q.root,Q.root,G.matrixParams)&&le[G.queryParams](q.queryParams,Q.queryParams)&&!("exact"===G.fragment&&q.fragment!==Q.fragment)}function Mt(q,Q,G){return Tt(q,Q,Q.segments,G)}function Tt(q,Q,G,de){if(q.segments.length>G.length){const Pe=q.segments.slice(0,G.length);return!(!li(Pe,G)||Q.hasChildren()||!mn(Pe,G,de))}if(q.segments.length===G.length){if(!li(q.segments,G)||!mn(q.segments,G,de))return!1;for(const Pe in Q.children)if(!q.children[Pe]||!Mt(q.children[Pe],Q.children[Pe],de))return!1;return!0}{const Pe=G.slice(0,q.segments.length),Ct=G.slice(q.segments.length);return!!(li(q.segments,Pe)&&mn(q.segments,Pe,de)&&q.children[jt])&&Tt(q.children[jt],Q,Ct,de)}}function mn(q,Q,G){return Q.every((de,Pe)=>le[G](q[Pe].parameters,de.parameters))}class An{constructor(Q,G,de){this.root=Q,this.queryParams=G,this.fragment=de}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gn(this.queryParams)),this._queryParamMap}toString(){return En.serialize(this)}}class Ln{constructor(Q,G){this.segments=Q,this.children=G,this.parent=null,Nt(G,(de,Pe)=>de.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sn(this)}}class mi{constructor(Q,G){this.path=Q,this.parameters=G}get parameterMap(){return this._parameterMap||(this._parameterMap=gn(this.parameters)),this._parameterMap}toString(){return Ue(this)}}function li(q,Q){return q.length===Q.length&&q.every((G,de)=>G.path===Q[de].path)}let Si=(()=>{class q{}return q.\u0275fac=function(G){return new(G||q)},q.\u0275prov=a.Yz7({token:q,factory:function(){return new _r},providedIn:"root"}),q})();class _r{parse(Q){const G=new Li(Q);return new An(G.parseRootSegment(),G.parseQueryParams(),G.parseFragment())}serialize(Q){const G=`/${It(Q.root,!0)}`,de=function ct(q){const Q=Object.keys(q).map(G=>{const de=q[G];return Array.isArray(de)?de.map(Pe=>`${wt(G)}=${wt(Pe)}`).join("&"):`${wt(G)}=${wt(de)}`}).filter(G=>!!G);return Q.length?`?${Q.join("&")}`:""}(Q.queryParams);return`${G}${de}${"string"==typeof Q.fragment?`#${function Ie(q){return encodeURI(q)}(Q.fragment)}`:""}`}}const En=new _r;function sn(q){return q.segments.map(Q=>Ue(Q)).join("/")}function It(q,Q){if(!q.hasChildren())return sn(q);if(Q){const G=q.children[jt]?It(q.children[jt],!1):"",de=[];return Nt(q.children,(Pe,Ct)=>{Ct!==jt&&de.push(`${Ct}:${It(Pe,!1)}`)}),de.length>0?`${G}(${de.join("//")})`:G}{const G=function Bi(q,Q){let G=[];return Nt(q.children,(de,Pe)=>{Pe===jt&&(G=G.concat(Q(de,Pe)))}),Nt(q.children,(de,Pe)=>{Pe!==jt&&(G=G.concat(Q(de,Pe)))}),G}(q,(de,Pe)=>Pe===jt?[It(q.children[jt],!1)]:[`${Pe}:${It(de,!1)}`]);return 1===Object.keys(q.children).length&&null!=q.children[jt]?`${sn(q)}/${G[0]}`:`${sn(q)}/(${G.join("//")})`}}function xt(q){return encodeURIComponent(q).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wt(q){return xt(q).replace(/%3B/gi,";")}function pe(q){return xt(q).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ye(q){return decodeURIComponent(q)}function st(q){return ye(q.replace(/\+/g,"%20"))}function Ue(q){return`${pe(q.path)}${function Te(q){return Object.keys(q).map(Q=>`;${pe(Q)}=${pe(q[Q])}`).join("")}(q.parameters)}`}const Fe=/^[^\/()?;=#]+/;function qe(q){const Q=q.match(Fe);return Q?Q[0]:""}const Zt=/^[^=?&#]+/,ti=/^[^&#]+/;class Li{constructor(Q){this.url=Q,this.remaining=Q}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ln([],{}):new Ln([],this.parseChildren())}parseQueryParams(){const Q={};if(this.consumeOptional("?"))do{this.parseQueryParam(Q)}while(this.consumeOptional("&"));return Q}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const Q=[];for(this.peekStartsWith("(")||Q.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),Q.push(this.parseSegment());let G={};this.peekStartsWith("/(")&&(this.capture("/"),G=this.parseParens(!0));let de={};return this.peekStartsWith("(")&&(de=this.parseParens(!1)),(Q.length>0||Object.keys(G).length>0)&&(de[jt]=new Ln(Q,G)),de}parseSegment(){const Q=qe(this.remaining);if(""===Q&&this.peekStartsWith(";"))throw new a.vHH(4009,!1);return this.capture(Q),new mi(ye(Q),this.parseMatrixParams())}parseMatrixParams(){const Q={};for(;this.consumeOptional(";");)this.parseParam(Q);return Q}parseParam(Q){const G=qe(this.remaining);if(!G)return;this.capture(G);let de="";if(this.consumeOptional("=")){const Pe=qe(this.remaining);Pe&&(de=Pe,this.capture(de))}Q[ye(G)]=ye(de)}parseQueryParam(Q){const G=function wn(q){const Q=q.match(Zt);return Q?Q[0]:""}(this.remaining);if(!G)return;this.capture(G);let de="";if(this.consumeOptional("=")){const on=function Ui(q){const Q=q.match(ti);return Q?Q[0]:""}(this.remaining);on&&(de=on,this.capture(de))}const Pe=st(G),Ct=st(de);if(Q.hasOwnProperty(Pe)){let on=Q[Pe];Array.isArray(on)||(on=[on],Q[Pe]=on),on.push(Ct)}else Q[Pe]=Ct}parseParens(Q){const G={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const de=qe(this.remaining),Pe=this.remaining[de.length];if("/"!==Pe&&")"!==Pe&&";"!==Pe)throw new a.vHH(4010,!1);let Ct;de.indexOf(":")>-1?(Ct=de.slice(0,de.indexOf(":")),this.capture(Ct),this.capture(":")):Q&&(Ct=jt);const on=this.parseChildren();G[Ct]=1===Object.keys(on).length?on[jt]:new Ln([],on),this.consumeOptional("//")}return G}peekStartsWith(Q){return this.remaining.startsWith(Q)}consumeOptional(Q){return!!this.peekStartsWith(Q)&&(this.remaining=this.remaining.substring(Q.length),!0)}capture(Q){if(!this.consumeOptional(Q))throw new a.vHH(4011,!1)}}function ut(q){return q.segments.length>0?new Ln([],{[jt]:q}):q}function ie(q){const Q={};for(const de of Object.keys(q.children)){const Ct=ie(q.children[de]);(Ct.segments.length>0||Ct.hasChildren())&&(Q[de]=Ct)}return function K(q){if(1===q.numberOfChildren&&q.children[jt]){const Q=q.children[jt];return new Ln(q.segments.concat(Q.segments),Q.children)}return q}(new Ln(q.segments,Q))}function ge(q){return q instanceof An}function pi(q,Q,G,de,Pe){if(0===G.length)return it(Q.root,Q.root,Q.root,de,Pe);const Ct=function Yt(q){if("string"==typeof q[0]&&1===q.length&&"/"===q[0])return new at(!0,0,q);let Q=0,G=!1;const de=q.reduce((Pe,Ct,on)=>{if("object"==typeof Ct&&null!=Ct){if(Ct.outlets){const dn={};return Nt(Ct.outlets,(di,Ni)=>{dn[Ni]="string"==typeof di?di.split("/"):di}),[...Pe,{outlets:dn}]}if(Ct.segmentPath)return[...Pe,Ct.segmentPath]}return"string"!=typeof Ct?[...Pe,Ct]:0===on?(Ct.split("/").forEach((dn,di)=>{0==di&&"."===dn||(0==di&&""===dn?G=!0:".."===dn?Q++:""!=dn&&Pe.push(dn))}),Pe):[...Pe,Ct]},[]);return new at(G,Q,de)}(G);return Ct.toRoot()?it(Q.root,Q.root,new Ln([],{}),de,Pe):function on(di){const Ni=function At(q,Q,G,de){if(q.isAbsolute)return new Y(Q.root,!0,0);if(-1===de)return new Y(G,G===Q.root,0);return function Xt(q,Q,G){let de=q,Pe=Q,Ct=G;for(;Ct>Pe;){if(Ct-=Pe,de=de.parent,!de)throw new a.vHH(4005,!1);Pe=de.segments.length}return new Y(de,!1,Pe-Ct)}(G,de+(mt(q.commands[0])?0:1),q.numberOfDoubleDots)}(Ct,Q,q.snapshot?._urlSegment,di),Nr=Ni.processChildren?ji(Ni.segmentGroup,Ni.index,Ct.commands):zi(Ni.segmentGroup,Ni.index,Ct.commands);return it(Q.root,Ni.segmentGroup,Nr,de,Pe)}(q.snapshot?._lastPathIndex)}function mt(q){return"object"==typeof q&&null!=q&&!q.outlets&&!q.segmentPath}function Ft(q){return"object"==typeof q&&null!=q&&q.outlets}function it(q,Q,G,de,Pe){let on,Ct={};de&&Nt(de,(di,Ni)=>{Ct[Ni]=Array.isArray(di)?di.map(Nr=>`${Nr}`):`${di}`}),on=q===Q?G:Wt(q,Q,G);const dn=ut(ie(on));return new An(dn,Ct,Pe)}function Wt(q,Q,G){const de={};return Nt(q.children,(Pe,Ct)=>{de[Ct]=Pe===Q?G:Wt(Pe,Q,G)}),new Ln(q.segments,de)}class at{constructor(Q,G,de){if(this.isAbsolute=Q,this.numberOfDoubleDots=G,this.commands=de,Q&&de.length>0&&mt(de[0]))throw new a.vHH(4003,!1);const Pe=de.find(Ft);if(Pe&&Pe!==pn(de))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Y{constructor(Q,G,de){this.segmentGroup=Q,this.processChildren=G,this.index=de}}function zi(q,Q,G){if(q||(q=new Ln([],{})),0===q.segments.length&&q.hasChildren())return ji(q,Q,G);const de=function Hr(q,Q,G){let de=0,Pe=Q;const Ct={match:!1,pathIndex:0,commandIndex:0};for(;Pe<q.segments.length;){if(de>=G.length)return Ct;const on=q.segments[Pe],dn=G[de];if(Ft(dn))break;const di=`${dn}`,Ni=de<G.length-1?G[de+1]:null;if(Pe>0&&void 0===di)break;if(di&&Ni&&"object"==typeof Ni&&void 0===Ni.outlets){if(!$r(di,Ni,on))return Ct;de+=2}else{if(!$r(di,{},on))return Ct;de++}Pe++}return{match:!0,pathIndex:Pe,commandIndex:de}}(q,Q,G),Pe=G.slice(de.commandIndex);if(de.match&&de.pathIndex<q.segments.length){const Ct=new Ln(q.segments.slice(0,de.pathIndex),{});return Ct.children[jt]=new Ln(q.segments.slice(de.pathIndex),q.children),ji(Ct,0,Pe)}return de.match&&0===Pe.length?new Ln(q.segments,{}):de.match&&!q.hasChildren()?vr(q,Q,G):de.match?ji(q,0,Pe):vr(q,Q,G)}function ji(q,Q,G){if(0===G.length)return new Ln(q.segments,{});{const de=function ci(q){return Ft(q[0])?q[0].outlets:{[jt]:q}}(G),Pe={};return Nt(de,(Ct,on)=>{"string"==typeof Ct&&(Ct=[Ct]),null!==Ct&&(Pe[on]=zi(q.children[on],Q,Ct))}),Nt(q.children,(Ct,on)=>{void 0===de[on]&&(Pe[on]=Ct)}),new Ln(q.segments,Pe)}}function vr(q,Q,G){const de=q.segments.slice(0,Q);let Pe=0;for(;Pe<G.length;){const Ct=G[Pe];if(Ft(Ct)){const di=ur(Ct.outlets);return new Ln(de,di)}if(0===Pe&&mt(G[0])){de.push(new mi(q.segments[Q].path,xs(G[0]))),Pe++;continue}const on=Ft(Ct)?Ct.outlets[jt]:`${Ct}`,dn=Pe<G.length-1?G[Pe+1]:null;on&&dn&&mt(dn)?(de.push(new mi(on,xs(dn))),Pe+=2):(de.push(new mi(on,{})),Pe++)}return new Ln(de,{})}function ur(q){const Q={};return Nt(q,(G,de)=>{"string"==typeof G&&(G=[G]),null!==G&&(Q[de]=vr(new Ln([],{}),0,G))}),Q}function xs(q){const Q={};return Nt(q,(G,de)=>Q[de]=`${G}`),Q}function $r(q,Q,G){return q==G.path&&_n(Q,G.parameters)}class ss{constructor(Q,G){this.id=Q,this.url=G}}class wo extends ss{constructor(Q,G,de="imperative",Pe=null){super(Q,G),this.type=0,this.navigationTrigger=de,this.restoredState=Pe}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class nr extends ss{constructor(Q,G,de){super(Q,G),this.urlAfterRedirects=de,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Jr extends ss{constructor(Q,G,de,Pe){super(Q,G),this.reason=de,this.code=Pe,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ps extends ss{constructor(Q,G,de,Pe){super(Q,G),this.error=de,this.target=Pe,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qo extends ss{constructor(Q,G,de,Pe){super(Q,G),this.urlAfterRedirects=de,this.state=Pe,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Co extends ss{constructor(Q,G,de,Pe){super(Q,G),this.urlAfterRedirects=de,this.state=Pe,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wo extends ss{constructor(Q,G,de,Pe,Ct){super(Q,G),this.urlAfterRedirects=de,this.state=Pe,this.shouldActivate=Ct,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class fa extends ss{constructor(Q,G,de,Pe){super(Q,G),this.urlAfterRedirects=de,this.state=Pe,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ws extends ss{constructor(Q,G,de,Pe){super(Q,G),this.urlAfterRedirects=de,this.state=Pe,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Es{constructor(Q){this.route=Q,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ta{constructor(Q){this.route=Q,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ja{constructor(Q){this.snapshot=Q,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Os{constructor(Q){this.snapshot=Q,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ra{constructor(Q){this.snapshot=Q,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cs{constructor(Q){this.snapshot=Q,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Po{constructor(Q,G,de){this.routerEvent=Q,this.position=G,this.anchor=de,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ls{constructor(Q){this._root=Q}get root(){return this._root.value}parent(Q){const G=this.pathFromRoot(Q);return G.length>1?G[G.length-2]:null}children(Q){const G=Ga(Q,this._root);return G?G.children.map(de=>de.value):[]}firstChild(Q){const G=Ga(Q,this._root);return G&&G.children.length>0?G.children[0].value:null}siblings(Q){const G=wa(Q,this._root);return G.length<2?[]:G[G.length-2].children.map(Pe=>Pe.value).filter(Pe=>Pe!==Q)}pathFromRoot(Q){return wa(Q,this._root).map(G=>G.value)}}function Ga(q,Q){if(q===Q.value)return Q;for(const G of Q.children){const de=Ga(q,G);if(de)return de}return null}function wa(q,Q){if(q===Q.value)return[Q];for(const G of Q.children){const de=wa(q,G);if(de.length)return de.unshift(Q),de}return[]}class Ws{constructor(Q,G){this.value=Q,this.children=G}toString(){return`TreeNode(${this.value})`}}function Hs(q){const Q={};return q&&q.children.forEach(G=>Q[G.value.outlet]=G),Q}class Ca extends Ls{constructor(Q,G){super(Q),this.snapshot=G,Eo(this,Q)}toString(){return this.snapshot.toString()}}function Rl(q,Q){const G=function Sr(q,Q){const on=new Da([],{},{},"",{},jt,Q,null,q.root,-1,{});return new Bo("",new Ws(on,[]))}(q,Q),de=new ue.X([new mi("",{})]),Pe=new ue.X({}),Ct=new ue.X({}),on=new ue.X({}),dn=new ue.X(""),di=new Rr(de,Pe,on,dn,Ct,jt,Q,G.root);return di.snapshot=G.root,new Ca(new Ws(di,[]),G)}class Rr{constructor(Q,G,de,Pe,Ct,on,dn,di){this.url=Q,this.params=G,this.queryParams=de,this.fragment=Pe,this.data=Ct,this.outlet=on,this.component=dn,this.title=this.data?.pipe((0,ft.U)(Ni=>Ni[Yn]))??(0,O.of)(void 0),this._futureSnapshot=di}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ft.U)(Q=>gn(Q)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ft.U)(Q=>gn(Q)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function os(q,Q="emptyOnly"){const G=q.pathFromRoot;let de=0;if("always"!==Q)for(de=G.length-1;de>=1;){const Pe=G[de],Ct=G[de-1];if(Pe.routeConfig&&""===Pe.routeConfig.path)de--;else{if(Ct.component)break;de--}}return function Ta(q){return q.reduce((Q,G)=>({params:{...Q.params,...G.params},data:{...Q.data,...G.data},resolve:{...G.data,...Q.resolve,...G.routeConfig?.data,...G._resolvedData}}),{params:{},data:{},resolve:{}})}(G.slice(de))}class Da{constructor(Q,G,de,Pe,Ct,on,dn,di,Ni,Nr,Fi,qs){this.url=Q,this.params=G,this.queryParams=de,this.fragment=Pe,this.data=Ct,this.outlet=on,this.component=dn,this.title=this.data?.[Yn],this.routeConfig=di,this._urlSegment=Ni,this._lastPathIndex=Nr,this._correctedLastPathIndex=qs??Nr,this._resolve=Fi}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(de=>de.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Bo extends Ls{constructor(Q,G){super(G),this.url=Q,Eo(this,G)}toString(){return Aa(this._root)}}function Eo(q,Q){Q.value._routerState=q,Q.children.forEach(G=>Eo(q,G))}function Aa(q){const Q=q.children.length>0?` { ${q.children.map(Aa).join(", ")} } `:"";return`${q.value}${Q}`}function Oo(q){if(q.snapshot){const Q=q.snapshot,G=q._futureSnapshot;q.snapshot=G,_n(Q.queryParams,G.queryParams)||q.queryParams.next(G.queryParams),Q.fragment!==G.fragment&&q.fragment.next(G.fragment),_n(Q.params,G.params)||q.params.next(G.params),function Qn(q,Q){if(q.length!==Q.length)return!1;for(let G=0;G<q.length;++G)if(!_n(q[G],Q[G]))return!1;return!0}(Q.url,G.url)||q.url.next(G.url),_n(Q.data,G.data)||q.data.next(G.data)}else q.snapshot=q._futureSnapshot,q.data.next(q._futureSnapshot.data)}function mo(q,Q){const G=_n(q.params,Q.params)&&function Xi(q,Q){return li(q,Q)&&q.every((G,de)=>_n(G.parameters,Q[de].parameters))}(q.url,Q.url);return G&&!(!q.parent!=!Q.parent)&&(!q.parent||mo(q.parent,Q.parent))}function Ur(q,Q,G){if(G&&q.shouldReuseRoute(Q.value,G.value.snapshot)){const de=G.value;de._futureSnapshot=Q.value;const Pe=function tl(q,Q,G){return Q.children.map(de=>{for(const Pe of G.children)if(q.shouldReuseRoute(de.value,Pe.value.snapshot))return Ur(q,de,Pe);return Ur(q,de)})}(q,Q,G);return new Ws(de,Pe)}{if(q.shouldAttach(Q.value)){const Ct=q.retrieve(Q.value);if(null!==Ct){const on=Ct.route;return on.value._futureSnapshot=Q.value,on.children=Q.children.map(dn=>Ur(q,dn)),on}}const de=function Fa(q){return new Rr(new ue.X(q.url),new ue.X(q.params),new ue.X(q.queryParams),new ue.X(q.fragment),new ue.X(q.data),q.outlet,q.component,q)}(Q.value),Pe=Q.children.map(Ct=>Ur(q,Ct));return new Ws(de,Pe)}}const Mo="ngNavigationCancelingError";function Sa(q,Q){const{redirectTo:G,navigationBehaviorOptions:de}=ge(Q)?{redirectTo:Q,navigationBehaviorOptions:void 0}:Q,Pe=Yo(!1,0,Q);return Pe.url=G,Pe.navigationBehaviorOptions=de,Pe}function Yo(q,Q,G){const de=new Error("NavigationCancelingError: "+(q||""));return de[Mo]=!0,de.cancellationCode=Q,G&&(de.url=G),de}function Zo(q){return lo(q)&&ge(q.url)}function lo(q){return q&&q[Mo]}class wr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ea,this.attachRef=null}}let Ea=(()=>{class q{constructor(){this.contexts=new Map}onChildOutletCreated(G,de){const Pe=this.getOrCreateContext(G);Pe.outlet=de,this.contexts.set(G,Pe)}onChildOutletDestroyed(G){const de=this.getContext(G);de&&(de.outlet=null,de.attachRef=null)}onOutletDeactivated(){const G=this.contexts;return this.contexts=new Map,G}onOutletReAttached(G){this.contexts=G}getOrCreateContext(G){let de=this.getContext(G);return de||(de=new wr,this.contexts.set(G,de)),de}getContext(G){return this.contexts.get(G)||null}}return q.\u0275fac=function(G){return new(G||q)},q.\u0275prov=a.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})();const Bs=!1;let Ms=(()=>{class q{constructor(G,de,Pe,Ct,on){this.parentContexts=G,this.location=de,this.changeDetector=Ct,this.environmentInjector=on,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=Pe||jt,G.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const G=this.parentContexts.getContext(this.name);G&&G.route&&(G.attachRef?this.attach(G.attachRef,G.route):this.activateWith(G.route,G.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,Bs);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,Bs);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,Bs);this.location.detach();const G=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(G.instance),G}attach(G,de){this.activated=G,this._activatedRoute=de,this.location.insert(G.hostView),this.attachEvents.emit(G.instance)}deactivate(){if(this.activated){const G=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(G)}}activateWith(G,de){if(this.isActivated)throw new a.vHH(4013,Bs);this._activatedRoute=G;const Pe=this.location,on=G._futureSnapshot.component,dn=this.parentContexts.getOrCreateContext(this.name).children,di=new To(G,dn,Pe.injector);if(de&&function dl(q){return!!q.resolveComponentFactory}(de)){const Ni=de.resolveComponentFactory(on);this.activated=Pe.createComponent(Ni,Pe.length,di)}else this.activated=Pe.createComponent(on,{index:Pe.length,injector:di,environmentInjector:de??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return q.\u0275fac=function(G){return new(G||q)(a.Y36(Ea),a.Y36(a.s_b),a.$8M("name"),a.Y36(a.sBO),a.Y36(a.lqb))},q.\u0275dir=a.lG2({type:q,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),q})();class To{constructor(Q,G,de){this.route=Q,this.childContexts=G,this.parent=de}get(Q,G){return Q===Rr?this.route:Q===Ea?this.childContexts:this.parent.get(Q,G)}}let Kr=(()=>{class q{}return q.\u0275fac=function(G){return new(G||q)},q.\u0275cmp=a.Xpm({type:q,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(G,de){1&G&&a._UZ(0,"router-outlet")},dependencies:[Ms],encapsulation:2}),q})();function us(q,Q){return q.providers&&!q._injector&&(q._injector=(0,a.MMx)(q.providers,Q,`Route: ${q.path}`)),q._injector??Q}function eo(q){const Q=q.children&&q.children.map(eo),G=Q?{...q,children:Q}:{...q};return!G.component&&!G.loadComponent&&(Q||G.loadChildren)&&G.outlet&&G.outlet!==jt&&(G.component=Kr),G}function Qo(q){return q.outlet||jt}function Vo(q,Q){const G=q.filter(de=>Qo(de)===Q);return G.push(...q.filter(de=>Qo(de)!==Q)),G}function Xo(q){if(!q)return null;if(q.routeConfig?._injector)return q.routeConfig._injector;for(let Q=q.parent;Q;Q=Q.parent){const G=Q.routeConfig;if(G?._loadedInjector)return G._loadedInjector;if(G?._injector)return G._injector}return null}class lr{constructor(Q,G,de,Pe){this.routeReuseStrategy=Q,this.futureState=G,this.currState=de,this.forwardEvent=Pe}activate(Q){const G=this.futureState._root,de=this.currState?this.currState._root:null;this.deactivateChildRoutes(G,de,Q),Oo(this.futureState.root),this.activateChildRoutes(G,de,Q)}deactivateChildRoutes(Q,G,de){const Pe=Hs(G);Q.children.forEach(Ct=>{const on=Ct.value.outlet;this.deactivateRoutes(Ct,Pe[on],de),delete Pe[on]}),Nt(Pe,(Ct,on)=>{this.deactivateRouteAndItsChildren(Ct,de)})}deactivateRoutes(Q,G,de){const Pe=Q.value,Ct=G?G.value:null;if(Pe===Ct)if(Pe.component){const on=de.getContext(Pe.outlet);on&&this.deactivateChildRoutes(Q,G,on.children)}else this.deactivateChildRoutes(Q,G,de);else Ct&&this.deactivateRouteAndItsChildren(G,de)}deactivateRouteAndItsChildren(Q,G){Q.value.component&&this.routeReuseStrategy.shouldDetach(Q.value.snapshot)?this.detachAndStoreRouteSubtree(Q,G):this.deactivateRouteAndOutlet(Q,G)}detachAndStoreRouteSubtree(Q,G){const de=G.getContext(Q.value.outlet),Pe=de&&Q.value.component?de.children:G,Ct=Hs(Q);for(const on of Object.keys(Ct))this.deactivateRouteAndItsChildren(Ct[on],Pe);if(de&&de.outlet){const on=de.outlet.detach(),dn=de.children.onOutletDeactivated();this.routeReuseStrategy.store(Q.value.snapshot,{componentRef:on,route:Q,contexts:dn})}}deactivateRouteAndOutlet(Q,G){const de=G.getContext(Q.value.outlet),Pe=de&&Q.value.component?de.children:G,Ct=Hs(Q);for(const on of Object.keys(Ct))this.deactivateRouteAndItsChildren(Ct[on],Pe);de&&de.outlet&&(de.outlet.deactivate(),de.children.onOutletDeactivated(),de.attachRef=null,de.resolver=null,de.route=null)}activateChildRoutes(Q,G,de){const Pe=Hs(G);Q.children.forEach(Ct=>{this.activateRoutes(Ct,Pe[Ct.value.outlet],de),this.forwardEvent(new cs(Ct.value.snapshot))}),Q.children.length&&this.forwardEvent(new Os(Q.value.snapshot))}activateRoutes(Q,G,de){const Pe=Q.value,Ct=G?G.value:null;if(Oo(Pe),Pe===Ct)if(Pe.component){const on=de.getOrCreateContext(Pe.outlet);this.activateChildRoutes(Q,G,on.children)}else this.activateChildRoutes(Q,G,de);else if(Pe.component){const on=de.getOrCreateContext(Pe.outlet);if(this.routeReuseStrategy.shouldAttach(Pe.snapshot)){const dn=this.routeReuseStrategy.retrieve(Pe.snapshot);this.routeReuseStrategy.store(Pe.snapshot,null),on.children.onOutletReAttached(dn.contexts),on.attachRef=dn.componentRef,on.route=dn.route.value,on.outlet&&on.outlet.attach(dn.componentRef,dn.route.value),Oo(dn.route.value),this.activateChildRoutes(Q,null,on.children)}else{const dn=Xo(Pe.snapshot),di=dn?.get(a._Vd)??null;on.attachRef=null,on.route=Pe,on.resolver=di,on.injector=dn,on.outlet&&on.outlet.activateWith(Pe,on.injector),this.activateChildRoutes(Q,null,on.children)}}else this.activateChildRoutes(Q,null,de)}}class Do{constructor(Q){this.path=Q,this.route=this.path[this.path.length-1]}}class nl{constructor(Q,G){this.component=Q,this.route=G}}function $a(q,Q,G){const de=q._root;return na(de,Q?Q._root:null,G,[de.value])}function Jo(q,Q){const G=Symbol(),de=Q.get(q,G);return de===G?"function"!=typeof q||(0,a.Z0I)(q)?Q.get(q):q:de}function na(q,Q,G,de,Pe={canDeactivateChecks:[],canActivateChecks:[]}){const Ct=Hs(Q);return q.children.forEach(on=>{(function Ma(q,Q,G,de,Pe={canDeactivateChecks:[],canActivateChecks:[]}){const Ct=q.value,on=Q?Q.value:null,dn=G?G.getContext(q.value.outlet):null;if(on&&Ct.routeConfig===on.routeConfig){const di=function Ho(q,Q,G){if("function"==typeof G)return G(q,Q);switch(G){case"pathParamsChange":return!li(q.url,Q.url);case"pathParamsOrQueryParamsChange":return!li(q.url,Q.url)||!_n(q.queryParams,Q.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mo(q,Q)||!_n(q.queryParams,Q.queryParams);default:return!mo(q,Q)}}(on,Ct,Ct.routeConfig.runGuardsAndResolvers);di?Pe.canActivateChecks.push(new Do(de)):(Ct.data=on.data,Ct._resolvedData=on._resolvedData),na(q,Q,Ct.component?dn?dn.children:null:G,de,Pe),di&&dn&&dn.outlet&&dn.outlet.isActivated&&Pe.canDeactivateChecks.push(new nl(dn.outlet.component,on))}else on&&_i(Q,dn,Pe),Pe.canActivateChecks.push(new Do(de)),na(q,null,Ct.component?dn?dn.children:null:G,de,Pe)})(on,Ct[on.value.outlet],G,de.concat([on.value]),Pe),delete Ct[on.value.outlet]}),Nt(Ct,(on,dn)=>_i(on,G.getContext(dn),Pe)),Pe}function _i(q,Q,G){const de=Hs(q),Pe=q.value;Nt(de,(Ct,on)=>{_i(Ct,Pe.component?Q?Q.children.getContext(on):null:Q,G)}),G.canDeactivateChecks.push(new nl(Pe.component&&Q&&Q.outlet&&Q.outlet.isActivated?Q.outlet.component:null,Pe))}function Cr(q){return"function"==typeof q}function Vi(q){return q instanceof R.K||"EmptyError"===q?.name}const ds=Symbol("INITIAL_VALUE");function Rs(){return(0,pt.w)(q=>(0,Ee.a)(q.map(Q=>Q.pipe((0,tt.q)(1),(0,je.O)(ds)))).pipe((0,ft.U)(Q=>{for(const G of Q)if(!0!==G){if(G===ds)return ds;if(!1===G||G instanceof An)return G}return!0}),(0,Ye.h)(Q=>Q!==ds),(0,tt.q)(1)))}function lc(q){return(0,Ce.z)((0,vt.b)(Q=>{if(ge(Q))throw Sa(0,Q)}),(0,ft.U)(Q=>!0===Q))}const pa={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cc(q,Q,G,de,Pe){const Ct=ca(q,Q,G);return Ct.matched?function Vs(q,Q,G,de){const Pe=Q.canMatch;if(!Pe||0===Pe.length)return(0,O.of)(!0);const Ct=Pe.map(on=>{const dn=Jo(on,q);return tn(function he(q){return q&&Cr(q.canMatch)}(dn)?dn.canMatch(Q,G):q.runInContext(()=>dn(Q,G)))});return(0,O.of)(Ct).pipe(Rs(),lc())}(de=us(Q,de),Q,G).pipe((0,ft.U)(on=>!0===on?Ct:{...pa})):(0,O.of)(Ct)}function ca(q,Q,G){if(""===Q.path)return"full"===Q.pathMatch&&(q.hasChildren()||G.length>0)?{...pa}:{matched:!0,consumedSegments:[],remainingSegments:G,parameters:{},positionalParamSegments:{}};const Pe=(Q.matcher||On)(G,q,Q);if(!Pe)return{...pa};const Ct={};Nt(Pe.posParams,(dn,di)=>{Ct[di]=dn.path});const on=Pe.consumed.length>0?{...Ct,...Pe.consumed[Pe.consumed.length-1].parameters}:Ct;return{matched:!0,consumedSegments:Pe.consumed,remainingSegments:G.slice(Pe.consumed.length),parameters:on,positionalParamSegments:Pe.posParams??{}}}function ar(q,Q,G,de,Pe="corrected"){if(G.length>0&&function co(q,Q,G){return G.some(de=>Gs(q,Q,de)&&Qo(de)!==jt)}(q,G,de)){const on=new Ln(Q,function il(q,Q,G,de){const Pe={};Pe[jt]=de,de._sourceSegment=q,de._segmentIndexShift=Q.length;for(const Ct of G)if(""===Ct.path&&Qo(Ct)!==jt){const on=new Ln([],{});on._sourceSegment=q,on._segmentIndexShift=Q.length,Pe[Qo(Ct)]=on}return Pe}(q,Q,de,new Ln(G,q.children)));return on._sourceSegment=q,on._segmentIndexShift=Q.length,{segmentGroup:on,slicedSegments:[]}}if(0===G.length&&function ua(q,Q,G){return G.some(de=>Gs(q,Q,de))}(q,G,de)){const on=new Ln(q.segments,function xr(q,Q,G,de,Pe,Ct){const on={};for(const dn of de)if(Gs(q,G,dn)&&!Pe[Qo(dn)]){const di=new Ln([],{});di._sourceSegment=q,di._segmentIndexShift="legacy"===Ct?q.segments.length:Q.length,on[Qo(dn)]=di}return{...Pe,...on}}(q,Q,G,de,q.children,Pe));return on._sourceSegment=q,on._segmentIndexShift=Q.length,{segmentGroup:on,slicedSegments:G}}const Ct=new Ln(q.segments,q.children);return Ct._sourceSegment=q,Ct._segmentIndexShift=Q.length,{segmentGroup:Ct,slicedSegments:G}}function Gs(q,Q,G){return(!(q.hasChildren()||Q.length>0)||"full"!==G.pathMatch)&&""===G.path}function ae(q,Q,G,de){return!!(Qo(q)===de||de!==jt&&Gs(Q,G,q))&&("**"===q.path||ca(Q,q,G).matched)}function Xe(q,Q,G){return 0===Q.length&&!q.children[G]}const ve=!1;class yt{constructor(Q){this.segmentGroup=Q||null}}class un{constructor(Q){this.urlTree=Q}}function jn(q){return(0,re._)(new yt(q))}function si(q){return(0,re._)(new un(q))}class qr{constructor(Q,G,de,Pe,Ct){this.injector=Q,this.configLoader=G,this.urlSerializer=de,this.urlTree=Pe,this.config=Ct,this.allowRedirects=!0}apply(){const Q=ar(this.urlTree.root,[],[],this.config).segmentGroup,G=new Ln(Q.segments,Q.children);return this.expandSegmentGroup(this.injector,this.config,G,jt).pipe((0,ft.U)(Ct=>this.createUrlTree(ie(Ct),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,an.K)(Ct=>{if(Ct instanceof un)return this.allowRedirects=!1,this.match(Ct.urlTree);throw Ct instanceof yt?this.noMatchError(Ct):Ct}))}match(Q){return this.expandSegmentGroup(this.injector,this.config,Q.root,jt).pipe((0,ft.U)(Pe=>this.createUrlTree(ie(Pe),Q.queryParams,Q.fragment))).pipe((0,an.K)(Pe=>{throw Pe instanceof yt?this.noMatchError(Pe):Pe}))}noMatchError(Q){return new a.vHH(4002,ve)}createUrlTree(Q,G,de){const Pe=ut(Q);return new An(Pe,G,de)}expandSegmentGroup(Q,G,de,Pe){return 0===de.segments.length&&de.hasChildren()?this.expandChildren(Q,G,de).pipe((0,ft.U)(Ct=>new Ln([],Ct))):this.expandSegment(Q,de,G,de.segments,Pe,!0)}expandChildren(Q,G,de){const Pe=[];for(const Ct of Object.keys(de.children))"primary"===Ct?Pe.unshift(Ct):Pe.push(Ct);return(0,T.D)(Pe).pipe((0,St.b)(Ct=>{const on=de.children[Ct],dn=Vo(G,Ct);return this.expandSegmentGroup(Q,dn,on,Ct).pipe((0,ft.U)(di=>({segment:di,outlet:Ct})))}),(0,xn.R)((Ct,on)=>(Ct[on.outlet]=on.segment,Ct),{}),Wn())}expandSegment(Q,G,de,Pe,Ct,on){return(0,T.D)(de).pipe((0,St.b)(dn=>this.expandSegmentAgainstRoute(Q,G,de,dn,Pe,Ct,on).pipe((0,an.K)(Ni=>{if(Ni instanceof yt)return(0,O.of)(null);throw Ni}))),(0,me.P)(dn=>!!dn),(0,an.K)((dn,di)=>{if(Vi(dn))return Xe(G,Pe,Ct)?(0,O.of)(new Ln([],{})):jn(G);throw dn}))}expandSegmentAgainstRoute(Q,G,de,Pe,Ct,on,dn){return ae(Pe,G,Ct,on)?void 0===Pe.redirectTo?this.matchSegmentAgainstRoute(Q,G,Pe,Ct,on):dn&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(Q,G,de,Pe,Ct,on):jn(G):jn(G)}expandSegmentAgainstRouteUsingRedirect(Q,G,de,Pe,Ct,on){return"**"===Pe.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(Q,de,Pe,on):this.expandRegularSegmentAgainstRouteUsingRedirect(Q,G,de,Pe,Ct,on)}expandWildCardWithParamsAgainstRouteUsingRedirect(Q,G,de,Pe){const Ct=this.applyRedirectCommands([],de.redirectTo,{});return de.redirectTo.startsWith("/")?si(Ct):this.lineralizeSegments(de,Ct).pipe((0,Me.z)(on=>{const dn=new Ln(on,{});return this.expandSegment(Q,dn,G,on,Pe,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(Q,G,de,Pe,Ct,on){const{matched:dn,consumedSegments:di,remainingSegments:Ni,positionalParamSegments:Nr}=ca(G,Pe,Ct);if(!dn)return jn(G);const Fi=this.applyRedirectCommands(di,Pe.redirectTo,Nr);return Pe.redirectTo.startsWith("/")?si(Fi):this.lineralizeSegments(Pe,Fi).pipe((0,Me.z)(qs=>this.expandSegment(Q,G,de,qs.concat(Ni),on,!1)))}matchSegmentAgainstRoute(Q,G,de,Pe,Ct){return"**"===de.path?(Q=us(de,Q),de.loadChildren?(de._loadedRoutes?(0,O.of)({routes:de._loadedRoutes,injector:de._loadedInjector}):this.configLoader.loadChildren(Q,de)).pipe((0,ft.U)(dn=>(de._loadedRoutes=dn.routes,de._loadedInjector=dn.injector,new Ln(Pe,{})))):(0,O.of)(new Ln(Pe,{}))):cc(G,de,Pe,Q).pipe((0,pt.w)(({matched:on,consumedSegments:dn,remainingSegments:di})=>on?this.getChildConfig(Q=de._injector??Q,de,Pe).pipe((0,Me.z)(Nr=>{const Fi=Nr.injector??Q,qs=Nr.routes,{segmentGroup:Fo,slicedSegments:Fs}=ar(G,dn,di,qs),Bl=new Ln(Fo.segments,Fo.children);if(0===Fs.length&&Bl.hasChildren())return this.expandChildren(Fi,qs,Bl).pipe((0,ft.U)(Za=>new Ln(dn,Za)));if(0===qs.length&&0===Fs.length)return(0,O.of)(new Ln(dn,{}));const al=Qo(de)===Ct;return this.expandSegment(Fi,Bl,qs,Fs,al?jt:Ct,!0).pipe((0,ft.U)(Ua=>new Ln(dn.concat(Ua.segments),Ua.children)))})):jn(G)))}getChildConfig(Q,G,de){return G.children?(0,O.of)({routes:G.children,injector:Q}):G.loadChildren?void 0!==G._loadedRoutes?(0,O.of)({routes:G._loadedRoutes,injector:G._loadedInjector}):function Wa(q,Q,G,de){const Pe=Q.canLoad;if(void 0===Pe||0===Pe.length)return(0,O.of)(!0);const Ct=Pe.map(on=>{const dn=Jo(on,q);return tn(function ka(q){return q&&Cr(q.canLoad)}(dn)?dn.canLoad(Q,G):q.runInContext(()=>dn(Q,G)))});return(0,O.of)(Ct).pipe(Rs(),lc())}(Q,G,de).pipe((0,Me.z)(Pe=>Pe?this.configLoader.loadChildren(Q,G).pipe((0,vt.b)(Ct=>{G._loadedRoutes=Ct.routes,G._loadedInjector=Ct.injector})):function ki(q){return(0,re._)(Yo(ve,3))}())):(0,O.of)({routes:[],injector:Q})}lineralizeSegments(Q,G){let de=[],Pe=G.root;for(;;){if(de=de.concat(Pe.segments),0===Pe.numberOfChildren)return(0,O.of)(de);if(Pe.numberOfChildren>1||!Pe.children[jt])return(0,re._)(new a.vHH(4e3,ve));Pe=Pe.children[jt]}}applyRedirectCommands(Q,G,de){return this.applyRedirectCreateUrlTree(G,this.urlSerializer.parse(G),Q,de)}applyRedirectCreateUrlTree(Q,G,de,Pe){const Ct=this.createSegmentGroup(Q,G.root,de,Pe);return new An(Ct,this.createQueryParams(G.queryParams,this.urlTree.queryParams),G.fragment)}createQueryParams(Q,G){const de={};return Nt(Q,(Pe,Ct)=>{if("string"==typeof Pe&&Pe.startsWith(":")){const dn=Pe.substring(1);de[Ct]=G[dn]}else de[Ct]=Pe}),de}createSegmentGroup(Q,G,de,Pe){const Ct=this.createSegments(Q,G.segments,de,Pe);let on={};return Nt(G.children,(dn,di)=>{on[di]=this.createSegmentGroup(Q,dn,de,Pe)}),new Ln(Ct,on)}createSegments(Q,G,de,Pe){return G.map(Ct=>Ct.path.startsWith(":")?this.findPosParam(Q,Ct,Pe):this.findOrReturn(Ct,de))}findPosParam(Q,G,de){const Pe=de[G.path.substring(1)];if(!Pe)throw new a.vHH(4001,ve);return Pe}findOrReturn(Q,G){let de=0;for(const Pe of G){if(Pe.path===Q.path)return G.splice(de),Pe;de++}return Q}}class hs{}class Uo{constructor(Q,G,de,Pe,Ct,on,dn,di){this.injector=Q,this.rootComponentType=G,this.config=de,this.urlTree=Pe,this.url=Ct,this.paramsInheritanceStrategy=on,this.relativeLinkResolution=dn,this.urlSerializer=di}recognize(){const Q=ar(this.urlTree.root,[],[],this.config.filter(G=>void 0===G.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,Q,jt).pipe((0,ft.U)(G=>{if(null===G)return null;const de=new Da([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},jt,this.rootComponentType,null,this.urlTree.root,-1,{}),Pe=new Ws(de,G),Ct=new Bo(this.url,Pe);return this.inheritParamsAndData(Ct._root),Ct}))}inheritParamsAndData(Q){const G=Q.value,de=os(G,this.paramsInheritanceStrategy);G.params=Object.freeze(de.params),G.data=Object.freeze(de.data),Q.children.forEach(Pe=>this.inheritParamsAndData(Pe))}processSegmentGroup(Q,G,de,Pe){return 0===de.segments.length&&de.hasChildren()?this.processChildren(Q,G,de):this.processSegment(Q,G,de,de.segments,Pe)}processChildren(Q,G,de){return(0,T.D)(Object.keys(de.children)).pipe((0,St.b)(Pe=>{const Ct=de.children[Pe],on=Vo(G,Pe);return this.processSegmentGroup(Q,on,Ct,Pe)}),(0,xn.R)((Pe,Ct)=>Pe&&Ct?(Pe.push(...Ct),Pe):null),(0,Ht.o)(Pe=>null!==Pe),(0,Gn.d)(null),Wn(),(0,ft.U)(Pe=>{if(null===Pe)return null;const Ct=qi(Pe);return function yo(q){q.sort((Q,G)=>Q.value.outlet===jt?-1:G.value.outlet===jt?1:Q.value.outlet.localeCompare(G.value.outlet))}(Ct),Ct}))}processSegment(Q,G,de,Pe,Ct){return(0,T.D)(G).pipe((0,St.b)(on=>this.processSegmentAgainstRoute(on._injector??Q,on,de,Pe,Ct)),(0,me.P)(on=>!!on),(0,an.K)(on=>{if(Vi(on))return Xe(de,Pe,Ct)?(0,O.of)([]):(0,O.of)(null);throw on}))}processSegmentAgainstRoute(Q,G,de,Pe,Ct){if(G.redirectTo||!ae(G,de,Pe,Ct))return(0,O.of)(null);let on;if("**"===G.path){const dn=Pe.length>0?pn(Pe).parameters:{},di=Ys(de)+Pe.length,Ni=new Da(Pe,dn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Nl(G),Qo(G),G.component??G._loadedComponent??null,G,_c(de),di,ga(G),di);on=(0,O.of)({snapshot:Ni,consumedSegments:[],remainingSegments:[]})}else on=cc(de,G,Pe,Q).pipe((0,ft.U)(({matched:dn,consumedSegments:di,remainingSegments:Ni,parameters:Nr})=>{if(!dn)return null;const Fi=Ys(de)+di.length;return{snapshot:new Da(di,Nr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Nl(G),Qo(G),G.component??G._loadedComponent??null,G,_c(de),Fi,ga(G),Fi),consumedSegments:di,remainingSegments:Ni}}));return on.pipe((0,pt.w)(dn=>{if(null===dn)return(0,O.of)(null);const{snapshot:di,consumedSegments:Ni,remainingSegments:Nr}=dn;Q=G._injector??Q;const Fi=G._loadedInjector??Q,qs=function Va(q){return q.children?q.children:q.loadChildren?q._loadedRoutes:[]}(G),{segmentGroup:Fo,slicedSegments:Fs}=ar(de,Ni,Nr,qs.filter(al=>void 0===al.redirectTo),this.relativeLinkResolution);if(0===Fs.length&&Fo.hasChildren())return this.processChildren(Fi,qs,Fo).pipe((0,ft.U)(al=>null===al?null:[new Ws(di,al)]));if(0===qs.length&&0===Fs.length)return(0,O.of)([new Ws(di,[])]);const Bl=Qo(G)===Ct;return this.processSegment(Fi,qs,Fo,Fs,Bl?jt:Ct).pipe((0,ft.U)(al=>null===al?null:[new Ws(di,al)]))}))}}function Ha(q){const Q=q.value.routeConfig;return Q&&""===Q.path&&void 0===Q.redirectTo}function qi(q){const Q=[],G=new Set;for(const de of q){if(!Ha(de)){Q.push(de);continue}const Pe=Q.find(Ct=>de.value.routeConfig===Ct.value.routeConfig);void 0!==Pe?(Pe.children.push(...de.children),G.add(Pe)):Q.push(de)}for(const de of G){const Pe=qi(de.children);Q.push(new Ws(de.value,Pe))}return Q.filter(de=>!G.has(de))}function _c(q){let Q=q;for(;Q._sourceSegment;)Q=Q._sourceSegment;return Q}function Ys(q){let Q=q,G=Q._segmentIndexShift??0;for(;Q._sourceSegment;)Q=Q._sourceSegment,G+=Q._segmentIndexShift??0;return G-1}function Nl(q){return q.data||{}}function ga(q){return q.resolve||{}}function da(q){return"string"==typeof q.title||null===q.title}function Fr(q){return(0,pt.w)(Q=>{const G=q(Q);return G?(0,T.D)(G).pipe((0,ft.U)(()=>Q)):(0,O.of)(Q)})}let ne=(()=>{class q{buildTitle(G){let de,Pe=G.root;for(;void 0!==Pe;)de=this.getResolvedTitleForRoute(Pe)??de,Pe=Pe.children.find(Ct=>Ct.outlet===jt);return de}getResolvedTitleForRoute(G){return G.data[Yn]}}return q.\u0275fac=function(G){return new(G||q)},q.\u0275prov=a.Yz7({token:q,factory:function(){return(0,a.f3M)(oe)},providedIn:"root"}),q})(),oe=(()=>{class q extends ne{constructor(G){super(),this.title=G}updateTitle(G){const de=this.buildTitle(G);void 0!==de&&this.title.setTitle(de)}}return q.\u0275fac=function(G){return new(G||q)(a.LFG(Vt.Dx))},q.\u0275prov=a.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})();class hn{}class Gi extends class Dn{shouldDetach(Q){return!1}store(Q,G){}shouldAttach(Q){return!1}retrieve(Q){return null}shouldReuseRoute(Q,G){return Q.routeConfig===G.routeConfig}}{}const es=new a.OlP("",{providedIn:"root",factory:()=>({})}),$i=new a.OlP("ROUTES");let io=(()=>{class q{constructor(G,de){this.injector=G,this.compiler=de,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(G){if(this.componentLoaders.get(G))return this.componentLoaders.get(G);if(G._loadedComponent)return(0,O.of)(G._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(G);const de=tn(G.loadComponent()).pipe((0,vt.b)(Ct=>{this.onLoadEndListener&&this.onLoadEndListener(G),G._loadedComponent=Ct}),(0,Kt.x)(()=>{this.componentLoaders.delete(G)})),Pe=new Ke(de,()=>new nt.x).pipe(Je());return this.componentLoaders.set(G,Pe),Pe}loadChildren(G,de){if(this.childrenLoaders.get(de))return this.childrenLoaders.get(de);if(de._loadedRoutes)return(0,O.of)({routes:de._loadedRoutes,injector:de._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(de);const Ct=this.loadModuleFactoryOrRoutes(de.loadChildren).pipe((0,ft.U)(dn=>{this.onLoadEndListener&&this.onLoadEndListener(de);let di,Ni,Nr=!1;Array.isArray(dn)?Ni=dn:(di=dn.create(G).injector,Ni=yn(di.get($i,[],a.XFs.Self|a.XFs.Optional)));return{routes:Ni.map(eo),injector:di}}),(0,Kt.x)(()=>{this.childrenLoaders.delete(de)})),on=new Ke(Ct,()=>new nt.x).pipe(Je());return this.childrenLoaders.set(de,on),on}loadModuleFactoryOrRoutes(G){return tn(G()).pipe((0,Me.z)(de=>de instanceof a.YKP||Array.isArray(de)?(0,O.of)(de):(0,T.D)(this.compiler.compileModuleAsync(de))))}}return q.\u0275fac=function(G){return new(G||q)(a.LFG(a.zs3),a.LFG(a.Sil))},q.\u0275prov=a.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})();class Ri{}class Kn{shouldProcessUrl(Q){return!0}extract(Q){return Q}merge(Q,G){return Q}}function f(q){throw q}function w(q,Q,G){return Q.parse("/")}const H={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ee={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Dt(){const q=(0,a.f3M)(Si),Q=(0,a.f3M)(Ea),G=(0,a.f3M)(We.Ye),de=(0,a.f3M)(a.zs3),Pe=(0,a.f3M)(a.Sil),Ct=(0,a.f3M)($i,{optional:!0})??[],on=(0,a.f3M)(es,{optional:!0})??{},dn=(0,a.f3M)(oe),di=(0,a.f3M)(ne,{optional:!0}),Ni=(0,a.f3M)(Ri,{optional:!0}),Nr=(0,a.f3M)(hn,{optional:!0}),Fi=new fn(null,q,Q,G,de,Pe,yn(Ct));return Ni&&(Fi.urlHandlingStrategy=Ni),Nr&&(Fi.routeReuseStrategy=Nr),Fi.titleStrategy=di??dn,function Le(q,Q){q.errorHandler&&(Q.errorHandler=q.errorHandler),q.malformedUriErrorHandler&&(Q.malformedUriErrorHandler=q.malformedUriErrorHandler),q.onSameUrlNavigation&&(Q.onSameUrlNavigation=q.onSameUrlNavigation),q.paramsInheritanceStrategy&&(Q.paramsInheritanceStrategy=q.paramsInheritanceStrategy),q.relativeLinkResolution&&(Q.relativeLinkResolution=q.relativeLinkResolution),q.urlUpdateStrategy&&(Q.urlUpdateStrategy=q.urlUpdateStrategy),q.canceledNavigationResolution&&(Q.canceledNavigationResolution=q.canceledNavigationResolution)}(on,Fi),Fi}let fn=(()=>{class q{constructor(G,de,Pe,Ct,on,dn,di){this.rootComponentType=G,this.urlSerializer=de,this.rootContexts=Pe,this.location=Ct,this.config=di,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new nt.x,this.errorHandler=f,this.malformedUriErrorHandler=w,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,O.of)(void 0),this.urlHandlingStrategy=new Kn,this.routeReuseStrategy=new Gi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=on.get(io),this.configLoader.onLoadEndListener=qs=>this.triggerEvent(new ta(qs)),this.configLoader.onLoadStartListener=qs=>this.triggerEvent(new Es(qs)),this.ngModule=on.get(a.h0i),this.console=on.get(a.c2e);const Fi=on.get(a.R0b);this.isNgZoneEnabled=Fi instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(di),this.currentUrlTree=function bn(){return new An(new Ln([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Rl(this.currentUrlTree,this.rootComponentType),this.transitions=new ue.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(G){const de=this.events;return G.pipe((0,Ye.h)(Pe=>0!==Pe.id),(0,ft.U)(Pe=>({...Pe,extractedUrl:this.urlHandlingStrategy.extract(Pe.rawUrl)})),(0,pt.w)(Pe=>{let Ct=!1,on=!1;return(0,O.of)(Pe).pipe((0,vt.b)(dn=>{this.currentNavigation={id:dn.id,initialUrl:dn.rawUrl,extractedUrl:dn.extractedUrl,trigger:dn.source,extras:dn.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,pt.w)(dn=>{const di=this.browserUrlTree.toString(),Ni=!this.navigated||dn.extractedUrl.toString()!==di||di!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Ni)&&this.urlHandlingStrategy.shouldProcessUrl(dn.rawUrl))return Xn(dn.source)&&(this.browserUrlTree=dn.extractedUrl),(0,O.of)(dn).pipe((0,pt.w)(Fi=>{const qs=this.transitions.getValue();return de.next(new wo(Fi.id,this.serializeUrl(Fi.extractedUrl),Fi.source,Fi.restoredState)),qs!==this.transitions.getValue()?be.E:Promise.resolve(Fi)}),function Pr(q,Q,G,de){return(0,pt.w)(Pe=>function Wr(q,Q,G,de,Pe){return new qr(q,Q,G,de,Pe).apply()}(q,Q,G,Pe.extractedUrl,de).pipe((0,ft.U)(Ct=>({...Pe,urlAfterRedirects:Ct}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,vt.b)(Fi=>{this.currentNavigation={...this.currentNavigation,finalUrl:Fi.urlAfterRedirects},Pe.urlAfterRedirects=Fi.urlAfterRedirects}),function Ec(q,Q,G,de,Pe,Ct){return(0,Me.z)(on=>function Ia(q,Q,G,de,Pe,Ct,on="emptyOnly",dn="legacy"){return new Uo(q,Q,G,de,Pe,on,dn,Ct).recognize().pipe((0,pt.w)(di=>null===di?function Cs(q){return new ce.y(Q=>Q.error(q))}(new hs):(0,O.of)(di)))}(q,Q,G,on.urlAfterRedirects,de.serialize(on.urlAfterRedirects),de,Pe,Ct).pipe((0,ft.U)(dn=>({...on,targetSnapshot:dn}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,vt.b)(Fi=>{if(Pe.targetSnapshot=Fi.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Fi.extras.skipLocationChange){const Fo=this.urlHandlingStrategy.merge(Fi.urlAfterRedirects,Fi.rawUrl);this.setBrowserUrl(Fo,Fi)}this.browserUrlTree=Fi.urlAfterRedirects}const qs=new qo(Fi.id,this.serializeUrl(Fi.extractedUrl),this.serializeUrl(Fi.urlAfterRedirects),Fi.targetSnapshot);de.next(qs)}));if(Ni&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:qs,extractedUrl:Fo,source:Fs,restoredState:Bl,extras:al}=dn,Eu=new wo(qs,this.serializeUrl(Fo),Fs,Bl);de.next(Eu);const Ua=Rl(Fo,this.rootComponentType).snapshot;return Pe={...dn,targetSnapshot:Ua,urlAfterRedirects:Fo,extras:{...al,skipLocationChange:!1,replaceUrl:!1}},(0,O.of)(Pe)}return this.rawUrlTree=dn.rawUrl,dn.resolve(null),be.E}),(0,vt.b)(dn=>{const di=new Co(dn.id,this.serializeUrl(dn.extractedUrl),this.serializeUrl(dn.urlAfterRedirects),dn.targetSnapshot);this.triggerEvent(di)}),(0,ft.U)(dn=>Pe={...dn,guards:$a(dn.targetSnapshot,dn.currentSnapshot,this.rootContexts)}),function to(q,Q){return(0,Me.z)(G=>{const{targetSnapshot:de,currentSnapshot:Pe,guards:{canActivateChecks:Ct,canDeactivateChecks:on}}=G;return 0===on.length&&0===Ct.length?(0,O.of)({...G,guardsResult:!0}):function _s(q,Q,G,de){return(0,T.D)(q).pipe((0,Me.z)(Pe=>function Fl(q,Q,G,de,Pe){const Ct=Q&&Q.routeConfig?Q.routeConfig.canDeactivate:null;if(!Ct||0===Ct.length)return(0,O.of)(!0);const on=Ct.map(dn=>{const di=Xo(Q)??Pe,Ni=Jo(dn,di);return tn(function De(q){return q&&Cr(q.canDeactivate)}(Ni)?Ni.canDeactivate(q,Q,G,de):di.runInContext(()=>Ni(q,Q,G,de))).pipe((0,me.P)())});return(0,O.of)(on).pipe(Rs())}(Pe.component,Pe.route,G,Q,de)),(0,me.P)(Pe=>!0!==Pe,!0))}(on,de,Pe,q).pipe((0,Me.z)(dn=>dn&&function ac(q){return"boolean"==typeof q}(dn)?function Ao(q,Q,G,de){return(0,T.D)(Q).pipe((0,St.b)(Pe=>(0,Re.z)(function aa(q,Q){return null!==q&&Q&&Q(new ja(q)),(0,O.of)(!0)}(Pe.route.parent,de),function _o(q,Q){return null!==q&&Q&&Q(new Ra(q)),(0,O.of)(!0)}(Pe.route,de),function Sc(q,Q,G){const de=Q[Q.length-1],Ct=Q.slice(0,Q.length-1).reverse().map(on=>function Ba(q){const Q=q.routeConfig?q.routeConfig.canActivateChild:null;return Q&&0!==Q.length?{node:q,guards:Q}:null}(on)).filter(on=>null!==on).map(on=>(0,xe.P)(()=>{const dn=on.guards.map(di=>{const Ni=Xo(on.node)??G,Nr=Jo(di,Ni);return tn(function Se(q){return q&&Cr(q.canActivateChild)}(Nr)?Nr.canActivateChild(de,q):Ni.runInContext(()=>Nr(de,q))).pipe((0,me.P)())});return(0,O.of)(dn).pipe(Rs())}));return(0,O.of)(Ct).pipe(Rs())}(q,Pe.path,G),function la(q,Q,G){const de=Q.routeConfig?Q.routeConfig.canActivate:null;if(!de||0===de.length)return(0,O.of)(!0);const Pe=de.map(Ct=>(0,xe.P)(()=>{const on=Xo(Q)??G,dn=Jo(Ct,on);return tn(function ks(q){return q&&Cr(q.canActivate)}(dn)?dn.canActivate(Q,q):on.runInContext(()=>dn(Q,q))).pipe((0,me.P)())}));return(0,O.of)(Pe).pipe(Rs())}(q,Pe.route,G))),(0,me.P)(Pe=>!0!==Pe,!0))}(de,Ct,q,Q):(0,O.of)(dn)),(0,ft.U)(dn=>({...G,guardsResult:dn})))})}(this.ngModule.injector,dn=>this.triggerEvent(dn)),(0,vt.b)(dn=>{if(Pe.guardsResult=dn.guardsResult,ge(dn.guardsResult))throw Sa(0,dn.guardsResult);const di=new Wo(dn.id,this.serializeUrl(dn.extractedUrl),this.serializeUrl(dn.urlAfterRedirects),dn.targetSnapshot,!!dn.guardsResult);this.triggerEvent(di)}),(0,Ye.h)(dn=>!!dn.guardsResult||(this.restoreHistory(dn),this.cancelNavigationTransition(dn,"",3),!1)),Fr(dn=>{if(dn.guards.canActivateChecks.length)return(0,O.of)(dn).pipe((0,vt.b)(di=>{const Ni=new fa(di.id,this.serializeUrl(di.extractedUrl),this.serializeUrl(di.urlAfterRedirects),di.targetSnapshot);this.triggerEvent(Ni)}),(0,pt.w)(di=>{let Ni=!1;return(0,O.of)(di).pipe(function Mc(q,Q){return(0,Me.z)(G=>{const{targetSnapshot:de,guards:{canActivateChecks:Pe}}=G;if(!Pe.length)return(0,O.of)(G);let Ct=0;return(0,T.D)(Pe).pipe((0,St.b)(on=>function vc(q,Q,G,de){const Pe=q.routeConfig,Ct=q._resolve;return void 0!==Pe?.title&&!da(Pe)&&(Ct[Yn]=Pe.title),function no(q,Q,G,de){const Pe=function Kl(q){return[...Object.keys(q),...Object.getOwnPropertySymbols(q)]}(q);if(0===Pe.length)return(0,O.of)({});const Ct={};return(0,T.D)(Pe).pipe((0,Me.z)(on=>function yc(q,Q,G,de){const Pe=Xo(Q)??de,Ct=Jo(q,Pe);return tn(Ct.resolve?Ct.resolve(Q,G):Pe.runInContext(()=>Ct(Q,G)))}(q[on],Q,G,de).pipe((0,me.P)(),(0,vt.b)(dn=>{Ct[on]=dn}))),In(1),(0,Bt.h)(Ct),(0,an.K)(on=>Vi(on)?be.E:(0,re._)(on)))}(Ct,q,Q,de).pipe((0,ft.U)(on=>(q._resolvedData=on,q.data=os(q,G).resolve,Pe&&da(Pe)&&(q.data[Yn]=Pe.title),null)))}(on.route,de,q,Q)),(0,vt.b)(()=>Ct++),In(1),(0,Me.z)(on=>Ct===Pe.length?(0,O.of)(G):be.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,vt.b)({next:()=>Ni=!0,complete:()=>{Ni||(this.restoreHistory(di),this.cancelNavigationTransition(di,"",2))}}))}),(0,vt.b)(di=>{const Ni=new ws(di.id,this.serializeUrl(di.extractedUrl),this.serializeUrl(di.urlAfterRedirects),di.targetSnapshot);this.triggerEvent(Ni)}))}),Fr(dn=>{const di=Ni=>{const Nr=[];Ni.routeConfig?.loadComponent&&!Ni.routeConfig._loadedComponent&&Nr.push(this.configLoader.loadComponent(Ni.routeConfig).pipe((0,vt.b)(Fi=>{Ni.component=Fi}),(0,ft.U)(()=>{})));for(const Fi of Ni.children)Nr.push(...di(Fi));return Nr};return(0,Ee.a)(di(dn.targetSnapshot.root)).pipe((0,Gn.d)(),(0,tt.q)(1))}),Fr(()=>this.afterPreactivation()),(0,ft.U)(dn=>{const di=function gs(q,Q,G){const de=Ur(q,Q._root,G?G._root:void 0);return new Ca(de,Q)}(this.routeReuseStrategy,dn.targetSnapshot,dn.currentRouterState);return Pe={...dn,targetRouterState:di}}),(0,vt.b)(dn=>{this.currentUrlTree=dn.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(dn.urlAfterRedirects,dn.rawUrl),this.routerState=dn.targetRouterState,"deferred"===this.urlUpdateStrategy&&(dn.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,dn),this.browserUrlTree=dn.urlAfterRedirects)}),((q,Q,G)=>(0,ft.U)(de=>(new lr(Q,de.targetRouterState,de.currentRouterState,G).activate(q),de)))(this.rootContexts,this.routeReuseStrategy,dn=>this.triggerEvent(dn)),(0,vt.b)({next(){Ct=!0},complete(){Ct=!0}}),(0,Kt.x)(()=>{Ct||on||this.cancelNavigationTransition(Pe,"",1),this.currentNavigation?.id===Pe.id&&(this.currentNavigation=null)}),(0,an.K)(dn=>{if(on=!0,lo(dn)){Zo(dn)||(this.navigated=!0,this.restoreHistory(Pe,!0));const di=new Jr(Pe.id,this.serializeUrl(Pe.extractedUrl),dn.message,dn.cancellationCode);if(de.next(di),Zo(dn)){const Ni=this.urlHandlingStrategy.merge(dn.url,this.rawUrlTree),Nr={skipLocationChange:Pe.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Xn(Pe.source)};this.scheduleNavigation(Ni,"imperative",null,Nr,{resolve:Pe.resolve,reject:Pe.reject,promise:Pe.promise})}else Pe.resolve(!1)}else{this.restoreHistory(Pe,!0);const di=new Ps(Pe.id,this.serializeUrl(Pe.extractedUrl),dn,Pe.targetSnapshot??void 0);de.next(di);try{Pe.resolve(this.errorHandler(dn))}catch(Ni){Pe.reject(Ni)}}return be.E}))}))}resetRootComponentType(G){this.rootComponentType=G,this.routerState.root.component=this.rootComponentType}setTransition(G){this.transitions.next({...this.transitions.value,...G})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(G=>{const de="popstate"===G.type?"popstate":"hashchange";"popstate"===de&&setTimeout(()=>{const Pe={replaceUrl:!0},Ct=G.state?.navigationId?G.state:null;if(Ct){const dn={...Ct};delete dn.navigationId,delete dn.\u0275routerPageId,0!==Object.keys(dn).length&&(Pe.state=dn)}const on=this.parseUrl(G.url);this.scheduleNavigation(on,de,Ct,Pe)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(G){this.events.next(G)}resetConfig(G){this.config=G.map(eo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(G,de={}){const{relativeTo:Pe,queryParams:Ct,fragment:on,queryParamsHandling:dn,preserveFragment:di}=de,Ni=Pe||this.routerState.root,Nr=di?this.currentUrlTree.fragment:on;let Fi=null;switch(dn){case"merge":Fi={...this.currentUrlTree.queryParams,...Ct};break;case"preserve":Fi=this.currentUrlTree.queryParams;break;default:Fi=Ct||null}return null!==Fi&&(Fi=this.removeEmptyProps(Fi)),pi(Ni,this.currentUrlTree,G,Fi,Nr??null)}navigateByUrl(G,de={skipLocationChange:!1}){const Pe=ge(G)?G:this.parseUrl(G),Ct=this.urlHandlingStrategy.merge(Pe,this.rawUrlTree);return this.scheduleNavigation(Ct,"imperative",null,de)}navigate(G,de={skipLocationChange:!1}){return function $n(q){for(let Q=0;Q<q.length;Q++){if(null==q[Q])throw new a.vHH(4008,false)}}(G),this.navigateByUrl(this.createUrlTree(G,de),de)}serializeUrl(G){return this.urlSerializer.serialize(G)}parseUrl(G){let de;try{de=this.urlSerializer.parse(G)}catch(Pe){de=this.malformedUriErrorHandler(Pe,this.urlSerializer,G)}return de}isActive(G,de){let Pe;if(Pe=!0===de?{...H}:!1===de?{...ee}:de,ge(G))return Ae(this.currentUrlTree,G,Pe);const Ct=this.parseUrl(G);return Ae(this.currentUrlTree,Ct,Pe)}removeEmptyProps(G){return Object.keys(G).reduce((de,Pe)=>{const Ct=G[Pe];return null!=Ct&&(de[Pe]=Ct),de},{})}processNavigations(){this.navigations.subscribe(G=>{this.navigated=!0,this.lastSuccessfulId=G.id,this.currentPageId=G.targetPageId,this.events.next(new nr(G.id,this.serializeUrl(G.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),G.resolve(!0)},G=>{this.console.warn(`Unhandled Navigation Error: ${G}`)})}scheduleNavigation(G,de,Pe,Ct,on){if(this.disposed)return Promise.resolve(!1);let dn,di,Ni;on?(dn=on.resolve,di=on.reject,Ni=on.promise):Ni=new Promise((qs,Fo)=>{dn=qs,di=Fo});const Nr=++this.navigationId;let Fi;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(Pe=this.location.getState()),Fi=Pe&&Pe.\u0275routerPageId?Pe.\u0275routerPageId:Ct.replaceUrl||Ct.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Fi=0,this.setTransition({id:Nr,targetPageId:Fi,source:de,restoredState:Pe,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:G,extras:Ct,resolve:dn,reject:di,promise:Ni,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ni.catch(qs=>Promise.reject(qs))}setBrowserUrl(G,de){const Pe=this.urlSerializer.serialize(G),Ct={...de.extras.state,...this.generateNgRouterState(de.id,de.targetPageId)};this.location.isCurrentPathEqualTo(Pe)||de.extras.replaceUrl?this.location.replaceState(Pe,"",Ct):this.location.go(Pe,"",Ct)}restoreHistory(G,de=!1){if("computed"===this.canceledNavigationResolution){const Pe=this.currentPageId-G.targetPageId;"popstate"!==G.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===Pe?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===Pe&&(this.resetState(G),this.browserUrlTree=G.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Pe)}else"replace"===this.canceledNavigationResolution&&(de&&this.resetState(G),this.resetUrlToCurrentUrlTree())}resetState(G){this.routerState=G.currentRouterState,this.currentUrlTree=G.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,G.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(G,de,Pe){const Ct=new Jr(G.id,this.serializeUrl(G.extractedUrl),de,Pe);this.triggerEvent(Ct),G.resolve(!1)}generateNgRouterState(G,de){return"computed"===this.canceledNavigationResolution?{navigationId:G,\u0275routerPageId:de}:{navigationId:G}}}return q.\u0275fac=function(G){a.$Z()},q.\u0275prov=a.Yz7({token:q,factory:function(){return Dt()},providedIn:"root"}),q})();function Xn(q){return"imperative"!==q}let xi=(()=>{class q{constructor(G,de,Pe,Ct,on){this.router=G,this.route=de,this.tabIndexAttribute=Pe,this.renderer=Ct,this.el=on,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new nt.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(G){this._preserveFragment=(0,a.D6c)(G)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(G){this._skipLocationChange=(0,a.D6c)(G)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(G){this._replaceUrl=(0,a.D6c)(G)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(G){if(null!=this.tabIndexAttribute)return;const de=this.renderer,Pe=this.el.nativeElement;null!==G?de.setAttribute(Pe,"tabindex",G):de.removeAttribute(Pe,"tabindex")}ngOnChanges(G){this.onChanges.next(this)}set routerLink(G){null!=G?(this.commands=Array.isArray(G)?G:[G],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return q.\u0275fac=function(G){return new(G||q)(a.Y36(fn),a.Y36(Rr),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq))},q.\u0275dir=a.lG2({type:q,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(G,de){1&G&&a.NdJ("click",function(){return de.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),q})(),Hi=(()=>{class q{constructor(G,de,Pe){this.router=G,this.route=de,this.locationStrategy=Pe,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new nt.x,this.subscription=G.events.subscribe(Ct=>{Ct instanceof nr&&this.updateTargetUrlAndHref()})}set preserveFragment(G){this._preserveFragment=(0,a.D6c)(G)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(G){this._skipLocationChange=(0,a.D6c)(G)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(G){this._replaceUrl=(0,a.D6c)(G)}get replaceUrl(){return this._replaceUrl}set routerLink(G){this.commands=null!=G?Array.isArray(G)?G:[G]:null}ngOnChanges(G){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(G,de,Pe,Ct,on){return!!(0!==G||de||Pe||Ct||on||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return q.\u0275fac=function(G){return new(G||q)(a.Y36(fn),a.Y36(Rr),a.Y36(We.S$))},q.\u0275dir=a.lG2({type:q,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(G,de){1&G&&a.NdJ("click",function(Ct){return de.onClick(Ct.button,Ct.ctrlKey,Ct.shiftKey,Ct.altKey,Ct.metaKey)}),2&G&&a.uIk("target",de.target)("href",de.href,a.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),q})(),hr=(()=>{class q{constructor(G,de,Pe,Ct,on,dn){this.router=G,this.element=de,this.renderer=Pe,this.cdr=Ct,this.link=on,this.linkWithHref=dn,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new a.vpe,this.routerEventsSubscription=G.events.subscribe(di=>{di instanceof nr&&this.update()})}ngAfterContentInit(){(0,O.of)(this.links.changes,this.linksWithHrefs.changes,(0,O.of)(null)).pipe((0,et.J)()).subscribe(G=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const G=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(de=>!!de).map(de=>de.onChanges);this.linkInputChangesSubscription=(0,T.D)(G).pipe((0,et.J)()).subscribe(de=>{this.isActive!==this.isLinkActive(this.router)(de)&&this.update()})}set routerLinkActive(G){const de=Array.isArray(G)?G:G.split(" ");this.classes=de.filter(Pe=>!!Pe)}ngOnChanges(G){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const G=this.hasActiveLinks();this.isActive!==G&&(this.isActive=G,this.cdr.markForCheck(),this.classes.forEach(de=>{G?this.renderer.addClass(this.element.nativeElement,de):this.renderer.removeClass(this.element.nativeElement,de)}),G&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(G))})}isLinkActive(G){const de=function Pi(q){return!!q.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return Pe=>!!Pe.urlTree&&G.isActive(Pe.urlTree,de)}hasActiveLinks(){const G=this.isLinkActive(this.router);return this.link&&G(this.link)||this.linkWithHref&&G(this.linkWithHref)||this.links.some(G)||this.linksWithHrefs.some(G)}}return q.\u0275fac=function(G){return new(G||q)(a.Y36(fn),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(xi,8),a.Y36(Hi,8))},q.\u0275dir=a.lG2({type:q,selectors:[["","routerLinkActive",""]],contentQueries:function(G,de,Pe){if(1&G&&(a.Suo(Pe,xi,5),a.Suo(Pe,Hi,5)),2&G){let Ct;a.iGM(Ct=a.CRH())&&(de.links=Ct),a.iGM(Ct=a.CRH())&&(de.linksWithHrefs=Ct)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[a.TTD]}),q})();class Is{}let rr=(()=>{class q{constructor(G,de,Pe,Ct,on){this.router=G,this.injector=Pe,this.preloadingStrategy=Ct,this.loader=on}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ye.h)(G=>G instanceof nr),(0,St.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(G,de){const Pe=[];for(const Ct of de){Ct.providers&&!Ct._injector&&(Ct._injector=(0,a.MMx)(Ct.providers,G,`Route: ${Ct.path}`));const on=Ct._injector??G,dn=Ct._loadedInjector??on;Ct.loadChildren&&!Ct._loadedRoutes&&void 0===Ct.canLoad||Ct.loadComponent&&!Ct._loadedComponent?Pe.push(this.preloadConfig(on,Ct)):(Ct.children||Ct._loadedRoutes)&&Pe.push(this.processRoutes(dn,Ct.children??Ct._loadedRoutes))}return(0,T.D)(Pe).pipe((0,et.J)())}preloadConfig(G,de){return this.preloadingStrategy.preload(de,()=>{let Pe;Pe=de.loadChildren&&void 0===de.canLoad?this.loader.loadChildren(G,de):(0,O.of)(null);const Ct=Pe.pipe((0,Me.z)(on=>null===on?(0,O.of)(void 0):(de._loadedRoutes=on.routes,de._loadedInjector=on.injector,this.processRoutes(on.injector??G,on.routes))));if(de.loadComponent&&!de._loadedComponent){const on=this.loader.loadComponent(de);return(0,T.D)([Ct,on]).pipe((0,et.J)())}return Ct})}}return q.\u0275fac=function(G){return new(G||q)(a.LFG(fn),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(Is),a.LFG(io))},q.\u0275prov=a.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})();const zo=new a.OlP("");let Qr=(()=>{class q{constructor(G,de,Pe={}){this.router=G,this.viewportScroller=de,this.options=Pe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Pe.scrollPositionRestoration=Pe.scrollPositionRestoration||"disabled",Pe.anchorScrolling=Pe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(G=>{G instanceof wo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=G.navigationTrigger,this.restoredId=G.restoredState?G.restoredState.navigationId:0):G instanceof nr&&(this.lastId=G.id,this.scheduleScrollEvent(G,this.router.parseUrl(G.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(G=>{G instanceof Po&&(G.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(G.position):G.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(G.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(G,de){this.router.triggerEvent(new Po(G,"popstate"===this.lastSource?this.store[this.restoredId]:null,de))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return q.\u0275fac=function(G){a.$Z()},q.\u0275prov=a.Yz7({token:q,factory:q.\u0275fac}),q})();function Ro(q,Q){return{\u0275kind:q,\u0275providers:Q}}function rl(q){return[{provide:$i,multi:!0,useValue:q}]}function Sl(){const q=(0,a.f3M)(a.zs3);return Q=>{const G=q.get(a.z2F);if(Q!==G.components[0])return;const de=q.get(fn),Pe=q.get(pl);1===q.get(Ya)&&de.initialNavigation(),q.get(sl,null,a.XFs.Optional)?.setUpPreloading(),q.get(zo,null,a.XFs.Optional)?.init(),de.resetRootComponentType(G.componentTypes[0]),Pe.closed||(Pe.next(),Pe.unsubscribe())}}const pl=new a.OlP("",{factory:()=>new nt.x}),Ya=new a.OlP("",{providedIn:"root",factory:()=>1});const sl=new a.OlP("");function qc(q){return Ro(0,[{provide:sl,useExisting:rr},{provide:Is,useExisting:q}])}const Hc=new a.OlP("ROUTER_FORROOT_GUARD"),ii=[We.Ye,{provide:Si,useClass:_r},{provide:fn,useFactory:Dt},Ea,{provide:Rr,useFactory:function Oi(q){return q.routerState.root},deps:[fn]},io];function Su(){return new a.PXZ("Router",fn)}let ro=(()=>{class q{constructor(G){}static forRoot(G,de){return{ngModule:q,providers:[ii,[],rl(G),{provide:Hc,useFactory:_a,deps:[[fn,new a.FiY,new a.tp0]]},{provide:es,useValue:de||{}},de?.useHash?{provide:We.S$,useClass:We.Do}:{provide:We.S$,useClass:We.b0},{provide:zo,useFactory:()=>{const q=(0,a.f3M)(fn),Q=(0,a.f3M)(We.EM),G=(0,a.f3M)(es);return G.scrollOffset&&Q.setOffset(G.scrollOffset),new Qr(q,Q,G)}},de?.preloadingStrategy?qc(de.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:Su},de?.initialNavigation?fs(de):[],[{provide:ia,useFactory:Sl},{provide:a.tb,multi:!0,useExisting:ia}]]}}static forChild(G){return{ngModule:q,providers:[rl(G)]}}}return q.\u0275fac=function(G){return new(G||q)(a.LFG(Hc,8))},q.\u0275mod=a.oAB({type:q}),q.\u0275inj=a.cJS({imports:[Kr]}),q})();function _a(q){return"guarded"}function fs(q){return["disabled"===q.initialNavigation?Ro(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const Q=(0,a.f3M)(fn);return()=>{Q.setUpLocationChangeListener()}}},{provide:Ya,useValue:2}]).\u0275providers:[],"enabledBlocking"===q.initialNavigation?Ro(2,[{provide:Ya,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:Q=>{const G=Q.get(We.V_,Promise.resolve());let de=!1;return()=>G.then(()=>new Promise(Ct=>{const on=Q.get(fn),dn=Q.get(pl);(function Pe(Ct){Q.get(fn).events.pipe((0,Ye.h)(dn=>dn instanceof nr||dn instanceof Jr||dn instanceof Ps),(0,ft.U)(dn=>dn instanceof nr||dn instanceof Jr&&(0===dn.code||1===dn.code)&&null),(0,Ye.h)(dn=>null!==dn),(0,tt.q)(1)).subscribe(()=>{Ct()})})(()=>{Ct(!0),de=!0}),on.afterPreactivation=()=>(Ct(!0),de||dn.closed?(0,O.of)(void 0):dn),on.initialNavigation()}))}}]).\u0275providers:[]]}const ia=new a.OlP("")},580:(ai,qt,N)=>{"use strict";N.d(qt,{UO:()=>Ve,je:()=>ue,x:()=>Re});var a=N(4650),T=N(8407);class O{static mapToArray(Je){const Ke=[];for(const nt in Je)Je.hasOwnProperty(nt)&&Ke.push(Je[nt]);return Ke}static handleEvent(Je,Ke,nt){0<Ke.observers.length&&Je.run(()=>{Ke.emit(nt)})}}let ue=(()=>{class Be{constructor(Ke,nt){this.element=Ke,this.zone=nt,this.DEFAULT_ZOOM=1,this.DEFAULT_CENTER=(0,T.latLng)(38.907192,-77.036871),this.DEFAULT_FPZ_OPTIONS={},this.fitBoundsOptions=this.DEFAULT_FPZ_OPTIONS,this.panOptions=this.DEFAULT_FPZ_OPTIONS,this.zoomOptions=this.DEFAULT_FPZ_OPTIONS,this.zoomPanOptions=this.DEFAULT_FPZ_OPTIONS,this.options={},this.mapReady=new a.vpe,this.zoomChange=new a.vpe,this.centerChange=new a.vpe,this.onClick=new a.vpe,this.onDoubleClick=new a.vpe,this.onMouseDown=new a.vpe,this.onMouseUp=new a.vpe,this.onMouseMove=new a.vpe,this.onMouseOver=new a.vpe,this.onMouseOut=new a.vpe,this.onMapMove=new a.vpe,this.onMapMoveStart=new a.vpe,this.onMapMoveEnd=new a.vpe,this.onMapZoom=new a.vpe,this.onMapZoomStart=new a.vpe,this.onMapZoomEnd=new a.vpe}ngOnInit(){this.zone.runOutsideAngular(()=>{this.map=(0,T.map)(this.element.nativeElement,this.options),this.addMapEventListeners()}),null!=this.center&&null!=this.zoom&&this.setView(this.center,this.zoom),null!=this.fitBounds&&this.setFitBounds(this.fitBounds),null!=this.maxBounds&&this.setMaxBounds(this.maxBounds),null!=this.minZoom&&this.setMinZoom(this.minZoom),null!=this.maxZoom&&this.setMaxZoom(this.maxZoom),this.doResize(),this.mapReady.emit(this.map)}ngOnChanges(Ke){Ke.zoom&&Ke.center&&null!=this.zoom&&null!=this.center?this.setView(Ke.center.currentValue,Ke.zoom.currentValue):Ke.zoom?this.setZoom(Ke.zoom.currentValue):Ke.center&&this.setCenter(Ke.center.currentValue),Ke.fitBounds&&this.setFitBounds(Ke.fitBounds.currentValue),Ke.maxBounds&&this.setMaxBounds(Ke.maxBounds.currentValue),Ke.minZoom&&this.setMinZoom(Ke.minZoom.currentValue),Ke.maxZoom&&this.setMaxZoom(Ke.maxZoom.currentValue)}ngOnDestroy(){null!=this.map&&this.map.remove()}getMap(){return this.map}onResize(){this.delayResize()}addMapEventListeners(){const Ke=(We,ft)=>{this.map.on(We,ft)};Ke("click",We=>O.handleEvent(this.zone,this.onClick,We)),Ke("dblclick",We=>O.handleEvent(this.zone,this.onDoubleClick,We)),Ke("mousedown",We=>O.handleEvent(this.zone,this.onMouseDown,We)),Ke("mouseup",We=>O.handleEvent(this.zone,this.onMouseUp,We)),Ke("mouseover",We=>O.handleEvent(this.zone,this.onMouseOver,We)),Ke("mouseout",We=>O.handleEvent(this.zone,this.onMouseOut,We)),Ke("mousemove",We=>O.handleEvent(this.zone,this.onMouseMove,We)),Ke("zoomstart",We=>O.handleEvent(this.zone,this.onMapZoomStart,We)),Ke("zoom",We=>O.handleEvent(this.zone,this.onMapZoom,We)),Ke("zoomend",We=>O.handleEvent(this.zone,this.onMapZoomEnd,We)),Ke("movestart",We=>O.handleEvent(this.zone,this.onMapMoveStart,We)),Ke("move",We=>O.handleEvent(this.zone,this.onMapMove,We)),Ke("moveend",We=>O.handleEvent(this.zone,this.onMapMoveEnd,We));const nt=()=>{const We=this.map.getZoom();We!==this.zoom&&(this.zoom=We,O.handleEvent(this.zone,this.zoomChange,We));const ft=this.map.getCenter();(null!=ft||null!=this.center)&&((null==ft||null==this.center)&&ft!==this.center||ft.lat!==this.center.lat||ft.lng!==this.center.lng)&&(this.center=ft,O.handleEvent(this.zone,this.centerChange,ft))};Ke("moveend",nt),Ke("zoomend",nt)}doResize(){this.zone.runOutsideAngular(()=>{null!=this.map&&this.map.invalidateSize({})})}delayResize(){null!=this.resizeTimer&&clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(this.doResize.bind(this),200)}setView(Ke,nt){null!=this.map&&null!=Ke&&null!=nt&&this.map.setView(Ke,nt,this.zoomPanOptions)}setZoom(Ke){null!=this.map&&null!=Ke&&this.map.setZoom(Ke,this.zoomOptions)}setCenter(Ke){null!=this.map&&null!=Ke&&this.map.panTo(Ke,this.panOptions)}setFitBounds(Ke){null!=this.map&&null!=Ke&&this.map.fitBounds(Ke,this.fitBoundsOptions)}setMaxBounds(Ke){null!=this.map&&null!=Ke&&this.map.setMaxBounds(Ke)}setMinZoom(Ke){null!=this.map&&null!=Ke&&this.map.setMinZoom(Ke)}setMaxZoom(Ke){null!=this.map&&null!=Ke&&this.map.setMaxZoom(Ke)}}return Be.\u0275fac=function(Ke){return new(Ke||Be)(a.Y36(a.SBq),a.Y36(a.R0b))},Be.\u0275dir=a.lG2({type:Be,selectors:[["","leaflet",""]],hostBindings:function(Ke,nt){1&Ke&&a.NdJ("resize",function(){return nt.onResize()},!1,a.Jf7)},inputs:{fitBoundsOptions:["leafletFitBoundsOptions","fitBoundsOptions"],panOptions:["leafletPanOptions","panOptions"],zoomOptions:["leafletZoomOptions","zoomOptions"],zoomPanOptions:["leafletZoomPanOptions","zoomPanOptions"],options:["leafletOptions","options"],zoom:["leafletZoom","zoom"],center:["leafletCenter","center"],fitBounds:["leafletFitBounds","fitBounds"],maxBounds:["leafletMaxBounds","maxBounds"],minZoom:["leafletMinZoom","minZoom"],maxZoom:["leafletMaxZoom","maxZoom"]},outputs:{mapReady:"leafletMapReady",zoomChange:"leafletZoomChange",centerChange:"leafletCenterChange",onClick:"leafletClick",onDoubleClick:"leafletDoubleClick",onMouseDown:"leafletMouseDown",onMouseUp:"leafletMouseUp",onMouseMove:"leafletMouseMove",onMouseOver:"leafletMouseOver",onMouseOut:"leafletMouseOut",onMapMove:"leafletMapMove",onMapMoveStart:"leafletMapMoveStart",onMapMoveEnd:"leafletMapMoveEnd",onMapZoom:"leafletMapZoom",onMapZoomStart:"leafletMapZoomStart",onMapZoomEnd:"leafletMapZoomEnd"},features:[a.TTD]}),Be})();class R{constructor(Je){this.leafletDirective=Je}init(){}getMap(){return this.leafletDirective.getMap()}}let Re=(()=>{class Be{constructor(Ke,nt,We){this.differs=nt,this.zone=We,this.leafletDirective=new R(Ke),this.layersDiffer=this.differs.find([]).create()}set layers(Ke){this.layersValue=Ke,this.updateLayers()}get layers(){return this.layersValue}ngDoCheck(){this.updateLayers()}ngOnInit(){this.leafletDirective.init(),this.updateLayers()}ngOnDestroy(){this.layers=[]}updateLayers(){const Ke=this.leafletDirective.getMap();if(null!=Ke&&null!=this.layersDiffer){const nt=this.layersDiffer.diff(this.layersValue);null!=nt&&this.zone.runOutsideAngular(()=>{nt.forEachRemovedItem(We=>{Ke.removeLayer(We.item)}),nt.forEachAddedItem(We=>{Ke.addLayer(We.item)})})}}}return Be.\u0275fac=function(Ke){return new(Ke||Be)(a.Y36(ue),a.Y36(a.ZZ4),a.Y36(a.R0b))},Be.\u0275dir=a.lG2({type:Be,selectors:[["","leafletLayers",""]],inputs:{layers:["leafletLayers","layers"]}}),Be})(),Ve=(()=>{class Be{}return Be.\u0275fac=function(Ke){return new(Ke||Be)},Be.\u0275mod=a.oAB({type:Be}),Be.\u0275inj=a.cJS({}),Be})()},3942:(ai,qt,N)=>{"use strict";N.d(qt,{Z:()=>Be});var a=N(2090),T=N(3475),O=N(9681),ue=N(1877);class R{constructor(Ke,nt){this._delegate=Ke,this.firebase=nt,(0,O._addComponent)(Ke,new T.wA("app-compat",()=>this,"PUBLIC")),this.container=Ke.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ke){this._delegate.automaticDataCollectionEnabled=Ke}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ke=>{this._delegate.checkDestroyed(),Ke()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(Ke,nt=O._DEFAULT_ENTRY_NAME){var We;this._delegate.checkDestroyed();const ft=this._delegate.container.getProvider(Ke);return!ft.isInitialized()&&"EXPLICIT"===(null===(We=ft.getComponent())||void 0===We?void 0:We.instantiationMode)&&ft.initialize(),ft.getImmediate({identifier:nt})}_removeServiceInstance(Ke,nt=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ke).clearInstance(nt)}_addComponent(Ke){(0,O._addComponent)(this._delegate,Ke)}_addOrOverwriteComponent(Ke){(0,O._addOrOverwriteComponent)(this._delegate,Ke)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Re=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),re=function Ce(){const Je=function xe(Je){const Ke={},nt={__esModule:!0,initializeApp:function pt(Me,me={}){const St=O.initializeApp(Me,me);if((0,a.r3)(Ke,St.name))return Ke[St.name];const vt=new Je(St,nt);return Ke[St.name]=vt,vt},app:ft,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function je(Me){const me=Me.name,St=me.replace("-compat","");if(O._registerComponent(Me)&&"PUBLIC"===Me.type){const vt=(an=ft())=>{if("function"!=typeof an[St])throw Re.create("invalid-app-argument",{appName:me});return an[St]()};void 0!==Me.serviceProps&&(0,a.ZB)(vt,Me.serviceProps),nt[St]=vt,Je.prototype[St]=function(...an){return this._getService.bind(this,me).apply(this,Me.multipleInstances?an:[])}}return"PUBLIC"===Me.type?nt[St]:null},removeApp:function We(Me){delete Ke[Me]},useAsService:function Ye(Me,me){return"serverAuth"===me?null:me},modularAPIs:O}};function ft(Me){if(!(0,a.r3)(Ke,Me=Me||O._DEFAULT_ENTRY_NAME))throw Re.create("no-app",{appName:Me});return Ke[Me]}return nt.default=nt,Object.defineProperty(nt,"apps",{get:function tt(){return Object.keys(Ke).map(Me=>Ke[Me])}}),ft.App=Je,nt}(R);return Je.INTERNAL=Object.assign(Object.assign({},Je.INTERNAL),{createFirebaseNamespace:Ce,extendNamespace:function Ke(nt){(0,a.ZB)(Je,nt)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),Je}(),ce=new ue.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){ce.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Je=self.firebase.SDK_VERSION;Je&&Je.indexOf("LITE")>=0&&ce.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Be=re;!function Ne(Je){(0,O.registerVersion)("@firebase/app-compat","0.2.1",Je)}()},9681:(ai,qt,N)=>{"use strict";N.r(qt),N.d(qt,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>yn,_DEFAULT_ENTRY_NAME:()=>Ht,_addComponent:()=>Vt,_addOrOverwriteComponent:()=>jt,_apps:()=>Kt,_clearComponents:()=>On,_components:()=>et,_getProvider:()=>en,_registerComponent:()=>Yn,_removeServiceInstance:()=>gn,deleteApp:()=>tn,getApp:()=>Pn,getApps:()=>Nt,initializeApp:()=>pn,onLog:()=>lt,registerVersion:()=>bn,setLogLevel:()=>le});var a=N(5861),T=N(3475),O=N(1877),ue=N(2090),R=N(8766);class Ee{constructor(wt){this.container=wt}getPlatformInfoString(){return this.container.getProviders().map(Ie=>{if(function Re(xt){return"VERSION"===xt.getComponent()?.type}(Ie)){const pe=Ie.getImmediate();return`${pe.library}/${pe.version}`}return null}).filter(Ie=>Ie).join(" ")}}const xe="@firebase/app",re=new O.Yd("@firebase/app"),Ht="[DEFAULT]",Bt={[xe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Kt=new Map,et=new Map;function Vt(xt,wt){try{xt.container.addComponent(wt)}catch(Ie){re.debug(`Component ${wt.name} failed to register with FirebaseApp ${xt.name}`,Ie)}}function jt(xt,wt){xt.container.addOrOverwriteComponent(wt)}function Yn(xt){const wt=xt.name;if(et.has(wt))return re.debug(`There were multiple attempts to register component ${wt}.`),!1;et.set(wt,xt);for(const Ie of Kt.values())Vt(Ie,xt);return!0}function en(xt,wt){const Ie=xt.container.getProvider("heartbeat").getImmediate({optional:!0});return Ie&&Ie.triggerHeartbeat(),xt.container.getProvider(wt)}function gn(xt,wt,Ie=Ht){en(xt,wt).clearInstance(Ie)}function On(){et.clear()}const _n=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Nn{constructor(wt,Ie,pe){this._isDeleted=!1,this._options=Object.assign({},wt),this._config=Object.assign({},Ie),this._name=Ie.name,this._automaticDataCollectionEnabled=Ie.automaticDataCollectionEnabled,this._container=pe,this.container.addComponent(new T.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(wt){this.checkDestroyed(),this._automaticDataCollectionEnabled=wt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(wt){this._isDeleted=wt}checkDestroyed(){if(this.isDeleted)throw _n.create("app-deleted",{appName:this._name})}}const yn="9.16.0";function pn(xt,wt={}){let Ie=xt;"object"!=typeof wt&&(wt={name:wt});const pe=Object.assign({name:Ht,automaticDataCollectionEnabled:!1},wt),ye=pe.name;if("string"!=typeof ye||!ye)throw _n.create("bad-app-name",{appName:String(ye)});if(Ie||(Ie=(0,ue.aH)()),!Ie)throw _n.create("no-options");const st=Kt.get(ye);if(st){if((0,ue.vZ)(Ie,st.options)&&(0,ue.vZ)(pe,st.config))return st;throw _n.create("duplicate-app",{appName:ye})}const Ue=new T.H0(ye);for(const ct of et.values())Ue.addComponent(ct);const Te=new Nn(Ie,pe,Ue);return Kt.set(ye,Te),Te}function Pn(xt=Ht){const wt=Kt.get(xt);if(!wt&&xt===Ht)return pn();if(!wt)throw _n.create("no-app",{appName:xt});return wt}function Nt(){return Array.from(Kt.values())}function tn(xt){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,a.Z)(function*(xt){const wt=xt.name;Kt.has(wt)&&(Kt.delete(wt),yield Promise.all(xt.container.getProviders().map(Ie=>Ie.delete())),xt.isDeleted=!0)})).apply(this,arguments)}function bn(xt,wt,Ie){var pe;let ye=null!==(pe=Bt[xt])&&void 0!==pe?pe:xt;Ie&&(ye+=`-${Ie}`);const st=ye.match(/\s|\//),Ue=wt.match(/\s|\//);if(st||Ue){const Te=[`Unable to register library "${ye}" with version "${wt}":`];return st&&Te.push(`library name "${ye}" contains illegal characters (whitespace or "/")`),st&&Ue&&Te.push("and"),Ue&&Te.push(`version name "${wt}" contains illegal characters (whitespace or "/")`),void re.warn(Te.join(" "))}Yn(new T.wA(`${ye}-version`,()=>({library:ye,version:wt}),"VERSION"))}function lt(xt,wt){if(null!==xt&&"function"!=typeof xt)throw _n.create("invalid-log-argument");(0,O.Am)(xt,wt)}function le(xt){(0,O.Ub)(xt)}const zt="firebase-heartbeat-store";let Lt=null;function Mt(){return Lt||(Lt=(0,R.X3)("firebase-heartbeat-database",1,{upgrade:(xt,wt)=>{0===wt&&xt.createObjectStore(zt)}}).catch(xt=>{throw _n.create("idb-open",{originalErrorMessage:xt.message})})),Lt}function mn(){return(mn=(0,a.Z)(function*(xt){try{return(yield Mt()).transaction(zt).objectStore(zt).get(mi(xt))}catch(wt){if(wt instanceof ue.ZR)re.warn(wt.message);else{const Ie=_n.create("idb-get",{originalErrorMessage:wt?.message});re.warn(Ie.message)}}})).apply(this,arguments)}function An(xt,wt){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,a.Z)(function*(xt,wt){try{const pe=(yield Mt()).transaction(zt,"readwrite");return yield pe.objectStore(zt).put(wt,mi(xt)),pe.done}catch(Ie){if(Ie instanceof ue.ZR)re.warn(Ie.message);else{const pe=_n.create("idb-set",{originalErrorMessage:Ie?.message});re.warn(pe.message)}}})).apply(this,arguments)}function mi(xt){return`${xt.name}!${xt.options.appId}`}class Bi{constructor(wt){this.container=wt,this._heartbeatsCache=null;const Ie=this.container.getProvider("app").getImmediate();this._storage=new En(Ie),this._heartbeatsCachePromise=this._storage.read().then(pe=>(this._heartbeatsCache=pe,pe))}triggerHeartbeat(){var wt=this;return(0,a.Z)(function*(){const pe=wt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ye=Si();if(null===wt._heartbeatsCache&&(wt._heartbeatsCache=yield wt._heartbeatsCachePromise),wt._heartbeatsCache.lastSentHeartbeatDate!==ye&&!wt._heartbeatsCache.heartbeats.some(st=>st.date===ye))return wt._heartbeatsCache.heartbeats.push({date:ye,agent:pe}),wt._heartbeatsCache.heartbeats=wt._heartbeatsCache.heartbeats.filter(st=>{const Ue=new Date(st.date).valueOf();return Date.now()-Ue<=2592e6}),wt._storage.overwrite(wt._heartbeatsCache)})()}getHeartbeatsHeader(){var wt=this;return(0,a.Z)(function*(){if(null===wt._heartbeatsCache&&(yield wt._heartbeatsCachePromise),null===wt._heartbeatsCache||0===wt._heartbeatsCache.heartbeats.length)return"";const Ie=Si(),{heartbeatsToSend:pe,unsentEntries:ye}=function _r(xt,wt=1024){const Ie=[];let pe=xt.slice();for(const ye of xt){const st=Ie.find(Ue=>Ue.agent===ye.agent);if(st){if(st.dates.push(ye.date),sn(Ie)>wt){st.dates.pop();break}}else if(Ie.push({agent:ye.agent,dates:[ye.date]}),sn(Ie)>wt){Ie.pop();break}pe=pe.slice(1)}return{heartbeatsToSend:Ie,unsentEntries:pe}}(wt._heartbeatsCache.heartbeats),st=(0,ue.L)(JSON.stringify({version:2,heartbeats:pe}));return wt._heartbeatsCache.lastSentHeartbeatDate=Ie,ye.length>0?(wt._heartbeatsCache.heartbeats=ye,yield wt._storage.overwrite(wt._heartbeatsCache)):(wt._heartbeatsCache.heartbeats=[],wt._storage.overwrite(wt._heartbeatsCache)),st})()}}function Si(){return(new Date).toISOString().substring(0,10)}class En{constructor(wt){this.app=wt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,ue.hl)()&&(0,ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var wt=this;return(0,a.Z)(function*(){return(yield wt._canUseIndexedDBPromise)&&(yield function Tt(xt){return mn.apply(this,arguments)}(wt.app))||{heartbeats:[]}})()}overwrite(wt){var Ie=this;return(0,a.Z)(function*(){var pe;if(yield Ie._canUseIndexedDBPromise){const st=yield Ie.read();return An(Ie.app,{lastSentHeartbeatDate:null!==(pe=wt.lastSentHeartbeatDate)&&void 0!==pe?pe:st.lastSentHeartbeatDate,heartbeats:wt.heartbeats})}})()}add(wt){var Ie=this;return(0,a.Z)(function*(){var pe;if(yield Ie._canUseIndexedDBPromise){const st=yield Ie.read();return An(Ie.app,{lastSentHeartbeatDate:null!==(pe=wt.lastSentHeartbeatDate)&&void 0!==pe?pe:st.lastSentHeartbeatDate,heartbeats:[...st.heartbeats,...wt.heartbeats]})}})()}}function sn(xt){return(0,ue.L)(JSON.stringify({version:2,heartbeats:xt})).length}!function It(xt){Yn(new T.wA("platform-logger",wt=>new Ee(wt),"PRIVATE")),Yn(new T.wA("heartbeat",wt=>new Bi(wt),"PRIVATE")),bn(xe,"0.9.1",xt),bn(xe,"0.9.1","esm2017"),bn("fire-js","")}("")},3475:(ai,qt,N)=>{"use strict";N.d(qt,{H0:()=>xe,wA:()=>O});var a=N(5861),T=N(2090);class O{constructor(re,ce,be){this.name=re,this.instanceFactory=ce,this.type=be,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const ue="[DEFAULT]";class R{constructor(re,ce){this.name=re,this.container=ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const ce=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(ce)){const be=new T.BH;if(this.instancesDeferred.set(ce,be),this.isInitialized(ce)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:ce});Ve&&be.resolve(Ve)}catch{}}return this.instancesDeferred.get(ce).promise}getImmediate(re){var ce;const be=this.normalizeInstanceIdentifier(re?.identifier),Ve=null!==(ce=re?.optional)&&void 0!==ce&&ce;if(!this.isInitialized(be)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:be})}catch(Ne){if(Ve)return null;throw Ne}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function Re(Ce){return"EAGER"===Ce.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:ue})}catch{}for(const[ce,be]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier(ce);try{const Ne=this.getOrInitializeService({instanceIdentifier:Ve});be.resolve(Ne)}catch{}}}}clearInstance(re=ue){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,a.Z)(function*(){const ce=Array.from(re.instances.values());yield Promise.all([...ce.filter(be=>"INTERNAL"in be).map(be=>be.INTERNAL.delete()),...ce.filter(be=>"_delete"in be).map(be=>be._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=ue){return this.instances.has(re)}getOptions(re=ue){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:ce={}}=re,be=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(be))throw Error(`${this.name}(${be}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:be,options:ce});for(const[Ne,Be]of this.instancesDeferred.entries())be===this.normalizeInstanceIdentifier(Ne)&&Be.resolve(Ve);return Ve}onInit(re,ce){var be;const Ve=this.normalizeInstanceIdentifier(ce),Ne=null!==(be=this.onInitCallbacks.get(Ve))&&void 0!==be?be:new Set;Ne.add(re),this.onInitCallbacks.set(Ve,Ne);const Be=this.instances.get(Ve);return Be&&re(Be,Ve),()=>{Ne.delete(re)}}invokeOnInitCallbacks(re,ce){const be=this.onInitCallbacks.get(ce);if(be)for(const Ve of be)try{Ve(re,ce)}catch{}}getOrInitializeService({instanceIdentifier:re,options:ce={}}){let be=this.instances.get(re);if(!be&&this.component&&(be=this.component.instanceFactory(this.container,{instanceIdentifier:(Ce=re,Ce===ue?void 0:Ce),options:ce}),this.instances.set(re,be),this.instancesOptions.set(re,ce),this.invokeOnInitCallbacks(be,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,be)}catch{}var Ce;return be||null}normalizeInstanceIdentifier(re=ue){return this.component?this.component.multipleInstances?re:ue:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class xe{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const ce=this.getProvider(re.name);if(ce.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);ce.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const ce=new R(re,this);return this.providers.set(re,ce),ce}getProviders(){return Array.from(this.providers.values())}}},1877:(ai,qt,N)=>{"use strict";N.d(qt,{Am:()=>Ce,Ub:()=>xe,Yd:()=>Re,in:()=>T});const a=[];var T=(()=>{return(re=T||(T={}))[re.DEBUG=0]="DEBUG",re[re.VERBOSE=1]="VERBOSE",re[re.INFO=2]="INFO",re[re.WARN=3]="WARN",re[re.ERROR=4]="ERROR",re[re.SILENT=5]="SILENT",T;var re})();const O={debug:T.DEBUG,verbose:T.VERBOSE,info:T.INFO,warn:T.WARN,error:T.ERROR,silent:T.SILENT},ue=T.INFO,R={[T.DEBUG]:"log",[T.VERBOSE]:"log",[T.INFO]:"info",[T.WARN]:"warn",[T.ERROR]:"error"},Ee=(re,ce,...be)=>{if(ce<re.logLevel)return;const Ve=(new Date).toISOString(),Ne=R[ce];if(!Ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${ce})`);console[Ne](`[${Ve}]  ${re.name}:`,...be)};class Re{constructor(ce){this.name=ce,this._logLevel=ue,this._logHandler=Ee,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(ce){if(!(ce in T))throw new TypeError(`Invalid value "${ce}" assigned to \`logLevel\``);this._logLevel=ce}setLogLevel(ce){this._logLevel="string"==typeof ce?O[ce]:ce}get logHandler(){return this._logHandler}set logHandler(ce){if("function"!=typeof ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ce}get userLogHandler(){return this._userLogHandler}set userLogHandler(ce){this._userLogHandler=ce}debug(...ce){this._userLogHandler&&this._userLogHandler(this,T.DEBUG,...ce),this._logHandler(this,T.DEBUG,...ce)}log(...ce){this._userLogHandler&&this._userLogHandler(this,T.VERBOSE,...ce),this._logHandler(this,T.VERBOSE,...ce)}info(...ce){this._userLogHandler&&this._userLogHandler(this,T.INFO,...ce),this._logHandler(this,T.INFO,...ce)}warn(...ce){this._userLogHandler&&this._userLogHandler(this,T.WARN,...ce),this._logHandler(this,T.WARN,...ce)}error(...ce){this._userLogHandler&&this._userLogHandler(this,T.ERROR,...ce),this._logHandler(this,T.ERROR,...ce)}}function xe(re){a.forEach(ce=>{ce.setLogLevel(re)})}function Ce(re,ce){for(const be of a){let Ve=null;ce&&ce.level&&(Ve=O[ce.level]),be.userLogHandler=null===re?null:(Ne,Be,...Je)=>{const Ke=Je.map(nt=>{if(null==nt)return null;if("string"==typeof nt)return nt;if("number"==typeof nt||"boolean"==typeof nt)return nt.toString();if(nt instanceof Error)return nt.message;try{return JSON.stringify(nt)}catch{return null}}).filter(nt=>nt).join(" ");Be>=(Ve??Ne.logLevel)&&re({level:T[Be].toLowerCase(),message:Ke,args:Je,type:Ne.name})}}}},6134:(ai,qt,N)=>{"use strict";N.d(qt,{iL:()=>be,ii:()=>Ke});var a=N(5861),T=N(4650),O=N(7579),ue=N(2722),R=N(6895);const Re=new T.OlP("@sweetalert2/ngx-sweetalert2#swalProvider"),xe=new T.OlP("@sweetalert2/ngx-sweetalert2#fireOnInit"),Ce=new T.OlP("@sweetalert2/ngx-sweetalert2#dismissOnDestroy");let re=(()=>{class nt{constructor(ft){this.swalProvider=ft}get swal(){return this.swalPromiseCache||this.preloadSweetAlertLibrary(),this.swalPromiseCache}preloadSweetAlertLibrary(){if(this.swalPromiseCache)return;const ft=function pt(je){return"function"==typeof je&&void 0===je.version}(this.swalProvider)?this.swalProvider():Promise.resolve(this.swalProvider);this.swalPromiseCache=ft.then(je=>function tt(je){return"function"==typeof je}(je)?je:je.default)}}return nt.\u0275fac=function(ft){return new(ft||nt)(T.LFG(Re))},nt.\u0275prov=T.Yz7({token:nt,factory:nt.\u0275fac}),nt})(),ce=(()=>{class nt{constructor(ft,pt,tt){this.sweetAlert2Loader=ft,this.moduleLevelFireOnInit=pt,this.moduleLevelDismissOnDestroy=tt,this.willOpen=new T.vpe,this.didOpen=new T.vpe,this.didRender=new T.vpe,this.willClose=new T.vpe,this.didClose=new T.vpe,this.didDestroy=new T.vpe,this.confirm=new T.vpe,this.deny=new T.vpe,this.dismiss=new T.vpe,this.touchedProps=new Set,this.markTouched=this.touchedProps.add.bind(this.touchedProps),this.isCurrentlyShown=!1}set swalOptions(ft){Object.assign(this,ft),Object.keys(ft).forEach(this.markTouched)}get swalOptions(){return[...this.touchedProps].reduce((ft,pt)=>({...ft,[pt]:this[pt]}),{})}set swalVisible(ft){ft?this.fire():this.close()}get swalVisible(){return this.isCurrentlyShown}ngOnInit(){this.sweetAlert2Loader.preloadSweetAlertLibrary()}ngAfterViewInit(){(void 0===this.swalFireOnInit?this.moduleLevelFireOnInit:this.swalFireOnInit)&&this.fire()}ngOnChanges(ft){Object.keys(ft).filter(pt=>!pt.startsWith("swal")).forEach(this.markTouched),this.update()}ngOnDestroy(){(void 0===this.swalDismissOnDestroy?this.moduleLevelDismissOnDestroy:this.swalDismissOnDestroy)&&this.close()}fire(){var ft=this;return(0,a.Z)(function*(){const pt=yield ft.sweetAlert2Loader.swal,tt=ft.swalOptions,je={...tt,willOpen:Me(tt.willOpen,me=>{ft.willOpen.emit({modalElement:me})}),didOpen:Me(tt.didOpen,me=>{ft.isCurrentlyShown=!0,ft.didOpen.emit({modalElement:me})}),didRender:Me(tt.didRender,me=>{ft.didRender.emit({modalElement:me})}),willClose:Me(tt.willClose,me=>{ft.isCurrentlyShown=!1,ft.willClose.emit({modalElement:me})}),didClose:Me(tt.didClose,()=>{ft.didClose.emit()}),didDestroy:Me(tt.didDestroy,()=>{ft.didDestroy.emit()})},Ye=yield pt.fire(je);switch(!0){case Ye.isConfirmed:ft.confirm.emit(Ye.value);break;case Ye.isDenied:ft.deny.emit();break;case Ye.isDismissed:ft.dismiss.emit(Ye.dismiss)}return Ye;function Me(me,St){return(...vt)=>(St(...vt),me?.(...vt))}})()}close(ft){var pt=this;return(0,a.Z)(function*(){pt.isCurrentlyShown&&(yield pt.sweetAlert2Loader.swal).close(ft)})()}update(ft){var pt=this;return(0,a.Z)(function*(){if(ft&&(pt.swalOptions=ft),!pt.isCurrentlyShown)return;const tt=yield pt.sweetAlert2Loader.swal,je=pt.swalOptions,Ye=Object.keys(je).filter(tt.isUpdatableParameter).reduce((Me,me)=>({...Me,[me]:je[me]}),{});tt.update(Ye)})()}}return nt.\u0275fac=function(ft){return new(ft||nt)(T.Y36(re),T.Y36(xe),T.Y36(Ce))},nt.\u0275cmp=T.Xpm({type:nt,selectors:[["swal"]],inputs:{title:"title",titleText:"titleText",text:"text",html:"html",footer:"footer",icon:"icon",iconColor:"iconColor",iconHtml:"iconHtml",backdrop:"backdrop",toast:"toast",target:"target",input:"input",width:"width",padding:"padding",background:"background",position:"position",grow:"grow",showClass:"showClass",hideClass:"hideClass",customClass:"customClass",timer:"timer",timerProgressBar:"timerProgressBar",heightAuto:"heightAuto",allowOutsideClick:"allowOutsideClick",allowEscapeKey:"allowEscapeKey",allowEnterKey:"allowEnterKey",stopKeydownPropagation:"stopKeydownPropagation",keydownListenerCapture:"keydownListenerCapture",showConfirmButton:"showConfirmButton",showDenyButton:"showDenyButton",showCancelButton:"showCancelButton",confirmButtonText:"confirmButtonText",denyButtonText:"denyButtonText",cancelButtonText:"cancelButtonText",confirmButtonColor:"confirmButtonColor",denyButtonColor:"denyButtonColor",cancelButtonColor:"cancelButtonColor",confirmButtonAriaLabel:"confirmButtonAriaLabel",denyButtonAriaLabel:"denyButtonAriaLabel",cancelButtonAriaLabel:"cancelButtonAriaLabel",buttonsStyling:"buttonsStyling",reverseButtons:"reverseButtons",focusConfirm:"focusConfirm",focusDeny:"focusDeny",focusCancel:"focusCancel",showCloseButton:"showCloseButton",closeButtonHtml:"closeButtonHtml",closeButtonAriaLabel:"closeButtonAriaLabel",loaderHtml:"loaderHtml",showLoaderOnConfirm:"showLoaderOnConfirm",preConfirm:"preConfirm",preDeny:"preDeny",imageUrl:"imageUrl",imageWidth:"imageWidth",imageHeight:"imageHeight",imageAlt:"imageAlt",inputLabel:"inputLabel",inputPlaceholder:"inputPlaceholder",inputValue:"inputValue",inputOptions:"inputOptions",inputAutoTrim:"inputAutoTrim",inputAttributes:"inputAttributes",inputValidator:"inputValidator",returnInputValueOnDeny:"returnInputValueOnDeny",validationMessage:"validationMessage",progressSteps:"progressSteps",currentProgressStep:"currentProgressStep",progressStepsDistance:"progressStepsDistance",scrollbarPadding:"scrollbarPadding",swalOptions:"swalOptions",swalFireOnInit:"swalFireOnInit",swalDismissOnDestroy:"swalDismissOnDestroy",swalVisible:"swalVisible"},outputs:{willOpen:"willOpen",didOpen:"didOpen",didRender:"didRender",willClose:"willClose",didClose:"didClose",didDestroy:"didDestroy",confirm:"confirm",deny:"deny",dismiss:"dismiss"},features:[T.TTD],decls:0,vars:0,template:function(ft,pt){},encapsulation:2,changeDetection:0}),nt})(),be=(()=>{class nt{constructor(ft,pt){this.viewContainerRef=ft,this.resolver=pt,this.confirm=new T.vpe,this.deny=new T.vpe,this.dismiss=new T.vpe}set swal(ft){ft instanceof ce?this.swalInstance=ft:function pt(tt){return Array.isArray(ft)}()?(this.swalOptions={},[this.swalOptions.title,this.swalOptions.text,this.swalOptions.icon]=ft):this.swalOptions=ft}ngOnInit(){if(!this.swalInstance){const ft=this.resolver.resolveComponentFactory(ce);this.swalRef=this.viewContainerRef.createComponent(ft),this.swalInstance=this.swalRef.instance}}ngOnDestroy(){this.swalRef&&this.swalRef.destroy()}onClick(ft){if(ft.preventDefault(),ft.stopImmediatePropagation(),ft.stopPropagation(),!this.swalInstance)return;this.swalOptions&&(this.swalInstance.swalOptions=this.swalOptions);const pt=new O.x;this.swalInstance.confirm.asObservable().pipe((0,ue.R)(pt)).subscribe(tt=>this.confirm.emit(tt)),this.swalInstance.deny.asObservable().pipe((0,ue.R)(pt)).subscribe(tt=>this.deny.emit(tt)),this.swalInstance.dismiss.asObservable().pipe((0,ue.R)(pt)).subscribe(tt=>this.dismiss.emit(tt)),this.swalInstance.fire().then(()=>pt.next())}}return nt.\u0275fac=function(ft){return new(ft||nt)(T.Y36(T.s_b),T.Y36(T._Vd))},nt.\u0275dir=T.lG2({type:nt,selectors:[["","swal",""]],hostBindings:function(ft,pt){1&ft&&T.NdJ("click",function(je){return pt.onClick(je)})},inputs:{swal:"swal"},outputs:{confirm:"confirm",deny:"deny",dismiss:"dismiss"}}),nt})();function Je(){return Promise.resolve().then(N.t.bind(N,5226,19))}let Ke=(()=>{class nt{static forRoot(ft={}){return{ngModule:nt,providers:[re,{provide:Re,useValue:ft.provideSwal||Je},{provide:xe,useValue:ft.fireOnInit||!1},{provide:Ce,useValue:ft.dismissOnDestroy||!0}]}}static forChild(ft={}){return{ngModule:nt,providers:[...ft.provideSwal?[re,{provide:Re,useValue:ft.provideSwal}]:[],...void 0!==ft.fireOnInit?[{provide:xe,useValue:ft.fireOnInit}]:[],...void 0!==ft.dismissOnDestroy?[{provide:Ce,useValue:ft.dismissOnDestroy}]:[]]}}}return nt.\u0275fac=function(ft){return new(ft||nt)},nt.\u0275mod=T.oAB({type:nt}),nt.\u0275inj=T.cJS({imports:[[R.ez]]}),nt})()},3803:(ai,qt,N)=>{"use strict";N.d(qt,{$e:()=>Yh,a4:()=>b0});var a=N(4650),T=N(6895),O=N(7582),ue=N(4080),R=N(4968),Ee=N(8372),Re=N(7340);function xe(){}function Ce(l){return null==l?xe:function(){return this.querySelector(l)}}function ce(l){return null==l?[]:Array.isArray(l)?l:Array.from(l)}function be(){return[]}function Ve(l){return null==l?be:function(){return this.querySelectorAll(l)}}function Je(l){return function(){return this.matches(l)}}function Ke(l){return function(b){return b.matches(l)}}var nt=Array.prototype.find;function ft(){return this.firstElementChild}var tt=Array.prototype.filter;function je(){return Array.from(this.children)}function St(l){return new Array(l.length)}function an(l,b){this.ownerDocument=l.ownerDocument,this.namespaceURI=l.namespaceURI,this._next=null,this._parent=l,this.__data__=b}function xn(l){return function(){return l}}function In(l,b,n,p,D,F){for(var Oe,J=0,$t=b.length,Gt=F.length;J<Gt;++J)(Oe=b[J])?(Oe.__data__=F[J],p[J]=Oe):n[J]=new an(l,F[J]);for(;J<$t;++J)(Oe=b[J])&&(D[J]=Oe)}function cn(l,b,n,p,D,F,J){var Oe,$t,bi,Gt=new Map,kn=b.length,Rn=F.length,ei=new Array(kn);for(Oe=0;Oe<kn;++Oe)($t=b[Oe])&&(ei[Oe]=bi=J.call($t,$t.__data__,Oe,b)+"",Gt.has(bi)?D[Oe]=$t:Gt.set(bi,$t));for(Oe=0;Oe<Rn;++Oe)bi=J.call(l,F[Oe],Oe,F)+"",($t=Gt.get(bi))?(p[Oe]=$t,$t.__data__=F[Oe],Gt.delete(bi)):n[Oe]=new an(l,F[Oe]);for(Oe=0;Oe<kn;++Oe)($t=b[Oe])&&Gt.get(ei[Oe])===$t&&(D[Oe]=$t)}function Gn(l){return l.__data__}function Wn(l){return"object"==typeof l&&"length"in l?l:Array.from(l)}function jt(l,b){return l<b?-1:l>b?1:l>=b?0:NaN}an.prototype={constructor:an,appendChild:function(l){return this._parent.insertBefore(l,this._next)},insertBefore:function(l,b){return this._parent.insertBefore(l,b)},querySelector:function(l){return this._parent.querySelector(l)},querySelectorAll:function(l){return this._parent.querySelectorAll(l)}};var Nn="http://www.w3.org/1999/xhtml";const yn={svg:"http://www.w3.org/2000/svg",xhtml:Nn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function pn(l){var b=l+="",n=b.indexOf(":");return n>=0&&"xmlns"!==(b=l.slice(0,n))&&(l=l.slice(n+1)),yn.hasOwnProperty(b)?{space:yn[b],local:l}:l}function Pn(l){return function(){this.removeAttribute(l)}}function Nt(l){return function(){this.removeAttributeNS(l.space,l.local)}}function tn(l,b){return function(){this.setAttribute(l,b)}}function Rt(l,b){return function(){this.setAttributeNS(l.space,l.local,b)}}function bn(l,b){return function(){var n=b.apply(this,arguments);null==n?this.removeAttribute(l):this.setAttribute(l,n)}}function lt(l,b){return function(){var n=b.apply(this,arguments);null==n?this.removeAttributeNS(l.space,l.local):this.setAttributeNS(l.space,l.local,n)}}function Ae(l){return l.ownerDocument&&l.ownerDocument.defaultView||l.document&&l||l.defaultView}function ot(l){return function(){this.style.removeProperty(l)}}function zt(l,b,n){return function(){this.style.setProperty(l,b,n)}}function Lt(l,b,n){return function(){var p=b.apply(this,arguments);null==p?this.style.removeProperty(l):this.style.setProperty(l,p,n)}}function Tt(l,b){return l.style.getPropertyValue(b)||Ae(l).getComputedStyle(l,null).getPropertyValue(b)}function mn(l){return function(){delete this[l]}}function An(l,b){return function(){this[l]=b}}function Ln(l,b){return function(){var n=b.apply(this,arguments);null==n?delete this[l]:this[l]=n}}function Xi(l){return l.trim().split(/^|\s+/)}function li(l){return l.classList||new Bi(l)}function Bi(l){this._node=l,this._names=Xi(l.getAttribute("class")||"")}function Si(l,b){for(var n=li(l),p=-1,D=b.length;++p<D;)n.add(b[p])}function _r(l,b){for(var n=li(l),p=-1,D=b.length;++p<D;)n.remove(b[p])}function En(l){return function(){Si(this,l)}}function sn(l){return function(){_r(this,l)}}function It(l,b){return function(){(b.apply(this,arguments)?Si:_r)(this,l)}}function wt(){this.textContent=""}function Ie(l){return function(){this.textContent=l}}function pe(l){return function(){var b=l.apply(this,arguments);this.textContent=b??""}}function st(){this.innerHTML=""}function Ue(l){return function(){this.innerHTML=l}}function Te(l){return function(){var b=l.apply(this,arguments);this.innerHTML=b??""}}function Fe(){this.nextSibling&&this.parentNode.appendChild(this)}function Zt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ti(l){return function(){var b=this.ownerDocument,n=this.namespaceURI;return n===Nn&&b.documentElement.namespaceURI===Nn?b.createElement(l):b.createElementNS(n,l)}}function Ui(l){return function(){return this.ownerDocument.createElementNS(l.space,l.local)}}function Li(l){var b=pn(l);return(b.local?Ui:ti)(b)}function ie(){return null}function ge(){var l=this.parentNode;l&&l.removeChild(this)}function rn(){var l=this.cloneNode(!1),b=this.parentNode;return b?b.insertBefore(l,this.nextSibling):l}function Hn(){var l=this.cloneNode(!0),b=this.parentNode;return b?b.insertBefore(l,this.nextSibling):l}function Ft(l){return l.trim().split(/^|\s+/).map(function(b){var n="",p=b.indexOf(".");return p>=0&&(n=b.slice(p+1),b=b.slice(0,p)),{type:b,name:n}})}function it(l){return function(){var b=this.__on;if(b){for(var F,n=0,p=-1,D=b.length;n<D;++n)F=b[n],l.type&&F.type!==l.type||F.name!==l.name?b[++p]=F:this.removeEventListener(F.type,F.listener,F.options);++p?b.length=p:delete this.__on}}}function Wt(l,b,n){return function(){var D,p=this.__on,F=function mt(l){return function(b){l.call(this,b,this.__data__)}}(b);if(p)for(var J=0,Oe=p.length;J<Oe;++J)if((D=p[J]).type===l.type&&D.name===l.name)return this.removeEventListener(D.type,D.listener,D.options),this.addEventListener(D.type,D.listener=F,D.options=n),void(D.value=b);this.addEventListener(l.type,F,n),D={type:l.type,name:l.name,value:b,listener:F,options:n},p?p.push(D):this.__on=[D]}}function Yt(l,b,n){var p=Ae(l),D=p.CustomEvent;"function"==typeof D?D=new D(b,n):(D=p.document.createEvent("Event"),n?(D.initEvent(b,n.bubbles,n.cancelable),D.detail=n.detail):D.initEvent(b,!1,!1)),l.dispatchEvent(D)}function Y(l,b){return function(){return Yt(this,l,b)}}function $e(l,b){return function(){return Yt(this,l,b.apply(this,arguments))}}Bi.prototype={add:function(l){this._names.indexOf(l)<0&&(this._names.push(l),this._node.setAttribute("class",this._names.join(" ")))},remove:function(l){var b=this._names.indexOf(l);b>=0&&(this._names.splice(b,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(l){return this._names.indexOf(l)>=0}};var ci=[null];function zi(l,b){this._groups=l,this._parents=b}function ji(){return new zi([[document.documentElement]],ci)}zi.prototype=ji.prototype={constructor:zi,select:function re(l){"function"!=typeof l&&(l=Ce(l));for(var b=this._groups,n=b.length,p=new Array(n),D=0;D<n;++D)for(var $t,Gt,F=b[D],J=F.length,Oe=p[D]=new Array(J),kn=0;kn<J;++kn)($t=F[kn])&&(Gt=l.call($t,$t.__data__,kn,F))&&("__data__"in $t&&(Gt.__data__=$t.__data__),Oe[kn]=Gt);return new zi(p,this._parents)},selectAll:function Be(l){l="function"==typeof l?function Ne(l){return function(){return ce(l.apply(this,arguments))}}(l):Ve(l);for(var b=this._groups,n=b.length,p=[],D=[],F=0;F<n;++F)for(var $t,J=b[F],Oe=J.length,Gt=0;Gt<Oe;++Gt)($t=J[Gt])&&(p.push(l.call($t,$t.__data__,Gt,J)),D.push($t));return new zi(p,D)},selectChild:function pt(l){return this.select(null==l?ft:function We(l){return function(){return nt.call(this.children,l)}}("function"==typeof l?l:Ke(l)))},selectChildren:function Me(l){return this.selectAll(null==l?je:function Ye(l){return function(){return tt.call(this.children,l)}}("function"==typeof l?l:Ke(l)))},filter:function me(l){"function"!=typeof l&&(l=Je(l));for(var b=this._groups,n=b.length,p=new Array(n),D=0;D<n;++D)for(var $t,F=b[D],J=F.length,Oe=p[D]=[],Gt=0;Gt<J;++Gt)($t=F[Gt])&&l.call($t,$t.__data__,Gt,F)&&Oe.push($t);return new zi(p,this._parents)},data:function Tn(l,b){if(!arguments.length)return Array.from(this,Gn);var n=b?cn:In,p=this._parents,D=this._groups;"function"!=typeof l&&(l=xn(l));for(var F=D.length,J=new Array(F),Oe=new Array(F),$t=new Array(F),Gt=0;Gt<F;++Gt){var kn=p[Gt],Rn=D[Gt],ei=Rn.length,bi=Wn(l.call(kn,kn&&kn.__data__,Gt,p)),Yi=bi.length,ls=Oe[Gt]=new Array(Yi),yi=J[Gt]=new Array(Yi),kr=$t[Gt]=new Array(ei);n(kn,Rn,ls,yi,kr,bi,b);for(var As,Ss,is=0,Tr=0;is<Yi;++is)if(As=ls[is]){for(is>=Tr&&(Tr=is+1);!(Ss=yi[Tr])&&++Tr<Yi;);As._next=Ss||null}}return(J=new zi(J,p))._enter=Oe,J._exit=$t,J},enter:function vt(){return new zi(this._enter||this._groups.map(St),this._parents)},exit:function Ht(){return new zi(this._exit||this._groups.map(St),this._parents)},join:function Bt(l,b,n){var p=this.enter(),D=this,F=this.exit();return"function"==typeof l?(p=l(p))&&(p=p.selection()):p=p.append(l+""),null!=b&&(D=b(D))&&(D=D.selection()),null==n?F.remove():n(F),p&&D?p.merge(D).order():D},merge:function Kt(l){for(var b=l.selection?l.selection():l,n=this._groups,p=b._groups,D=n.length,J=Math.min(D,p.length),Oe=new Array(D),$t=0;$t<J;++$t)for(var bi,Gt=n[$t],kn=p[$t],Rn=Gt.length,ei=Oe[$t]=new Array(Rn),Yi=0;Yi<Rn;++Yi)(bi=Gt[Yi]||kn[Yi])&&(ei[Yi]=bi);for(;$t<D;++$t)Oe[$t]=n[$t];return new zi(Oe,this._parents)},selection:function Hr(){return this},order:function et(){for(var l=this._groups,b=-1,n=l.length;++b<n;)for(var J,p=l[b],D=p.length-1,F=p[D];--D>=0;)(J=p[D])&&(F&&4^J.compareDocumentPosition(F)&&F.parentNode.insertBefore(J,F),F=J);return this},sort:function Vt(l){function b(Rn,ei){return Rn&&ei?l(Rn.__data__,ei.__data__):!Rn-!ei}l||(l=jt);for(var n=this._groups,p=n.length,D=new Array(p),F=0;F<p;++F){for(var Gt,J=n[F],Oe=J.length,$t=D[F]=new Array(Oe),kn=0;kn<Oe;++kn)(Gt=J[kn])&&($t[kn]=Gt);$t.sort(b)}return new zi(D,this._parents).order()},call:function Yn(){var l=arguments[0];return arguments[0]=this,l.apply(null,arguments),this},nodes:function en(){return Array.from(this)},node:function gn(){for(var l=this._groups,b=0,n=l.length;b<n;++b)for(var p=l[b],D=0,F=p.length;D<F;++D){var J=p[D];if(J)return J}return null},size:function On(){let l=0;for(const b of this)++l;return l},empty:function Qn(){return!this.node()},each:function _n(l){for(var b=this._groups,n=0,p=b.length;n<p;++n)for(var Oe,D=b[n],F=0,J=D.length;F<J;++F)(Oe=D[F])&&l.call(Oe,Oe.__data__,F,D);return this},attr:function le(l,b){var n=pn(l);if(arguments.length<2){var p=this.node();return n.local?p.getAttributeNS(n.space,n.local):p.getAttribute(n)}return this.each((null==b?n.local?Nt:Pn:"function"==typeof b?n.local?lt:bn:n.local?Rt:tn)(n,b))},style:function Mt(l,b,n){return arguments.length>1?this.each((null==b?ot:"function"==typeof b?Lt:zt)(l,b,n??"")):Tt(this.node(),l)},property:function mi(l,b){return arguments.length>1?this.each((null==b?mn:"function"==typeof b?Ln:An)(l,b)):this.node()[l]},classed:function xt(l,b){var n=Xi(l+"");if(arguments.length<2){for(var p=li(this.node()),D=-1,F=n.length;++D<F;)if(!p.contains(n[D]))return!1;return!0}return this.each(("function"==typeof b?It:b?En:sn)(n,b))},text:function ye(l){return arguments.length?this.each(null==l?wt:("function"==typeof l?pe:Ie)(l)):this.node().textContent},html:function ct(l){return arguments.length?this.each(null==l?st:("function"==typeof l?Te:Ue)(l)):this.node().innerHTML},raise:function qe(){return this.each(Fe)},lower:function wn(){return this.each(Zt)},append:function ut(l){var b="function"==typeof l?l:Li(l);return this.select(function(){return this.appendChild(b.apply(this,arguments))})},insert:function K(l,b){var n="function"==typeof l?l:Li(l),p=null==b?ie:"function"==typeof b?b:Ce(b);return this.select(function(){return this.insertBefore(n.apply(this,arguments),p.apply(this,arguments)||null)})},remove:function Ge(){return this.each(ge)},clone:function Un(l){return this.select(l?Hn:rn)},datum:function pi(l){return arguments.length?this.property("__data__",l):this.node().__data__},on:function at(l,b,n){var D,J,p=Ft(l+""),F=p.length;if(!(arguments.length<2)){for(Oe=b?Wt:it,D=0;D<F;++D)this.each(Oe(p[D],b,n));return this}var Oe=this.node().__on;if(Oe)for(var kn,$t=0,Gt=Oe.length;$t<Gt;++$t)for(D=0,kn=Oe[$t];D<F;++D)if((J=p[D]).type===kn.type&&J.name===kn.name)return kn.value},dispatch:function At(l,b){return this.each(("function"==typeof b?$e:Y)(l,b))},[Symbol.iterator]:function*Xt(){for(var l=this._groups,b=0,n=l.length;b<n;++b)for(var J,p=l[b],D=0,F=p.length;D<F;++D)(J=p[D])&&(yield J)}};const vr=ji;var xs={value:()=>{}};function $r(){for(var p,l=0,b=arguments.length,n={};l<b;++l){if(!(p=arguments[l]+"")||p in n||/[\s.]/.test(p))throw new Error("illegal type: "+p);n[p]=[]}return new ss(n)}function ss(l){this._=l}function wo(l,b){return l.trim().split(/^|\s+/).map(function(n){var p="",D=n.indexOf(".");if(D>=0&&(p=n.slice(D+1),n=n.slice(0,D)),n&&!b.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:p}})}function nr(l,b){for(var D,n=0,p=l.length;n<p;++n)if((D=l[n]).name===b)return D.value}function Jr(l,b,n){for(var p=0,D=l.length;p<D;++p)if(l[p].name===b){l[p]=xs,l=l.slice(0,p).concat(l.slice(p+1));break}return null!=n&&l.push({name:b,value:n}),l}ss.prototype=$r.prototype={constructor:ss,on:function(l,b){var D,n=this._,p=wo(l+"",n),F=-1,J=p.length;if(!(arguments.length<2)){if(null!=b&&"function"!=typeof b)throw new Error("invalid callback: "+b);for(;++F<J;)if(D=(l=p[F]).type)n[D]=Jr(n[D],l.name,b);else if(null==b)for(D in n)n[D]=Jr(n[D],l.name,null);return this}for(;++F<J;)if((D=(l=p[F]).type)&&(D=nr(n[D],l.name)))return D},copy:function(){var l={},b=this._;for(var n in b)l[n]=b[n].slice();return new ss(l)},call:function(l,b){if((D=arguments.length-2)>0)for(var D,F,n=new Array(D),p=0;p<D;++p)n[p]=arguments[p+2];if(!this._.hasOwnProperty(l))throw new Error("unknown type: "+l);for(p=0,D=(F=this._[l]).length;p<D;++p)F[p].value.apply(b,n)},apply:function(l,b,n){if(!this._.hasOwnProperty(l))throw new Error("unknown type: "+l);for(var p=this._[l],D=0,F=p.length;D<F;++D)p[D].value.apply(b,n)}};const Ps=$r;function ta(l,b,n){l.prototype=b.prototype=n,n.constructor=l}function ja(l,b){var n=Object.create(l.prototype);for(var p in b)n[p]=b[p];return n}function Os(){}var cs=1/.7,Po="\\s*([+-]?\\d+)\\s*",Dl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ls="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ga=/^#([0-9a-f]{3,8})$/,wa=new RegExp(`^rgb\\(${Po},${Po},${Po}\\)$`),Ws=new RegExp(`^rgb\\(${Ls},${Ls},${Ls}\\)$`),Hs=new RegExp(`^rgba\\(${Po},${Po},${Po},${Dl}\\)$`),Ca=new RegExp(`^rgba\\(${Ls},${Ls},${Ls},${Dl}\\)$`),Rl=new RegExp(`^hsl\\(${Dl},${Ls},${Ls}\\)$`),Sr=new RegExp(`^hsla\\(${Dl},${Ls},${Ls},${Dl}\\)$`),Rr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function os(){return this.rgb().formatHex()}function Bo(){return this.rgb().formatRgb()}function Eo(l){var b,n;return l=(l+"").trim().toLowerCase(),(b=Ga.exec(l))?(n=b[1].length,b=parseInt(b[1],16),6===n?Aa(b):3===n?new Ur(b>>8&15|b>>4&240,b>>4&15|240&b,(15&b)<<4|15&b,1):8===n?Oo(b>>24&255,b>>16&255,b>>8&255,(255&b)/255):4===n?Oo(b>>12&15|b>>8&240,b>>8&15|b>>4&240,b>>4&15|240&b,((15&b)<<4|15&b)/255):null):(b=wa.exec(l))?new Ur(b[1],b[2],b[3],1):(b=Ws.exec(l))?new Ur(255*b[1]/100,255*b[2]/100,255*b[3]/100,1):(b=Hs.exec(l))?Oo(b[1],b[2],b[3],b[4]):(b=Ca.exec(l))?Oo(255*b[1]/100,255*b[2]/100,255*b[3]/100,b[4]):(b=Rl.exec(l))?lo(b[1],b[2]/100,b[3]/100,1):(b=Sr.exec(l))?lo(b[1],b[2]/100,b[3]/100,b[4]):Rr.hasOwnProperty(l)?Aa(Rr[l]):"transparent"===l?new Ur(NaN,NaN,NaN,0):null}function Aa(l){return new Ur(l>>16&255,l>>8&255,255&l,1)}function Oo(l,b,n,p){return p<=0&&(l=b=n=NaN),new Ur(l,b,n,p)}function mo(l){return l instanceof Os||(l=Eo(l)),l?new Ur((l=l.rgb()).r,l.g,l.b,l.opacity):new Ur}function gs(l,b,n,p){return 1===arguments.length?mo(l):new Ur(l,b,n,p??1)}function Ur(l,b,n,p){this.r=+l,this.g=+b,this.b=+n,this.opacity=+p}function tl(){return`#${Zo(this.r)}${Zo(this.g)}${Zo(this.b)}`}function Mo(){const l=Sa(this.opacity);return`${1===l?"rgb(":"rgba("}${Yo(this.r)}, ${Yo(this.g)}, ${Yo(this.b)}${1===l?")":`, ${l})`}`}function Sa(l){return isNaN(l)?1:Math.max(0,Math.min(1,l))}function Yo(l){return Math.max(0,Math.min(255,Math.round(l)||0))}function Zo(l){return((l=Yo(l))<16?"0":"")+l.toString(16)}function lo(l,b,n,p){return p<=0?l=b=n=NaN:n<=0||n>=1?l=b=NaN:b<=0&&(l=NaN),new Bs(l,b,n,p)}function wr(l){if(l instanceof Bs)return new Bs(l.h,l.s,l.l,l.opacity);if(l instanceof Os||(l=Eo(l)),!l)return new Bs;if(l instanceof Bs)return l;var b=(l=l.rgb()).r/255,n=l.g/255,p=l.b/255,D=Math.min(b,n,p),F=Math.max(b,n,p),J=NaN,Oe=F-D,$t=(F+D)/2;return Oe?(J=b===F?(n-p)/Oe+6*(n<p):n===F?(p-b)/Oe+2:(b-n)/Oe+4,Oe/=$t<.5?F+D:2-F-D,J*=60):Oe=$t>0&&$t<1?0:J,new Bs(J,Oe,$t,l.opacity)}function Bs(l,b,n,p){this.h=+l,this.s=+b,this.l=+n,this.opacity=+p}function Ms(l){return(l=(l||0)%360)<0?l+360:l}function To(l){return Math.max(0,Math.min(1,l||0))}function dl(l,b,n){return 255*(l<60?b+(n-b)*l/60:l<180?n:l<240?b+(n-b)*(240-l)/60:b)}function Kr(l,b,n,p,D){var F=l*l,J=F*l;return((1-3*l+3*F-J)*b+(4-6*F+3*J)*n+(1+3*l+3*F-3*J)*p+J*D)/6}ta(Os,Eo,{copy(l){return Object.assign(new this.constructor,this,l)},displayable(){return this.rgb().displayable()},hex:os,formatHex:os,formatHex8:function Ta(){return this.rgb().formatHex8()},formatHsl:function Da(){return wr(this).formatHsl()},formatRgb:Bo,toString:Bo}),ta(Ur,gs,ja(Os,{brighter(l){return l=null==l?cs:Math.pow(cs,l),new Ur(this.r*l,this.g*l,this.b*l,this.opacity)},darker(l){return l=null==l?.7:Math.pow(.7,l),new Ur(this.r*l,this.g*l,this.b*l,this.opacity)},rgb(){return this},clamp(){return new Ur(Yo(this.r),Yo(this.g),Yo(this.b),Sa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tl,formatHex:tl,formatHex8:function Fa(){return`#${Zo(this.r)}${Zo(this.g)}${Zo(this.b)}${Zo(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Mo,toString:Mo})),ta(Bs,function Ea(l,b,n,p){return 1===arguments.length?wr(l):new Bs(l,b,n,p??1)},ja(Os,{brighter(l){return l=null==l?cs:Math.pow(cs,l),new Bs(this.h,this.s,this.l*l,this.opacity)},darker(l){return l=null==l?.7:Math.pow(.7,l),new Bs(this.h,this.s,this.l*l,this.opacity)},rgb(){var l=this.h%360+360*(this.h<0),b=isNaN(l)||isNaN(this.s)?0:this.s,n=this.l,p=n+(n<.5?n:1-n)*b,D=2*n-p;return new Ur(dl(l>=240?l-240:l+120,D,p),dl(l,D,p),dl(l<120?l+240:l-120,D,p),this.opacity)},clamp(){return new Bs(Ms(this.h),To(this.s),To(this.l),Sa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const l=Sa(this.opacity);return`${1===l?"hsl(":"hsla("}${Ms(this.h)}, ${100*To(this.s)}%, ${100*To(this.l)}%${1===l?")":`, ${l})`}`}}));const Us=l=>()=>l;function Vr(l,b){var n=b-l;return n?function go(l,b){return function(n){return l+n*b}}(l,n):Us(isNaN(l)?b:l)}const hl=function l(b){var n=function zs(l){return 1==(l=+l)?Vr:function(b,n){return n-b?function Lo(l,b,n){return l=Math.pow(l,n),b=Math.pow(b,n)-l,n=1/n,function(p){return Math.pow(l+p*b,n)}}(b,n,l):Us(isNaN(b)?n:b)}}(b);function p(D,F){var J=n((D=gs(D)).r,(F=gs(F)).r),Oe=n(D.g,F.g),$t=n(D.b,F.b),Gt=Vr(D.opacity,F.opacity);return function(kn){return D.r=J(kn),D.g=Oe(kn),D.b=$t(kn),D.opacity=Gt(kn),D+""}}return p.gamma=l,p}(1);function eo(l){return function(b){var J,Oe,n=b.length,p=new Array(n),D=new Array(n),F=new Array(n);for(J=0;J<n;++J)Oe=gs(b[J]),p[J]=Oe.r||0,D[J]=Oe.g||0,F[J]=Oe.b||0;return p=l(p),D=l(D),F=l(F),Oe.opacity=1,function($t){return Oe.r=p($t),Oe.g=D($t),Oe.b=F($t),Oe+""}}}function js(l,b){var J,n=b?b.length:0,p=l?Math.min(n,l.length):0,D=new Array(p),F=new Array(n);for(J=0;J<p;++J)D[J]=Cr(l[J],b[J]);for(;J<n;++J)F[J]=b[J];return function(Oe){for(J=0;J<p;++J)F[J]=D[J](Oe);return F}}function lr(l,b){var n=new Date;return l=+l,b=+b,function(p){return n.setTime(l*(1-p)+b*p),n}}function Do(l,b){return l=+l,b=+b,function(n){return l*(1-n)+b*n}}function nl(l,b){var D,n={},p={};for(D in(null===l||"object"!=typeof l)&&(l={}),(null===b||"object"!=typeof b)&&(b={}),b)D in l?n[D]=Cr(l[D],b[D]):p[D]=b[D];return function(F){for(D in n)p[D]=n[D](F);return p}}eo(function us(l){var b=l.length-1;return function(n){var p=n<=0?n=0:n>=1?(n=1,b-1):Math.floor(n*b),D=l[p],F=l[p+1];return Kr((n-p/b)*b,p>0?l[p-1]:2*D-F,D,F,p<b-1?l[p+2]:2*F-D)}}),eo(function Ir(l){var b=l.length;return function(n){var p=Math.floor(((n%=1)<0?++n:n)*b);return Kr((n-p/b)*b,l[(p+b-1)%b],l[p%b],l[(p+1)%b],l[(p+2)%b])}});var $a=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ba=new RegExp($a.source,"g");function Ma(l,b){var p,D,F,n=$a.lastIndex=Ba.lastIndex=0,J=-1,Oe=[],$t=[];for(l+="",b+="";(p=$a.exec(l))&&(D=Ba.exec(b));)(F=D.index)>n&&(F=b.slice(n,F),Oe[J]?Oe[J]+=F:Oe[++J]=F),(p=p[0])===(D=D[0])?Oe[J]?Oe[J]+=D:Oe[++J]=D:(Oe[++J]=null,$t.push({i:J,x:Do(p,D)})),n=Ba.lastIndex;return n<b.length&&(F=b.slice(n),Oe[J]?Oe[J]+=F:Oe[++J]=F),Oe.length<2?$t[0]?function na(l){return function(b){return l(b)+""}}($t[0].x):function Jo(l){return function(){return l}}(b):(b=$t.length,function(Gt){for(var Rn,kn=0;kn<b;++kn)Oe[(Rn=$t[kn]).i]=Rn.x(Gt);return Oe.join("")})}function Ho(l,b){b||(b=[]);var D,n=l?Math.min(b.length,l.length):0,p=b.slice();return function(F){for(D=0;D<n;++D)p[D]=l[D]*(1-F)+b[D]*F;return p}}function Cr(l,b){var p,n=typeof b;return null==b||"boolean"===n?Us(b):("number"===n?Do:"string"===n?(p=Eo(b))?(b=p,hl):Ma:b instanceof Eo?hl:b instanceof Date?lr:function _i(l){return ArrayBuffer.isView(l)&&!(l instanceof DataView)}(b)?Ho:Array.isArray(b)?js:"function"!=typeof b.valueOf&&"function"!=typeof b.toString||isNaN(b)?nl:Do)(l,b)}var Et,qn,ks=0,Se=0,De=0,Vi=0,ds=0,Rs=0,to="object"==typeof performance&&performance.now?performance:Date,_s="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(l){setTimeout(l,17)};function Ao(){return ds||(_s(_o),ds=to.now()+Rs)}function _o(){ds=0}function aa(){this._call=this._time=this._next=null}function la(l,b,n){var p=new aa;return p.restart(l,b,n),p}function Fl(){ds=(Vi=to.now())+Rs,ks=Se=0;try{!function Sc(){Ao(),++ks;for(var b,l=Et;l;)(b=ds-l._time)>=0&&l._call.call(void 0,b),l=l._next;--ks}()}finally{ks=0,function lc(){for(var l,n,b=Et,p=1/0;b;)b._call?(p>b._time&&(p=b._time),l=b,b=b._next):(n=b._next,b._next=null,b=l?l._next=n:Et=n);qn=l,Vs(p)}(),ds=0}}function Wa(){var l=to.now(),b=l-Vi;b>1e3&&(Rs-=b,Vi=l)}function Vs(l){ks||(Se&&(Se=clearTimeout(Se)),l-ds>24?(l<1/0&&(Se=setTimeout(Fl,l-to.now()-Rs)),De&&(De=clearInterval(De))):(De||(Vi=to.now(),De=setInterval(Wa,1e3)),ks=1,_s(Fl)))}function pa(l,b,n){var p=new aa;return p.restart(D=>{p.stop(),l(D+b)},b=null==b?0:+b,n),p}aa.prototype=la.prototype={constructor:aa,restart:function(l,b,n){if("function"!=typeof l)throw new TypeError("callback is not a function");n=(null==n?Ao():+n)+(null==b?0:+b),!this._next&&qn!==this&&(qn?qn._next=this:Et=this,qn=this),this._call=l,this._time=n,Vs()},stop:function(){this._call&&(this._call=null,this._time=1/0,Vs())}};var cc=Ps("start","end","cancel","interrupt"),ca=[];function Xe(l,b,n,p,D,F){var J=l.__transition;if(J){if(n in J)return}else l.__transition={};!function jn(l,b,n){var D,p=l.__transition;function J(Gt){var kn,Rn,ei,bi;if(1!==n.state)return $t();for(kn in p)if((bi=p[kn]).name===n.name){if(3===bi.state)return pa(J);4===bi.state?(bi.state=6,bi.timer.stop(),bi.on.call("interrupt",l,l.__data__,bi.index,bi.group),delete p[kn]):+kn<b&&(bi.state=6,bi.timer.stop(),bi.on.call("cancel",l,l.__data__,bi.index,bi.group),delete p[kn])}if(pa(function(){3===n.state&&(n.state=4,n.timer.restart(Oe,n.delay,n.time),Oe(Gt))}),n.state=2,n.on.call("start",l,l.__data__,n.index,n.group),2===n.state){for(n.state=3,D=new Array(ei=n.tween.length),kn=0,Rn=-1;kn<ei;++kn)(bi=n.tween[kn].value.call(l,l.__data__,n.index,n.group))&&(D[++Rn]=bi);D.length=Rn+1}}function Oe(Gt){for(var kn=Gt<n.duration?n.ease.call(null,Gt/n.duration):(n.timer.restart($t),n.state=5,1),Rn=-1,ei=D.length;++Rn<ei;)D[Rn].call(l,kn);5===n.state&&(n.on.call("end",l,l.__data__,n.index,n.group),$t())}function $t(){for(var Gt in n.state=6,n.timer.stop(),delete p[b],p)return;delete l.__transition}p[b]=n,n.timer=la(function F(Gt){n.state=1,n.timer.restart(J,n.delay,n.time),n.delay<=Gt&&J(Gt-n.delay)},0,n.time)}(l,n,{name:b,index:p,group:D,on:cc,tween:ca,time:F.time,delay:F.delay,duration:F.duration,ease:F.ease,timer:null,state:0})}function ve(l,b){var n=un(l,b);if(n.state>0)throw new Error("too late; already scheduled");return n}function yt(l,b){var n=un(l,b);if(n.state>3)throw new Error("too late; already running");return n}function un(l,b){var n=l.__transition;if(!n||!(n=n[b]))throw new Error("transition not found");return n}var Pr,ki=180/Math.PI,Wr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function qr(l,b,n,p,D,F){var J,Oe,$t;return(J=Math.sqrt(l*l+b*b))&&(l/=J,b/=J),($t=l*n+b*p)&&(n-=l*$t,p-=b*$t),(Oe=Math.sqrt(n*n+p*p))&&(n/=Oe,p/=Oe,$t/=Oe),l*p<b*n&&(l=-l,b=-b,$t=-$t,J=-J),{translateX:D,translateY:F,rotate:Math.atan2(b,l)*ki,skewX:Math.atan($t)*ki,scaleX:J,scaleY:Oe}}function Cs(l,b,n,p){function D(Gt){return Gt.length?Gt.pop()+" ":""}return function(Gt,kn){var Rn=[],ei=[];return Gt=l(Gt),kn=l(kn),function F(Gt,kn,Rn,ei,bi,Yi){if(Gt!==Rn||kn!==ei){var ls=bi.push("translate(",null,b,null,n);Yi.push({i:ls-4,x:Do(Gt,Rn)},{i:ls-2,x:Do(kn,ei)})}else(Rn||ei)&&bi.push("translate("+Rn+b+ei+n)}(Gt.translateX,Gt.translateY,kn.translateX,kn.translateY,Rn,ei),function J(Gt,kn,Rn,ei){Gt!==kn?(Gt-kn>180?kn+=360:kn-Gt>180&&(Gt+=360),ei.push({i:Rn.push(D(Rn)+"rotate(",null,p)-2,x:Do(Gt,kn)})):kn&&Rn.push(D(Rn)+"rotate("+kn+p)}(Gt.rotate,kn.rotate,Rn,ei),function Oe(Gt,kn,Rn,ei){Gt!==kn?ei.push({i:Rn.push(D(Rn)+"skewX(",null,p)-2,x:Do(Gt,kn)}):kn&&Rn.push(D(Rn)+"skewX("+kn+p)}(Gt.skewX,kn.skewX,Rn,ei),function $t(Gt,kn,Rn,ei,bi,Yi){if(Gt!==Rn||kn!==ei){var ls=bi.push(D(bi)+"scale(",null,",",null,")");Yi.push({i:ls-4,x:Do(Gt,Rn)},{i:ls-2,x:Do(kn,ei)})}else(1!==Rn||1!==ei)&&bi.push(D(bi)+"scale("+Rn+","+ei+")")}(Gt.scaleX,Gt.scaleY,kn.scaleX,kn.scaleY,Rn,ei),Gt=kn=null,function(bi){for(var yi,Yi=-1,ls=ei.length;++Yi<ls;)Rn[(yi=ei[Yi]).i]=yi.x(bi);return Rn.join("")}}}var Ia=Cs(function vo(l){const b=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(l+"");return b.isIdentity?Wr:qr(b.a,b.b,b.c,b.d,b.e,b.f)},"px, ","px)","deg)"),Uo=Cs(function hs(l){return null!=l&&(Pr||(Pr=document.createElementNS("http://www.w3.org/2000/svg","g")),Pr.setAttribute("transform",l),l=Pr.transform.baseVal.consolidate())?qr((l=l.matrix).a,l.b,l.c,l.d,l.e,l.f):Wr},", ",")",")");function yo(l,b){var n,p;return function(){var D=yt(this,l),F=D.tween;if(F!==n)for(var J=0,Oe=(p=n=F).length;J<Oe;++J)if(p[J].name===b){(p=p.slice()).splice(J,1);break}D.tween=p}}function Va(l,b,n){var p,D;if("function"!=typeof n)throw new Error;return function(){var F=yt(this,l),J=F.tween;if(J!==p){D=(p=J).slice();for(var Oe={name:b,value:n},$t=0,Gt=D.length;$t<Gt;++$t)if(D[$t].name===b){D[$t]=Oe;break}$t===Gt&&D.push(Oe)}F.tween=D}}function qi(l,b,n){var p=l._id;return l.each(function(){var D=yt(this,p);(D.value||(D.value={}))[b]=n.apply(this,arguments)}),function(D){return un(D,p).value[b]}}function ma(l,b){var n;return("number"==typeof b?Do:b instanceof Eo?hl:(n=Eo(b))?(b=n,hl):Ma)(l,b)}function _c(l){return function(){this.removeAttribute(l)}}function Ys(l){return function(){this.removeAttributeNS(l.space,l.local)}}function $s(l,b,n){var p,F,D=n+"";return function(){var J=this.getAttribute(l);return J===D?null:J===p?F:F=b(p=J,n)}}function Nl(l,b,n){var p,F,D=n+"";return function(){var J=this.getAttributeNS(l.space,l.local);return J===D?null:J===p?F:F=b(p=J,n)}}function ga(l,b,n){var p,D,F;return function(){var J,$t,Oe=n(this);return null==Oe?void this.removeAttribute(l):(J=this.getAttribute(l))===($t=Oe+"")?null:J===p&&$t===D?F:(D=$t,F=b(p=J,Oe))}}function Ec(l,b,n){var p,D,F;return function(){var J,$t,Oe=n(this);return null==Oe?void this.removeAttributeNS(l.space,l.local):(J=this.getAttributeNS(l.space,l.local))===($t=Oe+"")?null:J===p&&$t===D?F:(D=$t,F=b(p=J,Oe))}}function vc(l,b){return function(n){this.setAttribute(l,b.call(this,n))}}function no(l,b){return function(n){this.setAttributeNS(l.space,l.local,b.call(this,n))}}function Kl(l,b){var n,p;function D(){var F=b.apply(this,arguments);return F!==p&&(n=(p=F)&&no(l,F)),n}return D._value=b,D}function yc(l,b){var n,p;function D(){var F=b.apply(this,arguments);return F!==p&&(n=(p=F)&&vc(l,F)),n}return D._value=b,D}function Fr(l,b){return function(){ve(this,l).delay=+b.apply(this,arguments)}}function ne(l,b){return b=+b,function(){ve(this,l).delay=b}}function dt(l,b){return function(){yt(this,l).duration=+b.apply(this,arguments)}}function hn(l,b){return b=+b,function(){yt(this,l).duration=b}}function Gi(l,b){if("function"!=typeof b)throw new Error;return function(){yt(this,l).ease=b}}function Kn(l,b,n){var p,D,F=function Ri(l){return(l+"").trim().split(/^|\s+/).every(function(b){var n=b.indexOf(".");return n>=0&&(b=b.slice(0,n)),!b||"start"===b})}(b)?ve:yt;return function(){var J=F(this,l),Oe=J.on;Oe!==p&&(D=(p=Oe).copy()).on(b,n),J.on=D}}var Le=vr.prototype.constructor;function $n(l){return function(){this.style.removeProperty(l)}}function Pi(l,b,n){return function(p){this.style.setProperty(l,b.call(this,p),n)}}function Is(l,b,n){var p,D;function F(){var J=b.apply(this,arguments);return J!==D&&(p=(D=J)&&Pi(l,J,n)),p}return F._value=b,F}function Qr(l){return function(b){this.textContent=l.call(this,b)}}function fl(l){var b,n;function p(){var D=l.apply(this,arguments);return D!==n&&(b=(n=D)&&Qr(D)),b}return p._value=l,p}var rl=0;function ys(l,b,n,p){this._groups=l,this._parents=b,this._name=n,this._id=p}function pl(){return++rl}var Ya=vr.prototype;ys.prototype=function Sl(l){return vr().transition(l)}.prototype={constructor:ys,select:function H(l){var b=this._name,n=this._id;"function"!=typeof l&&(l=Ce(l));for(var p=this._groups,D=p.length,F=new Array(D),J=0;J<D;++J)for(var kn,Rn,Oe=p[J],$t=Oe.length,Gt=F[J]=new Array($t),ei=0;ei<$t;++ei)(kn=Oe[ei])&&(Rn=l.call(kn,kn.__data__,ei,Oe))&&("__data__"in kn&&(Rn.__data__=kn.__data__),Gt[ei]=Rn,Xe(Gt[ei],b,n,ei,Gt,un(kn,n)));return new ys(F,this._parents,b,n)},selectAll:function ee(l){var b=this._name,n=this._id;"function"!=typeof l&&(l=Ve(l));for(var p=this._groups,D=p.length,F=[],J=[],Oe=0;Oe<D;++Oe)for(var kn,$t=p[Oe],Gt=$t.length,Rn=0;Rn<Gt;++Rn)if(kn=$t[Rn]){for(var bi,ei=l.call(kn,kn.__data__,Rn,$t),Yi=un(kn,n),ls=0,yi=ei.length;ls<yi;++ls)(bi=ei[ls])&&Xe(bi,b,n,ls,ei,Yi);F.push(ei),J.push(kn)}return new ys(F,J,b,n)},selectChild:Ya.selectChild,selectChildren:Ya.selectChildren,filter:function $i(l){"function"!=typeof l&&(l=Je(l));for(var b=this._groups,n=b.length,p=new Array(n),D=0;D<n;++D)for(var $t,F=b[D],J=F.length,Oe=p[D]=[],Gt=0;Gt<J;++Gt)($t=F[Gt])&&l.call($t,$t.__data__,Gt,F)&&Oe.push($t);return new ys(p,this._parents,this._name,this._id)},merge:function io(l){if(l._id!==this._id)throw new Error;for(var b=this._groups,n=l._groups,p=b.length,F=Math.min(p,n.length),J=new Array(p),Oe=0;Oe<F;++Oe)for(var ei,$t=b[Oe],Gt=n[Oe],kn=$t.length,Rn=J[Oe]=new Array(kn),bi=0;bi<kn;++bi)(ei=$t[bi]||Gt[bi])&&(Rn[bi]=ei);for(;Oe<p;++Oe)J[Oe]=b[Oe];return new ys(J,this._parents,this._name,this._id)},selection:function Dt(){return new Le(this._groups,this._parents)},transition:function Oi(){for(var l=this._name,b=this._id,n=pl(),p=this._groups,D=p.length,F=0;F<D;++F)for(var $t,J=p[F],Oe=J.length,Gt=0;Gt<Oe;++Gt)if($t=J[Gt]){var kn=un($t,b);Xe($t,l,n,Gt,J,{time:kn.time+kn.delay+kn.duration,delay:0,duration:kn.duration,ease:kn.ease})}return new ys(p,this._parents,l,n)},call:Ya.call,nodes:Ya.nodes,node:Ya.node,size:Ya.size,empty:Ya.empty,each:Ya.each,on:function vi(l,b){var n=this._id;return arguments.length<2?un(this.node(),n).on.on(l):this.each(Kn(n,l,b))},attr:function Mc(l,b){var n=pn(l),p="transform"===n?Uo:ma;return this.attrTween(l,"function"==typeof b?(n.local?Ec:ga)(n,p,qi(this,"attr."+l,b)):null==b?(n.local?Ys:_c)(n):(n.local?Nl:$s)(n,p,b))},attrTween:function da(l,b){var n="attr."+l;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==b)return this.tween(n,null);if("function"!=typeof b)throw new Error;var p=pn(l);return this.tween(n,(p.local?Kl:yc)(p,b))},style:function hr(l,b,n){var p="transform"==(l+="")?Ia:ma;return null==b?this.styleTween(l,function fn(l,b){var n,p,D;return function(){var F=Tt(this,l),J=(this.style.removeProperty(l),Tt(this,l));return F===J?null:F===n&&J===p?D:D=b(n=F,p=J)}}(l,p)).on("end.style."+l,$n(l)):"function"==typeof b?this.styleTween(l,function xi(l,b,n){var p,D,F;return function(){var J=Tt(this,l),Oe=n(this),$t=Oe+"";return null==Oe&&(this.style.removeProperty(l),$t=Oe=Tt(this,l)),J===$t?null:J===p&&$t===D?F:(D=$t,F=b(p=J,Oe))}}(l,p,qi(this,"style."+l,b))).each(function Hi(l,b){var n,p,D,Oe,F="style."+b,J="end."+F;return function(){var $t=yt(this,l),Gt=$t.on,kn=null==$t.value[F]?Oe||(Oe=$n(b)):void 0;(Gt!==n||D!==kn)&&(p=(n=Gt).copy()).on(J,D=kn),$t.on=p}}(this._id,l)):this.styleTween(l,function Xn(l,b,n){var p,F,D=n+"";return function(){var J=Tt(this,l);return J===D?null:J===p?F:F=b(p=J,n)}}(l,p,b),n).on("end.style."+l,null)},styleTween:function Al(l,b,n){var p="style."+(l+="");if(arguments.length<2)return(p=this.tween(p))&&p._value;if(null==b)return this.tween(p,null);if("function"!=typeof b)throw new Error;return this.tween(p,Is(l,b,n??""))},text:function zo(l){return this.tween("text","function"==typeof l?function rr(l){return function(){var b=l(this);this.textContent=b??""}}(qi(this,"text",l)):function Zs(l){return function(){this.textContent=l}}(null==l?"":l+""))},textTween:function Ts(l){var b="text";if(arguments.length<1)return(b=this.tween(b))&&b._value;if(null==l)return this.tween(b,null);if("function"!=typeof l)throw new Error;return this.tween(b,fl(l))},remove:function w(){return this.on("end.remove",function f(l){return function(){var b=this.parentNode;for(var n in this.__transition)if(+n!==l)return;b&&b.removeChild(this)}}(this._id))},tween:function Ha(l,b){var n=this._id;if(l+="",arguments.length<2){for(var J,p=un(this.node(),n).tween,D=0,F=p.length;D<F;++D)if((J=p[D]).name===l)return J.value;return null}return this.each((null==b?yo:Va)(n,l,b))},delay:function oe(l){var b=this._id;return arguments.length?this.each(("function"==typeof l?Fr:ne)(b,l)):un(this.node(),b).delay},duration:function Dn(l){var b=this._id;return arguments.length?this.each(("function"==typeof l?dt:hn)(b,l)):un(this.node(),b).duration},ease:function vs(l){var b=this._id;return arguments.length?this.each(Gi(b,l)):un(this.node(),b).ease},easeVarying:function wi(l){if("function"!=typeof l)throw new Error;return this.each(function es(l,b){return function(){var n=b.apply(this,arguments);if("function"!=typeof n)throw new Error;yt(this,l).ease=n}}(this._id,l))},end:function Ro(){var l,b,n=this,p=n._id,D=n.size();return new Promise(function(F,J){var Oe={value:J},$t={value:function(){0==--D&&F()}};n.each(function(){var Gt=yt(this,p),kn=Gt.on;kn!==l&&((b=(l=kn).copy())._.cancel.push(Oe),b._.interrupt.push(Oe),b._.end.push($t)),Gt.on=b}),0===D&&F()})},[Symbol.iterator]:Ya[Symbol.iterator]};var sl={time:null,delay:0,duration:250,ease:function Au(l){return((l*=2)<=1?l*l*l:(l-=2)*l*l+2)/2}};function qc(l,b){for(var n;!(n=l.__transition)||!(n=n[b]);)if(!(l=l.parentNode))throw new Error(`transition ${b} not found`);return n}vr.prototype.interrupt=function Ji(l){return this.each(function(){!function si(l,b){var p,D,J,n=l.__transition,F=!0;if(n){for(J in b=null==b?null:b+"",n)(p=n[J]).name===b?(D=p.state>2&&p.state<5,p.state=6,p.timer.stop(),p.on.call(D?"interrupt":"cancel",l,l.__data__,p.index,p.group),delete n[J]):F=!1;F&&delete l.__transition}}(this,l)})},vr.prototype.transition=function ad(l){var b,n;l instanceof ys?(b=l._id,l=l._name):(b=pl(),(n=sl).time=Ao(),l=null==l?null:l+"");for(var p=this._groups,D=p.length,F=0;F<D;++F)for(var $t,J=p[F],Oe=J.length,Gt=0;Gt<Oe;++Gt)($t=J[Gt])&&Xe($t,l,b,Gt,J,n||qc($t,b));return new ys(p,this._parents,l,b)};Math;function dn(l){return{type:l}}function Ua(l,b){return null==l||null==b?NaN:l<b?-1:l>b?1:l>=b?0:NaN}function Za(l,b){return null==l||null==b?NaN:b<l?-1:b>l?1:b>=l?0:NaN}function Xl(l){let b,n,p;function D(Oe,$t,Gt=0,kn=Oe.length){if(Gt<kn){if(0!==b($t,$t))return kn;do{const Rn=Gt+kn>>>1;n(Oe[Rn],$t)<0?Gt=Rn+1:kn=Rn}while(Gt<kn)}return Gt}return 2!==l.length?(b=Ua,n=(Oe,$t)=>Ua(l(Oe),$t),p=(Oe,$t)=>l(Oe)-$t):(b=l===Ua||l===Za?l:El,n=l,p=l),{left:D,center:function J(Oe,$t,Gt=0,kn=Oe.length){const Rn=D(Oe,$t,Gt,kn-1);return Rn>Gt&&p(Oe[Rn-1],$t)>-p(Oe[Rn],$t)?Rn-1:Rn},right:function F(Oe,$t,Gt=0,kn=Oe.length){if(Gt<kn){if(0!==b($t,$t))return kn;do{const Rn=Gt+kn>>>1;n(Oe[Rn],$t)<=0?Gt=Rn+1:kn=Rn}while(Gt<kn)}return Gt}}}function El(){return 0}["w","e"].map(dn),["n","s"].map(dn),["n","w","e","s","nw","ne","sw","se"].map(dn);const kc=Math.sqrt(50),ml=Math.sqrt(10),Vl=Math.sqrt(2);function pu(l,b,n){const p=(b-l)/Math.max(0,n),D=Math.floor(Math.log10(p)),F=p/Math.pow(10,D),J=F>=kc?10:F>=ml?5:F>=Vl?2:1;let Oe,$t,Gt;return D<0?(Gt=Math.pow(10,-D)/J,Oe=Math.round(l*Gt),$t=Math.round(b*Gt),Oe/Gt<l&&++Oe,$t/Gt>b&&--$t,Gt=-Gt):(Gt=Math.pow(10,D)*J,Oe=Math.round(l/Gt),$t=Math.round(b/Gt),Oe*Gt<l&&++Oe,$t*Gt>b&&--$t),$t<Oe&&.5<=n&&n<2?pu(l,b,2*n):[Oe,$t,Gt]}function Zu(l,b,n){return pu(l=+l,b=+b,n=+n)[2]}function dc(l,b,n){n=+n;const p=(b=+b)<(l=+l),D=p?Zu(b,l,n):Zu(l,b,n);return(p?-1:1)*(D<0?1/-D:D)}const Ka=1e3,ll=6e4,No=60*ll,Qc=24*No,_e=7*Qc,He=30*Qc,bt=365*Qc,ln=new Date,zn=new Date;function Zn(l,b,n,p){function D(F){return l(F=0===arguments.length?new Date:new Date(+F)),F}return D.floor=F=>(l(F=new Date(+F)),F),D.ceil=F=>(l(F=new Date(F-1)),b(F,1),l(F),F),D.round=F=>{const J=D(F),Oe=D.ceil(F);return F-J<Oe-F?J:Oe},D.offset=(F,J)=>(b(F=new Date(+F),null==J?1:Math.floor(J)),F),D.range=(F,J,Oe)=>{const $t=[];if(F=D.ceil(F),Oe=null==Oe?1:Math.floor(Oe),!(F<J&&Oe>0))return $t;let Gt;do{$t.push(Gt=new Date(+F)),b(F,Oe),l(F)}while(Gt<F&&F<J);return $t},D.filter=F=>Zn(J=>{if(J>=J)for(;l(J),!F(J);)J.setTime(J-1)},(J,Oe)=>{if(J>=J)if(Oe<0)for(;++Oe<=0;)for(;b(J,-1),!F(J););else for(;--Oe>=0;)for(;b(J,1),!F(J););}),n&&(D.count=(F,J)=>(ln.setTime(+F),zn.setTime(+J),l(ln),l(zn),Math.floor(n(ln,zn))),D.every=F=>(F=Math.floor(F),isFinite(F)&&F>0?F>1?D.filter(p?J=>p(J)%F==0:J=>D.count(0,J)%F==0):D:null)),D}const Ai=Zn(()=>{},(l,b)=>{l.setTime(+l+b)},(l,b)=>b-l);Ai.every=l=>(l=Math.floor(l),isFinite(l)&&l>0?l>1?Zn(b=>{b.setTime(Math.floor(b/l)*l)},(b,n)=>{b.setTime(+b+n*l)},(b,n)=>(n-b)/l):Ai:null);const br=Zn(l=>{l.setTime(l-l.getMilliseconds())},(l,b)=>{l.setTime(+l+b*Ka)},(l,b)=>(b-l)/Ka,l=>l.getUTCSeconds()),Xr=Zn(l=>{l.setTime(l-l.getMilliseconds()-l.getSeconds()*Ka)},(l,b)=>{l.setTime(+l+b*ll)},(l,b)=>(b-l)/ll,l=>l.getMinutes()),Yr=Zn(l=>{l.setUTCSeconds(0,0)},(l,b)=>{l.setTime(+l+b*ll)},(l,b)=>(b-l)/ll,l=>l.getUTCMinutes()),xc=Zn(l=>{l.setTime(l-l.getMilliseconds()-l.getSeconds()*Ka-l.getMinutes()*ll)},(l,b)=>{l.setTime(+l+b*No)},(l,b)=>(b-l)/No,l=>l.getHours()),Uc=Zn(l=>{l.setUTCMinutes(0,0,0)},(l,b)=>{l.setTime(+l+b*No)},(l,b)=>(b-l)/No,l=>l.getUTCHours()),qa=Zn(l=>l.setHours(0,0,0,0),(l,b)=>l.setDate(l.getDate()+b),(l,b)=>(b-l-(b.getTimezoneOffset()-l.getTimezoneOffset())*ll)/Qc,l=>l.getDate()-1),Pf=(Zn(l=>{l.setUTCHours(0,0,0,0)},(l,b)=>{l.setUTCDate(l.getUTCDate()+b)},(l,b)=>(b-l)/Qc,l=>l.getUTCDate()-1),Zn(l=>{l.setUTCHours(0,0,0,0)},(l,b)=>{l.setUTCDate(l.getUTCDate()+b)},(l,b)=>(b-l)/Qc,l=>Math.floor(l/Qc)));function lu(l){return Zn(b=>{b.setDate(b.getDate()-(b.getDay()+7-l)%7),b.setHours(0,0,0,0)},(b,n)=>{b.setDate(b.getDate()+7*n)},(b,n)=>(n-b-(n.getTimezoneOffset()-b.getTimezoneOffset())*ll)/_e)}const Pd=lu(0);function mu(l){return Zn(b=>{b.setUTCDate(b.getUTCDate()-(b.getUTCDay()+7-l)%7),b.setUTCHours(0,0,0,0)},(b,n)=>{b.setUTCDate(b.getUTCDate()+7*n)},(b,n)=>(n-b)/_e)}lu(1),lu(2),lu(3),lu(4),lu(5),lu(6);const ha=mu(0),qu=(mu(1),mu(2),mu(3),mu(4),mu(5),mu(6),Zn(l=>{l.setDate(1),l.setHours(0,0,0,0)},(l,b)=>{l.setMonth(l.getMonth()+b)},(l,b)=>b.getMonth()-l.getMonth()+12*(b.getFullYear()-l.getFullYear()),l=>l.getMonth())),Pc=Zn(l=>{l.setUTCDate(1),l.setUTCHours(0,0,0,0)},(l,b)=>{l.setUTCMonth(l.getUTCMonth()+b)},(l,b)=>b.getUTCMonth()-l.getUTCMonth()+12*(b.getUTCFullYear()-l.getUTCFullYear()),l=>l.getUTCMonth()),Fd=Zn(l=>{l.setMonth(0,1),l.setHours(0,0,0,0)},(l,b)=>{l.setFullYear(l.getFullYear()+b)},(l,b)=>b.getFullYear()-l.getFullYear(),l=>l.getFullYear());Fd.every=l=>isFinite(l=Math.floor(l))&&l>0?Zn(b=>{b.setFullYear(Math.floor(b.getFullYear()/l)*l),b.setMonth(0,1),b.setHours(0,0,0,0)},(b,n)=>{b.setFullYear(b.getFullYear()+n*l)}):null;const gl=Zn(l=>{l.setUTCMonth(0,1),l.setUTCHours(0,0,0,0)},(l,b)=>{l.setUTCFullYear(l.getUTCFullYear()+b)},(l,b)=>b.getUTCFullYear()-l.getUTCFullYear(),l=>l.getUTCFullYear());function Jh(l,b,n,p,D,F){const J=[[br,1,Ka],[br,5,5e3],[br,15,15e3],[br,30,3e4],[F,1,ll],[F,5,5*ll],[F,15,15*ll],[F,30,30*ll],[D,1,No],[D,3,3*No],[D,6,6*No],[D,12,12*No],[p,1,Qc],[p,2,2*Qc],[n,1,_e],[b,1,He],[b,3,3*He],[l,1,bt]];function $t(Gt,kn,Rn){const ei=Math.abs(kn-Gt)/Rn,bi=Xl(([,,yi])=>yi).right(J,ei);if(bi===J.length)return l.every(dc(Gt/bt,kn/bt,Rn));if(0===bi)return Ai.every(Math.max(dc(Gt,kn,Rn),1));const[Yi,ls]=J[ei/J[bi-1][2]<J[bi][2]/ei?bi-1:bi];return Yi.every(ls)}return[function Oe(Gt,kn,Rn){const ei=kn<Gt;ei&&([Gt,kn]=[kn,Gt]);const bi=Rn&&"function"==typeof Rn.range?Rn:$t(Gt,kn,Rn),Yi=bi?bi.range(Gt,+kn+1):[];return ei?Yi.reverse():Yi},$t]}gl.every=l=>isFinite(l=Math.floor(l))&&l>0?Zn(b=>{b.setUTCFullYear(Math.floor(b.getUTCFullYear()/l)*l),b.setUTCMonth(0,1),b.setUTCHours(0,0,0,0)},(b,n)=>{b.setUTCFullYear(b.getUTCFullYear()+n*l)}):null;const[tc,Rf]=Jh(gl,Pc,ha,Pf,Uc,Yr),[gp,gu]=Jh(Fd,qu,Pd,qa,xc,Xr);var kl=new Date,Qu=new Date;function jc(l,b,n,p){function D(F){return l(F=0===arguments.length?new Date:new Date(+F)),F}return D.floor=function(F){return l(F=new Date(+F)),F},D.ceil=function(F){return l(F=new Date(F-1)),b(F,1),l(F),F},D.round=function(F){var J=D(F),Oe=D.ceil(F);return F-J<Oe-F?J:Oe},D.offset=function(F,J){return b(F=new Date(+F),null==J?1:Math.floor(J)),F},D.range=function(F,J,Oe){var Gt,$t=[];if(F=D.ceil(F),Oe=null==Oe?1:Math.floor(Oe),!(F<J&&Oe>0))return $t;do{$t.push(Gt=new Date(+F)),b(F,Oe),l(F)}while(Gt<F&&F<J);return $t},D.filter=function(F){return jc(function(J){if(J>=J)for(;l(J),!F(J);)J.setTime(J-1)},function(J,Oe){if(J>=J)if(Oe<0)for(;++Oe<=0;)for(;b(J,-1),!F(J););else for(;--Oe>=0;)for(;b(J,1),!F(J););})},n&&(D.count=function(F,J){return kl.setTime(+F),Qu.setTime(+J),l(kl),l(Qu),Math.floor(n(kl,Qu))},D.every=function(F){return F=Math.floor(F),isFinite(F)&&F>0?F>1?D.filter(p?function(J){return p(J)%F==0}:function(J){return D.count(0,J)%F==0}):D:null}),D}const hd=864e5,Gc=7*hd;function Dc(l){return jc(function(b){b.setUTCDate(b.getUTCDate()-(b.getUTCDay()+7-l)%7),b.setUTCHours(0,0,0,0)},function(b,n){b.setUTCDate(b.getUTCDate()+7*n)},function(b,n){return(n-b)/Gc})}var tf=Dc(0),Xc=Dc(1),_u=(Dc(2),Dc(3),Dc(4));const gd=(Dc(5),Dc(6),jc(function(l){l.setUTCHours(0,0,0,0)},function(l,b){l.setUTCDate(l.getUTCDate()+b)},function(l,b){return(b-l)/hd},function(l){return l.getUTCDate()-1}));function vu(l){return jc(function(b){b.setDate(b.getDate()-(b.getDay()+7-l)%7),b.setHours(0,0,0,0)},function(b,n){b.setDate(b.getDate()+7*n)},function(b,n){return(n-b-6e4*(n.getTimezoneOffset()-b.getTimezoneOffset()))/Gc})}var Nf=vu(0),Ah=vu(1),Pu=(vu(2),vu(3),vu(4));const Jc=(vu(5),vu(6),jc(l=>l.setHours(0,0,0,0),(l,b)=>l.setDate(l.getDate()+b),(l,b)=>(b-l-6e4*(b.getTimezoneOffset()-l.getTimezoneOffset()))/hd,l=>l.getDate()-1));var _d=jc(function(l){l.setMonth(0,1),l.setHours(0,0,0,0)},function(l,b){l.setFullYear(l.getFullYear()+b)},function(l,b){return b.getFullYear()-l.getFullYear()},function(l){return l.getFullYear()});_d.every=function(l){return isFinite(l=Math.floor(l))&&l>0?jc(function(b){b.setFullYear(Math.floor(b.getFullYear()/l)*l),b.setMonth(0,1),b.setHours(0,0,0,0)},function(b,n){b.setFullYear(b.getFullYear()+n*l)}):null};const hc=_d;var as=jc(function(l){l.setUTCMonth(0,1),l.setUTCHours(0,0,0,0)},function(l,b){l.setUTCFullYear(l.getUTCFullYear()+b)},function(l,b){return b.getUTCFullYear()-l.getUTCFullYear()},function(l){return l.getUTCFullYear()});as.every=function(l){return isFinite(l=Math.floor(l))&&l>0?jc(function(b){b.setUTCFullYear(Math.floor(b.getUTCFullYear()/l)*l),b.setUTCMonth(0,1),b.setUTCHours(0,0,0,0)},function(b,n){b.setUTCFullYear(b.getUTCFullYear()+n*l)}):null};const uh=as;function bu(l){if(0<=l.y&&l.y<100){var b=new Date(-1,l.m,l.d,l.H,l.M,l.S,l.L);return b.setFullYear(l.y),b}return new Date(l.y,l.m,l.d,l.H,l.M,l.S,l.L)}function ed(l){if(0<=l.y&&l.y<100){var b=new Date(Date.UTC(-1,l.m,l.d,l.H,l.M,l.S,l.L));return b.setUTCFullYear(l.y),b}return new Date(Date.UTC(l.y,l.m,l.d,l.H,l.M,l.S,l.L))}function Ou(l,b,n){return{y:l,m:b,d:n,H:0,M:0,S:0,L:0}}var eu={"-":"",_:" ",0:"0"},_l=/^\s*\d+/,Ih=/^%/,rf=/[\\^$*+?|[\]().{}]/g;function ho(l,b,n){var p=l<0?"-":"",D=(p?-l:l)+"",F=D.length;return p+(F<n?new Array(n-F+1).join(b)+D:D)}function zd(l){return l.replace(rf,"\\$&")}function nc(l){return new RegExp("^(?:"+l.map(zd).join("|")+")","i")}function td(l){return new Map(l.map((b,n)=>[b.toLowerCase(),n]))}function Vf(l,b,n){var p=_l.exec(b.slice(n,n+1));return p?(l.w=+p[0],n+p[0].length):-1}function yd(l,b,n){var p=_l.exec(b.slice(n,n+1));return p?(l.u=+p[0],n+p[0].length):-1}function xu(l,b,n){var p=_l.exec(b.slice(n,n+2));return p?(l.U=+p[0],n+p[0].length):-1}function bd(l,b,n){var p=_l.exec(b.slice(n,n+2));return p?(l.V=+p[0],n+p[0].length):-1}function Pa(l,b,n){var p=_l.exec(b.slice(n,n+2));return p?(l.W=+p[0],n+p[0].length):-1}function jd(l,b,n){var p=_l.exec(b.slice(n,n+4));return p?(l.y=+p[0],n+p[0].length):-1}function nd(l,b,n){var p=_l.exec(b.slice(n,n+2));return p?(l.y=+p[0]+(+p[0]>68?1900:2e3),n+p[0].length):-1}function xd(l,b,n){var p=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(b.slice(n,n+6));return p?(l.Z=p[1]?0:-(p[2]+(p[3]||"00")),n+p[0].length):-1}function wu(l,b,n){var p=_l.exec(b.slice(n,n+1));return p?(l.q=3*p[0]-3,n+p[0].length):-1}function vp(l,b,n){var p=_l.exec(b.slice(n,n+2));return p?(l.m=p[0]-1,n+p[0].length):-1}function Ph(l,b,n){var p=_l.exec(b.slice(n,n+2));return p?(l.d=+p[0],n+p[0].length):-1}function Gd(l,b,n){var p=_l.exec(b.slice(n,n+3));return p?(l.m=0,l.d=+p[0],n+p[0].length):-1}function z(l,b,n){var p=_l.exec(b.slice(n,n+2));return p?(l.H=+p[0],n+p[0].length):-1}function E(l,b,n){var p=_l.exec(b.slice(n,n+2));return p?(l.M=+p[0],n+p[0].length):-1}function k(l,b,n){var p=_l.exec(b.slice(n,n+2));return p?(l.S=+p[0],n+p[0].length):-1}function Z(l,b,n){var p=_l.exec(b.slice(n,n+3));return p?(l.L=+p[0],n+p[0].length):-1}function Qe(l,b,n){var p=_l.exec(b.slice(n,n+6));return p?(l.L=Math.floor(p[0]/1e3),n+p[0].length):-1}function kt(l,b,n){var p=Ih.exec(b.slice(n,n+1));return p?n+p[0].length:-1}function Bn(l,b,n){var p=_l.exec(b.slice(n));return p?(l.Q=+p[0],n+p[0].length):-1}function fi(l,b,n){var p=_l.exec(b.slice(n));return p?(l.s=+p[0],n+p[0].length):-1}function Ki(l,b){return ho(l.getDate(),b,2)}function pr(l,b){return ho(l.getHours(),b,2)}function zr(l,b){return ho(l.getHours()%12||12,b,2)}function Or(l,b){return ho(1+Jc.count(hc(l),l),b,3)}function vl(l,b){return ho(l.getMilliseconds(),b,3)}function Ul(l,b){return vl(l,b)+"000"}function fc(l,b){return ho(l.getMonth()+1,b,2)}function $d(l,b){return ho(l.getMinutes(),b,2)}function id(l,b){return ho(l.getSeconds(),b,2)}function Wd(l){var b=l.getDay();return 0===b?7:b}function Oh(l,b){return ho(Nf.count(hc(l)-1,l),b,2)}function Lh(l){var b=l.getDay();return b>=4||0===b?Pu(l):Pu.ceil(l)}function Ko(l,b){return l=Lh(l),ho(Pu.count(hc(l),l)+(4===hc(l).getDay()),b,2)}function Pl(l){return l.getDay()}function Yd(l,b){return ho(Ah.count(hc(l)-1,l),b,2)}function Lc(l,b){return ho(l.getFullYear()%100,b,2)}function Ja(l,b){return ho((l=Lh(l)).getFullYear()%100,b,2)}function Rh(l,b){return ho(l.getFullYear()%1e4,b,4)}function wd(l,b){var n=l.getDay();return ho((l=n>=4||0===n?Pu(l):Pu.ceil(l)).getFullYear()%1e4,b,4)}function Lu(l){var b=l.getTimezoneOffset();return(b>0?"-":(b*=-1,"+"))+ho(b/60|0,"0",2)+ho(b%60,"0",2)}function Zd(l,b){return ho(l.getUTCDate(),b,2)}function qp(l,b){return ho(l.getUTCHours(),b,2)}function yp(l,b){return ho(l.getUTCHours()%12||12,b,2)}function sf(l,b){return ho(1+gd.count(uh(l),l),b,3)}function bp(l,b){return ho(l.getUTCMilliseconds(),b,3)}function Hf(l,b){return bp(l,b)+"000"}function Fh(l,b){return ho(l.getUTCMonth()+1,b,2)}function Uf(l,b){return ho(l.getUTCMinutes(),b,2)}function zf(l,b){return ho(l.getUTCSeconds(),b,2)}function Qg(l){var b=l.getUTCDay();return 0===b?7:b}function Xg(l,b){return ho(tf.count(uh(l)-1,l),b,2)}function af(l){var b=l.getUTCDay();return b>=4||0===b?_u(l):_u.ceil(l)}function xp(l,b){return l=af(l),ho(_u.count(uh(l),l)+(4===uh(l).getUTCDay()),b,2)}function Gm(l){return l.getUTCDay()}function B(l,b){return ho(Xc.count(uh(l)-1,l),b,2)}function g(l,b){return ho(l.getUTCFullYear()%100,b,2)}function _(l,b){return ho((l=af(l)).getUTCFullYear()%100,b,2)}function M(l,b){return ho(l.getUTCFullYear()%1e4,b,4)}function W(l,b){var n=l.getUTCDay();return ho((l=n>=4||0===n?_u(l):_u.ceil(l)).getUTCFullYear()%1e4,b,4)}function we(){return"+0000"}function ht(){return"%"}function gt(l){return+l}function nn(l){return Math.floor(+l/1e3)}function Mr(l){return null===l?NaN:+l}!function mr(l){(function kh(l){var b=l.dateTime,n=l.date,p=l.time,D=l.periods,F=l.days,J=l.shortDays,Oe=l.months,$t=l.shortMonths,Gt=nc(D),kn=td(D),Rn=nc(F),ei=td(F),bi=nc(J),Yi=td(J),ls=nc(Oe),yi=td(Oe),kr=nc($t),is=td($t),Tr={a:function Yl(Er){return J[Er.getDay()]},A:function $u(Er){return F[Er.getDay()]},b:function Js(Er){return $t[Er.getMonth()]},B:function sc(Er){return Oe[Er.getMonth()]},c:null,d:Ki,e:Ki,f:Ul,g:Ja,G:wd,H:pr,I:zr,j:Or,L:vl,m:fc,M:$d,p:function gc(Er){return D[+(Er.getHours()>=12)]},q:function oc(Er){return 1+~~(Er.getMonth()/3)},Q:gt,s:nn,S:id,u:Wd,U:Oh,V:Ko,w:Pl,W:Yd,x:null,X:null,y:Lc,Y:Rh,Z:Lu,"%":ht},As={a:function ih(Er){return J[Er.getUTCDay()]},A:function hp(Er){return F[Er.getUTCDay()]},b:function kf(Er){return $t[Er.getUTCMonth()]},B:function Um(Er){return Oe[Er.getUTCMonth()]},c:null,d:Zd,e:Zd,f:Hf,g:_,G:W,H:qp,I:yp,j:sf,L:bp,m:Fh,M:Uf,p:function fu(Er){return D[+(Er.getUTCHours()>=12)]},q:function $p(Er){return 1+~~(Er.getUTCMonth()/3)},Q:gt,s:nn,S:zf,u:Qg,U:Xg,V:xp,w:Gm,W:B,x:null,X:null,y:g,Y:M,Z:we,"%":ht},Ss={a:function La(Er,ao,po){var Zi=bi.exec(ao.slice(po));return Zi?(Er.w=Yi.get(Zi[0].toLowerCase()),po+Zi[0].length):-1},A:function rs(Er,ao,po){var Zi=Rn.exec(ao.slice(po));return Zi?(Er.w=ei.get(Zi[0].toLowerCase()),po+Zi[0].length):-1},b:function ru(Er,ao,po){var Zi=kr.exec(ao.slice(po));return Zi?(Er.m=is.get(Zi[0].toLowerCase()),po+Zi[0].length):-1},B:function oa(Er,ao,po){var Zi=ls.exec(ao.slice(po));return Zi?(Er.m=yi.get(Zi[0].toLowerCase()),po+Zi[0].length):-1},c:function ba(Er,ao,po){return wl(Er,b,ao,po)},d:Ph,e:Ph,f:Qe,g:nd,G:jd,H:z,I:z,j:Gd,L:Z,m:vp,M:E,p:function Kc(Er,ao,po){var Zi=Gt.exec(ao.slice(po));return Zi?(Er.p=kn.get(Zi[0].toLowerCase()),po+Zi[0].length):-1},q:wu,Q:Bn,s:fi,S:k,u:yd,U:xu,V:bd,w:Vf,W:Pa,x:function kd(Er,ao,po){return wl(Er,n,ao,po)},X:function Wl(Er,ao,po){return wl(Er,p,ao,po)},y:nd,Y:jd,Z:xd,"%":kt};function Gr(Er,ao){return function(po){var Yu,bs,Zl,Zi=[],Cl=-1,xa=0,Wu=Er.length;for(po instanceof Date||(po=new Date(+po));++Cl<Wu;)37===Er.charCodeAt(Cl)&&(Zi.push(Er.slice(xa,Cl)),null!=(bs=eu[Yu=Er.charAt(++Cl)])?Yu=Er.charAt(++Cl):bs="e"===Yu?" ":"0",(Zl=ao[Yu])&&(Yu=Zl(po,bs)),Zi.push(Yu),xa=Cl+1);return Zi.push(Er.slice(xa,Cl)),Zi.join("")}}function oo(Er,ao){return function(po){var xa,Wu,Zi=Ou(1900,void 0,1);if(wl(Zi,Er,po+="",0)!=po.length)return null;if("Q"in Zi)return new Date(Zi.Q);if("s"in Zi)return new Date(1e3*Zi.s+("L"in Zi?Zi.L:0));if(ao&&!("Z"in Zi)&&(Zi.Z=0),"p"in Zi&&(Zi.H=Zi.H%12+12*Zi.p),void 0===Zi.m&&(Zi.m="q"in Zi?Zi.q:0),"V"in Zi){if(Zi.V<1||Zi.V>53)return null;"w"in Zi||(Zi.w=1),"Z"in Zi?(Wu=(xa=ed(Ou(Zi.y,0,1))).getUTCDay(),xa=Wu>4||0===Wu?Xc.ceil(xa):Xc(xa),xa=gd.offset(xa,7*(Zi.V-1)),Zi.y=xa.getUTCFullYear(),Zi.m=xa.getUTCMonth(),Zi.d=xa.getUTCDate()+(Zi.w+6)%7):(Wu=(xa=bu(Ou(Zi.y,0,1))).getDay(),xa=Wu>4||0===Wu?Ah.ceil(xa):Ah(xa),xa=Jc.offset(xa,7*(Zi.V-1)),Zi.y=xa.getFullYear(),Zi.m=xa.getMonth(),Zi.d=xa.getDate()+(Zi.w+6)%7)}else("W"in Zi||"U"in Zi)&&("w"in Zi||(Zi.w="u"in Zi?Zi.u%7:"W"in Zi?1:0),Wu="Z"in Zi?ed(Ou(Zi.y,0,1)).getUTCDay():bu(Ou(Zi.y,0,1)).getDay(),Zi.m=0,Zi.d="W"in Zi?(Zi.w+6)%7+7*Zi.W-(Wu+5)%7:Zi.w+7*Zi.U-(Wu+6)%7);return"Z"in Zi?(Zi.H+=Zi.Z/100|0,Zi.M+=Zi.Z%100,ed(Zi)):bu(Zi)}}function wl(Er,ao,po,Zi){for(var Yu,bs,Cl=0,xa=ao.length,Wu=po.length;Cl<xa;){if(Zi>=Wu)return-1;if(37===(Yu=ao.charCodeAt(Cl++))){if(Yu=ao.charAt(Cl++),!(bs=Ss[Yu in eu?ao.charAt(Cl++):Yu])||(Zi=bs(Er,po,Zi))<0)return-1}else if(Yu!=po.charCodeAt(Zi++))return-1}return Zi}return Tr.x=Gr(n,Tr),Tr.X=Gr(p,Tr),Tr.c=Gr(b,Tr),As.x=Gr(n,As),As.X=Gr(p,As),As.c=Gr(b,As),{format:function(Er){var ao=Gr(Er+="",Tr);return ao.toString=function(){return Er},ao},parse:function(Er){var ao=oo(Er+="",!1);return ao.toString=function(){return Er},ao},utcFormat:function(Er){var ao=Gr(Er+="",As);return ao.toString=function(){return Er},ao},utcParse:function(Er){var ao=oo(Er+="",!0);return ao.toString=function(){return Er},ao}}})(l)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const va=Xl(Ua).right,Ru=(Xl(Mr),va);function Ac(l,b){return l=+l,b=+b,function(n){return Math.round(l*(1-n)+b*n)}}function Cu(l){return+l}var Fu=[0,1];function Rc(l){return l}function hh(l,b){return(b-=l=+l)?function(n){return(n-l)/b}:function zl(l){return function(){return l}}(isNaN(b)?NaN:.5)}function Nu(l,b,n){var p=l[0],D=l[1],F=b[0],J=b[1];return D<p?(p=hh(D,p),F=n(J,F)):(p=hh(p,D),F=n(F,J)),function(Oe){return F(p(Oe))}}function rd(l,b,n){var p=Math.min(l.length,b.length)-1,D=new Array(p),F=new Array(p),J=-1;for(l[p]<l[0]&&(l=l.slice().reverse(),b=b.slice().reverse());++J<p;)D[J]=hh(l[J],l[J+1]),F[J]=n(b[J],b[J+1]);return function(Oe){var $t=Ru(l,Oe,1,p)-1;return F[$t](D[$t](Oe))}}function ph(l,b){return b.domain(l.domain()).range(l.range()).interpolate(l.interpolate()).clamp(l.clamp()).unknown(l.unknown())}function Ar(){return function Dr(){var p,D,F,Oe,$t,Gt,l=Fu,b=Fu,n=Cr,J=Rc;function kn(){var ei=Math.min(l.length,b.length);return J!==Rc&&(J=function fh(l,b){var n;return l>b&&(n=l,l=b,b=n),function(p){return Math.max(l,Math.min(b,p))}}(l[0],l[ei-1])),Oe=ei>2?rd:Nu,$t=Gt=null,Rn}function Rn(ei){return null==ei||isNaN(ei=+ei)?F:($t||($t=Oe(l.map(p),b,n)))(p(J(ei)))}return Rn.invert=function(ei){return J(D((Gt||(Gt=Oe(b,l.map(p),Do)))(ei)))},Rn.domain=function(ei){return arguments.length?(l=Array.from(ei,Cu),kn()):l.slice()},Rn.range=function(ei){return arguments.length?(b=Array.from(ei),kn()):b.slice()},Rn.rangeRound=function(ei){return b=Array.from(ei),n=Ac,kn()},Rn.clamp=function(ei){return arguments.length?(J=!!ei||Rc,kn()):J!==Rc},Rn.interpolate=function(ei){return arguments.length?(n=ei,kn()):n},Rn.unknown=function(ei){return arguments.length?(F=ei,Rn):F},function(ei,bi){return p=ei,D=bi,kn()}}()(Rc,Rc)}function jr(l,b){switch(arguments.length){case 0:break;case 1:this.range(l);break;default:this.range(b).domain(l)}return this}var Gf,jf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Nh(l){if(!(b=jf.exec(l)))throw new Error("invalid format: "+l);var b;return new jl({fill:b[1],align:b[2],sign:b[3],symbol:b[4],zero:b[5],width:b[6],comma:b[7],precision:b[8]&&b[8].slice(1),trim:b[9],type:b[10]})}function jl(l){this.fill=void 0===l.fill?" ":l.fill+"",this.align=void 0===l.align?">":l.align+"",this.sign=void 0===l.sign?"-":l.sign+"",this.symbol=void 0===l.symbol?"":l.symbol+"",this.zero=!!l.zero,this.width=void 0===l.width?void 0:+l.width,this.comma=!!l.comma,this.precision=void 0===l.precision?void 0:+l.precision,this.trim=!!l.trim,this.type=void 0===l.type?"":l.type+""}function Gl(l,b){if((n=(l=b?l.toExponential(b-1):l.toExponential()).indexOf("e"))<0)return null;var n,p=l.slice(0,n);return[p.length>1?p[0]+p.slice(2):p,+l.slice(n+1)]}function Nc(l){return(l=Gl(Math.abs(l)))?l[1]:NaN}function $m(l,b){var n=Gl(l,b);if(!n)return l+"";var p=n[0],D=n[1];return D<0?"0."+new Array(-D).join("0")+p:p.length>D+1?p.slice(0,D+1)+"."+p.slice(D+1):p+new Array(D-p.length+2).join("0")}Nh.prototype=jl.prototype,jl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Wm={"%":(l,b)=>(100*l).toFixed(b),b:l=>Math.round(l).toString(2),c:l=>l+"",d:function tu(l){return Math.abs(l=Math.round(l))>=1e21?l.toLocaleString("en").replace(/,/g,""):l.toString(10)},e:(l,b)=>l.toExponential(b),f:(l,b)=>l.toFixed(b),g:(l,b)=>l.toPrecision(b),o:l=>Math.round(l).toString(8),p:(l,b)=>$m(100*l,b),r:$m,s:function Xp(l,b){var n=Gl(l,b);if(!n)return l+"";var p=n[0],D=n[1],F=D-(Gf=3*Math.max(-8,Math.min(8,Math.floor(D/3))))+1,J=p.length;return F===J?p:F>J?p+new Array(F-J+1).join("0"):F>0?p.slice(0,F)+"."+p.slice(F):"0."+new Array(1-F).join("0")+Gl(l,Math.max(0,b+F-1))[0]},X:l=>Math.round(l).toString(16).toUpperCase(),x:l=>Math.round(l).toString(16)};function Bh(l){return l}var wp,Ol,Vh,Jp=Array.prototype.map,$f=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Wf(l){var b=l.domain;return l.ticks=function(n){var p=b();return function Jl(l,b,n){if(!((n=+n)>0))return[];if((l=+l)==(b=+b))return[l];const p=b<l,[D,F,J]=p?pu(b,l,n):pu(l,b,n);if(!(F>=D))return[];const Oe=F-D+1,$t=new Array(Oe);if(p)if(J<0)for(let Gt=0;Gt<Oe;++Gt)$t[Gt]=(F-Gt)/-J;else for(let Gt=0;Gt<Oe;++Gt)$t[Gt]=(F-Gt)*J;else if(J<0)for(let Gt=0;Gt<Oe;++Gt)$t[Gt]=(D+Gt)/-J;else for(let Gt=0;Gt<Oe;++Gt)$t[Gt]=(D+Gt)*J;return $t}(p[0],p[p.length-1],n??10)},l.tickFormat=function(n,p){var D=b();return function Hh(l,b,n,p){var F,D=dc(l,b,n);switch((p=Nh(p??",f")).type){case"s":var J=Math.max(Math.abs(l),Math.abs(b));return null==p.precision&&!isNaN(F=function lf(l,b){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Nc(b)/3)))-Nc(Math.abs(l)))}(D,J))&&(p.precision=F),Vh(p,J);case"":case"e":case"g":case"p":case"r":null==p.precision&&!isNaN(F=function Ym(l,b){return l=Math.abs(l),b=Math.abs(b)-l,Math.max(0,Nc(b)-Nc(l))+1}(D,Math.max(Math.abs(l),Math.abs(b))))&&(p.precision=F-("e"===p.type));break;case"f":case"%":null==p.precision&&!isNaN(F=function cf(l){return Math.max(0,-Nc(Math.abs(l)))}(D))&&(p.precision=F-2*("%"===p.type))}return Ol(p)}(D[0],D[D.length-1],n??10,p)},l.nice=function(n){null==n&&(n=10);var $t,Gt,p=b(),D=0,F=p.length-1,J=p[D],Oe=p[F],kn=10;for(Oe<J&&(Gt=J,J=Oe,Oe=Gt,Gt=D,D=F,F=Gt);kn-- >0;){if((Gt=Zu(J,Oe,n))===$t)return p[D]=J,p[F]=Oe,b(p);if(Gt>0)J=Math.floor(J/Gt)*Gt,Oe=Math.ceil(Oe/Gt)*Gt;else{if(!(Gt<0))break;J=Math.ceil(J*Gt)/Gt,Oe=Math.floor(Oe*Gt)/Gt}$t=Gt}return l},l}function uf(){var l=Ar();return l.copy=function(){return ph(l,uf())},jr.apply(l,arguments),Wf(l)}function mh(l,b,n){l=+l,b=+b,n=(D=arguments.length)<2?(b=l,l=0,1):D<3?1:+n;for(var p=-1,D=0|Math.max(0,Math.ceil((b-l)/n)),F=new Array(D);++p<D;)F[p]=l+p*n;return F}!function em(l){wp=function Cd(l){var b=void 0===l.grouping||void 0===l.thousands?Bh:function Jg(l,b){return function(n,p){for(var D=n.length,F=[],J=0,Oe=l[0],$t=0;D>0&&Oe>0&&($t+Oe+1>p&&(Oe=Math.max(1,p-$t)),F.push(n.substring(D-=Oe,D+Oe)),!(($t+=Oe+1)>p));)Oe=l[J=(J+1)%l.length];return F.reverse().join(b)}}(Jp.call(l.grouping,Number),l.thousands+""),n=void 0===l.currency?"":l.currency[0]+"",p=void 0===l.currency?"":l.currency[1]+"",D=void 0===l.decimal?".":l.decimal+"",F=void 0===l.numerals?Bh:function Qp(l){return function(b){return b.replace(/[0-9]/g,function(n){return l[+n]})}}(Jp.call(l.numerals,String)),J=void 0===l.percent?"%":l.percent+"",Oe=void 0===l.minus?"\u2212":l.minus+"",$t=void 0===l.nan?"NaN":l.nan+"";function Gt(Rn){var ei=(Rn=Nh(Rn)).fill,bi=Rn.align,Yi=Rn.sign,ls=Rn.symbol,yi=Rn.zero,kr=Rn.width,is=Rn.comma,Tr=Rn.precision,As=Rn.trim,Ss=Rn.type;"n"===Ss?(is=!0,Ss="g"):Wm[Ss]||(void 0===Tr&&(Tr=12),As=!0,Ss="g"),(yi||"0"===ei&&"="===bi)&&(yi=!0,ei="0",bi="=");var Gr="$"===ls?n:"#"===ls&&/[boxX]/.test(Ss)?"0"+Ss.toLowerCase():"",oo="$"===ls?p:/[%p]/.test(Ss)?J:"",wl=Wm[Ss],Kc=/[defgprs%]/.test(Ss);function La(rs){var ba,kd,Wl,ru=Gr,oa=oo;if("c"===Ss)oa=wl(rs)+oa,rs="";else{var Yl=(rs=+rs)<0||1/rs<0;if(rs=isNaN(rs)?$t:wl(Math.abs(rs),Tr),As&&(rs=function cv(l){e:for(var D,b=l.length,n=1,p=-1;n<b;++n)switch(l[n]){case".":p=D=n;break;case"0":0===p&&(p=n),D=n;break;default:if(!+l[n])break e;p>0&&(p=0)}return p>0?l.slice(0,p)+l.slice(D+1):l}(rs)),Yl&&0==+rs&&"+"!==Yi&&(Yl=!1),ru=(Yl?"("===Yi?Yi:Oe:"-"===Yi||"("===Yi?"":Yi)+ru,oa=("s"===Ss?$f[8+Gf/3]:"")+oa+(Yl&&"("===Yi?")":""),Kc)for(ba=-1,kd=rs.length;++ba<kd;)if(48>(Wl=rs.charCodeAt(ba))||Wl>57){oa=(46===Wl?D+rs.slice(ba+1):rs.slice(ba))+oa,rs=rs.slice(0,ba);break}}is&&!yi&&(rs=b(rs,1/0));var $u=ru.length+rs.length+oa.length,Js=$u<kr?new Array(kr-$u+1).join(ei):"";switch(is&&yi&&(rs=b(Js+rs,Js.length?kr-oa.length:1/0),Js=""),bi){case"<":rs=ru+rs+oa+Js;break;case"=":rs=ru+Js+rs+oa;break;case"^":rs=Js.slice(0,$u=Js.length>>1)+ru+rs+oa+Js.slice($u);break;default:rs=Js+ru+rs+oa}return F(rs)}return Tr=void 0===Tr?6:/[gprs]/.test(Ss)?Math.max(1,Math.min(21,Tr)):Math.max(0,Math.min(20,Tr)),La.toString=function(){return Rn+""},La}return{format:Gt,formatPrefix:function kn(Rn,ei){var bi=Gt(((Rn=Nh(Rn)).type="f",Rn)),Yi=3*Math.max(-8,Math.min(8,Math.floor(Nc(ei)/3))),ls=Math.pow(10,-Yi),yi=$f[8+Yi/3];return function(kr){return bi(ls*kr)+yi}}}}(l),Ol=wp.format,Vh=wp.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});class Zm extends Map{constructor(b,n=Kf){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=b)for(const[p,D]of b)this.set(p,D)}get(b){return super.get(Yf(this,b))}has(b){return super.has(Yf(this,b))}set(b,n){return super.set(function gh({_intern:l,_key:b},n){const p=b(n);return l.has(p)?l.get(p):(l.set(p,n),n)}(this,b),n)}delete(b){return super.delete(function Zf({_intern:l,_key:b},n){const p=b(n);return l.has(p)&&(n=l.get(p),l.delete(p)),n}(this,b))}}function Yf({_intern:l,_key:b},n){const p=b(n);return l.has(p)?l.get(p):n}function Kf(l){return null!==l&&"object"==typeof l?l.valueOf():l}Set;const Cp=Symbol("implicit");function Km(){var l=new Zm,b=[],n=[],p=Cp;function D(F){let J=l.get(F);if(void 0===J){if(p!==Cp)return p;l.set(F,J=b.push(F)-1)}return n[J%n.length]}return D.domain=function(F){if(!arguments.length)return b.slice();b=[],l=new Zm;for(const J of F)l.has(J)||l.set(J,b.push(J)-1);return D},D.range=function(F){return arguments.length?(n=Array.from(F),D):n.slice()},D.unknown=function(F){return arguments.length?(p=F,D):p},D.copy=function(){return Km(b,n).unknown(p)},jr.apply(D,arguments),D}function Kd(){var F,J,l=Km().unknown(void 0),b=l.domain,n=l.range,p=0,D=1,Oe=!1,$t=0,Gt=0,kn=.5;function Rn(){var ei=b().length,bi=D<p,Yi=bi?D:p,ls=bi?p:D;F=(ls-Yi)/Math.max(1,ei-$t+2*Gt),Oe&&(F=Math.floor(F)),Yi+=(ls-Yi-F*(ei-$t))*kn,J=F*(1-$t),Oe&&(Yi=Math.round(Yi),J=Math.round(J));var yi=mh(ei).map(function(kr){return Yi+F*kr});return n(bi?yi.reverse():yi)}return delete l.unknown,l.domain=function(ei){return arguments.length?(b(ei),Rn()):b()},l.range=function(ei){return arguments.length?([p,D]=ei,p=+p,D=+D,Rn()):[p,D]},l.rangeRound=function(ei){return[p,D]=ei,p=+p,D=+D,Oe=!0,Rn()},l.bandwidth=function(){return J},l.step=function(){return F},l.round=function(ei){return arguments.length?(Oe=!!ei,Rn()):Oe},l.padding=function(ei){return arguments.length?($t=Math.min(1,Gt=+ei),Rn()):$t},l.paddingInner=function(ei){return arguments.length?($t=Math.min(1,ei),Rn()):$t},l.paddingOuter=function(ei){return arguments.length?(Gt=+ei,Rn()):Gt},l.align=function(ei){return arguments.length?(kn=Math.max(0,Math.min(1,ei)),Rn()):kn},l.copy=function(){return Kd(b(),[p,D]).round(Oe).paddingInner($t).paddingOuter(Gt).align(kn)},jr.apply(Rn(),arguments)}function e_(l,b,n=Mr){if((p=l.length)&&!isNaN(b=+b)){if(b<=0||p<2)return+n(l[0],0,l);if(b>=1)return+n(l[p-1],p-1,l);var p,D=(p-1)*b,F=Math.floor(D),J=+n(l[F],F,l);return J+(+n(l[F+1],F+1,l)-J)*(D-F)}}function Bu(){var p,l=[],b=[],n=[];function D(){var J=0,Oe=Math.max(1,b.length);for(n=new Array(Oe-1);++J<Oe;)n[J-1]=e_(l,J/Oe);return F}function F(J){return null==J||isNaN(J=+J)?p:b[Ru(n,J)]}return F.invertExtent=function(J){var Oe=b.indexOf(J);return Oe<0?[NaN,NaN]:[Oe>0?n[Oe-1]:l[0],Oe<n.length?n[Oe]:l[l.length-1]]},F.domain=function(J){if(!arguments.length)return l.slice();l=[];for(let Oe of J)null!=Oe&&!isNaN(Oe=+Oe)&&l.push(Oe);return l.sort(Ua),D()},F.range=function(J){return arguments.length?(b=Array.from(J),D()):b.slice()},F.unknown=function(J){return arguments.length?(p=J,F):p},F.quantiles=function(){return n.slice()},F.copy=function(){return Bu().domain(l).range(b).unknown(p)},jr.apply(F,arguments)}var hf=N(5126);const ff=["caretElm"];function t_(l,b){}const uv=function(l){return{model:l}};function n_(l,b){if(1&l&&(a.TgZ(0,"span"),a.YNc(1,t_,0,0,"ng-template",5),a.qZA()),2&l){const n=a.oxw();a.xp6(1),a.Q6J("ngTemplateOutlet",n.template)("ngTemplateOutletContext",a.VKq(2,uv,n.context))}}function dv(l,b){if(1&l&&a._UZ(0,"span",6),2&l){const n=a.oxw();a.Q6J("innerHTML",n.title,a.oJD)}}function i_(l,b){if(1&l&&(a.TgZ(0,"header",4)(1,"span",5),a._uU(2),a.qZA()()),2&l){const n=a.oxw();a.xp6(2),a.Oqu(n.title)}}function oy(l,b){if(1&l){const n=a.EpF();a.TgZ(0,"li",6)(1,"ngx-charts-legend-entry",7),a.NdJ("select",function(D){a.CHM(n);const F=a.oxw();return a.KtG(F.labelClick.emit(D))})("activate",function(D){a.CHM(n);const F=a.oxw();return a.KtG(F.activate(D))})("deactivate",function(D){a.CHM(n);const F=a.oxw();return a.KtG(F.deactivate(D))}),a.qZA()()}if(2&l){const n=b.$implicit,p=a.oxw();a.xp6(1),a.Q6J("label",n.label)("formattedLabel",n.formattedLabel)("color",n.color)("isActive",p.isActive(n))}}function tm(l,b){if(1&l&&(a.O4$(),a.kcU(),a._UZ(0,"ngx-charts-scale-legend",4)),2&l){const n=a.oxw();a.Q6J("horizontal",n.legendOptions&&n.legendOptions.position===n.LegendPosition.Below)("valueRange",n.legendOptions.domain)("colors",n.legendOptions.colors)("height",n.view[1])("width",n.legendWidth)}}function Bc(l,b){if(1&l){const n=a.EpF();a.O4$(),a.kcU(),a.TgZ(0,"ngx-charts-legend",5),a.NdJ("labelClick",function(D){a.CHM(n);const F=a.oxw();return a.KtG(F.legendLabelClick.emit(D))})("labelActivate",function(D){a.CHM(n);const F=a.oxw();return a.KtG(F.legendLabelActivate.emit(D))})("labelDeactivate",function(D){a.CHM(n);const F=a.oxw();return a.KtG(F.legendLabelDeactivate.emit(D))}),a.qZA()}if(2&l){const n=a.oxw();a.Q6J("horizontal",n.legendOptions&&n.legendOptions.position===n.LegendPosition.Below)("data",n.legendOptions.domain)("title",n.legendOptions.title)("colors",n.legendOptions.colors)("height",n.view[1])("width",n.legendWidth)("activeEntries",n.activeEntries)}}const Qm=["*"],hv=["ngx-charts-axis-label",""],r_=["ticksel"],Td=["ngx-charts-x-axis-ticks",""];function s_(l,b){1&l&&(a.O4$(),a.GkF(0))}function o_(l,b){if(1&l&&(a.O4$(),a.TgZ(0,"tspan",10),a._uU(1),a.qZA()),2&l){const n=b.$implicit;a.uIk("y",12*b.index),a.xp6(1),a.hij(" ",n," ")}}function nm(l,b){if(1&l&&(a.O4$(),a.ynx(0),a.YNc(1,o_,2,2,"tspan",9),a.BQk()),2&l){const n=b.ngIf;a.xp6(1),a.Q6J("ngForOf",n)}}function fv(l,b){if(1&l&&(a.O4$(),a.YNc(0,nm,2,1,"ng-container",4)),2&l){const n=a.oxw(2).$implicit,p=a.oxw();a.Q6J("ngIf",p.tickChunks(n))}}function a_(l,b){if(1&l&&(a.O4$(),a._uU(0)),2&l){const n=a.oxw().ngIf,p=a.oxw(2);a.hij(" ",p.tickTrim(n)," ")}}function Xm(l,b){if(1&l&&(a.O4$(),a.ynx(0),a.TgZ(1,"title"),a._uU(2),a.qZA(),a.TgZ(3,"text",5),a.YNc(4,s_,1,0,"ng-container",6),a.qZA(),a.YNc(5,fv,1,1,"ng-template",null,7,a.W1O),a.YNc(7,a_,1,1,"ng-template",null,8,a.W1O),a.BQk()),2&l){const n=b.ngIf,p=a.MAs(6),D=a.MAs(8),F=a.oxw(2);a.xp6(2),a.Oqu(n),a.xp6(1),a.uIk("text-anchor",F.textAnchor)("transform",F.textTransform),a.xp6(1),a.Q6J("ngIf",F.isWrapTicksSupported)("ngIfThen",p)("ngIfElse",D)}}function im(l,b){if(1&l&&(a.O4$(),a.TgZ(0,"g",3),a.YNc(1,Xm,9,6,"ng-container",4),a.qZA()),2&l){const n=b.$implicit,p=a.oxw();a.uIk("transform",p.tickTransform(n)),a.xp6(1),a.Q6J("ngIf",p.tickFormat(n))}}function pf(l,b){if(1&l&&(a.O4$(),a.TgZ(0,"g"),a._UZ(1,"line",11),a.qZA()),2&l){const n=a.oxw(2);a.uIk("transform",n.gridLineTransform()),a.xp6(1),a.uIk("y1",-n.gridLineHeight)}}function rm(l,b){if(1&l&&(a.O4$(),a.TgZ(0,"g"),a.YNc(1,pf,2,2,"g",4),a.qZA()),2&l){const n=b.$implicit,p=a.oxw();a.uIk("transform",p.tickTransform(n)),a.xp6(1),a.Q6J("ngIf",p.showGridLines)}}const sm=["ngx-charts-x-axis",""];function Ds(l,b){if(1&l){const n=a.EpF();a.O4$(),a.TgZ(0,"g",2),a.NdJ("dimensionsChanged",function(D){a.CHM(n);const F=a.oxw();return a.KtG(F.emitTicksHeight(D))}),a.qZA()}if(2&l){const n=a.oxw();a.Q6J("trimTicks",n.trimTicks)("rotateTicks",n.rotateTicks)("maxTickLength",n.maxTickLength)("tickFormatting",n.tickFormatting)("tickArguments",n.tickArguments)("tickStroke",n.tickStroke)("scale",n.xScale)("orient",n.xOrient)("showGridLines",n.showGridLines)("gridLineHeight",n.dims.height)("width",n.dims.width)("tickValues",n.ticks)("wrapTicks",n.wrapTicks)}}function mf(l,b){if(1&l&&(a.O4$(),a._UZ(0,"g",3)),2&l){const n=a.oxw();a.Q6J("label",n.labelText)("offset",n.labelOffset)("orient",n.orientation.Bottom)("height",n.dims.height)("width",n.dims.width)}}const l_=["ngx-charts-y-axis-ticks",""];function Jm(l,b){1&l&&(a.O4$(),a.GkF(0))}function c_(l,b){if(1&l&&(a.O4$(),a.TgZ(0,"tspan",12),a._uU(1),a.qZA()),2&l){const n=b.$implicit,p=b.index,D=a.oxw(6);a.uIk("y",p*(8+D.tickSpacing)),a.xp6(1),a.hij(" ",n," ")}}function eg(l,b){if(1&l&&(a.O4$(),a.ynx(0),a.YNc(1,c_,2,2,"tspan",11),a.BQk()),2&l){const n=a.oxw().ngIf;a.xp6(1),a.Q6J("ngForOf",n)}}function u_(l,b){if(1&l&&(a.O4$(),a.ynx(0),a.YNc(1,eg,2,1,"ng-container",10),a.BQk()),2&l){const n=b.ngIf;a.oxw(2);const p=a.MAs(8);a.xp6(1),a.Q6J("ngIf",n.length>1)("ngIfElse",p)}}function d_(l,b){if(1&l&&(a.O4$(),a.YNc(0,u_,2,2,"ng-container",5)),2&l){const n=a.oxw(2).$implicit,p=a.oxw();a.Q6J("ngIf",p.tickChunks(n))}}function h_(l,b){if(1&l&&(a.O4$(),a._uU(0)),2&l){const n=a.oxw().ngIf,p=a.oxw(2);a.hij(" ",p.tickTrim(n)," ")}}function f_(l,b){if(1&l&&(a.O4$(),a.ynx(0),a.TgZ(1,"title"),a._uU(2),a.qZA(),a.TgZ(3,"text",6),a.YNc(4,Jm,1,0,"ng-container",7),a.qZA(),a.YNc(5,d_,1,1,"ng-template",null,8,a.W1O),a.YNc(7,h_,1,1,"ng-template",null,9,a.W1O),a.BQk()),2&l){const n=b.ngIf,p=a.MAs(6),D=a.MAs(8),F=a.oxw(2);a.xp6(2),a.Oqu(n),a.xp6(1),a.Udp("font-size","12px"),a.uIk("dy",F.dy)("x",F.x1)("y",F.y1)("text-anchor",F.textAnchor),a.xp6(1),a.Q6J("ngIf",F.wrapTicks)("ngIfThen",p)("ngIfElse",D)}}function pv(l,b){if(1&l&&(a.O4$(),a.TgZ(0,"g",4),a.YNc(1,f_,9,10,"ng-container",5),a.qZA()),2&l){const n=b.$implicit,p=a.oxw();a.uIk("transform",p.transform(n)),a.xp6(1),a.Q6J("ngIf",p.tickFormat(n))}}function Ap(l,b){if(1&l&&(a.O4$(),a._UZ(0,"path",13)),2&l){const n=a.oxw();a.uIk("d",n.referenceAreaPath)("transform",n.gridLineTransform())}}function gf(l,b){if(1&l&&(a.O4$(),a._UZ(0,"line",15)),2&l){const n=a.oxw(3);a.uIk("x2",n.gridLineWidth)}}function om(l,b){if(1&l&&(a.O4$(),a._UZ(0,"line",15)),2&l){const n=a.oxw(3);a.uIk("x2",-n.gridLineWidth)}}function qd(l,b){if(1&l&&(a.O4$(),a.TgZ(0,"g"),a.YNc(1,gf,1,1,"line",14),a.YNc(2,om,1,1,"line",14),a.qZA()),2&l){const n=a.oxw(2);a.uIk("transform",n.gridLineTransform()),a.xp6(1),a.Q6J("ngIf",n.orient===n.Orientation.Left),a.xp6(1),a.Q6J("ngIf",n.orient===n.Orientation.Right)}}function p_(l,b){if(1&l&&(a.O4$(),a.TgZ(0,"g"),a.YNc(1,qd,3,3,"g",5),a.qZA()),2&l){const n=b.$implicit,p=a.oxw();a.uIk("transform",p.transform(n)),a.xp6(1),a.Q6J("ngIf",p.showGridLines)}}function am(l,b){if(1&l&&(a.O4$(),a.TgZ(0,"g")(1,"title"),a._uU(2),a.qZA(),a.TgZ(3,"text",17),a._uU(4),a.qZA()()),2&l){const n=a.oxw(2).$implicit,p=a.oxw();a.xp6(2),a.Oqu(p.tickTrim(p.tickFormat(n.value))),a.xp6(1),a.uIk("dy",p.dy)("y",-6)("x",p.gridLineWidth)("text-anchor",p.textAnchor),a.xp6(1),a.hij(" ",n.name," ")}}function lm(l,b){if(1&l&&(a.O4$(),a.TgZ(0,"g"),a._UZ(1,"line",16),a.YNc(2,am,5,6,"g",5),a.qZA()),2&l){const n=a.oxw().$implicit,p=a.oxw();a.uIk("transform",p.transform(n.value)),a.xp6(1),a.uIk("x2",p.gridLineWidth)("transform",p.gridLineTransform()),a.xp6(1),a.Q6J("ngIf",p.showRefLabels)}}function qf(l,b){if(1&l&&(a.O4$(),a.TgZ(0,"g"),a.YNc(1,lm,3,4,"g",5),a.qZA()),2&l){const n=a.oxw();a.xp6(1),a.Q6J("ngIf",n.showRefLines)}}const tg=["ngx-charts-y-axis",""];function ay(l,b){if(1&l){const n=a.EpF();a.O4$(),a.TgZ(0,"g",2),a.NdJ("dimensionsChanged",function(D){a.CHM(n);const F=a.oxw();return a.KtG(F.emitTicksWidth(D))}),a.qZA()}if(2&l){const n=a.oxw();a.Q6J("trimTicks",n.trimTicks)("maxTickLength",n.maxTickLength)("tickFormatting",n.tickFormatting)("tickArguments",n.tickArguments)("tickValues",n.ticks)("tickStroke",n.tickStroke)("scale",n.yScale)("orient",n.yOrient)("showGridLines",n.showGridLines)("gridLineWidth",n.dims.width)("referenceLines",n.referenceLines)("showRefLines",n.showRefLines)("showRefLabels",n.showRefLabels)("height",n.dims.height)("wrapTicks",n.wrapTicks)}}function m_(l,b){if(1&l&&(a.O4$(),a._UZ(0,"g",3)),2&l){const n=a.oxw();a.Q6J("label",n.labelText)("offset",n.labelOffset)("orient",n.yOrient)("height",n.dims.height)("width",n.dims.width)}}const g_=["ngx-charts-svg-linear-gradient",""];function ng(l,b){if(1&l&&(a.O4$(),a._UZ(0,"stop")),2&l){const n=b.$implicit;a.Udp("stop-color",n.color)("stop-opacity",n.opacity),a.uIk("offset",n.offset+"%")}}const zh=["tooltipTemplate"],du=function(l,b){return[l,b]},C_=["ngx-charts-bar",""];function _g(l,b){if(1&l&&(a.O4$(),a.TgZ(0,"defs"),a._UZ(1,"g",2),a.qZA()),2&l){const n=a.oxw();a.xp6(1),a.Q6J("orientation",n.orientation)("name",n.gradientId)("stops",n.gradientStops)}}const vg=["ngx-charts-bar-label",""],Jf=["ngx-charts-series-horizontal",""];function dy(l,b){if(1&l){const n=a.EpF();a.O4$(),a.TgZ(0,"g",2),a.NdJ("select",function(D){a.CHM(n);const F=a.oxw();return a.KtG(F.click(D))})("activate",function(D){a.CHM(n);const F=a.oxw();return a.KtG(F.activate.emit(D))})("deactivate",function(D){a.CHM(n);const F=a.oxw();return a.KtG(F.deactivate.emit(D))}),a.qZA()}if(2&l){const n=b.$implicit,p=a.oxw();a.Q6J("@animationState","active")("width",n.width)("height",n.height)("x",n.x)("y",n.y)("fill",n.color)("stops",n.gradientStops)("data",n.data)("orientation",p.barOrientation.Horizontal)("roundEdges",n.roundEdges)("gradient",p.gradient)("isActive",p.isActive(n.data))("ariaLabel",n.ariaLabel)("animations",p.animations)("tooltipDisabled",p.tooltipDisabled)("tooltipPlacement",p.tooltipPlacement)("tooltipType",p.tooltipType)("tooltipTitle",p.tooltipTemplate?void 0:n.tooltipText)("tooltipTemplate",p.tooltipTemplate)("tooltipContext",n.data)("noBarWhenZero",p.noBarWhenZero)}}function T_(l,b){if(1&l){const n=a.EpF();a.O4$(),a.TgZ(0,"g",4),a.NdJ("dimensionsChanged",function(D){const J=a.CHM(n).index,Oe=a.oxw(2);return a.KtG(Oe.dataLabelWidthChanged.emit({size:D,index:J}))}),a.qZA()}if(2&l){const n=b.$implicit,p=a.oxw(2);a.Q6J("barX",n.x)("barY",n.y)("barWidth",n.width)("barHeight",n.height)("value",n.total)("valueFormatting",p.dataLabelFormatting)("orientation",p.barOrientation.Horizontal)}}function wv(l,b){if(1&l&&(a.O4$(),a.TgZ(0,"g"),a.YNc(1,T_,1,7,"g",3),a.qZA()),2&l){const n=a.oxw();a.xp6(1),a.Q6J("ngForOf",n.barsForDataLabels)("ngForTrackBy",n.trackDataLabelBy)}}function yg(l,b){if(1&l){const n=a.EpF();a.O4$(),a.TgZ(0,"g",5),a.NdJ("dimensionsChanged",function(D){a.CHM(n);const F=a.oxw();return a.KtG(F.updateXAxisHeight(D))}),a.qZA()}if(2&l){const n=a.oxw();a.Q6J("xScale",n.xScale)("dims",n.dims)("showGridLines",n.showGridLines)("showLabel",n.showXAxisLabel)("labelText",n.xAxisLabel)("trimTicks",n.trimXAxisTicks)("rotateTicks",n.rotateXAxisTicks)("maxTickLength",n.maxXAxisTickLength)("tickFormatting",n.xAxisTickFormatting)("ticks",n.xAxisTicks)("wrapTicks",n.wrapTicks)}}function Cv(l,b){if(1&l){const n=a.EpF();a.O4$(),a.TgZ(0,"g",6),a.NdJ("dimensionsChanged",function(D){a.CHM(n);const F=a.oxw();return a.KtG(F.updateYAxisWidth(D))}),a.qZA()}if(2&l){const n=a.oxw();a.Q6J("yScale",n.yScale)("dims",n.dims)("showLabel",n.showYAxisLabel)("labelText",n.yAxisLabel)("trimTicks",n.trimYAxisTicks)("maxTickLength",n.maxYAxisTickLength)("tickFormatting",n.yAxisTickFormatting)("ticks",n.yAxisTicks)("yAxisOffset",n.dataLabelMaxWidth.negative)("wrapTicks",n.wrapTicks)}}function P(l,b,n){n=n||{};let p,D,F,J=null,Oe=0;function $t(){Oe=!1===n.leading?0:+new Date,J=null,F=l.apply(p,D)}return function(){const Gt=+new Date;!Oe&&!1===n.leading&&(Oe=Gt);const kn=b-(Gt-Oe);return p=this,D=arguments,kn<=0?(clearTimeout(J),J=null,Oe=Gt,F=l.apply(p,D)):!J&&!1!==n.trailing&&(J=setTimeout($t,kn)),F}}function U(l,b){return function(p,D,F){return{configurable:!0,enumerable:F.enumerable,get:function(){return Object.defineProperty(this,D,{configurable:!0,enumerable:F.enumerable,value:P(F.value,l,b)}),this[D]}}}}var $=(()=>{return(l=$||($={})).Top="top",l.Bottom="bottom",l.Left="left",l.Right="right",l.Center="center",$;var l})();function ze(l,b,n){return n===$.Top?l.top-7:n===$.Bottom?l.top+l.height-b.height+7:n===$.Center?l.top+l.height/2-b.height/2:void 0}function _t(l,b,n){return n===$.Left?l.left-7:n===$.Right?l.left+l.width-b.width+7:n===$.Center?l.left+l.width/2-b.width/2:void 0}class Ot{static calculateVerticalAlignment(b,n,p){let D=ze(b,n,p);return D+n.height>window.innerHeight&&(D=window.innerHeight-n.height),D}static calculateVerticalCaret(b,n,p,D){let F;D===$.Top&&(F=b.height/2-p.height/2+7),D===$.Bottom&&(F=n.height-b.height/2-p.height/2-7),D===$.Center&&(F=n.height/2-p.height/2);const J=ze(b,n,D);return J+n.height>window.innerHeight&&(F+=J+n.height-window.innerHeight),F}static calculateHorizontalAlignment(b,n,p){let D=_t(b,n,p);return D+n.width>window.innerWidth&&(D=window.innerWidth-n.width),D}static calculateHorizontalCaret(b,n,p,D){let F;D===$.Left&&(F=b.width/2-p.width/2+7),D===$.Right&&(F=n.width-b.width/2-p.width/2-7),D===$.Center&&(F=n.width/2-p.width/2);const J=_t(b,n,D);return J+n.width>window.innerWidth&&(F+=J+n.width-window.innerWidth),F}static shouldFlip(b,n,p,D){let F=!1;return p===$.Right&&b.left+b.width+n.width+D>window.innerWidth&&(F=!0),p===$.Left&&b.left-n.width-D<0&&(F=!0),p===$.Top&&b.top-n.height-D<0&&(F=!0),p===$.Bottom&&b.top+b.height+n.height+D>window.innerHeight&&(F=!0),F}static positionCaret(b,n,p,D,F){let J=0,Oe=0;return b===$.Right?(Oe=-7,J=Ot.calculateVerticalCaret(p,n,D,F)):b===$.Left?(Oe=n.width,J=Ot.calculateVerticalCaret(p,n,D,F)):b===$.Top?(J=n.height,Oe=Ot.calculateHorizontalCaret(p,n,D,F)):b===$.Bottom&&(J=-7,Oe=Ot.calculateHorizontalCaret(p,n,D,F)),{top:J,left:Oe}}static positionContent(b,n,p,D,F){let J=0,Oe=0;return b===$.Right?(Oe=p.left+p.width+D,J=Ot.calculateVerticalAlignment(p,n,F)):b===$.Left?(Oe=p.left-n.width-D,J=Ot.calculateVerticalAlignment(p,n,F)):b===$.Top?(J=p.top-n.height-D,Oe=Ot.calculateHorizontalAlignment(p,n,F)):b===$.Bottom&&(J=p.top+p.height+D,Oe=Ot.calculateHorizontalAlignment(p,n,F)),{top:J,left:Oe}}static determinePlacement(b,n,p,D){if(Ot.shouldFlip(p,n,b,D)){if(b===$.Right)return $.Left;if(b===$.Left)return $.Right;if(b===$.Top)return $.Bottom;if(b===$.Bottom)return $.Top}return b}}let Qt=(()=>{class l{constructor(n,p,D){this.element=n,this.renderer=p,this.platformId=D}get cssClasses(){let n="ngx-charts-tooltip-content";return n+=` position-${this.placement}`,n+=` type-${this.type}`,n+=` ${this.cssClass}`,n}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!(0,T.NF)(this.platformId))return;const n=this.element.nativeElement,p=this.host.nativeElement.getBoundingClientRect();if(!p.height&&!p.width)return;const D=n.getBoundingClientRect();this.checkFlip(p,D),this.positionContent(n,p,D),this.showCaret&&this.positionCaret(p,D),setTimeout(()=>this.renderer.addClass(n,"animate"),1)}positionContent(n,p,D){const{top:F,left:J}=Ot.positionContent(this.placement,D,p,this.spacing,this.alignment);this.renderer.setStyle(n,"top",`${F}px`),this.renderer.setStyle(n,"left",`${J}px`)}positionCaret(n,p){const D=this.caretElm.nativeElement,F=D.getBoundingClientRect(),{top:J,left:Oe}=Ot.positionCaret(this.placement,p,n,F,this.alignment);this.renderer.setStyle(D,"top",`${J}px`),this.renderer.setStyle(D,"left",`${Oe}px`)}checkFlip(n,p){this.placement=Ot.determinePlacement(this.placement,p,n,this.spacing)}onWindowResize(){this.position()}}return l.\u0275fac=function(n){return new(n||l)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.Lbi))},l.\u0275cmp=a.Xpm({type:l,selectors:[["ngx-tooltip-content"]],viewQuery:function(n,p){if(1&n&&a.Gf(ff,5),2&n){let D;a.iGM(D=a.CRH())&&(p.caretElm=D.first)}},hostVars:2,hostBindings:function(n,p){1&n&&a.NdJ("resize",function(){return p.onWindowResize()},!1,a.Jf7),2&n&&a.Tol(p.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[[3,"hidden"],["caretElm",""],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(n,p){1&n&&(a.TgZ(0,"div"),a._UZ(1,"span",0,1),a.TgZ(3,"div",2),a.YNc(4,n_,2,4,"span",3),a.YNc(5,dv,1,1,"span",4),a.qZA()()),2&n&&(a.xp6(1),a.Gre("tooltip-caret position-",p.placement,""),a.Q6J("hidden",!p.showCaret),a.xp6(3),a.Q6J("ngIf",!p.title),a.xp6(1),a.Q6J("ngIf",p.title))},dependencies:[T.O5,T.tP],styles:[".ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}\n"],encapsulation:2}),(0,O.gn)([U(100)],l.prototype,"onWindowResize",null),l})(),Vn=(()=>{class l{constructor(n,p,D){this.applicationRef=n,this.componentFactoryResolver=p,this.injector=D}static setGlobalRootViewContainer(n){l.globalRootViewContainer=n}getRootViewContainer(){if(this._container)return this._container;if(l.globalRootViewContainer)return l.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(n){this._container=n}getComponentRootNode(n){return function Mn(l){return l.element}(n)?n.element.nativeElement:n.hostView&&n.hostView.rootNodes.length>0?n.hostView.rootNodes[0]:n.location.nativeElement}getRootViewContainerNode(n){return this.getComponentRootNode(n)}projectComponentBindings(n,p){if(p){if(void 0!==p.inputs){const D=Object.getOwnPropertyNames(p.inputs);for(const F of D)n.instance[F]=p.inputs[F]}if(void 0!==p.outputs){const D=Object.getOwnPropertyNames(p.outputs);for(const F of D)n.instance[F]=p.outputs[F]}}return n}appendComponent(n,p={},D){D||(D=this.getRootViewContainer());const F=this.getComponentRootNode(D),J=new ue.u0(F,this.componentFactoryResolver,this.applicationRef,this.injector),Oe=new ue.C5(n),$t=J.attach(Oe);return this.projectComponentBindings($t,p),$t}}return l.globalRootViewContainer=null,l.\u0275fac=function(n){return new(n||l)(a.LFG(a.z2F),a.LFG(a._Vd),a.LFG(a.zs3))},l.\u0275prov=a.Yz7({token:l,factory:l.\u0275fac}),l})(),ri=(()=>{class l extends class Sn{constructor(b){this.injectionService=b,this.defaults={},this.components=new Map}getByType(b=this.type){return this.components.get(b)}create(b){return this.createByType(this.type,b)}createByType(b,n){n=this.assignDefaults(n);const p=this.injectComponent(b,n);return this.register(b,p),p}destroy(b){const n=this.components.get(b.componentType);if(n&&n.length){const p=n.indexOf(b);p>-1&&(n[p].destroy(),n.splice(p,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(b){const n=this.components.get(b);if(n&&n.length){let p=n.length-1;for(;p>=0;)this.destroy(n[p--])}}injectComponent(b,n){return this.injectionService.appendComponent(b,n)}assignDefaults(b){const n={...this.defaults.inputs},p={...this.defaults.outputs};return!b.inputs&&!b.outputs&&(b={inputs:b}),n&&(b.inputs={...n,...b.inputs}),p&&(b.outputs={...p,...b.outputs}),b}register(b,n){this.components.has(b)||this.components.set(b,[]),this.components.get(b).push(n)}}{constructor(n){super(n),this.type=Qt}}return l.\u0275fac=function(n){return new(n||l)(a.LFG(Vn))},l.\u0275prov=a.Yz7({token:l,factory:l.\u0275fac}),l})();var hi=(()=>{return(l=hi||(hi={})).Right="right",l.Below="below",hi;var l})(),Mi=(()=>{return(l=Mi||(Mi={})).ScaleLegend="scaleLegend",l.Legend="legend",Mi;var l})(),oi=(()=>{return(l=oi||(oi={})).Time="time",l.Linear="linear",l.Ordinal="ordinal",l.Quantile="quantile",oi;var l})();let Ci=(()=>{class l{constructor(){this.horizontal=!1}ngOnChanges(n){const p=this.gradientString(this.colors.range(),this.colors.domain());this.gradient=`linear-gradient(to ${this.horizontal?"right":"bottom"}, ${p})`}gradientString(n,p){p.push(1);const D=[];return n.reverse().forEach((F,J)=>{D.push(`${F} ${Math.round(100*p[J])}%`)}),D.join(", ")}}return l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=a.Xpm({type:l,selectors:[["ngx-charts-scale-legend"]],inputs:{valueRange:"valueRange",colors:"colors",height:"height",width:"width",horizontal:"horizontal"},features:[a.TTD],decls:8,vars:10,consts:[[1,"scale-legend"],[1,"scale-legend-label"],[1,"scale-legend-wrap"]],template:function(n,p){1&n&&(a.TgZ(0,"div",0)(1,"div",1)(2,"span"),a._uU(3),a.qZA()(),a._UZ(4,"div",2),a.TgZ(5,"div",1)(6,"span"),a._uU(7),a.qZA()()()),2&n&&(a.Udp("height",p.horizontal?void 0:p.height,"px")("width",p.width,"px"),a.ekj("horizontal-legend",p.horizontal),a.xp6(3),a.Oqu(p.valueRange[1].toLocaleString()),a.xp6(1),a.Udp("background",p.gradient),a.xp6(3),a.Oqu(p.valueRange[0].toLocaleString()))},styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{text-align:center;display:flex;flex-direction:column}.chart-legend .scale-legend-wrap{display:inline-block;flex:1;width:30px;border-radius:5px;margin:0 auto}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{width:auto;height:30px;margin:0 16px}\n"],encapsulation:2,changeDetection:0}),l})();function ir(l){return l instanceof Date?l.toLocaleDateString():l.toLocaleString()}let fr=(()=>{class l{constructor(){this.isActive=!1,this.select=new a.vpe,this.activate=new a.vpe,this.deactivate=new a.vpe,this.toggle=new a.vpe}get trimmedLabel(){return this.formattedLabel||"(empty)"}onMouseEnter(){this.activate.emit({name:this.label})}onMouseLeave(){this.deactivate.emit({name:this.label})}}return l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=a.Xpm({type:l,selectors:[["ngx-charts-legend-entry"]],hostBindings:function(n,p){1&n&&a.NdJ("mouseenter",function(){return p.onMouseEnter()})("mouseleave",function(){return p.onMouseLeave()})},inputs:{color:"color",label:"label",formattedLabel:"formattedLabel",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",toggle:"toggle"},decls:4,vars:6,consts:[["tabindex","-1",3,"title","click"],[1,"legend-label-color",3,"click"],[1,"legend-label-text"]],template:function(n,p){1&n&&(a.TgZ(0,"span",0),a.NdJ("click",function(){return p.select.emit(p.formattedLabel)}),a.TgZ(1,"span",1),a.NdJ("click",function(){return p.toggle.emit(p.formattedLabel)}),a.qZA(),a.TgZ(2,"span",2),a._uU(3),a.qZA()()),2&n&&(a.ekj("active",p.isActive),a.Q6J("title",p.formattedLabel),a.xp6(1),a.Udp("background-color",p.color),a.xp6(2),a.hij(" ",p.trimmedLabel," "))},encapsulation:2,changeDetection:0}),l})(),ts=(()=>{class l{constructor(n){this.cd=n,this.horizontal=!1,this.labelClick=new a.vpe,this.labelActivate=new a.vpe,this.labelDeactivate=new a.vpe,this.legendEntries=[]}ngOnChanges(n){this.update()}update(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries()}getLegendEntries(){const n=[];for(const p of this.data){const D=ir(p);-1===n.findIndex(J=>J.label===D)&&n.push({label:p,formattedLabel:D,color:this.colors.getColor(p)})}return n}isActive(n){return!!this.activeEntries&&void 0!==this.activeEntries.find(D=>n.label===D.name)}activate(n){this.labelActivate.emit(n)}deactivate(n){this.labelDeactivate.emit(n)}trackBy(n,p){return p.label}}return l.\u0275fac=function(n){return new(n||l)(a.Y36(a.sBO))},l.\u0275cmp=a.Xpm({type:l,selectors:[["ngx-charts-legend"]],inputs:{data:"data",title:"title",colors:"colors",height:"height",width:"width",activeEntries:"activeEntries",horizontal:"horizontal"},outputs:{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"},features:[a.TTD],decls:5,vars:9,consts:[["class","legend-title",4,"ngIf"],[1,"legend-wrap"],[1,"legend-labels"],["class","legend-label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-title"],[1,"legend-title-text"],[1,"legend-label"],[3,"label","formattedLabel","color","isActive","select","activate","deactivate"]],template:function(n,p){1&n&&(a.TgZ(0,"div"),a.YNc(1,i_,3,1,"header",0),a.TgZ(2,"div",1)(3,"ul",2),a.YNc(4,oy,2,4,"li",3),a.qZA()()()),2&n&&(a.Udp("width",p.width,"px"),a.xp6(1),a.Q6J("ngIf",(null==p.title?null:p.title.length)>0),a.xp6(2),a.Udp("max-height",p.height-45,"px"),a.ekj("horizontal-legend",p.horizontal),a.xp6(1),a.Q6J("ngForOf",p.legendEntries)("ngForTrackBy",p.trackBy))},dependencies:[fr,T.O5,T.sg],styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{white-space:nowrap;overflow:hidden;margin-left:10px;margin-bottom:5px;font-size:14px;font-weight:700}.chart-legend ul,.chart-legend li{padding:0;margin:0;list-style:none}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{line-height:85%;list-style:none;text-align:left;float:left;width:100%;border-radius:3px;overflow-y:auto;overflow-x:hidden;white-space:nowrap;background:rgba(0,0,0,.05)}.chart-legend .legend-label{cursor:pointer;font-size:90%;margin:8px;color:#afb7c8}.chart-legend .legend-label:hover{color:#000;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{display:inline-block;height:15px;width:15px;margin-right:5px;color:#5b646b;border-radius:3px}.chart-legend .legend-label-text{display:inline-block;vertical-align:top;line-height:15px;font-size:12px;width:calc(100% - 20px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .legend-title-text{vertical-align:bottom;display:inline-block;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),l})(),Qs=(()=>{class l{constructor(){this.showLegend=!1,this.animations=!0,this.legendLabelClick=new a.vpe,this.legendLabelActivate=new a.vpe,this.legendLabelDeactivate=new a.vpe,this.LegendPosition=hi,this.LegendType=Mi}ngOnChanges(n){this.update()}update(){let n=0;this.showLegend&&(this.legendType=this.getLegendType(),(!this.legendOptions||this.legendOptions.position===hi.Right)&&(n=this.legendType===Mi.ScaleLegend?1:2)),this.chartWidth=Math.floor(this.view[0]*(12-n)/12),this.legendWidth=this.legendOptions&&this.legendOptions.position!==hi.Right?this.chartWidth:Math.floor(this.view[0]*n/12)}getLegendType(){return this.legendOptions.scaleType===oi.Linear?Mi.ScaleLegend:Mi.Legend}}return l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=a.Xpm({type:l,selectors:[["ngx-charts-chart"]],inputs:{view:"view",showLegend:"showLegend",legendOptions:"legendOptions",legendType:"legendType",activeEntries:"activeEntries",animations:"animations"},outputs:{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"},features:[a._Bn([ri]),a.TTD],ngContentSelectors:Qm,decls:5,vars:8,consts:[[1,"ngx-charts-outer"],[1,"ngx-charts"],["class","chart-legend",3,"horizontal","valueRange","colors","height","width",4,"ngIf"],["class","chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate",4,"ngIf"],[1,"chart-legend",3,"horizontal","valueRange","colors","height","width"],[1,"chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate"]],template:function(n,p){1&n&&(a.F$t(),a.TgZ(0,"div",0),a.O4$(),a.TgZ(1,"svg",1),a.Hsn(2),a.qZA(),a.YNc(3,tm,1,5,"ngx-charts-scale-legend",2),a.YNc(4,Bc,1,7,"ngx-charts-legend",3),a.qZA()),2&n&&(a.Udp("width",p.view[0],"px")("height",p.view[1],"px"),a.xp6(1),a.uIk("width",p.chartWidth)("height",p.view[1]),a.xp6(2),a.Q6J("ngIf",p.showLegend&&p.legendType===p.LegendType.ScaleLegend),a.xp6(1),a.Q6J("ngIf",p.showLegend&&p.legendType===p.LegendType.Legend))},dependencies:[Ci,ts,T.O5],encapsulation:2,changeDetection:0}),l})(),Xs=(()=>{class l{constructor(n,p){this.element=n,this.zone=p,this.visible=new a.vpe,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){const n=()=>{if(!this.element)return;const{offsetHeight:p,offsetWidth:D}=this.element.nativeElement;p&&D?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>n(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>n())})}}return l.\u0275fac=function(n){return new(n||l)(a.Y36(a.SBq),a.Y36(a.R0b))},l.\u0275dir=a.lG2({type:l,selectors:[["visibility-observer"]],outputs:{visible:"visible"}}),l})();function jo(l){return"[object Date]"===toString.call(l)}let Du=(()=>{class l{constructor(n,p,D,F){this.chartElement=n,this.zone=p,this.cd=D,this.platformId=F,this.scheme="cool",this.schemeType=oi.Ordinal,this.animations=!0,this.select=new a.vpe}ngOnInit(){(0,T.PM)(this.platformId)&&(this.animations=!1)}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new Xs(this.chartElement,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this))}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy())}ngOnChanges(n){this.update()}update(){if(this.results=this.results?this.cloneData(this.results):[],this.view)this.width=this.view[0],this.height=this.view[1];else{const n=this.getContainerDims();n&&(this.width=n.width,this.height=n.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let n,p;const D=this.chartElement.nativeElement;if((0,T.NF)(this.platformId)&&null!==D.parentNode){const F=D.parentNode.getBoundingClientRect();n=F.width,p=F.height}return n&&p?{width:n,height:p}:null}formatDates(){for(let n=0;n<this.results.length;n++){const p=this.results[n];if(p.label=p.name,jo(p.label)&&(p.label=p.label.toLocaleDateString()),p.series)for(let D=0;D<p.series.length;D++){const F=p.series[D];F.label=F.name,jo(F.label)&&(F.label=F.label.toLocaleDateString())}}}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){if(!(0,T.NF)(this.platformId))return;const p=(0,R.R)(window,"resize").pipe((0,Ee.b)(200)).subscribe(D=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=p}cloneData(n){const p=[];for(const D of n){const F={};if(void 0!==D.name&&(F.name=D.name),void 0!==D.value&&(F.value=D.value),void 0!==D.series){F.series=[];for(const J of D.series){const Oe=Object.assign({},J);F.series.push(Oe)}}void 0!==D.extra&&(F.extra=JSON.parse(JSON.stringify(D.extra))),void 0!==D.source&&(F.source=D.source),void 0!==D.target&&(F.target=D.target),p.push(F)}return p}}return l.\u0275fac=function(n){return new(n||l)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(a.sBO),a.Y36(a.Lbi))},l.\u0275cmp=a.Xpm({type:l,selectors:[["base-chart"]],inputs:{results:"results",view:"view",scheme:"scheme",schemeType:"schemeType",customColors:"customColors",animations:"animations"},outputs:{select:"select"},features:[a.TTD],decls:1,vars:0,template:function(n,p){1&n&&a._UZ(0,"div")},encapsulation:2}),l})();var Zr=(()=>{return(l=Zr||(Zr={})).Top="top",l.Bottom="bottom",l.Left="left",l.Right="right",Zr;var l})();let ya=(()=>{class l{constructor(n){this.textHeight=25,this.margin=5,this.element=n.nativeElement}ngOnChanges(n){this.update()}update(){switch(this.strokeWidth="0.01",this.textAnchor="middle",this.transform="",this.orient){case Zr.Top:case Zr.Bottom:this.y=this.offset,this.x=this.width/2;break;case Zr.Left:this.y=-(this.offset+this.textHeight+this.margin),this.x=-this.height/2,this.transform="rotate(270)";break;case Zr.Right:this.y=this.offset+this.margin,this.x=-this.height/2,this.transform="rotate(270)"}}}return l.\u0275fac=function(n){return new(n||l)(a.Y36(a.SBq))},l.\u0275cmp=a.Xpm({type:l,selectors:[["g","ngx-charts-axis-label",""]],inputs:{orient:"orient",label:"label",offset:"offset",width:"width",height:"height"},features:[a.TTD],attrs:hv,decls:2,vars:6,template:function(n,p){1&n&&(a.O4$(),a.TgZ(0,"text"),a._uU(1),a.qZA()),2&n&&(a.uIk("stroke-width",p.strokeWidth)("x",p.x)("y",p.y)("text-anchor",p.textAnchor)("transform",p.transform),a.xp6(1),a.hij(" ",p.label," "))},encapsulation:2,changeDetection:0}),l})();function Oa(l,b=16){return"string"!=typeof l?"number"==typeof l?l+"":"":(l=l.trim()).length<=b?l:`${l.slice(0,b)}...`}function nu(l,b){if(l.length>b){const n=[],p=Math.floor(l.length/b);for(let D=0;D<l.length;D++)D%p==0&&n.push(l[D]);l=n}return l}function mc(l,b,n){const p=(l||"").toString();let D=[];if(/\s/.test(p))D=p.split(/\s+/).reduce((F,J)=>{const Oe=(F.pop()||"")+" ";return Oe.length+J.length>b?[...F,Oe.trim(),J.trim()]:[...F,Oe+J]},[]);else{let F=0;for(;F<p.length;)D.push(p.substring(F,F+b)),F+=b}return D.length>n&&(D=D.splice(0,n),D[D.length-1]+="..."),D}var Zc=(()=>{return(l=Zc||(Zc={})).Start="start",l.Middle="middle",l.End="end",Zc;var l})();let lp=(()=>{class l{constructor(n){this.platformId=n,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.rotateTicks=!0,this.wrapTicks=!1,this.dimensionsChanged=new a.vpe,this.verticalSpacing=20,this.rotateLabels=!1,this.innerTickSize=6,this.outerTickSize=6,this.tickPadding=3,this.textAnchor=Zc.Middle,this.maxTicksLength=0,this.maxAllowedLength=16,this.height=0,this.approxHeight=10,this.maxPossibleLengthForTickIfWrapped=16}get isWrapTicksSupported(){return this.wrapTicks&&this.scale.step}ngOnChanges(n){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!(0,T.NF)(this.platformId))return void this.dimensionsChanged.emit({height:this.approxHeight});const n=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().height,10);n!==this.height&&(this.height=n,this.dimensionsChanged.emit({height:this.height}),setTimeout(()=>this.updateDims()))}update(){const n=this.scale;this.ticks=this.getTicks(),this.tickFormat=this.tickFormatting?this.tickFormatting:n.tickFormat?n.tickFormat.apply(n,this.tickArguments):function(D){return"Date"===D.constructor.name?D.toLocaleDateString():D.toLocaleString()};const p=this.rotateTicks?this.getRotationAngle(this.ticks):null;this.adjustedScale=this.scale.bandwidth?function(D){return this.scale(D)+.5*this.scale.bandwidth()}:this.scale,this.textTransform="",p&&0!==p?(this.textTransform=`rotate(${p})`,this.textAnchor=Zc.End,this.verticalSpacing=10):this.textAnchor=Zc.Middle,setTimeout(()=>this.updateDims())}getRotationAngle(n){let p=0;this.maxTicksLength=0;for(let Rn=0;Rn<n.length;Rn++){const ei=this.tickFormat(n[Rn]).toString();let bi=ei.length;this.trimTicks&&(bi=this.tickTrim(ei).length),bi>this.maxTicksLength&&(this.maxTicksLength=bi)}const J=7*Math.min(this.maxTicksLength,this.maxAllowedLength);let Oe=J;const $t=Math.floor(this.width/n.length);for(;Oe>$t&&p>-90;)p-=30,Oe=Math.cos(p*(Math.PI/180))*J;let Gt=14;if(this.isWrapTicksSupported){const Rn=this.ticks.reduce((bi,Yi)=>Yi.length>bi.length?Yi:bi,"");Gt=14*(this.tickChunks(Rn).length||1),this.maxPossibleLengthForTickIfWrapped=this.getMaxPossibleLengthForTick(Rn)}const kn=0!==p?Math.max(Math.abs(Math.sin(p*Math.PI/180))*this.maxTickLength*7,10):Gt;return this.approxHeight=Math.min(kn,200),p}getTicks(){let n;const p=this.getMaxTicks(20),D=this.getMaxTicks(100);return this.tickValues?n=this.tickValues:this.scale.ticks?n=this.scale.ticks.apply(this.scale,[D]):(n=this.scale.domain(),n=nu(n,p)),n}getMaxTicks(n){return Math.floor(this.width/n)}tickTransform(n){return"translate("+this.adjustedScale(n)+","+this.verticalSpacing+")"}gridLineTransform(){return`translate(0,${-this.verticalSpacing-5})`}tickTrim(n){return this.trimTicks?Oa(n,this.maxTickLength):n}getMaxPossibleLengthForTick(n){if(this.scale.bandwidth){const D=Math.floor(this.scale.bandwidth()/7),F=n.slice(0,D);return Math.max(F.length,this.maxTickLength)}return this.maxTickLength}tickChunks(n){if(n.toString().length>this.maxTickLength&&this.scale.bandwidth){let D=this.rotateTicks?Math.floor(this.scale.step()/14):5;if(D<=1)return[this.tickTrim(n)];let F=Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength);return(0,T.NF)(this.platformId)||(F=Math.floor(Math.min(this.approxHeight/5,Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength)))),D=Math.min(D,5),mc(n,F,D<1?1:D)}return[this.tickTrim(n)]}}return l.\u0275fac=function(n){return new(n||l)(a.Y36(a.Lbi))},l.\u0275cmp=a.Xpm({type:l,selectors:[["g","ngx-charts-x-axis-ticks",""]],viewQuery:function(n,p){if(1&n&&a.Gf(r_,5),2&n){let D;a.iGM(D=a.CRH())&&(p.ticksElement=D.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineHeight:"gridLineHeight",width:"width",rotateTicks:"rotateTicks",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[a.TTD],attrs:Td,decls:4,vars:2,consts:[["ticksel",""],["class","tick",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01","font-size","12px"],[4,"ngIf","ngIfThen","ngIfElse"],["tmplMultilineTick",""],["tmplSinglelineTick",""],["x","0",4,"ngFor","ngForOf"],["x","0"],["y2","0",1,"gridline-path","gridline-path-vertical"]],template:function(n,p){1&n&&(a.O4$(),a.TgZ(0,"g",null,0),a.YNc(2,im,2,2,"g",1),a.qZA(),a.YNc(3,rm,2,2,"g",2)),2&n&&(a.xp6(2),a.Q6J("ngForOf",p.ticks),a.xp6(1),a.Q6J("ngForOf",p.ticks))},dependencies:[T.sg,T.O5],encapsulation:2,changeDetection:0}),l})(),Tf=(()=>{class l{constructor(){this.rotateTicks=!0,this.showGridLines=!1,this.xOrient=Zr.Bottom,this.xAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new a.vpe,this.xAxisClassName="x axis",this.labelOffset=0,this.fill="none",this.stroke="stroke",this.tickStroke="#ccc",this.strokeWidth="none",this.padding=5,this.orientation=Zr}ngOnChanges(n){this.update()}update(){this.transform=`translate(0,${this.xAxisOffset+this.padding+this.dims.height})`,typeof this.xAxisTickCount<"u"&&(this.tickArguments=[this.xAxisTickCount])}emitTicksHeight({height:n}){const p=n+25+5;p!==this.labelOffset&&(this.labelOffset=p,setTimeout(()=>{this.dimensionsChanged.emit({height:n})},0))}}return l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=a.Xpm({type:l,selectors:[["g","ngx-charts-x-axis",""]],viewQuery:function(n,p){if(1&n&&a.Gf(lp,5),2&n){let D;a.iGM(D=a.CRH())&&(p.ticksComponent=D.first)}},inputs:{xScale:"xScale",dims:"dims",trimTicks:"trimTicks",rotateTicks:"rotateTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",ticks:"ticks",xAxisTickCount:"xAxisTickCount",xOrient:"xOrient",xAxisOffset:"xAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[a.TTD],attrs:sm,decls:3,vars:4,consts:[["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(n,p){1&n&&(a.O4$(),a.TgZ(0,"g"),a.YNc(1,Ds,1,13,"g",0),a.YNc(2,mf,1,5,"g",1),a.qZA()),2&n&&(a.uIk("class",p.xAxisClassName)("transform",p.transform),a.xp6(1),a.Q6J("ngIf",p.xScale),a.xp6(1),a.Q6J("ngIf",p.showLabel))},dependencies:[lp,ya,T.O5],encapsulation:2,changeDetection:0}),l})();function hu(l,b,n,p,D,[F,J,Oe,$t]){let Gt="";return Gt=`M${[l+D,b]}`,Gt+="h"+((n=0===(n=Math.floor(n))?1:n)-2*D),Gt+=J?`a${[D,D]} 0 0 1 ${[D,D]}`:`h${D}v${D}`,Gt+="v"+((p=0===(p=Math.floor(p))?1:p)-2*D),Gt+=$t?`a${[D,D]} 0 0 1 ${[-D,D]}`:`v${D}h${-D}`,Gt+="h"+(2*D-n),Gt+=Oe?`a${[D,D]} 0 0 1 ${[-D,-D]}`:`h${-D}v${-D}`,Gt+="v"+(2*D-p),Gt+=F?`a${[D,D]} 0 0 1 ${[D,-D]}`:`v${-D}h${D}`,Gt+="z",Gt}let bh=(()=>{class l{constructor(n){this.platformId=n,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.showRefLabels=!1,this.showRefLines=!1,this.wrapTicks=!1,this.dimensionsChanged=new a.vpe,this.innerTickSize=6,this.tickPadding=3,this.verticalSpacing=20,this.textAnchor=Zc.Middle,this.width=0,this.outerTickSize=6,this.rotateLabels=!1,this.referenceLineLength=0,this.Orientation=Zr}ngOnChanges(n){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!(0,T.NF)(this.platformId))return this.width=this.getApproximateAxisWidth(),void this.dimensionsChanged.emit({width:this.width});const n=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().width,10);n!==this.width&&(this.width=n,this.dimensionsChanged.emit({width:n}),setTimeout(()=>this.updateDims()))}update(){const n=this.scale,p=this.orient===Zr.Top||this.orient===Zr.Right?-1:1;switch(this.tickSpacing=Math.max(this.innerTickSize,0)+this.tickPadding,this.ticks=this.getTicks(),this.tickFormat=this.tickFormatting?this.tickFormatting:n.tickFormat?n.tickFormat.apply(n,this.tickArguments):function(D){return"Date"===D.constructor.name?D.toLocaleDateString():D.toLocaleString()},this.adjustedScale=n.bandwidth?D=>{const F=n(D)+.5*n.bandwidth();if(this.wrapTicks&&D.toString().length>this.maxTickLength){const J=this.tickChunks(D).length;if(1===J)return F;const Gt=.5*n.bandwidth()-8*J*.5;return n(D)+Gt}return F}:n,this.showRefLines&&this.referenceLines&&this.setReferencelines(),this.orient){case Zr.Top:case Zr.Bottom:this.transform=function(D){return"translate("+this.adjustedScale(D)+",0)"},this.textAnchor=Zc.Middle,this.y2=this.innerTickSize*p,this.y1=this.tickSpacing*p,this.dy=p<0?"0em":".71em";break;case Zr.Left:this.transform=function(D){return"translate(0,"+this.adjustedScale(D)+")"},this.textAnchor=Zc.End,this.x2=this.innerTickSize*-p,this.x1=this.tickSpacing*-p,this.dy=".32em";break;case Zr.Right:this.transform=function(D){return"translate(0,"+this.adjustedScale(D)+")"},this.textAnchor=Zc.Start,this.x2=this.innerTickSize*-p,this.x1=this.tickSpacing*-p,this.dy=".32em"}setTimeout(()=>this.updateDims())}setReferencelines(){this.refMin=this.adjustedScale(Math.min.apply(null,this.referenceLines.map(n=>n.value))),this.refMax=this.adjustedScale(Math.max.apply(null,this.referenceLines.map(n=>n.value))),this.referenceLineLength=this.referenceLines.length,this.referenceAreaPath=hu(0,this.refMax,this.gridLineWidth,this.refMin-this.refMax,0,[!1,!1,!1,!1])}getTicks(){let n;const p=this.getMaxTicks(20),D=this.getMaxTicks(50);return this.tickValues?n=this.tickValues:this.scale.ticks?n=this.scale.ticks.apply(this.scale,[D]):(n=this.scale.domain(),n=nu(n,p)),n}getMaxTicks(n){return Math.floor(this.height/n)}tickTransform(n){return`translate(${this.adjustedScale(n)},${this.verticalSpacing})`}gridLineTransform(){return"translate(5,0)"}tickTrim(n){return this.trimTicks?Oa(n,this.maxTickLength):n}getApproximateAxisWidth(){return 7*Math.max(...this.ticks.map(D=>this.tickTrim(this.tickFormat(D)).length))}tickChunks(n){if(n.toString().length>this.maxTickLength&&this.scale.bandwidth){const p=this.maxTickLength,D=Math.floor(this.scale.bandwidth()/15);return D<=1?[this.tickTrim(n)]:mc(n,p,Math.min(D,5))}return[this.tickFormat(n)]}}return l.\u0275fac=function(n){return new(n||l)(a.Y36(a.Lbi))},l.\u0275cmp=a.Xpm({type:l,selectors:[["g","ngx-charts-y-axis-ticks",""]],viewQuery:function(n,p){if(1&n&&a.Gf(r_,5),2&n){let D;a.iGM(D=a.CRH())&&(p.ticksElement=D.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineWidth:"gridLineWidth",height:"height",referenceLines:"referenceLines",showRefLabels:"showRefLabels",showRefLines:"showRefLines",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[a.TTD],attrs:l_,decls:6,vars:4,consts:[["ticksel",""],["class","tick",4,"ngFor","ngForOf"],["class","reference-area",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01"],[4,"ngIf","ngIfThen","ngIfElse"],["tmplMultilineTick",""],["tmplSinglelineTick",""],[4,"ngIf","ngIfElse"],["x","0",4,"ngFor","ngForOf"],["x","0"],[1,"reference-area"],["class","gridline-path gridline-path-horizontal","x1","0",4,"ngIf"],["x1","0",1,"gridline-path","gridline-path-horizontal"],["x1","0",1,"refline-path","gridline-path-horizontal"],[1,"refline-label"]],template:function(n,p){1&n&&(a.O4$(),a.TgZ(0,"g",null,0),a.YNc(2,pv,2,2,"g",1),a.qZA(),a.YNc(3,Ap,1,2,"path",2),a.YNc(4,p_,2,2,"g",3),a.YNc(5,qf,2,1,"g",3)),2&n&&(a.xp6(2),a.Q6J("ngForOf",p.ticks),a.xp6(1),a.Q6J("ngIf",p.referenceLineLength>1&&p.refMax&&p.refMin&&p.showRefLines),a.xp6(1),a.Q6J("ngForOf",p.ticks),a.xp6(1),a.Q6J("ngForOf",p.referenceLines))},dependencies:[T.sg,T.O5],encapsulation:2,changeDetection:0}),l})(),Df=(()=>{class l{constructor(){this.showGridLines=!1,this.yOrient=Zr.Left,this.yAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new a.vpe,this.yAxisClassName="y axis",this.labelOffset=15,this.fill="none",this.stroke="#CCC",this.tickStroke="#CCC",this.strokeWidth=1,this.padding=5}ngOnChanges(n){this.update()}update(){this.offset=-(this.yAxisOffset+this.padding),this.yOrient===Zr.Right?(this.labelOffset=65,this.transform=`translate(${this.offset+this.dims.width} , 0)`):this.transform=`translate(${this.offset} , 0)`,void 0!==this.yAxisTickCount&&(this.tickArguments=[this.yAxisTickCount])}emitTicksWidth({width:n}){n!==this.labelOffset&&this.yOrient===Zr.Right?(this.labelOffset=n+this.labelOffset,setTimeout(()=>{this.dimensionsChanged.emit({width:n})},0)):n!==this.labelOffset&&(this.labelOffset=n,setTimeout(()=>{this.dimensionsChanged.emit({width:n})},0))}}return l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=a.Xpm({type:l,selectors:[["g","ngx-charts-y-axis",""]],viewQuery:function(n,p){if(1&n&&a.Gf(bh,5),2&n){let D;a.iGM(D=a.CRH())&&(p.ticksComponent=D.first)}},inputs:{yScale:"yScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",ticks:"ticks",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",yAxisTickCount:"yAxisTickCount",yOrient:"yOrient",referenceLines:"referenceLines",showRefLines:"showRefLines",showRefLabels:"showRefLabels",yAxisOffset:"yAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[a.TTD],attrs:tg,decls:3,vars:4,consts:[["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(n,p){1&n&&(a.O4$(),a.TgZ(0,"g"),a.YNc(1,ay,1,15,"g",0),a.YNc(2,m_,1,5,"g",1),a.qZA()),2&n&&(a.uIk("class",p.yAxisClassName)("transform",p.transform),a.xp6(1),a.Q6J("ngIf",p.yScale),a.xp6(1),a.Q6J("ngIf",p.showLabel))},dependencies:[bh,ya,T.O5],encapsulation:2,changeDetection:0}),l})(),zu=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=a.oAB({type:l}),l.\u0275inj=a.cJS({imports:[[T.ez]]}),l})();var Hp=(()=>{return(l=Hp||(Hp={})).popover="popover",l.tooltip="tooltip",Hp;var l})(),Af=(()=>{return(l=Af||(Af={}))[l.all="all"]="all",l[l.focus="focus"]="focus",l[l.mouseover="mouseover"]="mouseover",Af;var l})();let Rg=(()=>{class l{constructor(n,p,D){this.tooltipService=n,this.viewContainerRef=p,this.renderer=D,this.tooltipCssClass="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=$.Top,this.tooltipAlignment=$.Center,this.tooltipType=Hp.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=Af.all,this.tooltipImmediateExit=!1,this.show=new a.vpe,this.hide=new a.vpe}get listensForFocus(){return this.tooltipShowEvent===Af.all||this.tooltipShowEvent===Af.focus}get listensForHover(){return this.tooltipShowEvent===Af.all||this.tooltipShowEvent===Af.mouseover}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(n){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(n))return;this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(n){if(this.component||this.tooltipDisabled)return;const p=n?0:this.tooltipShowTimeout+(navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?400:0);clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();const D=this.createBoundOptions();this.component=this.tooltipService.create(D),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},p)}addHideListeners(n){this.mouseEnterContentEvent=this.renderer.listen(n,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(n,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen("window","click",p=>{n.contains(p.target)||this.hideTooltip()}))}hideTooltip(n=!1){if(!this.component)return;const p=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),n?p():this.timeout=setTimeout(p,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}}return l.\u0275fac=function(n){return new(n||l)(a.Y36(ri),a.Y36(a.s_b),a.Y36(a.Qsj))},l.\u0275dir=a.lG2({type:l,selectors:[["","ngx-tooltip",""]],hostBindings:function(n,p){1&n&&a.NdJ("focusin",function(){return p.onFocus()})("blur",function(){return p.onBlur()})("mouseenter",function(){return p.onMouseEnter()})("mouseleave",function(F){return p.onMouseLeave(F.target)})("click",function(){return p.onMouseClick()})},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipTemplate:"tooltipTemplate",tooltipShowEvent:"tooltipShowEvent",tooltipContext:"tooltipContext",tooltipImmediateExit:"tooltipImmediateExit"},outputs:{show:"show",hide:"hide"}}),l})(),Fg=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=a.oAB({type:l}),l.\u0275inj=a.cJS({providers:[Vn,ri],imports:[[T.ez]]}),l})();const Ty={};function xl(){let l=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return l=`a${l}`,Ty[l]?xl():(Ty[l]=!0,l)}var Ll=(()=>{return(l=Ll||(Ll={})).Vertical="vertical",l.Horizontal="horizontal",Ll;var l})();let zp,Ng=(()=>{class l{constructor(){this.orientation=Ll.Vertical}ngOnChanges(n){this.x1="0%",this.x2="0%",this.y1="0%",this.y2="0%",this.orientation===Ll.Horizontal?this.x2="100%":this.orientation===Ll.Vertical&&(this.y1="100%")}}return l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=a.Xpm({type:l,selectors:[["g","ngx-charts-svg-linear-gradient",""]],inputs:{orientation:"orientation",name:"name",stops:"stops"},features:[a.TTD],attrs:g_,decls:2,vars:6,consts:[[3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(n,p){1&n&&(a.O4$(),a.TgZ(0,"linearGradient",0),a.YNc(1,ng,1,5,"stop",1),a.qZA()),2&n&&(a.Q6J("id",p.name),a.uIk("x1",p.x1)("y1",p.y1)("x2",p.x2)("y2",p.y2),a.xp6(1),a.Q6J("ngForOf",p.stops))},dependencies:[T.sg],encapsulation:2,changeDetection:0}),l})();typeof window<"u"?zp=window:typeof global<"u"&&(zp=global);let rc=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=a.oAB({type:l}),l.\u0275inj=a.cJS({imports:[[T.ez,zu,Fg],T.ez,zu,Fg]}),l})();const jv=[{name:"vivid",selectable:!0,group:oi.Ordinal,domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:oi.Ordinal,domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:oi.Ordinal,domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:oi.Ordinal,domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:oi.Linear,domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:oi.Linear,domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:oi.Linear,domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:oi.Ordinal,domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:oi.Ordinal,domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:oi.Ordinal,domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:oi.Ordinal,domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:oi.Ordinal,domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:oi.Ordinal,domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:oi.Ordinal,domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:oi.Ordinal,domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}];class Jy{constructor(b,n,p,D){"string"==typeof b&&(b=jv.find(F=>F.name===b)),this.colorDomain=b.domain,this.scaleType=n,this.domain=p,this.customColors=D,this.scale=this.generateColorScheme(b,n,this.domain)}generateColorScheme(b,n,p){let D;switch("string"==typeof b&&(b=jv.find(F=>F.name===b)),n){case oi.Quantile:D=Bu().range(b.domain).domain(p);break;case oi.Ordinal:D=Km().range(b.domain).domain(p);break;case oi.Linear:{const F=[...b.domain];1===F.length&&(F.push(F[0]),this.colorDomain=F);const J=mh(0,1,1/F.length);D=uf().range(F).domain(J)}}return D}getColor(b){if(null==b)throw new Error("Value can not be null");if(this.scaleType===oi.Linear){const n=uf().domain(this.domain).range([0,1]);return this.scale(n(b))}{if("function"==typeof this.customColors)return this.customColors(b);const n=b.toString();let p;return this.customColors&&this.customColors.length>0&&(p=this.customColors.find(D=>D.name.toLowerCase()===n.toLowerCase())),p?p.value:this.scale(b)}}getLinearGradientStops(b,n){void 0===n&&(n=this.domain[0]);const p=uf().domain(this.domain).range([0,1]),D=Kd().domain(this.colorDomain).range([0,1]),F=this.getColor(b),J=p(n),Oe=this.getColor(n),$t=p(b);let Gt=1,kn=J;const Rn=[];for(Rn.push({color:Oe,offset:J,originalOffset:J,opacity:1});kn<$t&&Gt<this.colorDomain.length;){const ei=this.colorDomain[Gt],bi=D(ei);if(bi<=J)Gt++;else{if(bi.toFixed(4)>=($t-D.bandwidth()).toFixed(4))break;Rn.push({color:ei,offset:bi,opacity:1}),kn=bi,Gt++}}if(Rn[Rn.length-1].offset<100&&Rn.push({color:F,offset:$t,opacity:1}),$t===J)Rn[0].offset=0,Rn[1].offset=100;else if(100!==Rn[Rn.length-1].offset)for(const ei of Rn)ei.offset=(ei.offset-J)/($t-J)*100;return Rn}}let th=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=a.oAB({type:l}),l.\u0275inj=a.cJS({imports:[[rc]]}),l})(),Ug=(()=>{class l{constructor(n){this.roundEdges=!0,this.gradient=!1,this.offset=0,this.isActive=!1,this.animations=!0,this.noBarWhenZero=!0,this.select=new a.vpe,this.activate=new a.vpe,this.deactivate=new a.vpe,this.hasGradient=!1,this.hideBar=!1,this.element=n.nativeElement}ngOnChanges(n){n.roundEdges&&this.loadAnimation(),this.update()}update(){this.gradientId="grad"+xl().toString(),this.gradientFill=`url(#${this.gradientId})`,this.gradient||this.stops?(this.gradientStops=this.getGradient(),this.hasGradient=!0):this.hasGradient=!1,this.updatePathEl(),this.checkToHideBar()}loadAnimation(){this.path=this.getStartingPath(),setTimeout(this.update.bind(this),100)}updatePathEl(){const n=function ur(l){return"string"==typeof l?new zi([[document.querySelector(l)]],[document.documentElement]):new zi([[l]],ci)}(this.element).select(".bar"),p=this.getPath();this.animations?n.transition().duration(500).attr("d",p):n.attr("d",p)}getGradient(){return this.stops?this.stops:[{offset:0,color:this.fill,opacity:this.getStartOpacity()},{offset:100,color:this.fill,opacity:1}]}getStartingPath(){if(!this.animations)return this.getPath();let p,n=this.getRadius();return this.roundEdges?this.orientation===Ll.Vertical?(n=Math.min(this.height,n),p=hu(this.x,this.y+this.height,this.width,1,0,this.edges)):this.orientation===Ll.Horizontal&&(n=Math.min(this.width,n),p=hu(this.x,this.y,1,this.height,0,this.edges)):this.orientation===Ll.Vertical?p=hu(this.x,this.y+this.height,this.width,1,0,this.edges):this.orientation===Ll.Horizontal&&(p=hu(this.x,this.y,1,this.height,0,this.edges)),p}getPath(){let p,n=this.getRadius();return this.roundEdges?this.orientation===Ll.Vertical?(n=Math.min(this.height,n),p=hu(this.x,this.y,this.width,this.height,n,this.edges)):this.orientation===Ll.Horizontal&&(n=Math.min(this.width,n),p=hu(this.x,this.y,this.width,this.height,n,this.edges)):p=hu(this.x,this.y,this.width,this.height,n,this.edges),p}getRadius(){let n=0;return this.roundEdges&&this.height>5&&this.width>5&&(n=Math.floor(Math.min(5,this.height/2,this.width/2))),n}getStartOpacity(){return this.roundEdges?.2:.5}get edges(){let n=[!1,!1,!1,!1];return this.roundEdges&&(this.orientation===Ll.Vertical?n=this.data.value>0?[!0,!0,!1,!1]:[!1,!1,!0,!0]:this.orientation===Ll.Horizontal&&(n=this.data.value>0?[!1,!0,!1,!0]:[!0,!1,!0,!1])),n}onMouseEnter(){this.activate.emit(this.data)}onMouseLeave(){this.deactivate.emit(this.data)}checkToHideBar(){this.hideBar=this.noBarWhenZero&&(this.orientation===Ll.Vertical&&0===this.height||this.orientation===Ll.Horizontal&&0===this.width)}}return l.\u0275fac=function(n){return new(n||l)(a.Y36(a.SBq))},l.\u0275cmp=a.Xpm({type:l,selectors:[["g","ngx-charts-bar",""]],hostBindings:function(n,p){1&n&&a.NdJ("mouseenter",function(){return p.onMouseEnter()})("mouseleave",function(){return p.onMouseLeave()})},inputs:{fill:"fill",data:"data",width:"width",height:"height",x:"x",y:"y",orientation:"orientation",roundEdges:"roundEdges",gradient:"gradient",offset:"offset",isActive:"isActive",stops:"stops",animations:"animations",ariaLabel:"ariaLabel",noBarWhenZero:"noBarWhenZero"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[a.TTD],attrs:C_,decls:2,vars:8,consts:[[4,"ngIf"],["stroke","none","role","img","tabIndex","-1",1,"bar",3,"click"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"]],template:function(n,p){1&n&&(a.YNc(0,_g,2,3,"defs",0),a.O4$(),a.TgZ(1,"path",1),a.NdJ("click",function(){return p.select.emit(p.data)}),a.qZA()),2&n&&(a.Q6J("ngIf",p.hasGradient),a.xp6(1),a.ekj("active",p.isActive)("hidden",p.hideBar),a.uIk("d",p.path)("aria-label",p.ariaLabel)("fill",p.hasGradient?p.gradientFill:p.fill))},dependencies:[Ng,T.O5],encapsulation:2,changeDetection:0}),l})();var iu=(()=>{return(l=iu||(iu={})).Standard="standard",l.Normalized="normalized",l.Stacked="stacked",iu;var l})(),Ef=(()=>{return(l=Ef||(Ef={})).positive="positive",l.negative="negative",Ef;var l})();let tv=(()=>{class l{constructor(n){this.dimensionsChanged=new a.vpe,this.horizontalPadding=2,this.verticalPadding=5,this.element=n.nativeElement}ngOnChanges(n){this.update()}getSize(){return{height:this.element.getBoundingClientRect().height,width:this.element.getBoundingClientRect().width,negative:this.value<0}}ngAfterViewInit(){this.dimensionsChanged.emit(this.getSize())}update(){this.formatedValue=this.valueFormatting?this.valueFormatting(this.value):ir(this.value),"horizontal"===this.orientation?(this.x=this.barX+this.barWidth,this.value<0?(this.x=this.x-this.horizontalPadding,this.textAnchor="end"):(this.x=this.x+this.horizontalPadding,this.textAnchor="start"),this.y=this.barY+this.barHeight/2):(this.x=this.barX+this.barWidth/2,this.y=this.barY+this.barHeight,this.value<0?(this.y=this.y+this.verticalPadding,this.textAnchor="end"):(this.y=this.y-this.verticalPadding,this.textAnchor="start"),this.transform=`rotate(-45, ${this.x} , ${this.y})`)}}return l.\u0275fac=function(n){return new(n||l)(a.Y36(a.SBq))},l.\u0275cmp=a.Xpm({type:l,selectors:[["g","ngx-charts-bar-label",""]],inputs:{value:"value",valueFormatting:"valueFormatting",barX:"barX",barY:"barY",barWidth:"barWidth",barHeight:"barHeight",orientation:"orientation"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[a.TTD],attrs:vg,decls:2,vars:5,consts:[["alignment-baseline","middle",1,"textDataLabel"]],template:function(n,p){1&n&&(a.O4$(),a.TgZ(0,"text",0),a._uU(1),a.qZA()),2&n&&(a.uIk("text-anchor",p.textAnchor)("transform",p.transform)("x",p.x)("y",p.y),a.xp6(1),a.hij(" ",p.formatedValue," "))},styles:[".textDataLabel[_ngcontent-%COMP%]{font-size:11px}"],changeDetection:0}),l})(),nv=(()=>{class l{constructor(){this.type=iu.Standard,this.tooltipDisabled=!1,this.animations=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.select=new a.vpe,this.activate=new a.vpe,this.deactivate=new a.vpe,this.dataLabelWidthChanged=new a.vpe,this.barsForDataLabels=[],this.barOrientation=Ll}ngOnChanges(n){this.update()}update(){this.updateTooltipSettings();const n={[Ef.positive]:0,[Ef.negative]:0};let p,D;p=Ef.positive,this.type===iu.Normalized&&(D=this.series.map(J=>J.value).reduce((J,Oe)=>J+Oe,0));const F=Math.max(this.xScale.domain()[0],0);this.bars=this.series.map(J=>{let Oe=J.value;const $t=this.getLabel(J),Gt=ir($t);p=Oe>0?Ef.positive:Ef.negative;const Rn={value:Oe,label:$t,roundEdges:this.roundEdges,data:J,formattedLabel:Gt};if(Rn.height=this.yScale.bandwidth(),this.type===iu.Standard)Rn.width=Math.abs(this.xScale(Oe)-this.xScale(F)),Rn.x=this.xScale(Oe<0?Oe:F),Rn.y=this.yScale($t);else if(this.type===iu.Stacked){const bi=n[p],Yi=bi+Oe;n[p]+=Oe,Rn.width=this.xScale(Yi)-this.xScale(bi),Rn.x=this.xScale(bi),Rn.y=0,Rn.offset0=bi,Rn.offset1=Yi}else if(this.type===iu.Normalized){let bi=n[p],Yi=bi+Oe;n[p]+=Oe,D>0?(bi=100*bi/D,Yi=100*Yi/D):(bi=0,Yi=0),Rn.width=this.xScale(Yi)-this.xScale(bi),Rn.x=this.xScale(bi),Rn.y=0,Rn.offset0=bi,Rn.offset1=Yi,Oe=(Yi-bi).toFixed(2)+"%"}this.colors.scaleType===oi.Ordinal?Rn.color=this.colors.getColor($t):this.type===iu.Standard?(Rn.color=this.colors.getColor(Oe),Rn.gradientStops=this.colors.getLinearGradientStops(Oe)):(Rn.color=this.colors.getColor(Rn.offset1),Rn.gradientStops=this.colors.getLinearGradientStops(Rn.offset1,Rn.offset0));let ei=Gt;return Rn.ariaLabel=Gt+" "+Oe.toLocaleString(),null!=this.seriesName&&(ei=`${this.seriesName} \u2022 ${Gt}`,Rn.data.series=this.seriesName,Rn.ariaLabel=this.seriesName+" "+Rn.ariaLabel),Rn.tooltipText=this.tooltipDisabled?void 0:`\n        <span class="tooltip-label">${function er(l){return l.toLocaleString().replace(/[&'`"<>]/g,b=>({"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"}[b]))}(ei)}</span>\n        <span class="tooltip-val">${this.dataLabelFormatting?this.dataLabelFormatting(Oe):Oe.toLocaleString()}</span>\n      `,Rn}),this.updateDataLabels()}updateDataLabels(){if(this.type===iu.Stacked){this.barsForDataLabels=[];const n={};n.series=this.seriesName;const p=this.series.map(F=>F.value).reduce((F,J)=>J>0?F+J:F,0),D=this.series.map(F=>F.value).reduce((F,J)=>J<0?F+J:F,0);n.total=p+D,n.x=0,n.y=0,n.width=this.xScale(n.total>0?p:D),n.height=this.yScale.bandwidth(),this.barsForDataLabels.push(n)}else this.barsForDataLabels=this.series.map(n=>{const p={};return p.series=this.seriesName??n.label,p.total=n.value,p.x=this.xScale(0),p.y=this.yScale(n.label),p.width=this.xScale(p.total)-this.xScale(0),p.height=this.yScale.bandwidth(),p})}updateTooltipSettings(){this.tooltipPlacement=this.tooltipDisabled?void 0:$.Top,this.tooltipType=this.tooltipDisabled?void 0:Hp.tooltip}isActive(n){return!!this.activeEntries&&void 0!==this.activeEntries.find(D=>n.name===D.name&&n.value===D.value)}getLabel(n){return n.label?n.label:n.name}trackBy(n,p){return p.label}trackDataLabelBy(n,p){return n+"#"+p.series+"#"+p.total}click(n){this.select.emit(n)}}return l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=a.Xpm({type:l,selectors:[["g","ngx-charts-series-horizontal",""]],inputs:{dims:"dims",type:"type",series:"series",xScale:"xScale",yScale:"yScale",colors:"colors",tooltipDisabled:"tooltipDisabled",gradient:"gradient",activeEntries:"activeEntries",seriesName:"seriesName",tooltipTemplate:"tooltipTemplate",roundEdges:"roundEdges",animations:"animations",showDataLabel:"showDataLabel",dataLabelFormatting:"dataLabelFormatting",noBarWhenZero:"noBarWhenZero"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dataLabelWidthChanged:"dataLabelWidthChanged"},features:[a.TTD],attrs:Jf,decls:2,vars:3,consts:[["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","isActive","ariaLabel","animations","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","select","activate","deactivate",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","isActive","ariaLabel","animations","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","select","activate","deactivate"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged"]],template:function(n,p){1&n&&(a.YNc(0,dy,1,21,"g",0),a.YNc(1,wv,2,2,"g",1)),2&n&&(a.Q6J("ngForOf",p.bars)("ngForTrackBy",p.trackBy),a.xp6(1),a.Q6J("ngIf",p.showDataLabel))},dependencies:[Ug,tv,T.sg,Rg,T.O5],encapsulation:2,data:{animation:[(0,Re.X$)("animationState",[(0,Re.eR)(":leave",[(0,Re.oB)({opacity:1}),(0,Re.jt)(500,(0,Re.oB)({opacity:0}))])])]},changeDetection:0}),l})(),Yh=(()=>{class l extends Du{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition=hi.Right,this.tooltipDisabled=!1,this.showGridLines=!0,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.barPadding=8,this.roundDomains=!1,this.roundEdges=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.wrapTicks=!1,this.activate=new a.vpe,this.deactivate=new a.vpe,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.dataLabelMaxWidth={negative:0,positive:0}}update(){super.update(),this.showDataLabel||(this.dataLabelMaxWidth={negative:0,positive:0}),this.margin=[10,20+this.dataLabelMaxWidth.positive,10,20+this.dataLabelMaxWidth.negative],this.dims=function Vg({width:l,height:b,margins:n,showXAxis:p=!1,showYAxis:D=!1,xAxisHeight:F=0,yAxisWidth:J=0,showXLabel:Oe=!1,showYLabel:$t=!1,showLegend:Gt=!1,legendType:kn=oi.Ordinal,legendPosition:Rn=hi.Right,columns:ei=12}){let bi=n[3],Yi=l,ls=b-n[0]-n[2];return Gt&&Rn===hi.Right&&(ei-=kn===oi.Ordinal?2:1),Yi=Yi*ei/12,Yi=Yi-n[1]-n[3],p&&(ls-=5,ls-=F,Oe&&(ls-=30)),D&&(Yi-=5,Yi-=J,bi+=J,bi+=10,$t&&(Yi-=30,bi+=30)),Yi=Math.max(0,Yi),ls=Math.max(0,ls),{width:Math.floor(Yi),height:Math.floor(ls),xOffset:Math.floor(bi)}}({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.formatDates(),this.xScale=this.getXScale(),this.yScale=this.getYScale(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]})`}getXScale(){this.xDomain=this.getXDomain();const n=uf().range([0,this.dims.width]).domain(this.xDomain);return this.roundDomains?n.nice():n}getYScale(){this.yDomain=this.getYDomain();const n=this.yDomain.length/(this.dims.height/this.barPadding+1);return Kd().rangeRound([0,this.dims.height]).paddingInner(n).domain(this.yDomain)}getXDomain(){const n=this.results.map(F=>F.value);return[this.xScaleMin?Math.min(this.xScaleMin,...n):Math.min(0,...n),this.xScaleMax?Math.max(this.xScaleMax,...n):Math.max(0,...n)]}getYDomain(){return this.results.map(n=>n.label)}onClick(n){this.select.emit(n)}setColors(){let n;n=this.schemeType===oi.Ordinal?this.yDomain:this.xDomain,this.colors=new Jy(this.scheme,this.schemeType,n,this.customColors)}getLegendOptions(){const n={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return"ordinal"===n.scaleType?(n.domain=this.yDomain,n.colors=this.colors,n.title=this.legendTitle):(n.domain=this.xDomain,n.colors=this.colors.scale),n}updateYAxisWidth({width:n}){this.yAxisWidth=n,this.update()}updateXAxisHeight({height:n}){this.xAxisHeight=n,this.update()}onDataLabelMaxWidthChanged(n){n.size.negative?this.dataLabelMaxWidth.negative=Math.max(this.dataLabelMaxWidth.negative,n.size.width):this.dataLabelMaxWidth.positive=Math.max(this.dataLabelMaxWidth.positive,n.size.width),n.index===this.results.length-1&&setTimeout(()=>this.update())}onActivate(n,p=!1){n=this.results.find(F=>p?F.label===n.name:F.name===n.name),!(this.activeEntries.findIndex(F=>F.name===n.name&&F.value===n.value&&F.series===n.series)>-1)&&(this.activeEntries=[n,...this.activeEntries],this.activate.emit({value:n,entries:this.activeEntries}))}onDeactivate(n,p=!1){n=this.results.find(F=>p?F.label===n.name:F.name===n.name);const D=this.activeEntries.findIndex(F=>F.name===n.name&&F.value===n.value&&F.series===n.series);this.activeEntries.splice(D,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:n,entries:this.activeEntries})}}return l.\u0275fac=function(){let b;return function(p){return(b||(b=a.n5z(l)))(p||l)}}(),l.\u0275cmp=a.Xpm({type:l,selectors:[["ngx-charts-bar-horizontal"]],contentQueries:function(n,p,D){if(1&n&&a.Suo(D,zh,5),2&n){let F;a.iGM(F=a.CRH())&&(p.tooltipTemplate=F.first)}},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",tooltipDisabled:"tooltipDisabled",gradient:"gradient",showGridLines:"showGridLines",activeEntries:"activeEntries",schemeType:"schemeType",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",barPadding:"barPadding",roundDomains:"roundDomains",roundEdges:"roundEdges",xScaleMax:"xScaleMax",xScaleMin:"xScaleMin",showDataLabel:"showDataLabel",dataLabelFormatting:"dataLabelFormatting",noBarWhenZero:"noBarWhenZero",wrapTicks:"wrapTicks"},outputs:{activate:"activate",deactivate:"deactivate"},features:[a.qOj],decls:5,vars:25,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelClick","legendLabelActivate","legendLabelDeactivate"],[1,"bar-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","yAxisOffset","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-series-horizontal","",3,"xScale","yScale","colors","series","dims","gradient","tooltipDisabled","tooltipTemplate","activeEntries","roundEdges","animations","showDataLabel","dataLabelFormatting","noBarWhenZero","select","activate","deactivate","dataLabelWidthChanged"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","yAxisOffset","wrapTicks","dimensionsChanged"]],template:function(n,p){1&n&&(a.TgZ(0,"ngx-charts-chart",0),a.NdJ("legendLabelClick",function(F){return p.onClick(F)})("legendLabelActivate",function(F){return p.onActivate(F,!0)})("legendLabelDeactivate",function(F){return p.onDeactivate(F,!0)}),a.O4$(),a.TgZ(1,"g",1),a.YNc(2,yg,1,11,"g",2),a.YNc(3,Cv,1,10,"g",3),a.TgZ(4,"g",4),a.NdJ("select",function(F){return p.onClick(F)})("activate",function(F){return p.onActivate(F)})("deactivate",function(F){return p.onDeactivate(F)})("dataLabelWidthChanged",function(F){return p.onDataLabelMaxWidthChanged(F)}),a.qZA()()()),2&n&&(a.Q6J("view",a.WLB(22,du,p.width,p.height))("showLegend",p.legend)("legendOptions",p.legendOptions)("activeEntries",p.activeEntries)("animations",p.animations),a.xp6(1),a.uIk("transform",p.transform),a.xp6(1),a.Q6J("ngIf",p.xAxis),a.xp6(1),a.Q6J("ngIf",p.yAxis),a.xp6(1),a.Q6J("xScale",p.xScale)("yScale",p.yScale)("colors",p.colors)("series",p.results)("dims",p.dims)("gradient",p.gradient)("tooltipDisabled",p.tooltipDisabled)("tooltipTemplate",p.tooltipTemplate)("activeEntries",p.activeEntries)("roundEdges",p.roundEdges)("animations",p.animations)("showDataLabel",p.showDataLabel)("dataLabelFormatting",p.dataLabelFormatting)("noBarWhenZero",p.noBarWhenZero))},dependencies:[Qs,Tf,Df,nv,T.O5],styles:[".ngx-charts-outer{animation:chartFadeIn linear .6s}@keyframes chartFadeIn{0%{opacity:0}20%{opacity:0}to{opacity:1}}.ngx-charts{float:left;overflow:visible}.ngx-charts .circle,.ngx-charts .cell,.ngx-charts .bar,.ngx-charts .node,.ngx-charts .link,.ngx-charts .arc{cursor:pointer}.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover,.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .node.active,.ngx-charts .node:hover,.ngx-charts .link.active,.ngx-charts .link:hover,.ngx-charts .card.active,.ngx-charts .card:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .bar:focus,.ngx-charts .cell:focus,.ngx-charts .arc:focus,.ngx-charts .node:focus,.ngx-charts .link:focus,.ngx-charts .card:focus{outline:none}.ngx-charts .bar.hidden,.ngx-charts .cell.hidden,.ngx-charts .arc.hidden,.ngx-charts .node.hidden,.ngx-charts .link.hidden,.ngx-charts .card.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .line-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .polar-series-path.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .area-series.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:#0000000d}\n"],encapsulation:2,changeDetection:0}),l})(),Ey=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=a.oAB({type:l}),l.\u0275inj=a.cJS({imports:[[rc]]}),l})();hf();let W0=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=a.oAB({type:l}),l.\u0275inj=a.cJS({imports:[[rc]]}),l})(),f0=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=a.oAB({type:l}),l.\u0275inj=a.cJS({imports:[[rc]]}),l})(),p0=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=a.oAB({type:l}),l.\u0275inj=a.cJS({imports:[[rc]]}),l})(),ky=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=a.oAB({type:l}),l.\u0275inj=a.cJS({imports:[[rc]]}),l})();Math;let qv=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=a.oAB({type:l}),l.\u0275inj=a.cJS({imports:[[rc]]}),l})(),rv=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=a.oAB({type:l}),l.\u0275inj=a.cJS({imports:[[rc,qv,ky]]}),l})(),Hm=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=a.oAB({type:l}),l.\u0275inj=a.cJS({imports:[[rc]]}),l})(),$l=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=a.oAB({type:l}),l.\u0275inj=a.cJS({imports:[[rc]]}),l})(),Fy=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=a.oAB({type:l}),l.\u0275inj=a.cJS({imports:[[rc,qv,Ey]]}),l})(),Ny=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=a.oAB({type:l}),l.\u0275inj=a.cJS({imports:[[rc]]}),l})(),b0=(()=>{class l{constructor(){!function Zg(){typeof SVGElement<"u"&&typeof SVGElement.prototype.contains>"u"&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}()}}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=a.oAB({type:l}),l.\u0275inj=a.cJS({imports:[rc,th,Ey,W0,f0,p0,Ny,ky,rv,Hm,qv,$l,Fy]}),l})()},259:(ai,qt,N)=>{"use strict";N.d(qt,{C6:()=>a.getApps,Mq:()=>a.getApp});var a=N(9681);(0,a.registerVersion)("firebase","9.16.0","app")},9260:(ai,qt,N)=>{"use strict";N.d(qt,{Z:()=>a.Z});var a=N(3942);a.Z.registerVersion("firebase","9.16.0","app-compat")},750:(ai,qt,N)=>{"use strict";N.r(qt);var a=N(5861),T=N(3942),O=N(2090),ue=N(9681),R=N(1877),Ee=N(7582),Re=N(3475);const Be=function Ve(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Je=function Ne(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ke=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),We=new R.Yd("@firebase/auth");function ft(z,...E){We.logLevel<=R.in.ERROR&&We.error(`Auth (${ue.SDK_VERSION}): ${z}`,...E)}function pt(z,...E){throw Me(z,...E)}function tt(z,...E){return Me(z,...E)}function je(z,E,k){const Z=Object.assign(Object.assign({},Je()),{[E]:k});return new O.LL("auth","Firebase",Z).create(E,{appName:z.name})}function Ye(z,E,k){if(!(E instanceof k))throw k.name!==E.constructor.name&&pt(z,"argument-error"),je(z,"argument-error",`Type of ${E.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Me(z,...E){if("string"!=typeof z){const k=E[0],Z=[...E.slice(1)];return Z[0]&&(Z[0].appName=z.name),z._errorFactory.create(k,...Z)}return Ke.create(z,...E)}function me(z,E,...k){if(!z)throw Me(E,...k)}function St(z){const E="INTERNAL ASSERTION FAILED: "+z;throw ft(E),new Error(E)}function vt(z,E){z||St(E)}const an=new Map;function xn(z){vt(z instanceof Function,"Expected a class definition");let E=an.get(z);return E?(vt(E instanceof z,"Instance stored in cache mismatched with class"),E):(E=new z,an.set(z,E),E)}function Gn(){var z;return typeof self<"u"&&(null===(z=self.location)||void 0===z?void 0:z.href)||""}function Tn(){return"http:"===Wn()||"https:"===Wn()}function Wn(){var z;return typeof self<"u"&&(null===(z=self.location)||void 0===z?void 0:z.protocol)||null}class Kt{constructor(E,k){this.shortDelay=E,this.longDelay=k,vt(k>E,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function Ht(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Tn()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function et(z,E){vt(z.emulator,"Emulator should always be set here");const{url:k}=z.emulator;return E?`${k}${E.startsWith("/")?E.slice(1):E}`:k}class Vt{static initialize(E,k,Z){this.fetchImpl=E,k&&(this.headersImpl=k),Z&&(this.responseImpl=Z)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void St("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void St("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void St("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Yn=new Kt(3e4,6e4);function en(z,E){return z.tenantId&&!E.tenantId?Object.assign(Object.assign({},E),{tenantId:z.tenantId}):E}function gn(z,E,k,Z){return On.apply(this,arguments)}function On(){return(On=(0,a.Z)(function*(z,E,k,Z,Qe={}){return Qn(z,Qe,(0,a.Z)(function*(){let kt={},Bn={};Z&&("GET"===E?Bn=Z:kt={body:JSON.stringify(Z)});const fi=(0,O.xO)(Object.assign({key:z.config.apiKey},Bn)).slice(1),Ki=yield z._getAdditionalHeaders();return Ki["Content-Type"]="application/json",z.languageCode&&(Ki["X-Firebase-Locale"]=z.languageCode),Vt.fetch()(pn(z,z.config.apiHost,k,fi),Object.assign({method:E,headers:Ki,referrerPolicy:"no-referrer"},kt))}))})).apply(this,arguments)}function Qn(z,E,k){return _n.apply(this,arguments)}function _n(){return(_n=(0,a.Z)(function*(z,E,k){z._canInitEmulator=!1;const Z=Object.assign(Object.assign({},jt),E);try{const Qe=new Pn(z),kt=yield Promise.race([k(),Qe.promise]);Qe.clearNetworkTimeout();const Bn=yield kt.json();if("needConfirmation"in Bn)throw Nt(z,"account-exists-with-different-credential",Bn);if(kt.ok&&!("errorMessage"in Bn))return Bn;{const fi=kt.ok?Bn.errorMessage:Bn.error.message,[Ki,pr]=fi.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ki)throw Nt(z,"credential-already-in-use",Bn);if("EMAIL_EXISTS"===Ki)throw Nt(z,"email-already-in-use",Bn);if("USER_DISABLED"===Ki)throw Nt(z,"user-disabled",Bn);const zr=Z[Ki]||Ki.toLowerCase().replace(/[_\s]+/g,"-");if(pr)throw je(z,zr,pr);pt(z,zr)}}catch(Qe){if(Qe instanceof O.ZR)throw Qe;pt(z,"network-request-failed")}})).apply(this,arguments)}function Nn(z,E,k,Z){return yn.apply(this,arguments)}function yn(){return(yn=(0,a.Z)(function*(z,E,k,Z,Qe={}){const kt=yield gn(z,E,k,Z,Qe);return"mfaPendingCredential"in kt&&pt(z,"multi-factor-auth-required",{_serverResponse:kt}),kt})).apply(this,arguments)}function pn(z,E,k,Z){const Qe=`${E}${k}?${Z}`;return z.config.emulator?et(z.config,Qe):`${z.config.apiScheme}://${Qe}`}class Pn{constructor(E){this.auth=E,this.timer=null,this.promise=new Promise((k,Z)=>{this.timer=setTimeout(()=>Z(tt(this.auth,"network-request-failed")),Yn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nt(z,E,k){const Z={appName:z.name};k.email&&(Z.email=k.email),k.phoneNumber&&(Z.phoneNumber=k.phoneNumber);const Qe=tt(z,E,Z);return Qe.customData._tokenResponse=k,Qe}function Rt(){return(Rt=(0,a.Z)(function*(z,E){return gn(z,"POST","/v1/accounts:delete",E)})).apply(this,arguments)}function bn(z,E){return lt.apply(this,arguments)}function lt(){return(lt=(0,a.Z)(function*(z,E){return gn(z,"POST","/v1/accounts:update",E)})).apply(this,arguments)}function le(z,E){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,a.Z)(function*(z,E){return gn(z,"POST","/v1/accounts:lookup",E)})).apply(this,arguments)}function ot(z){if(z)try{const E=new Date(Number(z));if(!isNaN(E.getTime()))return E.toUTCString()}catch{}}function Mt(){return(Mt=(0,a.Z)(function*(z,E=!1){const k=(0,O.m9)(z),Z=yield k.getIdToken(E),Qe=mn(Z);me(Qe&&Qe.exp&&Qe.auth_time&&Qe.iat,k.auth,"internal-error");const kt="object"==typeof Qe.firebase?Qe.firebase:void 0,Bn=kt?.sign_in_provider;return{claims:Qe,token:Z,authTime:ot(Tt(Qe.auth_time)),issuedAtTime:ot(Tt(Qe.iat)),expirationTime:ot(Tt(Qe.exp)),signInProvider:Bn||null,signInSecondFactor:kt?.sign_in_second_factor||null}})).apply(this,arguments)}function Tt(z){return 1e3*Number(z)}function mn(z){const[E,k,Z]=z.split(".");if(void 0===E||void 0===k||void 0===Z)return ft("JWT malformed, contained fewer than 3 sections"),null;try{const Qe=(0,O.tV)(k);return Qe?JSON.parse(Qe):(ft("Failed to decode base64 JWT payload"),null)}catch(Qe){return ft("Caught error parsing JWT payload as JSON",Qe?.toString()),null}}function Ln(z,E){return mi.apply(this,arguments)}function mi(){return(mi=(0,a.Z)(function*(z,E,k=!1){if(k)return E;try{return yield E}catch(Z){throw Z instanceof O.ZR&&Xi(Z)&&z.auth.currentUser===z&&(yield z.auth.signOut()),Z}})).apply(this,arguments)}function Xi({code:z}){return"auth/user-disabled"===z||"auth/user-token-expired"===z}class li{constructor(E){this.user=E,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(E){var k;if(E){const Z=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),Z}{this.errorBackoff=3e4;const Qe=(null!==(k=this.user.stsTokenManager.expirationTime)&&void 0!==k?k:0)-Date.now()-3e5;return Math.max(0,Qe)}}schedule(E=!1){var k=this;if(!this.isRunning)return;const Z=this.getInterval(E);this.timerId=setTimeout((0,a.Z)(function*(){yield k.iteration()}),Z)}iteration(){var E=this;return(0,a.Z)(function*(){try{yield E.user.getIdToken(!0)}catch(k){return void("auth/network-request-failed"===k?.code&&E.schedule(!0))}E.schedule()})()}}class Bi{constructor(E,k){this.createdAt=E,this.lastLoginAt=k,this._initializeTime()}_initializeTime(){this.lastSignInTime=ot(this.lastLoginAt),this.creationTime=ot(this.createdAt)}_copy(E){this.createdAt=E.createdAt,this.lastLoginAt=E.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Si(z){return _r.apply(this,arguments)}function _r(){return(_r=(0,a.Z)(function*(z){var E;const k=z.auth,Z=yield z.getIdToken(),Qe=yield Ln(z,le(k,{idToken:Z}));me(Qe?.users.length,k,"internal-error");const kt=Qe.users[0];z._notifyReloadListener(kt);const Bn=null!==(E=kt.providerUserInfo)&&void 0!==E&&E.length?xt(kt.providerUserInfo):[],fi=It(z.providerData,Bn),zr=!!z.isAnonymous&&!(z.email&&kt.passwordHash||fi?.length),Or={uid:kt.localId,displayName:kt.displayName||null,photoURL:kt.photoUrl||null,email:kt.email||null,emailVerified:kt.emailVerified||!1,phoneNumber:kt.phoneNumber||null,tenantId:kt.tenantId||null,providerData:fi,metadata:new Bi(kt.createdAt,kt.lastLoginAt),isAnonymous:zr};Object.assign(z,Or)})).apply(this,arguments)}function sn(){return(sn=(0,a.Z)(function*(z){const E=(0,O.m9)(z);yield Si(E),yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)})).apply(this,arguments)}function It(z,E){return[...z.filter(Z=>!E.some(Qe=>Qe.providerId===Z.providerId)),...E]}function xt(z){return z.map(E=>{var{providerId:k}=E,Z=(0,Ee._T)(E,["providerId"]);return{providerId:k,uid:Z.rawId||"",displayName:Z.displayName||null,email:Z.email||null,phoneNumber:Z.phoneNumber||null,photoURL:Z.photoUrl||null}})}function Ie(){return(Ie=(0,a.Z)(function*(z,E){const k=yield Qn(z,{},(0,a.Z)(function*(){const Z=(0,O.xO)({grant_type:"refresh_token",refresh_token:E}).slice(1),{tokenApiHost:Qe,apiKey:kt}=z.config,Bn=pn(z,Qe,"/v1/token",`key=${kt}`),fi=yield z._getAdditionalHeaders();return fi["Content-Type"]="application/x-www-form-urlencoded",Vt.fetch()(Bn,{method:"POST",headers:fi,body:Z})}));return{accessToken:k.access_token,expiresIn:k.expires_in,refreshToken:k.refresh_token}})).apply(this,arguments)}class pe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(E){me(E.idToken,"internal-error"),me(typeof E.idToken<"u","internal-error"),me(typeof E.refreshToken<"u","internal-error");const k="expiresIn"in E&&typeof E.expiresIn<"u"?Number(E.expiresIn):function An(z){const E=mn(z);return me(E,"internal-error"),me(typeof E.exp<"u","internal-error"),me(typeof E.iat<"u","internal-error"),Number(E.exp)-Number(E.iat)}(E.idToken);this.updateTokensAndExpiration(E.idToken,E.refreshToken,k)}getToken(E,k=!1){var Z=this;return(0,a.Z)(function*(){return me(!Z.accessToken||Z.refreshToken,E,"user-token-expired"),k||!Z.accessToken||Z.isExpired?Z.refreshToken?(yield Z.refresh(E,Z.refreshToken),Z.accessToken):null:Z.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(E,k){var Z=this;return(0,a.Z)(function*(){const{accessToken:Qe,refreshToken:kt,expiresIn:Bn}=yield function wt(z,E){return Ie.apply(this,arguments)}(E,k);Z.updateTokensAndExpiration(Qe,kt,Number(Bn))})()}updateTokensAndExpiration(E,k,Z){this.refreshToken=k||null,this.accessToken=E||null,this.expirationTime=Date.now()+1e3*Z}static fromJSON(E,k){const{refreshToken:Z,accessToken:Qe,expirationTime:kt}=k,Bn=new pe;return Z&&(me("string"==typeof Z,"internal-error",{appName:E}),Bn.refreshToken=Z),Qe&&(me("string"==typeof Qe,"internal-error",{appName:E}),Bn.accessToken=Qe),kt&&(me("number"==typeof kt,"internal-error",{appName:E}),Bn.expirationTime=kt),Bn}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(E){this.accessToken=E.accessToken,this.refreshToken=E.refreshToken,this.expirationTime=E.expirationTime}_clone(){return Object.assign(new pe,this.toJSON())}_performRefresh(){return St("not implemented")}}function ye(z,E){me("string"==typeof z||typeof z>"u","internal-error",{appName:E})}class st{constructor(E){var{uid:k,auth:Z,stsTokenManager:Qe}=E,kt=(0,Ee._T)(E,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new li(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=k,this.auth=Z,this.stsTokenManager=Qe,this.accessToken=Qe.accessToken,this.displayName=kt.displayName||null,this.email=kt.email||null,this.emailVerified=kt.emailVerified||!1,this.phoneNumber=kt.phoneNumber||null,this.photoURL=kt.photoURL||null,this.isAnonymous=kt.isAnonymous||!1,this.tenantId=kt.tenantId||null,this.providerData=kt.providerData?[...kt.providerData]:[],this.metadata=new Bi(kt.createdAt||void 0,kt.lastLoginAt||void 0)}getIdToken(E){var k=this;return(0,a.Z)(function*(){const Z=yield Ln(k,k.stsTokenManager.getToken(k.auth,E));return me(Z,k.auth,"internal-error"),k.accessToken!==Z&&(k.accessToken=Z,yield k.auth._persistUserIfCurrent(k),k.auth._notifyListenersIfCurrent(k)),Z})()}getIdTokenResult(E){return function Lt(z){return Mt.apply(this,arguments)}(this,E)}reload(){return function En(z){return sn.apply(this,arguments)}(this)}_assign(E){this!==E&&(me(this.uid===E.uid,this.auth,"internal-error"),this.displayName=E.displayName,this.photoURL=E.photoURL,this.email=E.email,this.emailVerified=E.emailVerified,this.phoneNumber=E.phoneNumber,this.isAnonymous=E.isAnonymous,this.tenantId=E.tenantId,this.providerData=E.providerData.map(k=>Object.assign({},k)),this.metadata._copy(E.metadata),this.stsTokenManager._assign(E.stsTokenManager))}_clone(E){return new st(Object.assign(Object.assign({},this),{auth:E,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(E){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=E,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(E){this.reloadListener?this.reloadListener(E):this.reloadUserInfo=E}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(E,k=!1){var Z=this;return(0,a.Z)(function*(){let Qe=!1;E.idToken&&E.idToken!==Z.stsTokenManager.accessToken&&(Z.stsTokenManager.updateFromServerResponse(E),Qe=!0),k&&(yield Si(Z)),yield Z.auth._persistUserIfCurrent(Z),Qe&&Z.auth._notifyListenersIfCurrent(Z)})()}delete(){var E=this;return(0,a.Z)(function*(){const k=yield E.getIdToken();return yield Ln(E,function tn(z,E){return Rt.apply(this,arguments)}(E.auth,{idToken:k})),E.stsTokenManager.clearRefreshToken(),E.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(E=>Object.assign({},E)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(E,k){var Z,Qe,kt,Bn,fi,Ki,pr,zr;const Or=null!==(Z=k.displayName)&&void 0!==Z?Z:void 0,vl=null!==(Qe=k.email)&&void 0!==Qe?Qe:void 0,Ul=null!==(kt=k.phoneNumber)&&void 0!==kt?kt:void 0,fc=null!==(Bn=k.photoURL)&&void 0!==Bn?Bn:void 0,$d=null!==(fi=k.tenantId)&&void 0!==fi?fi:void 0,id=null!==(Ki=k._redirectEventId)&&void 0!==Ki?Ki:void 0,Wd=null!==(pr=k.createdAt)&&void 0!==pr?pr:void 0,Oh=null!==(zr=k.lastLoginAt)&&void 0!==zr?zr:void 0,{uid:Lh,emailVerified:Ko,isAnonymous:Pl,providerData:Yd,stsTokenManager:Lc}=k;me(Lh&&Lc,E,"internal-error");const Ja=pe.fromJSON(this.name,Lc);me("string"==typeof Lh,E,"internal-error"),ye(Or,E.name),ye(vl,E.name),me("boolean"==typeof Ko,E,"internal-error"),me("boolean"==typeof Pl,E,"internal-error"),ye(Ul,E.name),ye(fc,E.name),ye($d,E.name),ye(id,E.name),ye(Wd,E.name),ye(Oh,E.name);const Rh=new st({uid:Lh,auth:E,email:vl,emailVerified:Ko,displayName:Or,isAnonymous:Pl,photoURL:fc,phoneNumber:Ul,tenantId:$d,stsTokenManager:Ja,createdAt:Wd,lastLoginAt:Oh});return Yd&&Array.isArray(Yd)&&(Rh.providerData=Yd.map(wd=>Object.assign({},wd))),id&&(Rh._redirectEventId=id),Rh}static _fromIdTokenResponse(E,k,Z=!1){return(0,a.Z)(function*(){const Qe=new pe;Qe.updateFromServerResponse(k);const kt=new st({uid:k.localId,auth:E,stsTokenManager:Qe,isAnonymous:Z});return yield Si(kt),kt})()}}const Te=(()=>{class z{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(k,Z){var Qe=this;return(0,a.Z)(function*(){Qe.storage[k]=Z})()}_get(k){var Z=this;return(0,a.Z)(function*(){const Qe=Z.storage[k];return void 0===Qe?null:Qe})()}_remove(k){var Z=this;return(0,a.Z)(function*(){delete Z.storage[k]})()}_addListener(k,Z){}_removeListener(k,Z){}}return z.type="NONE",z})();function ct(z,E,k){return`firebase:${z}:${E}:${k}`}class Fe{constructor(E,k,Z){this.persistence=E,this.auth=k,this.userKey=Z;const{config:Qe,name:kt}=this.auth;this.fullUserKey=ct(this.userKey,Qe.apiKey,kt),this.fullPersistenceKey=ct("persistence",Qe.apiKey,kt),this.boundEventHandler=k._onStorageEvent.bind(k),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(E){return this.persistence._set(this.fullUserKey,E.toJSON())}getCurrentUser(){var E=this;return(0,a.Z)(function*(){const k=yield E.persistence._get(E.fullUserKey);return k?st._fromJSON(E.auth,k):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(E){var k=this;return(0,a.Z)(function*(){if(k.persistence===E)return;const Z=yield k.getCurrentUser();return yield k.removeCurrentUser(),k.persistence=E,Z?k.setCurrentUser(Z):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(E,k,Z="authUser"){return(0,a.Z)(function*(){if(!k.length)return new Fe(xn(Te),E,Z);const Qe=(yield Promise.all(k.map(function(){var pr=(0,a.Z)(function*(zr){if(yield zr._isAvailable())return zr});return function(zr){return pr.apply(this,arguments)}}()))).filter(pr=>pr);let kt=Qe[0]||xn(Te);const Bn=ct(Z,E.config.apiKey,E.name);let fi=null;for(const pr of k)try{const zr=yield pr._get(Bn);if(zr){const Or=st._fromJSON(E,zr);pr!==kt&&(fi=Or),kt=pr;break}}catch{}const Ki=Qe.filter(pr=>pr._shouldAllowMigration);return kt._shouldAllowMigration&&Ki.length?(kt=Ki[0],fi&&(yield kt._set(Bn,fi.toJSON())),yield Promise.all(k.map(function(){var pr=(0,a.Z)(function*(zr){if(zr!==kt)try{yield zr._remove(Bn)}catch{}});return function(zr){return pr.apply(this,arguments)}}())),new Fe(kt,E,Z)):new Fe(kt,E,Z)})()}}function qe(z){const E=z.toLowerCase();if(E.includes("opera/")||E.includes("opr/")||E.includes("opios/"))return"Opera";if(Ui(E))return"IEMobile";if(E.includes("msie")||E.includes("trident/"))return"IE";if(E.includes("edge/"))return"Edge";if(Zt(E))return"Firefox";if(E.includes("silk/"))return"Silk";if(ut(E))return"Blackberry";if(ie(E))return"Webos";if(wn(E))return"Safari";if((E.includes("chrome/")||ti(E))&&!E.includes("edge/"))return"Chrome";if(Li(E))return"Android";{const Z=z.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===Z?.length)return Z[1]}return"Other"}function Zt(z=(0,O.z$)()){return/firefox\//i.test(z)}function wn(z=(0,O.z$)()){const E=z.toLowerCase();return E.includes("safari/")&&!E.includes("chrome/")&&!E.includes("crios/")&&!E.includes("android")}function ti(z=(0,O.z$)()){return/crios\//i.test(z)}function Ui(z=(0,O.z$)()){return/iemobile/i.test(z)}function Li(z=(0,O.z$)()){return/android/i.test(z)}function ut(z=(0,O.z$)()){return/blackberry/i.test(z)}function ie(z=(0,O.z$)()){return/webos/i.test(z)}function K(z=(0,O.z$)()){return/iphone|ipad|ipod/i.test(z)||/macintosh/i.test(z)&&/mobile/i.test(z)}function Hn(z=(0,O.z$)()){return K(z)||Li(z)||ie(z)||ut(z)||/windows phone/i.test(z)||Ui(z)}function pi(z,E=[]){let k;switch(z){case"Browser":k=qe((0,O.z$)());break;case"Worker":k=`${qe((0,O.z$)())}-${z}`;break;default:k=z}const Z=E.length?E.join(","):"FirebaseCore-web";return`${k}/JsCore/${ue.SDK_VERSION}/${Z}`}class mt{constructor(E){this.auth=E,this.queue=[]}pushCallback(E,k){const Z=kt=>new Promise((Bn,fi)=>{try{Bn(E(kt))}catch(Ki){fi(Ki)}});Z.onAbort=k,this.queue.push(Z);const Qe=this.queue.length-1;return()=>{this.queue[Qe]=()=>Promise.resolve()}}runMiddleware(E){var k=this;return(0,a.Z)(function*(){if(k.auth.currentUser===E)return;const Z=[];try{for(const Qe of k.queue)yield Qe(E),Qe.onAbort&&Z.push(Qe.onAbort)}catch(Qe){Z.reverse();for(const kt of Z)try{kt()}catch{}throw k.auth._errorFactory.create("login-blocked",{originalMessage:Qe?.message})}})()}}class Ft{constructor(E,k,Z){this.app=E,this.heartbeatServiceProvider=k,this.config=Z,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wt(this),this.idTokenSubscription=new Wt(this),this.beforeStateQueue=new mt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ke,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=E.name,this.clientVersion=Z.sdkClientVersion}_initializeWithPersistence(E,k){var Z=this;return k&&(this._popupRedirectResolver=xn(k)),this._initializationPromise=this.queue((0,a.Z)(function*(){var Qe,kt;if(!Z._deleted&&(Z.persistenceManager=yield Fe.create(Z,E),!Z._deleted)){if(null!==(Qe=Z._popupRedirectResolver)&&void 0!==Qe&&Qe._shouldInitProactively)try{yield Z._popupRedirectResolver._initialize(Z)}catch{}yield Z.initializeCurrentUser(k),Z.lastNotifiedUid=(null===(kt=Z.currentUser)||void 0===kt?void 0:kt.uid)||null,!Z._deleted&&(Z._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var E=this;return(0,a.Z)(function*(){if(E._deleted)return;const k=yield E.assertedPersistence.getCurrentUser();if(E.currentUser||k){if(E.currentUser&&k&&E.currentUser.uid===k.uid)return E._currentUser._assign(k),void(yield E.currentUser.getIdToken());yield E._updateCurrentUser(k,!0)}})()}initializeCurrentUser(E){var k=this;return(0,a.Z)(function*(){var Z;const Qe=yield k.assertedPersistence.getCurrentUser();let kt=Qe,Bn=!1;if(E&&k.config.authDomain){yield k.getOrInitRedirectPersistenceManager();const fi=null===(Z=k.redirectUser)||void 0===Z?void 0:Z._redirectEventId,Ki=kt?._redirectEventId,pr=yield k.tryRedirectSignIn(E);(!fi||fi===Ki)&&pr?.user&&(kt=pr.user,Bn=!0)}if(!kt)return k.directlySetCurrentUser(null);if(!kt._redirectEventId){if(Bn)try{yield k.beforeStateQueue.runMiddleware(kt)}catch(fi){kt=Qe,k._popupRedirectResolver._overrideRedirectResult(k,()=>Promise.reject(fi))}return kt?k.reloadAndSetCurrentUserOrClear(kt):k.directlySetCurrentUser(null)}return me(k._popupRedirectResolver,k,"argument-error"),yield k.getOrInitRedirectPersistenceManager(),k.redirectUser&&k.redirectUser._redirectEventId===kt._redirectEventId?k.directlySetCurrentUser(kt):k.reloadAndSetCurrentUserOrClear(kt)})()}tryRedirectSignIn(E){var k=this;return(0,a.Z)(function*(){let Z=null;try{Z=yield k._popupRedirectResolver._completeRedirectFn(k,E,!0)}catch{yield k._setRedirectUser(null)}return Z})()}reloadAndSetCurrentUserOrClear(E){var k=this;return(0,a.Z)(function*(){try{yield Si(E)}catch(Z){if("auth/network-request-failed"!==Z?.code)return k.directlySetCurrentUser(null)}return k.directlySetCurrentUser(E)})()}useDeviceLanguage(){this.languageCode=function Bt(){if(typeof navigator>"u")return null;const z=navigator;return z.languages&&z.languages[0]||z.language||null}()}_delete(){var E=this;return(0,a.Z)(function*(){E._deleted=!0})()}updateCurrentUser(E){var k=this;return(0,a.Z)(function*(){const Z=E?(0,O.m9)(E):null;return Z&&me(Z.auth.config.apiKey===k.config.apiKey,k,"invalid-user-token"),k._updateCurrentUser(Z&&Z._clone(k))})()}_updateCurrentUser(E,k=!1){var Z=this;return(0,a.Z)(function*(){if(!Z._deleted)return E&&me(Z.tenantId===E.tenantId,Z,"tenant-id-mismatch"),k||(yield Z.beforeStateQueue.runMiddleware(E)),Z.queue((0,a.Z)(function*(){yield Z.directlySetCurrentUser(E),Z.notifyAuthListeners()}))})()}signOut(){var E=this;return(0,a.Z)(function*(){return yield E.beforeStateQueue.runMiddleware(null),(E.redirectPersistenceManager||E._popupRedirectResolver)&&(yield E._setRedirectUser(null)),E._updateCurrentUser(null,!0)})()}setPersistence(E){var k=this;return this.queue((0,a.Z)(function*(){yield k.assertedPersistence.setPersistence(xn(E))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(E){this._errorFactory=new O.LL("auth","Firebase",E())}onAuthStateChanged(E,k,Z){return this.registerStateListener(this.authStateSubscription,E,k,Z)}beforeAuthStateChanged(E,k){return this.beforeStateQueue.pushCallback(E,k)}onIdTokenChanged(E,k,Z){return this.registerStateListener(this.idTokenSubscription,E,k,Z)}toJSON(){var E;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(E=this._currentUser)||void 0===E?void 0:E.toJSON()}}_setRedirectUser(E,k){var Z=this;return(0,a.Z)(function*(){const Qe=yield Z.getOrInitRedirectPersistenceManager(k);return null===E?Qe.removeCurrentUser():Qe.setCurrentUser(E)})()}getOrInitRedirectPersistenceManager(E){var k=this;return(0,a.Z)(function*(){if(!k.redirectPersistenceManager){const Z=E&&xn(E)||k._popupRedirectResolver;me(Z,k,"argument-error"),k.redirectPersistenceManager=yield Fe.create(k,[xn(Z._redirectPersistence)],"redirectUser"),k.redirectUser=yield k.redirectPersistenceManager.getCurrentUser()}return k.redirectPersistenceManager})()}_redirectUserForId(E){var k=this;return(0,a.Z)(function*(){var Z,Qe;return k._isInitialized&&(yield k.queue((0,a.Z)(function*(){}))),(null===(Z=k._currentUser)||void 0===Z?void 0:Z._redirectEventId)===E?k._currentUser:(null===(Qe=k.redirectUser)||void 0===Qe?void 0:Qe._redirectEventId)===E?k.redirectUser:null})()}_persistUserIfCurrent(E){var k=this;return(0,a.Z)(function*(){if(E===k.currentUser)return k.queue((0,a.Z)(function*(){return k.directlySetCurrentUser(E)}))})()}_notifyListenersIfCurrent(E){E===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var E,k;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const Z=null!==(k=null===(E=this.currentUser)||void 0===E?void 0:E.uid)&&void 0!==k?k:null;this.lastNotifiedUid!==Z&&(this.lastNotifiedUid=Z,this.authStateSubscription.next(this.currentUser))}registerStateListener(E,k,Z,Qe){if(this._deleted)return()=>{};const kt="function"==typeof k?k:k.next.bind(k),Bn=this._isInitialized?Promise.resolve():this._initializationPromise;return me(Bn,this,"internal-error"),Bn.then(()=>kt(this.currentUser)),"function"==typeof k?E.addObserver(k,Z,Qe):E.addObserver(k)}directlySetCurrentUser(E){var k=this;return(0,a.Z)(function*(){k.currentUser&&k.currentUser!==E&&k._currentUser._stopProactiveRefresh(),E&&k.isProactiveRefreshEnabled&&E._startProactiveRefresh(),k.currentUser=E,E?yield k.assertedPersistence.setCurrentUser(E):yield k.assertedPersistence.removeCurrentUser()})()}queue(E){return this.operations=this.operations.then(E,E),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(E){!E||this.frameworks.includes(E)||(this.frameworks.push(E),this.frameworks.sort(),this.clientVersion=pi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var E=this;return(0,a.Z)(function*(){var k;const Z={"X-Client-Version":E.clientVersion};E.app.options.appId&&(Z["X-Firebase-gmpid"]=E.app.options.appId);const Qe=yield null===(k=E.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===k?void 0:k.getHeartbeatsHeader();return Qe&&(Z["X-Firebase-Client"]=Qe),Z})()}}function it(z){return(0,O.m9)(z)}class Wt{constructor(E){this.auth=E,this.observer=null,this.addObserver=(0,O.ne)(k=>this.observer=k)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Yt(z){const E=z.indexOf(":");return E<0?"":z.substr(0,E+1)}function $e(z){if(!z)return null;const E=Number(z);return isNaN(E)?null:E}class Xt{constructor(E,k){this.providerId=E,this.signInMethod=k}toJSON(){return St("not implemented")}_getIdTokenResponse(E){return St("not implemented")}_linkToIdToken(E,k){return St("not implemented")}_getReauthenticationResolver(E){return St("not implemented")}}function ci(z,E){return zi.apply(this,arguments)}function zi(){return(zi=(0,a.Z)(function*(z,E){return gn(z,"POST","/v1/accounts:resetPassword",en(z,E))})).apply(this,arguments)}function ji(z,E){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,a.Z)(function*(z,E){return gn(z,"POST","/v1/accounts:update",E)})).apply(this,arguments)}function vr(z,E){return ur.apply(this,arguments)}function ur(){return(ur=(0,a.Z)(function*(z,E){return gn(z,"POST","/v1/accounts:update",en(z,E))})).apply(this,arguments)}function $r(){return($r=(0,a.Z)(function*(z,E){return Nn(z,"POST","/v1/accounts:signInWithPassword",en(z,E))})).apply(this,arguments)}function ss(z,E){return wo.apply(this,arguments)}function wo(){return(wo=(0,a.Z)(function*(z,E){return gn(z,"POST","/v1/accounts:sendOobCode",en(z,E))})).apply(this,arguments)}function nr(z,E){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,a.Z)(function*(z,E){return ss(z,E)})).apply(this,arguments)}function Ps(z,E){return qo.apply(this,arguments)}function qo(){return(qo=(0,a.Z)(function*(z,E){return ss(z,E)})).apply(this,arguments)}function Co(z,E){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,a.Z)(function*(z,E){return ss(z,E)})).apply(this,arguments)}function fa(z,E){return ws.apply(this,arguments)}function ws(){return(ws=(0,a.Z)(function*(z,E){return ss(z,E)})).apply(this,arguments)}function ta(){return(ta=(0,a.Z)(function*(z,E){return Nn(z,"POST","/v1/accounts:signInWithEmailLink",en(z,E))})).apply(this,arguments)}function Os(){return(Os=(0,a.Z)(function*(z,E){return Nn(z,"POST","/v1/accounts:signInWithEmailLink",en(z,E))})).apply(this,arguments)}class Ra extends Xt{constructor(E,k,Z,Qe=null){super("password",Z),this._email=E,this._password=k,this._tenantId=Qe}static _fromEmailAndPassword(E,k){return new Ra(E,k,"password")}static _fromEmailAndCode(E,k,Z=null){return new Ra(E,k,"emailLink",Z)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(E){const k="string"==typeof E?JSON.parse(E):E;if(k?.email&&k?.password){if("password"===k.signInMethod)return this._fromEmailAndPassword(k.email,k.password);if("emailLink"===k.signInMethod)return this._fromEmailAndCode(k.email,k.password,k.tenantId)}return null}_getIdTokenResponse(E){var k=this;return(0,a.Z)(function*(){switch(k.signInMethod){case"password":return function xs(z,E){return $r.apply(this,arguments)}(E,{returnSecureToken:!0,email:k._email,password:k._password});case"emailLink":return function Es(z,E){return ta.apply(this,arguments)}(E,{email:k._email,oobCode:k._password});default:pt(E,"internal-error")}})()}_linkToIdToken(E,k){var Z=this;return(0,a.Z)(function*(){switch(Z.signInMethod){case"password":return ji(E,{idToken:k,returnSecureToken:!0,email:Z._email,password:Z._password});case"emailLink":return function ja(z,E){return Os.apply(this,arguments)}(E,{idToken:k,email:Z._email,oobCode:Z._password});default:pt(E,"internal-error")}})()}_getReauthenticationResolver(E){return this._getIdTokenResponse(E)}}function cs(z,E){return Po.apply(this,arguments)}function Po(){return(Po=(0,a.Z)(function*(z,E){return Nn(z,"POST","/v1/accounts:signInWithIdp",en(z,E))})).apply(this,arguments)}class Ls extends Xt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(E){const k=new Ls(E.providerId,E.signInMethod);return E.idToken||E.accessToken?(E.idToken&&(k.idToken=E.idToken),E.accessToken&&(k.accessToken=E.accessToken),E.nonce&&!E.pendingToken&&(k.nonce=E.nonce),E.pendingToken&&(k.pendingToken=E.pendingToken)):E.oauthToken&&E.oauthTokenSecret?(k.accessToken=E.oauthToken,k.secret=E.oauthTokenSecret):pt("argument-error"),k}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(E){const k="string"==typeof E?JSON.parse(E):E,{providerId:Z,signInMethod:Qe}=k,kt=(0,Ee._T)(k,["providerId","signInMethod"]);if(!Z||!Qe)return null;const Bn=new Ls(Z,Qe);return Bn.idToken=kt.idToken||void 0,Bn.accessToken=kt.accessToken||void 0,Bn.secret=kt.secret,Bn.nonce=kt.nonce,Bn.pendingToken=kt.pendingToken||null,Bn}_getIdTokenResponse(E){return cs(E,this.buildRequest())}_linkToIdToken(E,k){const Z=this.buildRequest();return Z.idToken=k,cs(E,Z)}_getReauthenticationResolver(E){const k=this.buildRequest();return k.autoCreate=!1,cs(E,k)}buildRequest(){const E={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)E.pendingToken=this.pendingToken;else{const k={};this.idToken&&(k.id_token=this.idToken),this.accessToken&&(k.access_token=this.accessToken),this.secret&&(k.oauth_token_secret=this.secret),k.providerId=this.providerId,this.nonce&&!this.pendingToken&&(k.nonce=this.nonce),E.postBody=(0,O.xO)(k)}return E}}function Ga(z,E){return wa.apply(this,arguments)}function wa(){return(wa=(0,a.Z)(function*(z,E){return gn(z,"POST","/v1/accounts:sendVerificationCode",en(z,E))})).apply(this,arguments)}function Hs(){return(Hs=(0,a.Z)(function*(z,E){return Nn(z,"POST","/v1/accounts:signInWithPhoneNumber",en(z,E))})).apply(this,arguments)}function Rl(){return(Rl=(0,a.Z)(function*(z,E){const k=yield Nn(z,"POST","/v1/accounts:signInWithPhoneNumber",en(z,E));if(k.temporaryProof)throw Nt(z,"account-exists-with-different-credential",k);return k})).apply(this,arguments)}const Sr={USER_NOT_FOUND:"user-not-found"};function os(){return(os=(0,a.Z)(function*(z,E){return Nn(z,"POST","/v1/accounts:signInWithPhoneNumber",en(z,Object.assign(Object.assign({},E),{operation:"REAUTH"})),Sr)})).apply(this,arguments)}class Ta extends Xt{constructor(E){super("phone","phone"),this.params=E}static _fromVerification(E,k){return new Ta({verificationId:E,verificationCode:k})}static _fromTokenResponse(E,k){return new Ta({phoneNumber:E,temporaryProof:k})}_getIdTokenResponse(E){return function Ws(z,E){return Hs.apply(this,arguments)}(E,this._makeVerificationRequest())}_linkToIdToken(E,k){return function Ca(z,E){return Rl.apply(this,arguments)}(E,Object.assign({idToken:k},this._makeVerificationRequest()))}_getReauthenticationResolver(E){return function Rr(z,E){return os.apply(this,arguments)}(E,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:E,phoneNumber:k,verificationId:Z,verificationCode:Qe}=this.params;return E&&k?{temporaryProof:E,phoneNumber:k}:{sessionInfo:Z,code:Qe}}toJSON(){const E={providerId:this.providerId};return this.params.phoneNumber&&(E.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(E.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(E.verificationCode=this.params.verificationCode),this.params.verificationId&&(E.verificationId=this.params.verificationId),E}static fromJSON(E){"string"==typeof E&&(E=JSON.parse(E));const{verificationId:k,verificationCode:Z,phoneNumber:Qe,temporaryProof:kt}=E;return Z||k||Qe||kt?new Ta({verificationId:k,verificationCode:Z,phoneNumber:Qe,temporaryProof:kt}):null}}class Eo{constructor(E){var k,Z,Qe,kt,Bn,fi;const Ki=(0,O.zd)((0,O.pd)(E)),pr=null!==(k=Ki.apiKey)&&void 0!==k?k:null,zr=null!==(Z=Ki.oobCode)&&void 0!==Z?Z:null,Or=function Da(z){switch(z){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Qe=Ki.mode)&&void 0!==Qe?Qe:null);me(pr&&zr&&Or,"argument-error"),this.apiKey=pr,this.operation=Or,this.code=zr,this.continueUrl=null!==(kt=Ki.continueUrl)&&void 0!==kt?kt:null,this.languageCode=null!==(Bn=Ki.languageCode)&&void 0!==Bn?Bn:null,this.tenantId=null!==(fi=Ki.tenantId)&&void 0!==fi?fi:null}static parseLink(E){const k=function Bo(z){const E=(0,O.zd)((0,O.pd)(z)).link,k=E?(0,O.zd)((0,O.pd)(E)).deep_link_id:null,Z=(0,O.zd)((0,O.pd)(z)).deep_link_id;return(Z?(0,O.zd)((0,O.pd)(Z)).link:null)||Z||k||E||z}(E);try{return new Eo(k)}catch{return null}}}let Oo=(()=>{class z{constructor(){this.providerId=z.PROVIDER_ID}static credential(k,Z){return Ra._fromEmailAndPassword(k,Z)}static credentialWithLink(k,Z){const Qe=Eo.parseLink(Z);return me(Qe,"argument-error"),Ra._fromEmailAndCode(k,Qe.code,Qe.tenantId)}}return z.PROVIDER_ID="password",z.EMAIL_PASSWORD_SIGN_IN_METHOD="password",z.EMAIL_LINK_SIGN_IN_METHOD="emailLink",z})();class mo{constructor(E){this.providerId=E,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(E){this.defaultLanguageCode=E}setCustomParameters(E){return this.customParameters=E,this}getCustomParameters(){return this.customParameters}}class gs extends mo{constructor(){super(...arguments),this.scopes=[]}addScope(E){return this.scopes.includes(E)||this.scopes.push(E),this}getScopes(){return[...this.scopes]}}class Ur extends gs{static credentialFromJSON(E){const k="string"==typeof E?JSON.parse(E):E;return me("providerId"in k&&"signInMethod"in k,"argument-error"),Ls._fromParams(k)}credential(E){return this._credential(Object.assign(Object.assign({},E),{nonce:E.rawNonce}))}_credential(E){return me(E.idToken||E.accessToken,"argument-error"),Ls._fromParams(Object.assign(Object.assign({},E),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(E){return Ur.oauthCredentialFromTaggedObject(E)}static credentialFromError(E){return Ur.oauthCredentialFromTaggedObject(E.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:k,oauthAccessToken:Z,oauthTokenSecret:Qe,pendingToken:kt,nonce:Bn,providerId:fi}=E;if(!Z&&!Qe&&!k&&!kt||!fi)return null;try{return new Ur(fi)._credential({idToken:k,accessToken:Z,nonce:Bn,pendingToken:kt})}catch{return null}}}let tl=(()=>{class z extends gs{constructor(){super("facebook.com")}static credential(k){return Ls._fromParams({providerId:z.PROVIDER_ID,signInMethod:z.FACEBOOK_SIGN_IN_METHOD,accessToken:k})}static credentialFromResult(k){return z.credentialFromTaggedObject(k)}static credentialFromError(k){return z.credentialFromTaggedObject(k.customData||{})}static credentialFromTaggedObject({_tokenResponse:k}){if(!k||!("oauthAccessToken"in k)||!k.oauthAccessToken)return null;try{return z.credential(k.oauthAccessToken)}catch{return null}}}return z.FACEBOOK_SIGN_IN_METHOD="facebook.com",z.PROVIDER_ID="facebook.com",z})(),Fa=(()=>{class z extends gs{constructor(){super("google.com"),this.addScope("profile")}static credential(k,Z){return Ls._fromParams({providerId:z.PROVIDER_ID,signInMethod:z.GOOGLE_SIGN_IN_METHOD,idToken:k,accessToken:Z})}static credentialFromResult(k){return z.credentialFromTaggedObject(k)}static credentialFromError(k){return z.credentialFromTaggedObject(k.customData||{})}static credentialFromTaggedObject({_tokenResponse:k}){if(!k)return null;const{oauthIdToken:Z,oauthAccessToken:Qe}=k;if(!Z&&!Qe)return null;try{return z.credential(Z,Qe)}catch{return null}}}return z.GOOGLE_SIGN_IN_METHOD="google.com",z.PROVIDER_ID="google.com",z})(),Mo=(()=>{class z extends gs{constructor(){super("github.com")}static credential(k){return Ls._fromParams({providerId:z.PROVIDER_ID,signInMethod:z.GITHUB_SIGN_IN_METHOD,accessToken:k})}static credentialFromResult(k){return z.credentialFromTaggedObject(k)}static credentialFromError(k){return z.credentialFromTaggedObject(k.customData||{})}static credentialFromTaggedObject({_tokenResponse:k}){if(!k||!("oauthAccessToken"in k)||!k.oauthAccessToken)return null;try{return z.credential(k.oauthAccessToken)}catch{return null}}}return z.GITHUB_SIGN_IN_METHOD="github.com",z.PROVIDER_ID="github.com",z})();class Yo extends Xt{constructor(E,k){super(E,E),this.pendingToken=k}_getIdTokenResponse(E){return cs(E,this.buildRequest())}_linkToIdToken(E,k){const Z=this.buildRequest();return Z.idToken=k,cs(E,Z)}_getReauthenticationResolver(E){const k=this.buildRequest();return k.autoCreate=!1,cs(E,k)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(E){const k="string"==typeof E?JSON.parse(E):E,{providerId:Z,signInMethod:Qe,pendingToken:kt}=k;return Z&&Qe&&kt&&Z===Qe?new Yo(Z,kt):null}static _create(E,k){return new Yo(E,k)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class lo extends mo{constructor(E){me(E.startsWith("saml."),"argument-error"),super(E)}static credentialFromResult(E){return lo.samlCredentialFromTaggedObject(E)}static credentialFromError(E){return lo.samlCredentialFromTaggedObject(E.customData||{})}static credentialFromJSON(E){const k=Yo.fromJSON(E);return me(k,"argument-error"),k}static samlCredentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{pendingToken:k,providerId:Z}=E;if(!k||!Z)return null;try{return Yo._create(Z,k)}catch{return null}}}let wr=(()=>{class z extends gs{constructor(){super("twitter.com")}static credential(k,Z){return Ls._fromParams({providerId:z.PROVIDER_ID,signInMethod:z.TWITTER_SIGN_IN_METHOD,oauthToken:k,oauthTokenSecret:Z})}static credentialFromResult(k){return z.credentialFromTaggedObject(k)}static credentialFromError(k){return z.credentialFromTaggedObject(k.customData||{})}static credentialFromTaggedObject({_tokenResponse:k}){if(!k)return null;const{oauthAccessToken:Z,oauthTokenSecret:Qe}=k;if(!Z||!Qe)return null;try{return z.credential(Z,Qe)}catch{return null}}}return z.TWITTER_SIGN_IN_METHOD="twitter.com",z.PROVIDER_ID="twitter.com",z})();function Ea(z,E){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,a.Z)(function*(z,E){return Nn(z,"POST","/v1/accounts:signUp",en(z,E))})).apply(this,arguments)}class Ms{constructor(E){this.user=E.user,this.providerId=E.providerId,this._tokenResponse=E._tokenResponse,this.operationType=E.operationType}static _fromIdTokenResponse(E,k,Z,Qe=!1){return(0,a.Z)(function*(){const kt=yield st._fromIdTokenResponse(E,Z,Qe),Bn=To(Z);return new Ms({user:kt,providerId:Bn,_tokenResponse:Z,operationType:k})})()}static _forOperation(E,k,Z){return(0,a.Z)(function*(){yield E._updateTokensIfNecessary(Z,!0);const Qe=To(Z);return new Ms({user:E,providerId:Qe,_tokenResponse:Z,operationType:k})})()}}function To(z){return z.providerId?z.providerId:"phoneNumber"in z?"phone":null}function Kr(){return(Kr=(0,a.Z)(function*(z){var E;const k=it(z);if(yield k._initializationPromise,null!==(E=k.currentUser)&&void 0!==E&&E.isAnonymous)return new Ms({user:k.currentUser,providerId:null,operationType:"signIn"});const Z=yield Ea(k,{returnSecureToken:!0}),Qe=yield Ms._fromIdTokenResponse(k,"signIn",Z,!0);return yield k._updateCurrentUser(Qe.user),Qe})).apply(this,arguments)}class us extends O.ZR{constructor(E,k,Z,Qe){var kt;super(k.code,k.message),this.operationType=Z,this.user=Qe,Object.setPrototypeOf(this,us.prototype),this.customData={appName:E.name,tenantId:null!==(kt=E.tenantId)&&void 0!==kt?kt:void 0,_serverResponse:k.customData._serverResponse,operationType:Z}}static _fromErrorAndOperation(E,k,Z,Qe){return new us(E,k,Z,Qe)}}function Ir(z,E,k,Z){return("reauthenticate"===E?k._getReauthenticationResolver(z):k._getIdTokenResponse(z)).catch(kt=>{throw"auth/multi-factor-auth-required"===kt.code?us._fromErrorAndOperation(z,kt,E,Z):kt})}function Us(z){return new Set(z.map(({providerId:E})=>E).filter(E=>!!E))}function Lo(){return(Lo=(0,a.Z)(function*(z,E){const k=(0,O.m9)(z);yield Vr(!0,k,E);const{providerUserInfo:Z}=yield bn(k.auth,{idToken:yield k.getIdToken(),deleteProvider:[E]}),Qe=Us(Z||[]);return k.providerData=k.providerData.filter(kt=>Qe.has(kt.providerId)),Qe.has("phone")||(k.phoneNumber=null),yield k.auth._persistUserIfCurrent(k),k})).apply(this,arguments)}function Na(z,E){return zs.apply(this,arguments)}function zs(){return(zs=(0,a.Z)(function*(z,E,k=!1){const Z=yield Ln(z,E._linkToIdToken(z.auth,yield z.getIdToken()),k);return Ms._forOperation(z,"link",Z)})).apply(this,arguments)}function Vr(z,E,k){return hl.apply(this,arguments)}function hl(){return(hl=(0,a.Z)(function*(z,E,k){yield Si(E);const Qe=!1===z?"provider-already-linked":"no-such-provider";me(Us(E.providerData).has(k)===z,E.auth,Qe)})).apply(this,arguments)}function eo(z,E){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,a.Z)(function*(z,E,k=!1){const{auth:Z}=z,Qe="reauthenticate";try{const kt=yield Ln(z,Ir(Z,Qe,E,z),k);me(kt.idToken,Z,"internal-error");const Bn=mn(kt.idToken);me(Bn,Z,"internal-error");const{sub:fi}=Bn;return me(z.uid===fi,Z,"user-mismatch"),Ms._forOperation(z,Qe,kt)}catch(kt){throw"auth/user-not-found"===kt?.code&&pt(Z,"user-mismatch"),kt}})).apply(this,arguments)}function Vo(z,E){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,a.Z)(function*(z,E,k=!1){const Z="signIn",Qe=yield Ir(z,Z,E),kt=yield Ms._fromIdTokenResponse(z,Z,Qe);return k||(yield z._updateCurrentUser(kt.user)),kt})).apply(this,arguments)}function js(z,E){return lr.apply(this,arguments)}function lr(){return(lr=(0,a.Z)(function*(z,E){return Vo(it(z),E)})).apply(this,arguments)}function Do(z,E){return nl.apply(this,arguments)}function nl(){return(nl=(0,a.Z)(function*(z,E){const k=(0,O.m9)(z);return yield Vr(!1,k,E.providerId),Na(k,E)})).apply(this,arguments)}function $a(z,E){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,a.Z)(function*(z,E){return eo((0,O.m9)(z),E)})).apply(this,arguments)}function Jo(z,E){return na.apply(this,arguments)}function na(){return(na=(0,a.Z)(function*(z,E){return Nn(z,"POST","/v1/accounts:signInWithCustomToken",en(z,E))})).apply(this,arguments)}function Ho(){return(Ho=(0,a.Z)(function*(z,E){const k=it(z),Z=yield Jo(k,{token:E,returnSecureToken:!0}),Qe=yield Ms._fromIdTokenResponse(k,"signIn",Z);return yield k._updateCurrentUser(Qe.user),Qe})).apply(this,arguments)}class _i{constructor(E,k){this.factorId=E,this.uid=k.mfaEnrollmentId,this.enrollmentTime=new Date(k.enrolledAt).toUTCString(),this.displayName=k.displayName}static _fromServerResponse(E,k){return"phoneInfo"in k?Cr._fromServerResponse(E,k):pt(E,"internal-error")}}class Cr extends _i{constructor(E){super("phone",E),this.phoneNumber=E.phoneInfo}static _fromServerResponse(E,k){return new Cr(k)}}function ac(z,E,k){var Z;me((null===(Z=k.url)||void 0===Z?void 0:Z.length)>0,z,"invalid-continue-uri"),me(typeof k.dynamicLinkDomain>"u"||k.dynamicLinkDomain.length>0,z,"invalid-dynamic-link-domain"),E.continueUrl=k.url,E.dynamicLinkDomain=k.dynamicLinkDomain,E.canHandleCodeInApp=k.handleCodeInApp,k.iOS&&(me(k.iOS.bundleId.length>0,z,"missing-ios-bundle-id"),E.iOSBundleId=k.iOS.bundleId),k.android&&(me(k.android.packageName.length>0,z,"missing-android-pkg-name"),E.androidInstallApp=k.android.installApp,E.androidMinimumVersionCode=k.android.minimumVersion,E.androidPackageName=k.android.packageName)}function ks(){return(ks=(0,a.Z)(function*(z,E,k){const Z=(0,O.m9)(z),Qe={requestType:"PASSWORD_RESET",email:E};k&&ac(Z,Qe,k),yield Ps(Z,Qe)})).apply(this,arguments)}function De(){return(De=(0,a.Z)(function*(z,E,k){yield ci((0,O.m9)(z),{oobCode:E,newPassword:k})})).apply(this,arguments)}function Et(){return(Et=(0,a.Z)(function*(z,E){yield vr((0,O.m9)(z),{oobCode:E})})).apply(this,arguments)}function qn(z,E){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,a.Z)(function*(z,E){const k=(0,O.m9)(z),Z=yield ci(k,{oobCode:E}),Qe=Z.requestType;switch(me(Qe,k,"internal-error"),Qe){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":me(Z.newEmail,k,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":me(Z.mfaInfo,k,"internal-error");default:me(Z.email,k,"internal-error")}let kt=null;return Z.mfaInfo&&(kt=_i._fromServerResponse(it(k),Z.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===Z.requestType?Z.newEmail:Z.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===Z.requestType?Z.email:Z.newEmail)||null,multiFactorInfo:kt},operation:Qe}})).apply(this,arguments)}function Rs(){return(Rs=(0,a.Z)(function*(z,E){const{data:k}=yield qn((0,O.m9)(z),E);return k.email})).apply(this,arguments)}function _s(){return(_s=(0,a.Z)(function*(z,E,k){const Z=it(z),Qe=yield Ea(Z,{returnSecureToken:!0,email:E,password:k}),kt=yield Ms._fromIdTokenResponse(Z,"signIn",Qe);return yield Z._updateCurrentUser(kt.user),kt})).apply(this,arguments)}function aa(){return(aa=(0,a.Z)(function*(z,E,k){const Z=(0,O.m9)(z),Qe={requestType:"EMAIL_SIGNIN",email:E};me(k.handleCodeInApp,Z,"argument-error"),k&&ac(Z,Qe,k),yield Co(Z,Qe)})).apply(this,arguments)}function Fl(){return(Fl=(0,a.Z)(function*(z,E,k){const Z=(0,O.m9)(z),Qe=Oo.credentialWithLink(E,k||Gn());return me(Qe._tenantId===(Z.tenantId||null),Z,"tenant-id-mismatch"),js(Z,Qe)})).apply(this,arguments)}function Wa(z,E){return lc.apply(this,arguments)}function lc(){return(lc=(0,a.Z)(function*(z,E){return gn(z,"POST","/v1/accounts:createAuthUri",en(z,E))})).apply(this,arguments)}function pa(){return(pa=(0,a.Z)(function*(z,E){const Z={identifier:E,continueUri:Tn()?Gn():"http://localhost"},{signinMethods:Qe}=yield Wa((0,O.m9)(z),Z);return Qe||[]})).apply(this,arguments)}function ca(){return(ca=(0,a.Z)(function*(z,E){const k=(0,O.m9)(z),Qe={requestType:"VERIFY_EMAIL",idToken:yield z.getIdToken()};E&&ac(k.auth,Qe,E);const{email:kt}=yield nr(k.auth,Qe);kt!==z.email&&(yield z.reload())})).apply(this,arguments)}function xr(){return(xr=(0,a.Z)(function*(z,E,k){const Z=(0,O.m9)(z),kt={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield z.getIdToken(),newEmail:E};k&&ac(Z.auth,kt,k);const{email:Bn}=yield fa(Z.auth,kt);Bn!==z.email&&(yield z.reload())})).apply(this,arguments)}function il(z,E){return co.apply(this,arguments)}function co(){return(co=(0,a.Z)(function*(z,E){return gn(z,"POST","/v1/accounts:update",E)})).apply(this,arguments)}function Gs(){return(Gs=(0,a.Z)(function*(z,{displayName:E,photoURL:k}){if(void 0===E&&void 0===k)return;const Z=(0,O.m9)(z),kt={idToken:yield Z.getIdToken(),displayName:E,photoUrl:k,returnSecureToken:!0},Bn=yield Ln(Z,il(Z.auth,kt));Z.displayName=Bn.displayName||null,Z.photoURL=Bn.photoUrl||null;const fi=Z.providerData.find(({providerId:Ki})=>"password"===Ki);fi&&(fi.displayName=Z.displayName,fi.photoURL=Z.photoURL),yield Z._updateTokensIfNecessary(Bn)})).apply(this,arguments)}function ve(z,E,k){return yt.apply(this,arguments)}function yt(){return(yt=(0,a.Z)(function*(z,E,k){const{auth:Z}=z,kt={idToken:yield z.getIdToken(),returnSecureToken:!0};E&&(kt.email=E),k&&(kt.password=k);const Bn=yield Ln(z,ji(Z,kt));yield z._updateTokensIfNecessary(Bn,!0)})).apply(this,arguments)}class jn{constructor(E,k,Z={}){this.isNewUser=E,this.providerId=k,this.profile=Z}}class si extends jn{constructor(E,k,Z,Qe){super(E,k,Z),this.username=Qe}}class Ji extends jn{constructor(E,k){super(E,"facebook.com",k)}}class ki extends si{constructor(E,k){super(E,"github.com",k,"string"==typeof k?.login?k?.login:null)}}class Wr extends jn{constructor(E,k){super(E,"google.com",k)}}class qr extends si{constructor(E,k,Z){super(E,"twitter.com",k,Z)}}function Pr(z){const{user:E,_tokenResponse:k}=z;return E.isAnonymous&&!k?{providerId:null,isNewUser:!1,profile:null}:function un(z){var E,k;if(!z)return null;const{providerId:Z}=z,Qe=z.rawUserInfo?JSON.parse(z.rawUserInfo):{},kt=z.isNewUser||"identitytoolkit#SignupNewUserResponse"===z.kind;if(!Z&&z?.idToken){const Bn=null===(k=null===(E=mn(z.idToken))||void 0===E?void 0:E.firebase)||void 0===k?void 0:k.sign_in_provider;if(Bn)return new jn(kt,"anonymous"!==Bn&&"custom"!==Bn?Bn:null)}if(!Z)return null;switch(Z){case"facebook.com":return new Ji(kt,Qe);case"github.com":return new ki(kt,Qe);case"google.com":return new Wr(kt,Qe);case"twitter.com":return new qr(kt,Qe,z.screenName||null);case"custom":case"anonymous":return new jn(kt,null);default:return new jn(kt,Z,Qe)}}(k)}class ma{constructor(E,k,Z){this.type=E,this.credential=k,this.auth=Z}static _fromIdtoken(E,k){return new ma("enroll",E,k)}static _fromMfaPendingCredential(E){return new ma("signin",E)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(E){var k,Z;if(E?.multiFactorSession){if(null!==(k=E.multiFactorSession)&&void 0!==k&&k.pendingCredential)return ma._fromMfaPendingCredential(E.multiFactorSession.pendingCredential);if(null!==(Z=E.multiFactorSession)&&void 0!==Z&&Z.idToken)return ma._fromIdtoken(E.multiFactorSession.idToken)}return null}}class _c{constructor(E,k,Z){this.session=E,this.hints=k,this.signInResolver=Z}static _fromError(E,k){const Z=it(E),Qe=k.customData._serverResponse,kt=(Qe.mfaInfo||[]).map(fi=>_i._fromServerResponse(Z,fi));me(Qe.mfaPendingCredential,Z,"internal-error");const Bn=ma._fromMfaPendingCredential(Qe.mfaPendingCredential);return new _c(Bn,kt,function(){var fi=(0,a.Z)(function*(Ki){const pr=yield Ki._process(Z,Bn);delete Qe.mfaInfo,delete Qe.mfaPendingCredential;const zr=Object.assign(Object.assign({},Qe),{idToken:pr.idToken,refreshToken:pr.refreshToken});switch(k.operationType){case"signIn":const Or=yield Ms._fromIdTokenResponse(Z,k.operationType,zr);return yield Z._updateCurrentUser(Or.user),Or;case"reauthenticate":return me(k.user,Z,"internal-error"),Ms._forOperation(k.user,k.operationType,zr);default:pt(Z,"internal-error")}});return function(Ki){return fi.apply(this,arguments)}}())}resolveSignIn(E){var k=this;return(0,a.Z)(function*(){return k.signInResolver(E)})()}}function $s(z,E){return gn(z,"POST","/v2/accounts/mfaEnrollment:start",en(z,E))}class Ec{constructor(E){this.user=E,this.enrolledFactors=[],E._onReload(k=>{k.mfaInfo&&(this.enrolledFactors=k.mfaInfo.map(Z=>_i._fromServerResponse(E.auth,Z)))})}static _fromUser(E){return new Ec(E)}getSession(){var E=this;return(0,a.Z)(function*(){return ma._fromIdtoken(yield E.user.getIdToken(),E.user.auth)})()}enroll(E,k){var Z=this;return(0,a.Z)(function*(){const Qe=E,kt=yield Z.getSession(),Bn=yield Ln(Z.user,Qe._process(Z.user.auth,kt,k));return yield Z.user._updateTokensIfNecessary(Bn),Z.user.reload()})()}unenroll(E){var k=this;return(0,a.Z)(function*(){const Z="string"==typeof E?E:E.uid,Qe=yield k.user.getIdToken(),kt=yield Ln(k.user,function ga(z,E){return gn(z,"POST","/v2/accounts/mfaEnrollment:withdraw",en(z,E))}(k.user.auth,{idToken:Qe,mfaEnrollmentId:Z}));k.enrolledFactors=k.enrolledFactors.filter(({uid:Bn})=>Bn!==Z),yield k.user._updateTokensIfNecessary(kt);try{yield k.user.reload()}catch(Bn){if("auth/user-token-expired"!==Bn?.code)throw Bn}})()}}const Mc=new WeakMap,no="__sak";class Kl{constructor(E,k){this.storageRetriever=E,this.type=k}_isAvailable(){try{return this.storage?(this.storage.setItem(no,"1"),this.storage.removeItem(no),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(E,k){return this.storage.setItem(E,JSON.stringify(k)),Promise.resolve()}_get(E){const k=this.storage.getItem(E);return Promise.resolve(k?JSON.parse(k):null)}_remove(E){return this.storage.removeItem(E),Promise.resolve()}get storage(){return this.storageRetriever()}}const oe=(()=>{class z extends Kl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(k,Z)=>this.onStorageEvent(k,Z),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function yc(){const z=(0,O.z$)();return wn(z)||K(z)}()&&function Un(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Hn(),this._shouldAllowMigration=!0}forAllChangedKeys(k){for(const Z of Object.keys(this.listeners)){const Qe=this.storage.getItem(Z),kt=this.localCache[Z];Qe!==kt&&k(Z,kt,Qe)}}onStorageEvent(k,Z=!1){if(!k.key)return void this.forAllChangedKeys((fi,Ki,pr)=>{this.notifyListeners(fi,pr)});const Qe=k.key;if(Z?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const fi=this.storage.getItem(Qe);if(k.newValue!==fi)null!==k.newValue?this.storage.setItem(Qe,k.newValue):this.storage.removeItem(Qe);else if(this.localCache[Qe]===k.newValue&&!Z)return}const kt=()=>{const fi=this.storage.getItem(Qe);!Z&&this.localCache[Qe]===fi||this.notifyListeners(Qe,fi)},Bn=this.storage.getItem(Qe);!function rn(){return(0,O.w1)()&&10===document.documentMode}()||Bn===k.newValue||k.newValue===k.oldValue?kt():setTimeout(kt,10)}notifyListeners(k,Z){this.localCache[k]=Z;const Qe=this.listeners[k];if(Qe)for(const kt of Array.from(Qe))kt(Z&&JSON.parse(Z))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((k,Z,Qe)=>{this.onStorageEvent(new StorageEvent("storage",{key:k,oldValue:Z,newValue:Qe}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(k,Z){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[k]||(this.listeners[k]=new Set,this.localCache[k]=this.storage.getItem(k)),this.listeners[k].add(Z)}_removeListener(k,Z){this.listeners[k]&&(this.listeners[k].delete(Z),0===this.listeners[k].size&&delete this.listeners[k]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(k,Z){var Qe=()=>super._set,kt=this;return(0,a.Z)(function*(){yield Qe().call(kt,k,Z),kt.localCache[k]=JSON.stringify(Z)})()}_get(k){var Z=()=>super._get,Qe=this;return(0,a.Z)(function*(){const kt=yield Z().call(Qe,k);return Qe.localCache[k]=JSON.stringify(kt),kt})()}_remove(k){var Z=()=>super._remove,Qe=this;return(0,a.Z)(function*(){yield Z().call(Qe,k),delete Qe.localCache[k]})()}}return z.type="LOCAL",z})(),hn=(()=>{class z extends Kl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(k,Z){}_removeListener(k,Z){}}return z.type="SESSION",z})();let Gi=(()=>{class z{constructor(k){this.eventTarget=k,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(k){const Z=this.receivers.find(kt=>kt.isListeningto(k));if(Z)return Z;const Qe=new z(k);return this.receivers.push(Qe),Qe}isListeningto(k){return this.eventTarget===k}handleEvent(k){var Z=this;return(0,a.Z)(function*(){const Qe=k,{eventId:kt,eventType:Bn,data:fi}=Qe.data,Ki=Z.handlersMap[Bn];if(!Ki?.size)return;Qe.ports[0].postMessage({status:"ack",eventId:kt,eventType:Bn});const pr=Array.from(Ki).map(function(){var Or=(0,a.Z)(function*(vl){return vl(Qe.origin,fi)});return function(vl){return Or.apply(this,arguments)}}()),zr=yield function Dn(z){return Promise.all(z.map(function(){var E=(0,a.Z)(function*(k){try{return{fulfilled:!0,value:yield k}}catch(Z){return{fulfilled:!1,reason:Z}}});return function(k){return E.apply(this,arguments)}}()))}(pr);Qe.ports[0].postMessage({status:"done",eventId:kt,eventType:Bn,response:zr})})()}_subscribe(k,Z){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[k]||(this.handlersMap[k]=new Set),this.handlersMap[k].add(Z)}_unsubscribe(k,Z){this.handlersMap[k]&&Z&&this.handlersMap[k].delete(Z),(!Z||0===this.handlersMap[k].size)&&delete this.handlersMap[k],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return z.receivers=[],z})();function vs(z="",E=10){let k="";for(let Z=0;Z<E;Z++)k+=Math.floor(10*Math.random());return z+k}class es{constructor(E){this.target=E,this.handlers=new Set}removeMessageHandler(E){E.messageChannel&&(E.messageChannel.port1.removeEventListener("message",E.onMessage),E.messageChannel.port1.close()),this.handlers.delete(E)}_send(E,k,Z=50){var Qe=this;return(0,a.Z)(function*(){const kt=typeof MessageChannel<"u"?new MessageChannel:null;if(!kt)throw new Error("connection_unavailable");let Bn,fi;return new Promise((Ki,pr)=>{const zr=vs("",20);kt.port1.start();const Or=setTimeout(()=>{pr(new Error("unsupported_event"))},Z);fi={messageChannel:kt,onMessage(vl){const Ul=vl;if(Ul.data.eventId===zr)switch(Ul.data.status){case"ack":clearTimeout(Or),Bn=setTimeout(()=>{pr(new Error("timeout"))},3e3);break;case"done":clearTimeout(Bn),Ki(Ul.data.response);break;default:clearTimeout(Or),clearTimeout(Bn),pr(new Error("invalid_response"))}}},Qe.handlers.add(fi),kt.port1.addEventListener("message",fi.onMessage),Qe.target.postMessage({eventType:E,eventId:zr,data:k},[kt.port2])}).finally(()=>{fi&&Qe.removeMessageHandler(fi)})})()}}function wi(){return window}function io(){return typeof wi().WorkerGlobalScope<"u"&&"function"==typeof wi().importScripts}function Kn(){return(Kn=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const w="firebaseLocalStorageDb",ee="firebaseLocalStorage",Le="fbase_key";class Dt{constructor(E){this.request=E}toPromise(){return new Promise((E,k)=>{this.request.addEventListener("success",()=>{E(this.request.result)}),this.request.addEventListener("error",()=>{k(this.request.error)})})}}function fn(z,E){return z.transaction([ee],E?"readwrite":"readonly").objectStore(ee)}function Xn(){const z=indexedDB.open(w,1);return new Promise((E,k)=>{z.addEventListener("error",()=>{k(z.error)}),z.addEventListener("upgradeneeded",()=>{const Z=z.result;try{Z.createObjectStore(ee,{keyPath:Le})}catch(Qe){k(Qe)}}),z.addEventListener("success",(0,a.Z)(function*(){const Z=z.result;Z.objectStoreNames.contains(ee)?E(Z):(Z.close(),yield function $n(){const z=indexedDB.deleteDatabase(w);return new Dt(z).toPromise()}(),E(yield Xn()))}))})}function xi(z,E,k){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,a.Z)(function*(z,E,k){const Z=fn(z,!0).put({[Le]:E,value:k});return new Dt(Z).toPromise()})).apply(this,arguments)}function Pi(){return(Pi=(0,a.Z)(function*(z,E){const k=fn(z,!1).get(E),Z=yield new Dt(k).toPromise();return void 0===Z?null:Z.value})).apply(this,arguments)}function Is(z,E){const k=fn(z,!0).delete(E);return new Dt(k).toPromise()}const zo=(()=>{class z{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var k=this;return(0,a.Z)(function*(){return k.db||(k.db=yield Xn()),k.db})()}_withRetries(k){var Z=this;return(0,a.Z)(function*(){let Qe=0;for(;;)try{const kt=yield Z._openDb();return yield k(kt)}catch(kt){if(Qe++>3)throw kt;Z.db&&(Z.db.close(),Z.db=void 0)}})()}initializeServiceWorkerMessaging(){var k=this;return(0,a.Z)(function*(){return io()?k.initializeReceiver():k.initializeSender()})()}initializeReceiver(){var k=this;return(0,a.Z)(function*(){k.receiver=Gi._getInstance(function f(){return io()?self:null}()),k.receiver._subscribe("keyChanged",function(){var Z=(0,a.Z)(function*(Qe,kt){return{keyProcessed:(yield k._poll()).includes(kt.key)}});return function(Qe,kt){return Z.apply(this,arguments)}}()),k.receiver._subscribe("ping",function(){var Z=(0,a.Z)(function*(Qe,kt){return["keyChanged"]});return function(Qe,kt){return Z.apply(this,arguments)}}())})()}initializeSender(){var k=this;return(0,a.Z)(function*(){var Z,Qe;if(k.activeServiceWorker=yield function Ri(){return Kn.apply(this,arguments)}(),!k.activeServiceWorker)return;k.sender=new es(k.activeServiceWorker);const kt=yield k.sender._send("ping",{},800);!kt||(null===(Z=kt[0])||void 0===Z?void 0:Z.fulfilled)&&(null===(Qe=kt[0])||void 0===Qe?void 0:Qe.value.includes("keyChanged"))&&(k.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(k){var Z=this;return(0,a.Z)(function*(){if(Z.sender&&Z.activeServiceWorker&&function vi(){var z;return(null===(z=navigator?.serviceWorker)||void 0===z?void 0:z.controller)||null}()===Z.activeServiceWorker)try{yield Z.sender._send("keyChanged",{key:k},Z.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const k=yield Xn();return yield xi(k,no,"1"),yield Is(k,no),!0}catch{}return!1})()}_withPendingWrite(k){var Z=this;return(0,a.Z)(function*(){Z.pendingWrites++;try{yield k()}finally{Z.pendingWrites--}})()}_set(k,Z){var Qe=this;return(0,a.Z)(function*(){return Qe._withPendingWrite((0,a.Z)(function*(){return yield Qe._withRetries(kt=>xi(kt,k,Z)),Qe.localCache[k]=Z,Qe.notifyServiceWorker(k)}))})()}_get(k){var Z=this;return(0,a.Z)(function*(){const Qe=yield Z._withRetries(kt=>function hr(z,E){return Pi.apply(this,arguments)}(kt,k));return Z.localCache[k]=Qe,Qe})()}_remove(k){var Z=this;return(0,a.Z)(function*(){return Z._withPendingWrite((0,a.Z)(function*(){return yield Z._withRetries(Qe=>Is(Qe,k)),delete Z.localCache[k],Z.notifyServiceWorker(k)}))})()}_poll(){var k=this;return(0,a.Z)(function*(){const Z=yield k._withRetries(Bn=>{const fi=fn(Bn,!1).getAll();return new Dt(fi).toPromise()});if(!Z)return[];if(0!==k.pendingWrites)return[];const Qe=[],kt=new Set;for(const{fbase_key:Bn,value:fi}of Z)kt.add(Bn),JSON.stringify(k.localCache[Bn])!==JSON.stringify(fi)&&(k.notifyListeners(Bn,fi),Qe.push(Bn));for(const Bn of Object.keys(k.localCache))k.localCache[Bn]&&!kt.has(Bn)&&(k.notifyListeners(Bn,null),Qe.push(Bn));return Qe})()}notifyListeners(k,Z){this.localCache[k]=Z;const Qe=this.listeners[k];if(Qe)for(const kt of Array.from(Qe))kt(Z)}startPolling(){var k=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return k._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(k,Z){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[k]||(this.listeners[k]=new Set,this._get(k)),this.listeners[k].add(Z)}_removeListener(k,Z){this.listeners[k]&&(this.listeners[k].delete(Z),0===this.listeners[k].size&&delete this.listeners[k]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return z.type="LOCAL",z})();function Qr(z,E){return gn(z,"POST","/v2/accounts/mfaSignIn:start",en(z,E))}function Oi(){return(Oi=(0,a.Z)(function*(z){return(yield gn(z,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function rl(z){return new Promise((E,k)=>{const Z=document.createElement("script");Z.setAttribute("src",z),Z.onload=E,Z.onerror=Qe=>{const kt=tt("internal-error");kt.customData=Qe,k(kt)},Z.type="text/javascript",Z.charset="UTF-8",function Ro(){var z,E;return null!==(E=null===(z=document.getElementsByTagName("head"))||void 0===z?void 0:z[0])&&void 0!==E?E:document}().appendChild(Z)})}function ys(z){return`__${z}${Math.floor(1e6*Math.random())}`}const Ya=1e12;class Ks{constructor(E){this.auth=E,this.counter=Ya,this._widgets=new Map}render(E,k){const Z=this.counter;return this._widgets.set(Z,new ou(E,this.auth.name,k||{})),this.counter++,Z}reset(E){var k;const Z=E||Ya;null===(k=this._widgets.get(Z))||void 0===k||k.delete(),this._widgets.delete(Z)}getResponse(E){var k;return(null===(k=this._widgets.get(E||Ya))||void 0===k?void 0:k.getResponse())||""}execute(E){var k=this;return(0,a.Z)(function*(){var Z;return null===(Z=k._widgets.get(E||Ya))||void 0===Z||Z.execute(),""})()}}class ou{constructor(E,k,Z){this.params=Z,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Qe="string"==typeof E?document.getElementById(E):E;me(Qe,"argument-error",{appName:k}),this.container=Qe,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Au(z){const E=[],k="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Z=0;Z<z;Z++)E.push(k.charAt(Math.floor(Math.random()*k.length)));return E.join("")}(50);const{callback:E,"expired-callback":k}=this.params;if(E)try{E(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,k)try{k()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const sl=ys("rcb"),qc=new Kt(3e4,6e4);class ql{constructor(){var E;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(E=wi().grecaptcha)||void 0===E||!E.render)}load(E,k=""){return me(function au(z){return z.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(z)}(k),E,"argument-error"),this.shouldResolveImmediately(k)?Promise.resolve(wi().grecaptcha):new Promise((Z,Qe)=>{const kt=wi().setTimeout(()=>{Qe(tt(E,"network-request-failed"))},qc.get());wi()[sl]=()=>{wi().clearTimeout(kt),delete wi()[sl];const fi=wi().grecaptcha;if(!fi)return void Qe(tt(E,"internal-error"));const Ki=fi.render;fi.render=(pr,zr)=>{const Or=Ki(pr,zr);return this.counter++,Or},this.hostLanguage=k,Z(fi)},rl(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:sl,render:"explicit",hl:k})}`).catch(()=>{clearTimeout(kt),Qe(tt(E,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(E){var k;return!(null===(k=wi().grecaptcha)||void 0===k||!k.render)&&(E===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Hc{load(E){return(0,a.Z)(function*(){return new Ks(E)})()}clearedOneInstance(){}}const ii="recaptcha",Su={theme:"light",type:"image"};class ro{constructor(E,k=Object.assign({},Su),Z){this.parameters=k,this.type=ii,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=it(Z),this.isInvisible="invisible"===this.parameters.size,me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Qe="string"==typeof E?document.getElementById(E):E;me(Qe,this.auth,"argument-error"),this.container=Qe,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Hc:new ql,this.validateStartingState()}verify(){var E=this;return(0,a.Z)(function*(){E.assertNotDestroyed();const k=yield E.render(),Z=E.getAssertedRecaptcha();return Z.getResponse(k)||new Promise(kt=>{const Bn=fi=>{!fi||(E.tokenChangeListeners.delete(Bn),kt(fi))};E.tokenChangeListeners.add(Bn),E.isInvisible&&Z.execute(k)})})()}render(){try{this.assertNotDestroyed()}catch(E){return Promise.reject(E)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(E=>{throw this.renderPromise=null,E})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(E=>{this.container.removeChild(E)})}validateStartingState(){me(!this.parameters.sitekey,this.auth,"argument-error"),me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(E){return k=>{if(this.tokenChangeListeners.forEach(Z=>Z(k)),"function"==typeof E)E(k);else if("string"==typeof E){const Z=wi()[E];"function"==typeof Z&&Z(k)}}}assertNotDestroyed(){me(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var E=this;return(0,a.Z)(function*(){if(yield E.init(),!E.widgetId){let k=E.container;if(!E.isInvisible){const Z=document.createElement("div");k.appendChild(Z),k=Z}E.widgetId=E.getAssertedRecaptcha().render(k,E.parameters)}return E.widgetId})()}init(){var E=this;return(0,a.Z)(function*(){me(Tn()&&!io(),E.auth,"internal-error"),yield function bc(){let z=null;return new Promise(E=>{"complete"!==document.readyState?(z=()=>E(),window.addEventListener("load",z)):E()}).catch(E=>{throw z&&window.removeEventListener("load",z),E})}(),E.recaptcha=yield E._recaptchaLoader.load(E.auth,E.auth.languageCode||void 0);const k=yield function Ts(z){return Oi.apply(this,arguments)}(E.auth);me(k,E.auth,"internal-error"),E.parameters.sitekey=k})()}getAssertedRecaptcha(){return me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ol{constructor(E,k){this.verificationId=E,this.onConfirmation=k}confirm(E){const k=Ta._fromVerification(this.verificationId,E);return this.onConfirmation(k)}}function _a(){return(_a=(0,a.Z)(function*(z,E,k){const Z=it(z),Qe=yield q(Z,E,(0,O.m9)(k));return new ol(Qe,kt=>js(Z,kt))})).apply(this,arguments)}function ia(){return(ia=(0,a.Z)(function*(z,E,k){const Z=(0,O.m9)(z);yield Vr(!1,Z,"phone");const Qe=yield q(Z.auth,E,(0,O.m9)(k));return new ol(Qe,kt=>Do(Z,kt))})).apply(this,arguments)}function ea(){return(ea=(0,a.Z)(function*(z,E,k){const Z=(0,O.m9)(z),Qe=yield q(Z.auth,E,(0,O.m9)(k));return new ol(Qe,kt=>$a(Z,kt))})).apply(this,arguments)}function q(z,E,k){return Q.apply(this,arguments)}function Q(){return(Q=(0,a.Z)(function*(z,E,k){var Z;const Qe=yield k.verify();try{let kt;if(me("string"==typeof Qe,z,"argument-error"),me(k.type===ii,z,"argument-error"),kt="string"==typeof E?{phoneNumber:E}:E,"session"in kt){const Bn=kt.session;if("phoneNumber"in kt)return me("enroll"===Bn.type,z,"internal-error"),(yield $s(z,{idToken:Bn.credential,phoneEnrollmentInfo:{phoneNumber:kt.phoneNumber,recaptchaToken:Qe}})).phoneSessionInfo.sessionInfo;{me("signin"===Bn.type,z,"internal-error");const fi=(null===(Z=kt.multiFactorHint)||void 0===Z?void 0:Z.uid)||kt.multiFactorUid;return me(fi,z,"missing-multi-factor-info"),(yield Qr(z,{mfaPendingCredential:Bn.credential,mfaEnrollmentId:fi,phoneSignInInfo:{recaptchaToken:Qe}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Bn}=yield Ga(z,{phoneNumber:kt.phoneNumber,recaptchaToken:Qe});return Bn}}finally{k._reset()}})).apply(this,arguments)}function de(){return(de=(0,a.Z)(function*(z,E){yield Na((0,O.m9)(z),E)})).apply(this,arguments)}let Pe=(()=>{class z{constructor(k){this.providerId=z.PROVIDER_ID,this.auth=it(k)}verifyPhoneNumber(k,Z){return q(this.auth,k,(0,O.m9)(Z))}static credential(k,Z){return Ta._fromVerification(k,Z)}static credentialFromResult(k){return z.credentialFromTaggedObject(k)}static credentialFromError(k){return z.credentialFromTaggedObject(k.customData||{})}static credentialFromTaggedObject({_tokenResponse:k}){if(!k)return null;const{phoneNumber:Z,temporaryProof:Qe}=k;return Z&&Qe?Ta._fromTokenResponse(Z,Qe):null}}return z.PROVIDER_ID="phone",z.PHONE_SIGN_IN_METHOD="phone",z})();function Ct(z,E){return E?xn(E):(me(z._popupRedirectResolver,z,"argument-error"),z._popupRedirectResolver)}class on extends Xt{constructor(E){super("custom","custom"),this.params=E}_getIdTokenResponse(E){return cs(E,this._buildIdpRequest())}_linkToIdToken(E,k){return cs(E,this._buildIdpRequest(k))}_getReauthenticationResolver(E){return cs(E,this._buildIdpRequest())}_buildIdpRequest(E){const k={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return E&&(k.idToken=E),k}}function dn(z){return Vo(z.auth,new on(z),z.bypassAuthState)}function di(z){const{auth:E,user:k}=z;return me(k,E,"internal-error"),eo(k,new on(z),z.bypassAuthState)}function Ni(z){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,a.Z)(function*(z){const{auth:E,user:k}=z;return me(k,E,"internal-error"),Na(k,new on(z),z.bypassAuthState)})).apply(this,arguments)}class Fi{constructor(E,k,Z,Qe,kt=!1){this.auth=E,this.resolver=Z,this.user=Qe,this.bypassAuthState=kt,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(k)?k:[k]}execute(){var E=this;return new Promise(function(){var k=(0,a.Z)(function*(Z,Qe){E.pendingPromise={resolve:Z,reject:Qe};try{E.eventManager=yield E.resolver._initialize(E.auth),yield E.onExecution(),E.eventManager.registerConsumer(E)}catch(kt){E.reject(kt)}});return function(Z,Qe){return k.apply(this,arguments)}}())}onAuthEvent(E){var k=this;return(0,a.Z)(function*(){const{urlResponse:Z,sessionId:Qe,postBody:kt,tenantId:Bn,error:fi,type:Ki}=E;if(fi)return void k.reject(fi);const pr={auth:k.auth,requestUri:Z,sessionId:Qe,tenantId:Bn||void 0,postBody:kt||void 0,user:k.user,bypassAuthState:k.bypassAuthState};try{k.resolve(yield k.getIdpTask(Ki)(pr))}catch(zr){k.reject(zr)}})()}onError(E){this.reject(E)}getIdpTask(E){switch(E){case"signInViaPopup":case"signInViaRedirect":return dn;case"linkViaPopup":case"linkViaRedirect":return Ni;case"reauthViaPopup":case"reauthViaRedirect":return di;default:pt(this.auth,"internal-error")}}resolve(E){vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(E),this.unregisterAndCleanUp()}reject(E){vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(E),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qs=new Kt(2e3,1e4);function Fs(){return(Fs=(0,a.Z)(function*(z,E,k){const Z=it(z);Ye(z,E,mo);const Qe=Ct(Z,k);return new Za(Z,"signInViaPopup",E,Qe).executeNotNull()})).apply(this,arguments)}function al(){return(al=(0,a.Z)(function*(z,E,k){const Z=(0,O.m9)(z);Ye(Z.auth,E,mo);const Qe=Ct(Z.auth,k);return new Za(Z.auth,"reauthViaPopup",E,Qe,Z).executeNotNull()})).apply(this,arguments)}function Ua(){return(Ua=(0,a.Z)(function*(z,E,k){const Z=(0,O.m9)(z);Ye(Z.auth,E,mo);const Qe=Ct(Z.auth,k);return new Za(Z.auth,"linkViaPopup",E,Qe,Z).executeNotNull()})).apply(this,arguments)}let Za=(()=>{class z extends Fi{constructor(k,Z,Qe,kt,Bn){super(k,Z,kt,Bn),this.provider=Qe,this.authWindow=null,this.pollId=null,z.currentPopupAction&&z.currentPopupAction.cancel(),z.currentPopupAction=this}executeNotNull(){var k=this;return(0,a.Z)(function*(){const Z=yield k.execute();return me(Z,k.auth,"internal-error"),Z})()}onExecution(){var k=this;return(0,a.Z)(function*(){vt(1===k.filter.length,"Popup operations only handle one event");const Z=vs();k.authWindow=yield k.resolver._openPopup(k.auth,k.provider,k.filter[0],Z),k.authWindow.associatedEvent=Z,k.resolver._originValidation(k.auth).catch(Qe=>{k.reject(Qe)}),k.resolver._isIframeWebStorageSupported(k.auth,Qe=>{Qe||k.reject(tt(k.auth,"web-storage-unsupported"))}),k.pollUserCancellation()})()}get eventId(){var k;return(null===(k=this.authWindow)||void 0===k?void 0:k.associatedEvent)||null}cancel(){this.reject(tt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,z.currentPopupAction=null}pollUserCancellation(){const k=()=>{var Z,Qe;this.pollId=null!==(Qe=null===(Z=this.authWindow)||void 0===Z?void 0:Z.window)&&void 0!==Qe&&Qe.closed?window.setTimeout(()=>{this.pollId=null,this.reject(tt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(k,qs.get())};k()}}return z.currentPopupAction=null,z})();const El=new Map;class kc extends Fi{constructor(E,k,Z=!1){super(E,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],k,void 0,Z),this.eventId=null}execute(){var E=()=>super.execute,k=this;return(0,a.Z)(function*(){let Z=El.get(k.auth._key());if(!Z){try{const kt=(yield function ml(z,E){return Vl.apply(this,arguments)}(k.resolver,k.auth))?yield E().call(k):null;Z=()=>Promise.resolve(kt)}catch(Qe){Z=()=>Promise.reject(Qe)}El.set(k.auth._key(),Z)}return k.bypassAuthState||El.set(k.auth._key(),()=>Promise.resolve(null)),Z()})()}onAuthEvent(E){var k=()=>super.onAuthEvent,Z=this;return(0,a.Z)(function*(){if("signInViaRedirect"===E.type)return k().call(Z,E);if("unknown"!==E.type){if(E.eventId){const Qe=yield Z.auth._redirectUserForId(E.eventId);if(Qe)return Z.user=Qe,k().call(Z,E);Z.resolve(null)}}else Z.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function Vl(){return(Vl=(0,a.Z)(function*(z,E){const k=ll(E),Z=Ka(z);if(!(yield Z._isAvailable()))return!1;const Qe="true"===(yield Z._get(k));return yield Z._remove(k),Qe})).apply(this,arguments)}function pu(z,E){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,a.Z)(function*(z,E){return Ka(z)._set(ll(E),"true")})).apply(this,arguments)}function dc(z,E){El.set(z._key(),E)}function Ka(z){return xn(z._redirectPersistence)}function ll(z){return ct("pendingRedirect",z.config.apiKey,z.name)}function _e(){return(_e=(0,a.Z)(function*(z,E,k){const Z=it(z);Ye(z,E,mo),yield Z._initializationPromise;const Qe=Ct(Z,k);return yield pu(Qe,Z),Qe._openRedirect(Z,E,"signInViaRedirect")})).apply(this,arguments)}function ln(){return(ln=(0,a.Z)(function*(z,E,k){const Z=(0,O.m9)(z);Ye(Z.auth,E,mo),yield Z.auth._initializationPromise;const Qe=Ct(Z.auth,k);yield pu(Qe,Z.auth);const kt=yield Qi(Z);return Qe._openRedirect(Z.auth,E,"reauthViaRedirect",kt)})).apply(this,arguments)}function Ai(){return(Ai=(0,a.Z)(function*(z,E,k){const Z=(0,O.m9)(z);Ye(Z.auth,E,mo),yield Z.auth._initializationPromise;const Qe=Ct(Z.auth,k);yield Vr(!1,Z,E.providerId),yield pu(Qe,Z.auth);const kt=yield Qi(Z);return Qe._openRedirect(Z.auth,E,"linkViaRedirect",kt)})).apply(this,arguments)}function br(){return(br=(0,a.Z)(function*(z,E){return yield it(z)._initializationPromise,yr(z,E,!1)})).apply(this,arguments)}function yr(z,E){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,a.Z)(function*(z,E,k=!1){const Z=it(z),Qe=Ct(Z,E),Bn=yield new kc(Z,Qe,k).execute();return Bn&&!k&&(delete Bn.user._redirectEventId,yield Z._persistUserIfCurrent(Bn.user),yield Z._setRedirectUser(null,E)),Bn})).apply(this,arguments)}function Qi(z){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,a.Z)(function*(z){const E=vs(`${z.uid}:::`);return z._redirectEventId=E,yield z.auth._setRedirectUser(z),yield z.auth._persistUserIfCurrent(z),E})).apply(this,arguments)}class xc{constructor(E){this.auth=E,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(E){this.consumers.add(E),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,E)&&(this.sendToConsumer(this.queuedRedirectEvent,E),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(E){this.consumers.delete(E)}onEvent(E){if(this.hasEventBeenHandled(E))return!1;let k=!1;return this.consumers.forEach(Z=>{this.isEventForConsumer(E,Z)&&(k=!0,this.sendToConsumer(E,Z),this.saveEventToCache(E))}),this.hasHandledPotentialRedirect||!function Hl(z){switch(z.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Uc(z);default:return!1}}(E)||(this.hasHandledPotentialRedirect=!0,k||(this.queuedRedirectEvent=E,k=!0)),k}sendToConsumer(E,k){var Z;if(E.error&&!Uc(E)){const Qe=(null===(Z=E.error.code)||void 0===Z?void 0:Z.split("auth/")[1])||"internal-error";k.onError(tt(this.auth,Qe))}else k.onAuthEvent(E)}isEventForConsumer(E,k){const Z=null===k.eventId||!!E.eventId&&E.eventId===k.eventId;return k.filter.includes(E.type)&&Z}hasEventBeenHandled(E){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ec(E))}saveEventToCache(E){this.cachedEventUids.add(ec(E)),this.lastProcessedEventTime=Date.now()}}function ec(z){return[z.type,z.eventId,z.sessionId,z.tenantId].filter(E=>E).join("-")}function Uc({type:z,error:E}){return"unknown"===z&&"auth/no-auth-event"===E?.code}function qa(z){return Id.apply(this,arguments)}function Id(){return(Id=(0,a.Z)(function*(z,E={}){return gn(z,"GET","/v1/projects",E)})).apply(this,arguments)}const Zh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wh=/^https?/;function Of(){return(Of=(0,a.Z)(function*(z){if(z.config.emulator)return;const{authorizedDomains:E}=yield qa(z);for(const k of E)try{if(lu(k))return}catch{}pt(z,"unauthorized-domain")})).apply(this,arguments)}function lu(z){const E=Gn(),{protocol:k,hostname:Z}=new URL(E);if(z.startsWith("chrome-extension://")){const Bn=new URL(z);return""===Bn.hostname&&""===Z?"chrome-extension:"===k&&z.replace("chrome-extension://","")===E.replace("chrome-extension://",""):"chrome-extension:"===k&&Bn.hostname===Z}if(!wh.test(k))return!1;if(Zh.test(z))return Z===z;const Qe=z.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Qe+"|"+Qe+")$","i").test(Z)}const Pd=new Kt(3e4,6e4);function Kh(){const z=wi().___jsl;if(z?.H)for(const E of Object.keys(z.H))if(z.H[E].r=z.H[E].r||[],z.H[E].L=z.H[E].L||[],z.H[E].r=[...z.H[E].L],z.CP)for(let k=0;k<z.CP.length;k++)z.CP[k]=null}let sh=null;function Od(z){return sh=sh||function rh(z){return new Promise((E,k)=>{var Z,Qe,kt;function Bn(){Kh(),gapi.load("gapi.iframes",{callback:()=>{E(gapi.iframes.getContext())},ontimeout:()=>{Kh(),k(tt(z,"network-request-failed"))},timeout:Pd.get()})}if(null!==(Qe=null===(Z=wi().gapi)||void 0===Z?void 0:Z.iframes)&&void 0!==Qe&&Qe.Iframe)E(gapi.iframes.getContext());else{if(null===(kt=wi().gapi)||void 0===kt||!kt.load){const fi=ys("iframefcb");return wi()[fi]=()=>{gapi.load?Bn():k(tt(z,"network-request-failed"))},rl(`https://apis.google.com/js/api.js?onload=${fi}`).catch(Ki=>k(Ki))}Bn()}}).catch(E=>{throw sh=null,E})}(z),sh}const qh=new Kt(5e3,15e3),Ml={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ra=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ld(z){const E=z.config;me(E.authDomain,z,"auth-domain-config-required");const k=E.emulator?et(E,"emulator/auth/iframe"):`https://${z.config.authDomain}/__/auth/iframe`,Z={apiKey:E.apiKey,appName:z.name,v:ue.SDK_VERSION},Qe=ra.get(z.config.apiHost);Qe&&(Z.eid=Qe);const kt=z._getFrameworks();return kt.length&&(Z.fw=kt.join(",")),`${k}?${(0,O.xO)(Z).slice(1)}`}function Ic(){return Ic=(0,a.Z)(function*(z){const E=yield Od(z),k=wi().gapi;return me(k,z,"internal-error"),E.open({where:document.body,url:ld(z),messageHandlersFilter:k.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ml,dontclear:!0},Z=>new Promise(function(){var Qe=(0,a.Z)(function*(kt,Bn){yield Z.restyle({setHideOnLeave:!1});const fi=tt(z,"network-request-failed"),Ki=wi().setTimeout(()=>{Bn(fi)},qh.get());function pr(){wi().clearTimeout(Ki),kt(Z)}Z.ping(pr).then(pr,()=>{Bn(fi)})});return function(kt,Bn){return Qe.apply(this,arguments)}}()))}),Ic.apply(this,arguments)}const wc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ld{constructor(E){this.window=E,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ch(z,E,k,Z,Qe,kt){me(z.config.authDomain,z,"auth-domain-config-required"),me(z.config.apiKey,z,"invalid-api-key");const Bn={apiKey:z.config.apiKey,appName:z.name,authType:k,redirectUrl:Z,v:ue.SDK_VERSION,eventId:Qe};if(E instanceof mo){E.setDefaultLanguage(z.languageCode),Bn.providerId=E.providerId||"",(0,O.xb)(E.getCustomParameters())||(Bn.customParameters=JSON.stringify(E.getCustomParameters()));for(const[Ki,pr]of Object.entries(kt||{}))Bn[Ki]=pr}if(E instanceof gs){const Ki=E.getScopes().filter(pr=>""!==pr);Ki.length>0&&(Bn.scopes=Ki.join(","))}z.tenantId&&(Bn.tid=z.tenantId);const fi=Bn;for(const Ki of Object.keys(fi))void 0===fi[Ki]&&delete fi[Ki];return`${function Mu({config:z}){return z.emulator?et(z,"emulator/auth/handler"):`https://${z.authDomain}/__/auth/handler`}(z)}?${(0,O.xO)(fi).slice(1)}`}const zc="webStorageSupport";class qu extends class Lf{constructor(E){this.factorId=E}_process(E,k,Z){switch(k.type){case"enroll":return this._finalizeEnroll(E,k.credential,Z);case"signin":return this._finalizeSignIn(E,k.credential);default:return St("unexpected MultiFactorSessionType")}}}{constructor(E){super("phone"),this.credential=E}static _fromCredential(E){return new qu(E)}_finalizeEnroll(E,k,Z){return function Nl(z,E){return gn(z,"POST","/v2/accounts/mfaEnrollment:finalize",en(z,E))}(E,{idToken:k,displayName:Z,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(E,k){return function fl(z,E){return gn(z,"POST","/v2/accounts/mfaSignIn:finalize",en(z,E))}(E,{mfaPendingCredential:k,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let dd=(()=>{class z{constructor(){}static assertion(k){return qu._fromCredential(k)}}return z.FACTOR_ID="phone",z})();var Pc="@firebase/auth";class Fd{constructor(E){this.auth=E,this.internalListeners=new Map}getUid(){var E;return this.assertAuthConfigured(),(null===(E=this.auth.currentUser)||void 0===E?void 0:E.uid)||null}getToken(E){var k=this;return(0,a.Z)(function*(){return k.assertAuthConfigured(),yield k.auth._initializationPromise,k.auth.currentUser?{accessToken:yield k.auth.currentUser.getIdToken(E)}:null})()}addAuthTokenListener(E){if(this.assertAuthConfigured(),this.internalListeners.has(E))return;const k=this.auth.onIdTokenChanged(Z=>{E(Z?.stsTokenManager.accessToken||null)});this.internalListeners.set(E,k),this.updateProactiveRefresh()}removeAuthTokenListener(E){this.assertAuthConfigured();const k=this.internalListeners.get(E);!k||(this.internalListeners.delete(E),k(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function gu(){return window}function jc(){return(jc=(0,a.Z)(function*(z,E,k){var Z;const{BuildInfo:Qe}=gu();vt(E.sessionId,"AuthEvent did not contain a session ID");const kt=yield ku(E.sessionId),Bn={};return K()?Bn.ibi=Qe.packageName:Li()?Bn.apn=Qe.packageName:pt(z,"operation-not-supported-in-this-environment"),Qe.displayName&&(Bn.appDisplayName=Qe.displayName),Bn.sessionId=kt,Ch(z,k,E.type,void 0,null!==(Z=E.eventId)&&void 0!==Z?Z:void 0,Bn)})).apply(this,arguments)}function ah(){return(ah=(0,a.Z)(function*(z){const{BuildInfo:E}=gu(),k={};K()?k.iosBundleId=E.packageName:Li()?k.androidPackageName=E.packageName:pt(z,"operation-not-supported-in-this-environment"),yield qa(z,k)})).apply(this,arguments)}function Gc(){return(Gc=(0,a.Z)(function*(z,E,k){const{cordova:Z}=gu();let Qe=()=>{};try{yield new Promise((kt,Bn)=>{let fi=null;function Ki(){var Or;kt();const vl=null===(Or=Z.plugins.browsertab)||void 0===Or?void 0:Or.close;"function"==typeof vl&&vl(),"function"==typeof k?.close&&k.close()}function pr(){fi||(fi=window.setTimeout(()=>{Bn(tt(z,"redirect-cancelled-by-user"))},2e3))}function zr(){"visible"===document?.visibilityState&&pr()}E.addPassiveListener(Ki),document.addEventListener("resume",pr,!1),Li()&&document.addEventListener("visibilitychange",zr,!1),Qe=()=>{E.removePassiveListener(Ki),document.removeEventListener("resume",pr,!1),document.removeEventListener("visibilitychange",zr,!1),fi&&window.clearTimeout(fi)}})}finally{Qe()}})).apply(this,arguments)}function ku(z){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,a.Z)(function*(z){const E=tf(z),k=yield crypto.subtle.digest("SHA-256",E);return Array.from(new Uint8Array(k)).map(Qe=>Qe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function tf(z){if(vt(/[0-9a-zA-Z]+/.test(z),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(z);const E=new ArrayBuffer(z.length),k=new Uint8Array(E);for(let Z=0;Z<z.length;Z++)k[Z]=z.charCodeAt(Z);return k}(0,O.Pz)("authIdTokenMaxAge"),function gl(z){(0,ue._registerComponent)(new Re.wA("auth",(E,{options:k})=>{const Z=E.getProvider("app").getImmediate(),Qe=E.getProvider("heartbeat"),{apiKey:kt,authDomain:Bn}=Z.options;return((fi,Ki)=>{me(kt&&!kt.includes(":"),"invalid-api-key",{appName:fi.name}),me(!Bn?.includes(":"),"argument-error",{appName:fi.name});const pr={apiKey:kt,authDomain:Bn,clientPlatform:z,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pi(z)},zr=new Ft(fi,Ki,pr);return function cn(z,E){const k=E?.persistence||[],Z=(Array.isArray(k)?k:[k]).map(xn);E?.errorMap&&z._updateErrorMap(E.errorMap),z._initializeWithPersistence(Z,E?.popupRedirectResolver)}(zr,k),zr})(Z,Qe)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((E,k,Z)=>{E.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new Re.wA("auth-internal",E=>{const k=it(E.getProvider("auth").getImmediate());return new Fd(k)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(Pc,"0.21.1",function Nd(z){switch(z){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(z)),(0,ue.registerVersion)(Pc,"0.21.1","esm2017")}("Browser");class Bd extends xc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(E=>{this.resolveInialized=E})}addPassiveListener(E){this.passiveListeners.add(E)}removePassiveListener(E){this.passiveListeners.delete(E)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(E){return this.resolveInialized(),this.passiveListeners.forEach(k=>k(E)),super.onEvent(E)}initialized(){var E=this;return(0,a.Z)(function*(){yield E.initPromise})()}}function nf(z){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,a.Z)(function*(z){const E=yield pd()._get(lh(z));return E&&(yield pd()._remove(lh(z))),E})).apply(this,arguments)}function Vd(){const z=[],E="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let k=0;k<20;k++){const Z=Math.floor(Math.random()*E.length);z.push(E.charAt(Z))}return z.join("")}function pd(){return xn(oe)}function lh(z){return ct("authEvent",z.config.apiKey,z.name)}function md(z){if(!z?.includes("?"))return{};const[E,...k]=z.split("?");return(0,O.zd)(k.join("?"))}function vu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:tt("no-auth-event")}}function Pu(){var z;return(null===(z=self?.location)||void 0===z?void 0:z.protocol)||null}function uo(z=(0,O.z$)()){return!("file:"!==Pu()&&"ionic:"!==Pu()&&"capacitor:"!==Pu()||!z.toLowerCase().match(/iphone|ipad|ipod|android/))}function Oc(){try{const z=self.localStorage,E=vs();if(z)return z.setItem(E,"1"),z.removeItem(E),!function Kp(z=(0,O.z$)()){return function Bf(){return(0,O.w1)()&&11===document?.documentMode}()||function cu(z=(0,O.z$)()){return/Edge\/\d+/.test(z)}(z)}()||(0,O.hl)()}catch{return Eh()&&(0,O.hl)()}return!1}function Eh(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ud(){return(function Il(){return"http:"===Pu()||"https:"===Pu()}()||(0,O.ru)()||uo())&&!function ch(){return(0,O.b$)()||(0,O.UG)()}()&&Oc()&&!Eh()}function yu(){return uo()&&typeof document<"u"}function Mh(){return(Mh=(0,a.Z)(function*(){return!!yu()&&new Promise(z=>{const E=setTimeout(()=>{z(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(E),z(!0)})})})).apply(this,arguments)}const hc={LOCAL:"local",NONE:"none",SESSION:"session"},vd=me,as="persistence";function dh(z){return bu.apply(this,arguments)}function bu(){return(bu=(0,a.Z)(function*(z){yield z._initializationPromise;const E=Ou(),k=ct(as,z.config.apiKey,z.name);E&&E.setItem(k,z._getPersistence())})).apply(this,arguments)}function Ou(){var z;try{return(null===(z=function _d(){return typeof window<"u"?window:null}())||void 0===z?void 0:z.sessionStorage)||null}catch{return null}}const kh=me;class eu{constructor(){this.browserResolver=xn(class Cc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hn,this._completeRedirectFn=yr,this._overrideRedirectResult=dc}_openPopup(E,k,Z,Qe){var kt=this;return(0,a.Z)(function*(){var Bn;vt(null===(Bn=kt.eventManagers[E._key()])||void 0===Bn?void 0:Bn.manager,"_initialize() not called before _openPopup()");const fi=Ch(E,k,Z,Gn(),Qe);return function oh(z,E,k,Z=500,Qe=600){const kt=Math.max((window.screen.availHeight-Qe)/2,0).toString(),Bn=Math.max((window.screen.availWidth-Z)/2,0).toString();let fi="";const Ki=Object.assign(Object.assign({},wc),{width:Z.toString(),height:Qe.toString(),top:kt,left:Bn}),pr=(0,O.z$)().toLowerCase();k&&(fi=ti(pr)?"_blank":k),Zt(pr)&&(E=E||"http://localhost",Ki.scrollbars="yes");const zr=Object.entries(Ki).reduce((vl,[Ul,fc])=>`${vl}${Ul}=${fc},`,"");if(function Ge(z=(0,O.z$)()){var E;return K(z)&&!(null===(E=window.navigator)||void 0===E||!E.standalone)}(pr)&&"_self"!==fi)return function ud(z,E){const k=document.createElement("a");k.href=z,k.target=E;const Z=document.createEvent("MouseEvent");Z.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),k.dispatchEvent(Z)}(E||"",fi),new Ld(null);const Or=window.open(E||"",fi,zr);me(Or,z,"popup-blocked");try{Or.focus()}catch{}return new Ld(Or)}(E,fi,vs())})()}_openRedirect(E,k,Z,Qe){var kt=this;return(0,a.Z)(function*(){return yield kt._originValidation(E),function $i(z){wi().location.href=z}(Ch(E,k,Z,Gn(),Qe)),new Promise(()=>{})})()}_initialize(E){const k=E._key();if(this.eventManagers[k]){const{manager:Qe,promise:kt}=this.eventManagers[k];return Qe?Promise.resolve(Qe):(vt(kt,"If manager is not set, promise should be"),kt)}const Z=this.initAndGetManager(E);return this.eventManagers[k]={promise:Z},Z.catch(()=>{delete this.eventManagers[k]}),Z}initAndGetManager(E){var k=this;return(0,a.Z)(function*(){const Z=yield function cd(z){return Ic.apply(this,arguments)}(E),Qe=new xc(E);return Z.register("authEvent",kt=>(me(kt?.authEvent,E,"invalid-auth-event"),{status:Qe.onEvent(kt.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),k.eventManagers[E._key()]={manager:Qe},k.iframes[E._key()]=Z,Qe})()}_isIframeWebStorageSupported(E,k){this.iframes[E._key()].send(zc,{type:zc},Qe=>{var kt;const Bn=null===(kt=Qe?.[0])||void 0===kt?void 0:kt[zc];void 0!==Bn&&k(!!Bn),pt(E,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(E){const k=E._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function Pf(z){return Of.apply(this,arguments)}(E)),this.originValidationPromises[k]}get _shouldInitProactively(){return Hn()||wn()||K()}}),this.cordovaResolver=xn(class gd{constructor(){this._redirectPersistence=hn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=yr,this._overrideRedirectResult=dc}_initialize(E){var k=this;return(0,a.Z)(function*(){const Z=E._key();let Qe=k.eventManagers.get(Z);return Qe||(Qe=new Bd(E),k.eventManagers.set(Z,Qe),k.attachCallbackListeners(E,Qe)),Qe})()}_openPopup(E){pt(E,"operation-not-supported-in-this-environment")}_openRedirect(E,k,Z,Qe){var kt=this;return(0,a.Z)(function*(){!function fd(z){var E,k,Z,Qe,kt,Bn,fi,Ki,pr,zr;const Or=gu();me("function"==typeof(null===(E=Or?.universalLinks)||void 0===E?void 0:E.subscribe),z,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),me(typeof(null===(k=Or?.BuildInfo)||void 0===k?void 0:k.packageName)<"u",z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),me("function"==typeof(null===(kt=null===(Qe=null===(Z=Or?.cordova)||void 0===Z?void 0:Z.plugins)||void 0===Qe?void 0:Qe.browsertab)||void 0===kt?void 0:kt.openUrl),z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me("function"==typeof(null===(Ki=null===(fi=null===(Bn=Or?.cordova)||void 0===Bn?void 0:Bn.plugins)||void 0===fi?void 0:fi.browsertab)||void 0===Ki?void 0:Ki.isAvailable),z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me("function"==typeof(null===(zr=null===(pr=Or?.cordova)||void 0===pr?void 0:pr.InAppBrowser)||void 0===zr?void 0:zr.open),z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(E);const Bn=yield kt._initialize(E);yield Bn.initialized(),Bn.resetRedirect(),function Zu(){El.clear()}(),yield kt._originValidation(E);const fi=function Th(z,E,k=null){return{type:E,eventId:k,urlResponse:null,sessionId:Vd(),postBody:null,tenantId:z.tenantId,error:tt(z,"no-auth-event")}}(E,Z,Qe);yield function _u(z,E){return pd()._set(lh(z),E)}(E,fi);const Ki=yield function Qu(z,E,k){return jc.apply(this,arguments)}(E,fi,k),pr=yield function Xu(z){const{cordova:E}=gu();return new Promise(k=>{E.plugins.browsertab.isAvailable(Z=>{let Qe=null;Z?E.plugins.browsertab.openUrl(z):Qe=E.InAppBrowser.open(z,function ge(z=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(z)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(z)}()?"_blank":"_system","location=yes"),k(Qe)})})}(Ki);return function hd(z,E,k){return Gc.apply(this,arguments)}(E,Bn,pr)})()}_isIframeWebStorageSupported(E,k){throw new Error("Method not implemented.")}_originValidation(E){const k=E._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function ef(z){return ah.apply(this,arguments)}(E)),this.originValidationPromises[k]}attachCallbackListeners(E,k){const{universalLinks:Z,handleOpenURL:Qe,BuildInfo:kt}=gu(),Bn=setTimeout((0,a.Z)(function*(){yield nf(E),k.onEvent(vu())}),500),fi=function(){var zr=(0,a.Z)(function*(Or){clearTimeout(Bn);const vl=yield nf(E);let Ul=null;vl&&Or?.url&&(Ul=function Xa(z,E){var k,Z;const Qe=function Ff(z){const E=md(z),k=E.link?decodeURIComponent(E.link):void 0,Z=md(k).link,Qe=E.deep_link_id?decodeURIComponent(E.deep_link_id):void 0;return md(Qe).link||Qe||Z||k||z}(E);if(Qe.includes("/__/auth/callback")){const kt=md(Qe),Bn=kt.firebaseError?function _p(z){try{return JSON.parse(z)}catch{return null}}(decodeURIComponent(kt.firebaseError)):null,fi=null===(Z=null===(k=Bn?.code)||void 0===k?void 0:k.split("auth/"))||void 0===Z?void 0:Z[1],Ki=fi?tt(fi):null;return Ki?{type:z.type,eventId:z.eventId,tenantId:z.tenantId,error:Ki,urlResponse:null,sessionId:null,postBody:null}:{type:z.type,eventId:z.eventId,tenantId:z.tenantId,sessionId:z.sessionId,urlResponse:Qe,postBody:null}}return null}(vl,Or.url)),k.onEvent(Ul||vu())});return function(vl){return zr.apply(this,arguments)}}();typeof Z<"u"&&"function"==typeof Z.subscribe&&Z.subscribe(null,fi);const Ki=Qe,pr=`${kt.packageName.toLowerCase()}://`;gu().handleOpenURL=function(){var zr=(0,a.Z)(function*(Or){if(Or.toLowerCase().startsWith(pr)&&fi({url:Or}),"function"==typeof Ki)try{Ki(Or)}catch(vl){console.error(vl)}});return function(Or){return zr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=hn,this._completeRedirectFn=yr,this._overrideRedirectResult=dc}_initialize(E){var k=this;return(0,a.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(E)})()}_openPopup(E,k,Z,Qe){var kt=this;return(0,a.Z)(function*(){return yield kt.selectUnderlyingResolver(),kt.assertedUnderlyingResolver._openPopup(E,k,Z,Qe)})()}_openRedirect(E,k,Z,Qe){var kt=this;return(0,a.Z)(function*(){return yield kt.selectUnderlyingResolver(),kt.assertedUnderlyingResolver._openRedirect(E,k,Z,Qe)})()}_isIframeWebStorageSupported(E,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(E,k)}_originValidation(E){return this.assertedUnderlyingResolver._originValidation(E)}get _shouldInitProactively(){return yu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return kh(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var E=this;return(0,a.Z)(function*(){if(E.underlyingResolver)return;const k=yield function Jc(){return Mh.apply(this,arguments)}();E.underlyingResolver=k?E.cordovaResolver:E.browserResolver})()}}function _l(z){return z.unwrap()}function rf(z){return zd(z)}function zd(z){const{_tokenResponse:E}=z instanceof O.ZR?z.customData:z;if(!E)return null;if(!(z instanceof O.ZR)&&"temporaryProof"in E&&"phoneNumber"in E)return Pe.credentialFromResult(z);const k=E.providerId;if(!k||"password"===k)return null;let Z;switch(k){case"google.com":Z=Fa;break;case"facebook.com":Z=tl;break;case"github.com":Z=Mo;break;case"twitter.com":Z=wr;break;default:const{oauthIdToken:Qe,oauthAccessToken:kt,oauthTokenSecret:Bn,pendingToken:fi,nonce:Ki}=E;return kt||Bn||Qe||fi?fi?k.startsWith("saml.")?Yo._create(k,fi):Ls._fromParams({providerId:k,signInMethod:k,pendingToken:fi,idToken:Qe,accessToken:kt}):new Ur(k).credential({idToken:Qe,accessToken:kt,rawNonce:Ki}):null}return z instanceof O.ZR?Z.credentialFromError(z):Z.credentialFromResult(z)}function nc(z,E){return E.catch(k=>{throw k instanceof O.ZR&&function ho(z,E){var k;const Z=null===(k=E.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===E?.code)E.resolver=new yd(z,function Ys(z,E){var k;const Z=(0,O.m9)(z),Qe=E;return me(E.customData.operationType,Z,"argument-error"),me(null===(k=Qe.customData._serverResponse)||void 0===k?void 0:k.mfaPendingCredential,Z,"argument-error"),_c._fromError(Z,Qe)}(z,E));else if(Z){const Qe=zd(E),kt=E;Qe&&(kt.credential=Qe,kt.tenantId=Z.tenantId||void 0,kt.email=Z.email||void 0,kt.phoneNumber=Z.phoneNumber||void 0)}}(z,k),k}).then(k=>{const Qe=k.user;return{operationType:k.operationType,credential:rf(k),additionalUserInfo:Pr(k),user:xu.getOrCreate(Qe)}})}function td(z,E){return Vf.apply(this,arguments)}function Vf(){return(Vf=(0,a.Z)(function*(z,E){const k=yield E;return{verificationId:k.verificationId,confirm:Z=>nc(z,k.confirm(Z))}})).apply(this,arguments)}class yd{constructor(E,k){this.resolver=k,this.auth=function Ih(z){return z.wrapped()}(E)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(E){return nc(_l(this.auth),this.resolver.resolveSignIn(E))}}class xu{constructor(E){this._delegate=E,this.multiFactor=function vc(z){const E=(0,O.m9)(z);return Mc.has(E)||Mc.set(E,Ec._fromUser(E)),Mc.get(E)}(E)}static getOrCreate(E){return xu.USER_MAP.has(E)||xu.USER_MAP.set(E,new xu(E)),xu.USER_MAP.get(E)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(E){return this._delegate.getIdTokenResult(E)}getIdToken(E){return this._delegate.getIdToken(E)}linkAndRetrieveDataWithCredential(E){return this.linkWithCredential(E)}linkWithCredential(E){var k=this;return(0,a.Z)(function*(){return nc(k.auth,Do(k._delegate,E))})()}linkWithPhoneNumber(E,k){var Z=this;return(0,a.Z)(function*(){return td(Z.auth,function fs(z,E,k){return ia.apply(this,arguments)}(Z._delegate,E,k))})()}linkWithPopup(E){var k=this;return(0,a.Z)(function*(){return nc(k.auth,function Eu(z,E,k){return Ua.apply(this,arguments)}(k._delegate,E,eu))})()}linkWithRedirect(E){var k=this;return(0,a.Z)(function*(){return yield dh(it(k.auth)),function zn(z,E,k){return function Zn(z,E,k){return Ai.apply(this,arguments)}(z,E,k)}(k._delegate,E,eu)})()}reauthenticateAndRetrieveDataWithCredential(E){return this.reauthenticateWithCredential(E)}reauthenticateWithCredential(E){var k=this;return(0,a.Z)(function*(){return nc(k.auth,$a(k._delegate,E))})()}reauthenticateWithPhoneNumber(E,k){return td(this.auth,function Ql(z,E,k){return ea.apply(this,arguments)}(this._delegate,E,k))}reauthenticateWithPopup(E){return nc(this.auth,function Bl(z,E,k){return al.apply(this,arguments)}(this._delegate,E,eu))}reauthenticateWithRedirect(E){var k=this;return(0,a.Z)(function*(){return yield dh(it(k.auth)),function He(z,E,k){return function bt(z,E,k){return ln.apply(this,arguments)}(z,E,k)}(k._delegate,E,eu)})()}sendEmailVerification(E){return function cc(z,E){return ca.apply(this,arguments)}(this._delegate,E)}unlink(E){var k=this;return(0,a.Z)(function*(){return yield function go(z,E){return Lo.apply(this,arguments)}(k._delegate,E),k})()}updateEmail(E){return function ae(z,E){return ve((0,O.m9)(z),E,null)}(this._delegate,E)}updatePassword(E){return function Xe(z,E){return ve((0,O.m9)(z),null,E)}(this._delegate,E)}updatePhoneNumber(E){return function G(z,E){return de.apply(this,arguments)}(this._delegate,E)}updateProfile(E){return function ua(z,E){return Gs.apply(this,arguments)}(this._delegate,E)}verifyBeforeUpdateEmail(E,k){return function ar(z,E,k){return xr.apply(this,arguments)}(this._delegate,E,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}xu.USER_MAP=new WeakMap;const bd=me;let Pa=(()=>{class z{constructor(k,Z){if(this.app=k,Z.isInitialized())return this._delegate=Z.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Qe}=k.options;bd(Qe,"invalid-api-key",{appName:k.name}),bd(Qe,"invalid-api-key",{appName:k.name});const kt=typeof window<"u"?eu:void 0;this._delegate=Z.initialize({options:{persistence:nd(Qe,k.name),popupRedirectResolver:kt}}),this._delegate._updateErrorMap(Be),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?xu.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,Z){!function at(z,E,k){const Z=it(z);me(Z._canInitEmulator,Z,"emulator-config-failed"),me(/^https?:\/\//.test(E),Z,"invalid-emulator-scheme");const Qe=!!k?.disableWarnings,kt=Yt(E),{host:Bn,port:fi}=function Y(z){const E=Yt(z),k=/(\/\/)?([^?#/]+)/.exec(z.substr(E.length));if(!k)return{host:"",port:null};const Z=k[2].split("@").pop()||"",Qe=/^(\[[^\]]+\])(:|$)/.exec(Z);if(Qe){const kt=Qe[1];return{host:kt,port:$e(Z.substr(kt.length+1))}}{const[kt,Bn]=Z.split(":");return{host:kt,port:$e(Bn)}}}(E);Z.config.emulator={url:`${kt}//${Bn}${null===fi?"":`:${fi}`}/`},Z.settings.appVerificationDisabledForTesting=!0,Z.emulatorConfig=Object.freeze({host:Bn,port:fi,protocol:kt.replace(":",""),options:Object.freeze({disableWarnings:Qe})}),Qe||function At(){function z(){const E=document.createElement("p"),k=E.style;E.innerText="Running in emulator mode. Do not use with production credentials.",k.position="fixed",k.width="100%",k.backgroundColor="#ffffff",k.border=".1em solid #000000",k.color="#b50000",k.bottom="0px",k.left="0px",k.margin="0px",k.zIndex="10000",k.textAlign="center",E.classList.add("firebase-emulator-warning"),document.body.appendChild(E)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",z):z())}()}(this._delegate,k,Z)}applyActionCode(k){return function he(z,E){return Et.apply(this,arguments)}(this._delegate,k)}checkActionCode(k){return qn(this._delegate,k)}confirmPasswordReset(k,Z){return function Se(z,E,k){return De.apply(this,arguments)}(this._delegate,k,Z)}createUserWithEmailAndPassword(k,Z){var Qe=this;return(0,a.Z)(function*(){return nc(Qe._delegate,function to(z,E,k){return _s.apply(this,arguments)}(Qe._delegate,k,Z))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return function Vs(z,E){return pa.apply(this,arguments)}(this._delegate,k)}isSignInWithEmailLink(k){return function la(z,E){return"EMAIL_SIGNIN"===Eo.parseLink(E)?.operation}(0,k)}getRedirectResult(){var k=this;return(0,a.Z)(function*(){bd(Ud(),k._delegate,"operation-not-supported-in-this-environment");const Z=yield function or(z,E){return br.apply(this,arguments)}(k._delegate,eu);return Z?nc(k._delegate,Promise.resolve(Z)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function Nf(z,E){it(z)._logFramework(E)}(this._delegate,k)}onAuthStateChanged(k,Z,Qe){const{next:kt,error:Bn,complete:fi}=jd(k,Z,Qe);return this._delegate.onAuthStateChanged(kt,Bn,fi)}onIdTokenChanged(k,Z,Qe){const{next:kt,error:Bn,complete:fi}=jd(k,Z,Qe);return this._delegate.onIdTokenChanged(kt,Bn,fi)}sendSignInLinkToEmail(k,Z){return function _o(z,E,k){return aa.apply(this,arguments)}(this._delegate,k,Z)}sendPasswordResetEmail(k,Z){return function ka(z,E,k){return ks.apply(this,arguments)}(this._delegate,k,Z||void 0)}setPersistence(k){var Z=this;return(0,a.Z)(function*(){let Qe;switch(function uh(z,E){vd(Object.values(hc).includes(E),z,"invalid-persistence-type"),(0,O.b$)()?vd(E!==hc.SESSION,z,"unsupported-persistence-type"):(0,O.UG)()?vd(E===hc.NONE,z,"unsupported-persistence-type"):Eh()?vd(E===hc.NONE||E===hc.LOCAL&&(0,O.hl)(),z,"unsupported-persistence-type"):vd(E===hc.NONE||Oc(),z,"unsupported-persistence-type")}(Z._delegate,k),k){case hc.SESSION:Qe=hn;break;case hc.LOCAL:Qe=(yield xn(zo)._isAvailable())?zo:oe;break;case hc.NONE:Qe=Te;break;default:return pt("argument-error",{appName:Z._delegate.name})}return Z._delegate.setPersistence(Qe)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return nc(this._delegate,function dl(z){return Kr.apply(this,arguments)}(this._delegate))}signInWithCredential(k){return nc(this._delegate,js(this._delegate,k))}signInWithCustomToken(k){return nc(this._delegate,function Ma(z,E){return Ho.apply(this,arguments)}(this._delegate,k))}signInWithEmailAndPassword(k,Z){return nc(this._delegate,function Ao(z,E,k){return js((0,O.m9)(z),Oo.credential(E,k))}(this._delegate,k,Z))}signInWithEmailLink(k,Z){return nc(this._delegate,function Sc(z,E,k){return Fl.apply(this,arguments)}(this._delegate,k,Z))}signInWithPhoneNumber(k,Z){return td(this._delegate,function uc(z,E,k){return _a.apply(this,arguments)}(this._delegate,k,Z))}signInWithPopup(k){var Z=this;return(0,a.Z)(function*(){return bd(Ud(),Z._delegate,"operation-not-supported-in-this-environment"),nc(Z._delegate,function Fo(z,E,k){return Fs.apply(this,arguments)}(Z._delegate,k,eu))})()}signInWithRedirect(k){var Z=this;return(0,a.Z)(function*(){return bd(Ud(),Z._delegate,"operation-not-supported-in-this-environment"),yield dh(Z._delegate),function No(z,E,k){return function Qc(z,E,k){return _e.apply(this,arguments)}(z,E,k)}(Z._delegate,k,eu)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return function ds(z,E){return Rs.apply(this,arguments)}(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return z.Persistence=hc,z})();function jd(z,E,k){let Z=z;"function"!=typeof z&&({next:Z,error:E,complete:k}=z);const Qe=Z;return{next:Bn=>Qe(Bn&&xu.getOrCreate(Bn)),error:E,complete:k}}function nd(z,E){const k=function ed(z,E){const k=Ou();if(!k)return[];const Z=ct(as,z,E);switch(k.getItem(Z)){case hc.NONE:return[Te];case hc.LOCAL:return[zo,hn];case hc.SESSION:return[hn];default:return[]}}(z,E);if(typeof self<"u"&&!k.includes(zo)&&k.push(zo),typeof window<"u")for(const Z of[oe,hn])k.includes(Z)||k.push(Z);return k.includes(Te)||k.push(Te),k}class xd{constructor(){this.providerId="phone",this._delegate=new Pe(_l(T.Z.auth()))}static credential(E,k){return Pe.credential(E,k)}verifyPhoneNumber(E,k){return this._delegate.verifyPhoneNumber(E,k)}unwrap(){return this._delegate}}xd.PHONE_SIGN_IN_METHOD=Pe.PHONE_SIGN_IN_METHOD,xd.PROVIDER_ID=Pe.PROVIDER_ID;const wu=me;class vp{constructor(E,k,Z=T.Z.app()){var Qe;wu(null===(Qe=Z.options)||void 0===Qe?void 0:Qe.apiKey,"invalid-api-key",{appName:Z.name}),this._delegate=new ro(E,k,Z.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Gd(z){z.INTERNAL.registerComponent(new Re.wA("auth-compat",E=>{const k=E.getProvider("app-compat").getImmediate(),Z=E.getProvider("auth");return new Pa(k,Z)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Oo,FacebookAuthProvider:tl,GithubAuthProvider:Mo,GoogleAuthProvider:Fa,OAuthProvider:Ur,SAMLAuthProvider:lo,PhoneAuthProvider:xd,PhoneMultiFactorGenerator:dd,RecaptchaVerifier:vp,TwitterAuthProvider:wr,Auth:Pa,AuthCredential:Xt,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),z.registerVersion("@firebase/auth-compat","0.3.1")}(T.Z)},8766:(ai,qt,N)=>{"use strict";N.d(qt,{Lj:()=>pt,X3:()=>ft});var a=N(5861);let O,ue;const Re=new WeakMap,xe=new WeakMap,Ce=new WeakMap,re=new WeakMap,ce=new WeakMap;let Ne={get(me,St,vt){if(me instanceof IDBTransaction){if("done"===St)return xe.get(me);if("objectStoreNames"===St)return me.objectStoreNames||Ce.get(me);if("store"===St)return vt.objectStoreNames[1]?void 0:vt.objectStore(vt.objectStoreNames[0])}return nt(me[St])},set:(me,St,vt)=>(me[St]=vt,!0),has:(me,St)=>me instanceof IDBTransaction&&("done"===St||"store"===St)||St in me};function Ke(me){return"function"==typeof me?function Je(me){return me!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ee(){return ue||(ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(me)?function(...St){return me.apply(We(this),St),nt(Re.get(this))}:function(...St){return nt(me.apply(We(this),St))}:function(St,...vt){const an=me.call(We(this),St,...vt);return Ce.set(an,St.sort?St.sort():[St]),nt(an)}}(me):(me instanceof IDBTransaction&&function Ve(me){if(xe.has(me))return;const St=new Promise((vt,an)=>{const xn=()=>{me.removeEventListener("complete",In),me.removeEventListener("error",cn),me.removeEventListener("abort",cn)},In=()=>{vt(),xn()},cn=()=>{an(me.error||new DOMException("AbortError","AbortError")),xn()};me.addEventListener("complete",In),me.addEventListener("error",cn),me.addEventListener("abort",cn)});xe.set(me,St)}(me),((me,St)=>St.some(vt=>me instanceof vt))(me,function R(){return O||(O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(me,Ne):me)}function nt(me){if(me instanceof IDBRequest)return function be(me){const St=new Promise((vt,an)=>{const xn=()=>{me.removeEventListener("success",In),me.removeEventListener("error",cn)},In=()=>{vt(nt(me.result)),xn()},cn=()=>{an(me.error),xn()};me.addEventListener("success",In),me.addEventListener("error",cn)});return St.then(vt=>{vt instanceof IDBCursor&&Re.set(vt,me)}).catch(()=>{}),ce.set(St,me),St}(me);if(re.has(me))return re.get(me);const St=Ke(me);return St!==me&&(re.set(me,St),ce.set(St,me)),St}const We=me=>ce.get(me);function ft(me,St,{blocked:vt,upgrade:an,blocking:xn,terminated:In}={}){const cn=indexedDB.open(me,St),Gn=nt(cn);return an&&cn.addEventListener("upgradeneeded",Tn=>{an(nt(cn.result),Tn.oldVersion,Tn.newVersion,nt(cn.transaction))}),vt&&cn.addEventListener("blocked",()=>vt()),Gn.then(Tn=>{In&&Tn.addEventListener("close",()=>In()),xn&&Tn.addEventListener("versionchange",()=>xn())}).catch(()=>{}),Gn}function pt(me,{blocked:St}={}){const vt=indexedDB.deleteDatabase(me);return St&&vt.addEventListener("blocked",()=>St()),nt(vt).then(()=>{})}const tt=["get","getKey","getAll","getAllKeys","count"],je=["put","add","delete","clear"],Ye=new Map;function Me(me,St){if(!(me instanceof IDBDatabase)||St in me||"string"!=typeof St)return;if(Ye.get(St))return Ye.get(St);const vt=St.replace(/FromIndex$/,""),an=St!==vt,xn=je.includes(vt);if(!(vt in(an?IDBIndex:IDBObjectStore).prototype)||!xn&&!tt.includes(vt))return;const In=function(){var cn=(0,a.Z)(function*(Gn,...Tn){const Wn=this.transaction(Gn,xn?"readwrite":"readonly");let Ht=Wn.store;return an&&(Ht=Ht.index(Tn.shift())),(yield Promise.all([Ht[vt](...Tn),xn&&Wn.done]))[0]});return function(Tn){return cn.apply(this,arguments)}}();return Ye.set(St,In),In}!function Be(me){Ne=me(Ne)}(me=>({...me,get:(St,vt,an)=>Me(St,vt)||me.get(St,vt,an),has:(St,vt)=>!!Me(St,vt)||me.has(St,vt)}))},5943:(ai,qt,N)=>{"use strict";N.d(qt,{jh:()=>Np,vQ:()=>Uv});var a=N(4650);function T(h){return h+.5|0}const O=(h,s,d)=>Math.max(Math.min(h,d),s);function ue(h){return O(T(2.55*h),0,255)}function Ee(h){return O(T(255*h),0,255)}function Re(h){return O(T(h/2.55)/100,0,1)}function xe(h){return O(T(100*h),0,100)}const Ce={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},re=[..."0123456789ABCDEF"],ce=h=>re[15&h],be=h=>re[(240&h)>>4]+re[15&h],Ve=h=>(240&h)>>4==(15&h);const nt=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function We(h,s,d){const m=s*Math.min(d,1-d),x=(A,P=(A+h/30)%12)=>d-m*Math.max(Math.min(P-3,9-P,1),-1);return[x(0),x(8),x(4)]}function ft(h,s,d){const m=(x,A=(x+h/60)%6)=>d-d*s*Math.max(Math.min(A,4-A,1),0);return[m(5),m(3),m(1)]}function pt(h,s,d){const m=We(h,1,.5);let x;for(s+d>1&&(x=1/(s+d),s*=x,d*=x),x=0;x<3;x++)m[x]*=1-s-d,m[x]+=s;return m}function je(h){const d=h.r/255,m=h.g/255,x=h.b/255,A=Math.max(d,m,x),P=Math.min(d,m,x),U=(A+P)/2;let $,se,ze;return A!==P&&(ze=A-P,se=U>.5?ze/(2-A-P):ze/(A+P),$=function tt(h,s,d,m,x){return h===x?(s-d)/m+(s<d?6:0):s===x?(d-h)/m+2:(h-s)/m+4}(d,m,x,ze,A),$=60*$+.5),[0|$,se||0,U]}function Ye(h,s,d,m){return(Array.isArray(s)?h(s[0],s[1],s[2]):h(s,d,m)).map(Ee)}function Me(h,s,d){return Ye(We,h,s,d)}function vt(h){return(h%360+360)%360}const cn={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Gn={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Wn;const Bt=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,Vt=h=>h<=.0031308?12.92*h:1.055*Math.pow(h,1/2.4)-.055,jt=h=>h<=.04045?h/12.92:Math.pow((h+.055)/1.055,2.4);function en(h,s,d){if(h){let m=je(h);m[s]=Math.max(0,Math.min(m[s]+m[s]*d,0===s?360:1)),m=Me(m),h.r=m[0],h.g=m[1],h.b=m[2]}}function gn(h,s){return h&&Object.assign(s||{},h)}function On(h){var s={r:0,g:0,b:0,a:255};return Array.isArray(h)?h.length>=3&&(s={r:h[0],g:h[1],b:h[2],a:255},h.length>3&&(s.a=Ee(h[3]))):(s=gn(h,{r:0,g:0,b:0,a:1})).a=Ee(s.a),s}function Qn(h){return"r"===h.charAt(0)?function Kt(h){const s=Bt.exec(h);let m,x,A,d=255;if(s){if(s[7]!==m){const P=+s[7];d=s[8]?ue(P):O(255*P,0,255)}return m=+s[1],x=+s[3],A=+s[5],m=255&(s[2]?ue(m):O(m,0,255)),x=255&(s[4]?ue(x):O(x,0,255)),A=255&(s[6]?ue(A):O(A,0,255)),{r:m,g:x,b:A,a:d}}}(h):function an(h){const s=nt.exec(h);let m,d=255;if(!s)return;s[5]!==m&&(d=s[6]?ue(+s[5]):Ee(+s[5]));const x=vt(+s[2]),A=+s[3]/100,P=+s[4]/100;return m="hwb"===s[1]?function me(h,s,d){return Ye(pt,h,s,d)}(x,A,P):"hsv"===s[1]?function St(h,s,d){return Ye(ft,h,s,d)}(x,A,P):Me(x,A,P),{r:m[0],g:m[1],b:m[2],a:d}}(h)}class _n{constructor(s){if(s instanceof _n)return s;const d=typeof s;let m;"object"===d?m=On(s):"string"===d&&(m=function Be(h){var d,s=h.length;return"#"===h[0]&&(4===s||5===s?d={r:255&17*Ce[h[1]],g:255&17*Ce[h[2]],b:255&17*Ce[h[3]],a:5===s?17*Ce[h[4]]:255}:(7===s||9===s)&&(d={r:Ce[h[1]]<<4|Ce[h[2]],g:Ce[h[3]]<<4|Ce[h[4]],b:Ce[h[5]]<<4|Ce[h[6]],a:9===s?Ce[h[7]]<<4|Ce[h[8]]:255})),d}(s)||function Ht(h){Wn||(Wn=function Tn(){const h={},s=Object.keys(Gn),d=Object.keys(cn);let m,x,A,P,U;for(m=0;m<s.length;m++){for(P=U=s[m],x=0;x<d.length;x++)A=d[x],U=U.replace(A,cn[A]);A=parseInt(Gn[P],16),h[U]=[A>>16&255,A>>8&255,255&A]}return h}(),Wn.transparent=[0,0,0,0]);const s=Wn[h.toLowerCase()];return s&&{r:s[0],g:s[1],b:s[2],a:4===s.length?s[3]:255}}(s)||Qn(s)),this._rgb=m,this._valid=!!m}get valid(){return this._valid}get rgb(){var s=gn(this._rgb);return s&&(s.a=Re(s.a)),s}set rgb(s){this._rgb=On(s)}rgbString(){return this._valid?function et(h){return h&&(h.a<255?`rgba(${h.r}, ${h.g}, ${h.b}, ${Re(h.a)})`:`rgb(${h.r}, ${h.g}, ${h.b})`)}(this._rgb):void 0}hexString(){return this._valid?function Ke(h){var s=(h=>Ve(h.r)&&Ve(h.g)&&Ve(h.b)&&Ve(h.a))(h)?ce:be;return h?"#"+s(h.r)+s(h.g)+s(h.b)+((h,s)=>h<255?s(h):"")(h.a,s):void 0}(this._rgb):void 0}hslString(){return this._valid?function In(h){if(!h)return;const s=je(h),d=s[0],m=xe(s[1]),x=xe(s[2]);return h.a<255?`hsla(${d}, ${m}%, ${x}%, ${Re(h.a)})`:`hsl(${d}, ${m}%, ${x}%)`}(this._rgb):void 0}mix(s,d){if(s){const m=this.rgb,x=s.rgb;let A;const P=d===A?.5:d,U=2*P-1,$=m.a-x.a,se=((U*$==-1?U:(U+$)/(1+U*$))+1)/2;A=1-se,m.r=255&se*m.r+A*x.r+.5,m.g=255&se*m.g+A*x.g+.5,m.b=255&se*m.b+A*x.b+.5,m.a=P*m.a+(1-P)*x.a,this.rgb=m}return this}interpolate(s,d){return s&&(this._rgb=function Yn(h,s,d){const m=jt(Re(h.r)),x=jt(Re(h.g)),A=jt(Re(h.b));return{r:Ee(Vt(m+d*(jt(Re(s.r))-m))),g:Ee(Vt(x+d*(jt(Re(s.g))-x))),b:Ee(Vt(A+d*(jt(Re(s.b))-A))),a:h.a+d*(s.a-h.a)}}(this._rgb,s._rgb,d)),this}clone(){return new _n(this.rgb)}alpha(s){return this._rgb.a=Ee(s),this}clearer(s){return this._rgb.a*=1-s,this}greyscale(){const s=this._rgb,d=T(.3*s.r+.59*s.g+.11*s.b);return s.r=s.g=s.b=d,this}opaquer(s){return this._rgb.a*=1+s,this}negate(){const s=this._rgb;return s.r=255-s.r,s.g=255-s.g,s.b=255-s.b,this}lighten(s){return en(this._rgb,2,s),this}darken(s){return en(this._rgb,2,-s),this}saturate(s){return en(this._rgb,1,s),this}desaturate(s){return en(this._rgb,1,-s),this}rotate(s){return function xn(h,s){var d=je(h);d[0]=vt(d[0]+s),d=Me(d),h.r=d[0],h.g=d[1],h.b=d[2]}(this._rgb,s),this}}function yn(){}const pn=(()=>{let h=0;return()=>h++})();function Pn(h){return null===h||typeof h>"u"}function Nt(h){if(Array.isArray&&Array.isArray(h))return!0;const s=Object.prototype.toString.call(h);return"[object"===s.slice(0,7)&&"Array]"===s.slice(-6)}function tn(h){return null!==h&&"[object Object]"===Object.prototype.toString.call(h)}function Rt(h){return("number"==typeof h||h instanceof Number)&&isFinite(+h)}function bn(h,s){return Rt(h)?h:s}function lt(h,s){return typeof h>"u"?s:h}const Ae=(h,s)=>"string"==typeof h&&h.endsWith("%")?parseFloat(h)/100*s:+h;function ot(h,s,d){if(h&&"function"==typeof h.call)return h.apply(d,s)}function zt(h,s,d,m){let x,A,P;if(Nt(h))if(A=h.length,m)for(x=A-1;x>=0;x--)s.call(d,h[x],x);else for(x=0;x<A;x++)s.call(d,h[x],x);else if(tn(h))for(P=Object.keys(h),A=P.length,x=0;x<A;x++)s.call(d,h[P[x]],P[x])}function Lt(h,s){let d,m,x,A;if(!h||!s||h.length!==s.length)return!1;for(d=0,m=h.length;d<m;++d)if(x=h[d],A=s[d],x.datasetIndex!==A.datasetIndex||x.index!==A.index)return!1;return!0}function Mt(h){if(Nt(h))return h.map(Mt);if(tn(h)){const s=Object.create(null),d=Object.keys(h),m=d.length;let x=0;for(;x<m;++x)s[d[x]]=Mt(h[d[x]]);return s}return h}function Tt(h){return-1===["__proto__","prototype","constructor"].indexOf(h)}function mn(h,s,d,m){if(!Tt(h))return;const x=s[h],A=d[h];tn(x)&&tn(A)?An(x,A,m):s[h]=Mt(A)}function An(h,s,d){const m=Nt(s)?s:[s],x=m.length;if(!tn(h))return h;const A=(d=d||{}).merger||mn;let P;for(let U=0;U<x;++U){if(P=m[U],!tn(P))continue;const $=Object.keys(P);for(let se=0,ze=$.length;se<ze;++se)A($[se],h,P,d)}return h}function Ln(h,s){return An(h,s,{merger:mi})}function mi(h,s,d){if(!Tt(h))return;const m=s[h],x=d[h];tn(m)&&tn(x)?Ln(m,x):Object.prototype.hasOwnProperty.call(s,h)||(s[h]=Mt(x))}const li={"":h=>h,x:h=>h.x,y:h=>h.y};function _r(h,s){return(li[s]||(li[s]=function Si(h){const s=function Bi(h){const s=h.split("."),d=[];let m="";for(const x of s)m+=x,m.endsWith("\\")?m=m.slice(0,-1)+".":(d.push(m),m="");return d}(h);return d=>{for(const m of s){if(""===m)break;d=d&&d[m]}return d}}(s)))(h)}function En(h){return h.charAt(0).toUpperCase()+h.slice(1)}const sn=h=>typeof h<"u",It=h=>"function"==typeof h,xt=(h,s)=>{if(h.size!==s.size)return!1;for(const d of h)if(!s.has(d))return!1;return!0},Ie=Math.PI,pe=2*Ie,ye=pe+Ie,st=Number.POSITIVE_INFINITY,Ue=Ie/180,Te=Ie/2,ct=Ie/4,Fe=2*Ie/3,qe=Math.log10,Zt=Math.sign;function wn(h,s,d){return Math.abs(h-s)<d}function ti(h){const s=Math.round(h);h=wn(h,s,h/1e3)?s:h;const d=Math.pow(10,Math.floor(qe(h))),m=h/d;return(m<=1?1:m<=2?2:m<=5?5:10)*d}function Li(h){return!isNaN(parseFloat(h))&&isFinite(h)}function ie(h,s,d){let m,x,A;for(m=0,x=h.length;m<x;m++)A=h[m][d],isNaN(A)||(s.min=Math.min(s.min,A),s.max=Math.max(s.max,A))}function K(h){return h*(Ie/180)}function ge(h){return h*(180/Ie)}function Ge(h){if(!Rt(h))return;let s=1,d=0;for(;Math.round(h*s)/s!==h;)s*=10,d++;return d}function rn(h,s){const d=s.x-h.x,m=s.y-h.y,x=Math.sqrt(d*d+m*m);let A=Math.atan2(m,d);return A<-.5*Ie&&(A+=pe),{angle:A,distance:x}}function Hn(h,s){return Math.sqrt(Math.pow(s.x-h.x,2)+Math.pow(s.y-h.y,2))}function Un(h,s){return(h-s+ye)%pe-Ie}function pi(h){return(h%pe+pe)%pe}function mt(h,s,d,m){const x=pi(h),A=pi(s),P=pi(d),U=pi(A-x),$=pi(P-x),se=pi(x-A),ze=pi(x-P);return x===A||x===P||m&&A===P||U>$&&se<ze}function Ft(h,s,d){return Math.max(s,Math.min(d,h))}function Wt(h,s,d,m=1e-6){return h>=Math.min(s,d)-m&&h<=Math.max(s,d)+m}function at(h,s,d){d=d||(P=>h[P]<s);let A,m=h.length-1,x=0;for(;m-x>1;)A=x+m>>1,d(A)?x=A:m=A;return{lo:x,hi:m}}const Yt=(h,s,d,m)=>at(h,d,m?x=>{const A=h[x][s];return A<d||A===d&&h[x+1][s]===d}:x=>h[x][s]<d),Y=(h,s,d)=>at(h,d,m=>h[m][s]>=d),At=["push","pop","shift","splice","unshift"];function ci(h,s){const d=h._chartjs;if(!d)return;const m=d.listeners,x=m.indexOf(s);-1!==x&&m.splice(x,1),!(m.length>0)&&(At.forEach(A=>{delete h[A]}),delete h._chartjs)}function zi(h){const s=new Set;let d,m;for(d=0,m=h.length;d<m;++d)s.add(h[d]);return s.size===m?h:Array.from(s)}const Hr=typeof window>"u"?function(h){return h()}:window.requestAnimationFrame;function vr(h,s){let d=[],m=!1;return function(...x){d=x,m||(m=!0,Hr.call(window,()=>{m=!1,h.apply(s,d)}))}}const xs=h=>"start"===h?"left":"end"===h?"right":"center",$r=(h,s,d)=>"start"===h?s:"end"===h?d:(s+d)/2;function wo(h,s,d){const m=s.length;let x=0,A=m;if(h._sorted){const{iScale:P,_parsed:U}=h,$=P.axis,{min:se,max:ze,minDefined:_t,maxDefined:Ot}=P.getUserBounds();_t&&(x=Ft(Math.min(Yt(U,P.axis,se).lo,d?m:Yt(s,$,P.getPixelForValue(se)).lo),0,m-1)),A=Ot?Ft(Math.max(Yt(U,P.axis,ze,!0).hi+1,d?0:Yt(s,$,P.getPixelForValue(ze),!0).hi+1),x,m)-x:m-x}return{start:x,count:A}}function nr(h){const{xScale:s,yScale:d,_scaleRanges:m}=h,x={xmin:s.min,xmax:s.max,ymin:d.min,ymax:d.max};if(!m)return h._scaleRanges=x,!0;const A=m.xmin!==s.min||m.xmax!==s.max||m.ymin!==d.min||m.ymax!==d.max;return Object.assign(m,x),A}const Jr=h=>0===h||1===h,Ps=(h,s,d)=>-Math.pow(2,10*(h-=1))*Math.sin((h-s)*pe/d),qo=(h,s,d)=>Math.pow(2,-10*h)*Math.sin((h-s)*pe/d)+1,Co={linear:h=>h,easeInQuad:h=>h*h,easeOutQuad:h=>-h*(h-2),easeInOutQuad:h=>(h/=.5)<1?.5*h*h:-.5*(--h*(h-2)-1),easeInCubic:h=>h*h*h,easeOutCubic:h=>(h-=1)*h*h+1,easeInOutCubic:h=>(h/=.5)<1?.5*h*h*h:.5*((h-=2)*h*h+2),easeInQuart:h=>h*h*h*h,easeOutQuart:h=>-((h-=1)*h*h*h-1),easeInOutQuart:h=>(h/=.5)<1?.5*h*h*h*h:-.5*((h-=2)*h*h*h-2),easeInQuint:h=>h*h*h*h*h,easeOutQuint:h=>(h-=1)*h*h*h*h+1,easeInOutQuint:h=>(h/=.5)<1?.5*h*h*h*h*h:.5*((h-=2)*h*h*h*h+2),easeInSine:h=>1-Math.cos(h*Te),easeOutSine:h=>Math.sin(h*Te),easeInOutSine:h=>-.5*(Math.cos(Ie*h)-1),easeInExpo:h=>0===h?0:Math.pow(2,10*(h-1)),easeOutExpo:h=>1===h?1:1-Math.pow(2,-10*h),easeInOutExpo:h=>Jr(h)?h:h<.5?.5*Math.pow(2,10*(2*h-1)):.5*(2-Math.pow(2,-10*(2*h-1))),easeInCirc:h=>h>=1?h:-(Math.sqrt(1-h*h)-1),easeOutCirc:h=>Math.sqrt(1-(h-=1)*h),easeInOutCirc:h=>(h/=.5)<1?-.5*(Math.sqrt(1-h*h)-1):.5*(Math.sqrt(1-(h-=2)*h)+1),easeInElastic:h=>Jr(h)?h:Ps(h,.075,.3),easeOutElastic:h=>Jr(h)?h:qo(h,.075,.3),easeInOutElastic:h=>Jr(h)?h:h<.5?.5*Ps(2*h,.1125,.45):.5+.5*qo(2*h-1,.1125,.45),easeInBack:h=>h*h*(2.70158*h-1.70158),easeOutBack:h=>(h-=1)*h*(2.70158*h+1.70158)+1,easeInOutBack(h){let s=1.70158;return(h/=.5)<1?h*h*((1+(s*=1.525))*h-s)*.5:.5*((h-=2)*h*((1+(s*=1.525))*h+s)+2)},easeInBounce:h=>1-Co.easeOutBounce(1-h),easeOutBounce:h=>h<1/2.75?7.5625*h*h:h<2/2.75?7.5625*(h-=1.5/2.75)*h+.75:h<2.5/2.75?7.5625*(h-=2.25/2.75)*h+.9375:7.5625*(h-=2.625/2.75)*h+.984375,easeInOutBounce:h=>h<.5?.5*Co.easeInBounce(2*h):.5*Co.easeOutBounce(2*h-1)+.5};function Wo(h){if(h&&"object"==typeof h){const s=h.toString();return"[object CanvasPattern]"===s||"[object CanvasGradient]"===s}return!1}function fa(h){return Wo(h)?h:new _n(h)}function ws(h){return Wo(h)?h:new _n(h).saturate(.5).darken(.1).hexString()}const Es=["x","y","borderWidth","radius","tension"],ta=["color","borderColor","backgroundColor"],Ra=new Map;function Po(h,s,d){return function cs(h,s){s=s||{};const d=h+JSON.stringify(s);let m=Ra.get(d);return m||(m=new Intl.NumberFormat(h,s),Ra.set(d,m)),m}(s,d).format(h)}const Dl={values:h=>Nt(h)?h:""+h,numeric(h,s,d){if(0===h)return"0";const m=this.chart.options.locale;let x,A=h;if(d.length>1){const se=Math.max(Math.abs(d[0].value),Math.abs(d[d.length-1].value));(se<1e-4||se>1e15)&&(x="scientific"),A=function Ls(h,s){let d=s.length>3?s[2].value-s[1].value:s[1].value-s[0].value;return Math.abs(d)>=1&&h!==Math.floor(h)&&(d=h-Math.floor(h)),d}(h,d)}const P=qe(Math.abs(A)),U=Math.max(Math.min(-1*Math.floor(P),20),0),$={notation:x,minimumFractionDigits:U,maximumFractionDigits:U};return Object.assign($,this.options.ticks.format),Po(h,m,$)},logarithmic(h,s,d){if(0===h)return"0";const m=d[s].significand||h/Math.pow(10,Math.floor(qe(h)));return[1,2,3,5,10,15].includes(m)||s>.8*d.length?Dl.numeric.call(this,h,s,d):""}};var Ga={formatters:Dl};const Ws=Object.create(null),Hs=Object.create(null);function Ca(h,s){if(!s)return h;const d=s.split(".");for(let m=0,x=d.length;m<x;++m){const A=d[m];h=h[A]||(h[A]=Object.create(null))}return h}function Rl(h,s,d){return"string"==typeof s?An(Ca(h,s),d):An(Ca(h,""),s)}class Sr{constructor(s,d){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=m=>m.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(m,x)=>ws(x.backgroundColor),this.hoverBorderColor=(m,x)=>ws(x.borderColor),this.hoverColor=(m,x)=>ws(x.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(s),this.apply(d)}set(s,d){return Rl(this,s,d)}get(s){return Ca(this,s)}describe(s,d){return Rl(Hs,s,d)}override(s,d){return Rl(Ws,s,d)}route(s,d,m,x){const A=Ca(this,s),P=Ca(this,m),U="_"+d;Object.defineProperties(A,{[U]:{value:A[d],writable:!0},[d]:{enumerable:!0,get(){const $=this[U],se=P[x];return tn($)?Object.assign({},se,$):lt($,se)},set($){this[U]=$}}})}apply(s){s.forEach(d=>d(this))}}var Rr=new Sr({_scriptable:h=>!h.startsWith("on"),_indexable:h=>"events"!==h,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function ja(h){h.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),h.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:s=>"onProgress"!==s&&"onComplete"!==s&&"fn"!==s}),h.set("animations",{colors:{type:"color",properties:ta},numbers:{type:"number",properties:Es}}),h.describe("animations",{_fallback:"animation"}),h.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:s=>0|s}}}})},function Os(h){h.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function wa(h){h.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(s,d)=>d.lineWidth,tickColor:(s,d)=>d.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ga.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),h.route("scale.ticks","color","","color"),h.route("scale.grid","color","","borderColor"),h.route("scale.border","color","","borderColor"),h.route("scale.title","color","","color"),h.describe("scale",{_fallback:!1,_scriptable:s=>!s.startsWith("before")&&!s.startsWith("after")&&"callback"!==s&&"parser"!==s,_indexable:s=>"borderDash"!==s&&"tickBorderDash"!==s&&"dash"!==s}),h.describe("scales",{_fallback:"scale"}),h.describe("scale.ticks",{_scriptable:s=>"backdropPadding"!==s&&"callback"!==s,_indexable:s=>"backdropPadding"!==s})}]);function Ta(h,s,d,m,x){let A=s[x];return A||(A=s[x]=h.measureText(x).width,d.push(x)),A>m&&(m=A),m}function Da(h,s,d,m){let x=(m=m||{}).data=m.data||{},A=m.garbageCollect=m.garbageCollect||[];m.font!==s&&(x=m.data={},A=m.garbageCollect=[],m.font=s),h.save(),h.font=s;let P=0;const U=d.length;let $,se,ze,_t,Ot;for($=0;$<U;$++)if(_t=d[$],null!=_t&&!0!==Nt(_t))P=Ta(h,x,A,P,_t);else if(Nt(_t))for(se=0,ze=_t.length;se<ze;se++)Ot=_t[se],null!=Ot&&!Nt(Ot)&&(P=Ta(h,x,A,P,Ot));h.restore();const Qt=A.length/2;if(Qt>d.length){for($=0;$<Qt;$++)delete x[A[$]];A.splice(0,Qt)}return P}function Bo(h,s,d){const m=h.currentDevicePixelRatio,x=0!==d?Math.max(d/2,.5):0;return Math.round((s-x)*m)/m+x}function Eo(h,s){(s=s||h.getContext("2d")).save(),s.resetTransform(),s.clearRect(0,0,h.width,h.height),s.restore()}function Aa(h,s,d,m){Oo(h,s,d,m,null)}function Oo(h,s,d,m,x){let A,P,U,$,se,ze,_t,Ot;const Qt=s.pointStyle,Sn=s.rotation,Mn=s.radius;let Vn=(Sn||0)*Ue;if(Qt&&"object"==typeof Qt&&(A=Qt.toString(),"[object HTMLImageElement]"===A||"[object HTMLCanvasElement]"===A))return h.save(),h.translate(d,m),h.rotate(Vn),h.drawImage(Qt,-Qt.width/2,-Qt.height/2,Qt.width,Qt.height),void h.restore();if(!(isNaN(Mn)||Mn<=0)){switch(h.beginPath(),Qt){default:x?h.ellipse(d,m,x/2,Mn,0,0,pe):h.arc(d,m,Mn,0,pe),h.closePath();break;case"triangle":ze=x?x/2:Mn,h.moveTo(d+Math.sin(Vn)*ze,m-Math.cos(Vn)*Mn),Vn+=Fe,h.lineTo(d+Math.sin(Vn)*ze,m-Math.cos(Vn)*Mn),Vn+=Fe,h.lineTo(d+Math.sin(Vn)*ze,m-Math.cos(Vn)*Mn),h.closePath();break;case"rectRounded":se=.516*Mn,$=Mn-se,P=Math.cos(Vn+ct)*$,_t=Math.cos(Vn+ct)*(x?x/2-se:$),U=Math.sin(Vn+ct)*$,Ot=Math.sin(Vn+ct)*(x?x/2-se:$),h.arc(d-_t,m-U,se,Vn-Ie,Vn-Te),h.arc(d+Ot,m-P,se,Vn-Te,Vn),h.arc(d+_t,m+U,se,Vn,Vn+Te),h.arc(d-Ot,m+P,se,Vn+Te,Vn+Ie),h.closePath();break;case"rect":if(!Sn){$=Math.SQRT1_2*Mn,ze=x?x/2:$,h.rect(d-ze,m-$,2*ze,2*$);break}Vn+=ct;case"rectRot":_t=Math.cos(Vn)*(x?x/2:Mn),P=Math.cos(Vn)*Mn,U=Math.sin(Vn)*Mn,Ot=Math.sin(Vn)*(x?x/2:Mn),h.moveTo(d-_t,m-U),h.lineTo(d+Ot,m-P),h.lineTo(d+_t,m+U),h.lineTo(d-Ot,m+P),h.closePath();break;case"crossRot":Vn+=ct;case"cross":_t=Math.cos(Vn)*(x?x/2:Mn),P=Math.cos(Vn)*Mn,U=Math.sin(Vn)*Mn,Ot=Math.sin(Vn)*(x?x/2:Mn),h.moveTo(d-_t,m-U),h.lineTo(d+_t,m+U),h.moveTo(d+Ot,m-P),h.lineTo(d-Ot,m+P);break;case"star":_t=Math.cos(Vn)*(x?x/2:Mn),P=Math.cos(Vn)*Mn,U=Math.sin(Vn)*Mn,Ot=Math.sin(Vn)*(x?x/2:Mn),h.moveTo(d-_t,m-U),h.lineTo(d+_t,m+U),h.moveTo(d+Ot,m-P),h.lineTo(d-Ot,m+P),Vn+=ct,_t=Math.cos(Vn)*(x?x/2:Mn),P=Math.cos(Vn)*Mn,U=Math.sin(Vn)*Mn,Ot=Math.sin(Vn)*(x?x/2:Mn),h.moveTo(d-_t,m-U),h.lineTo(d+_t,m+U),h.moveTo(d+Ot,m-P),h.lineTo(d-Ot,m+P);break;case"line":P=x?x/2:Math.cos(Vn)*Mn,U=Math.sin(Vn)*Mn,h.moveTo(d-P,m-U),h.lineTo(d+P,m+U);break;case"dash":h.moveTo(d,m),h.lineTo(d+Math.cos(Vn)*(x?x/2:Mn),m+Math.sin(Vn)*Mn);break;case!1:h.closePath()}h.fill(),s.borderWidth>0&&h.stroke()}}function mo(h,s,d){return d=d||.5,!s||h&&h.x>s.left-d&&h.x<s.right+d&&h.y>s.top-d&&h.y<s.bottom+d}function gs(h,s){h.save(),h.beginPath(),h.rect(s.left,s.top,s.right-s.left,s.bottom-s.top),h.clip()}function Ur(h){h.restore()}function tl(h,s,d,m,x){if(!s)return h.lineTo(d.x,d.y);if("middle"===x){const A=(s.x+d.x)/2;h.lineTo(A,s.y),h.lineTo(A,d.y)}else"after"===x!=!!m?h.lineTo(s.x,d.y):h.lineTo(d.x,s.y);h.lineTo(d.x,d.y)}function Fa(h,s,d,m){if(!s)return h.lineTo(d.x,d.y);h.bezierCurveTo(m?s.cp1x:s.cp2x,m?s.cp1y:s.cp2y,m?d.cp2x:d.cp1x,m?d.cp2y:d.cp1y,d.x,d.y)}function Mo(h,s,d,m,x,A={}){const P=Nt(s)?s:[s],U=A.strokeWidth>0&&""!==A.strokeColor;let $,se;for(h.save(),h.font=x.string,function Sa(h,s){s.translation&&h.translate(s.translation[0],s.translation[1]),Pn(s.rotation)||h.rotate(s.rotation),s.color&&(h.fillStyle=s.color),s.textAlign&&(h.textAlign=s.textAlign),s.textBaseline&&(h.textBaseline=s.textBaseline)}(h,A),$=0;$<P.length;++$)se=P[$],A.backdrop&&Zo(h,A.backdrop),U&&(A.strokeColor&&(h.strokeStyle=A.strokeColor),Pn(A.strokeWidth)||(h.lineWidth=A.strokeWidth),h.strokeText(se,d,m,A.maxWidth)),h.fillText(se,d,m,A.maxWidth),Yo(h,d,m,se,A),m+=x.lineHeight;h.restore()}function Yo(h,s,d,m,x){if(x.strikethrough||x.underline){const A=h.measureText(m),P=s-A.actualBoundingBoxLeft,U=s+A.actualBoundingBoxRight,$=d-A.actualBoundingBoxAscent,se=d+A.actualBoundingBoxDescent,ze=x.strikethrough?($+se)/2:se;h.strokeStyle=h.fillStyle,h.beginPath(),h.lineWidth=x.decorationWidth||2,h.moveTo(P,ze),h.lineTo(U,ze),h.stroke()}}function Zo(h,s){const d=h.fillStyle;h.fillStyle=s.color,h.fillRect(s.left,s.top,s.width,s.height),h.fillStyle=d}function lo(h,s){const{x:d,y:m,w:x,h:A,radius:P}=s;h.arc(d+P.topLeft,m+P.topLeft,P.topLeft,-Te,Ie,!0),h.lineTo(d,m+A-P.bottomLeft),h.arc(d+P.bottomLeft,m+A-P.bottomLeft,P.bottomLeft,Ie,Te,!0),h.lineTo(d+x-P.bottomRight,m+A),h.arc(d+x-P.bottomRight,m+A-P.bottomRight,P.bottomRight,Te,0,!0),h.lineTo(d+x,m+P.topRight),h.arc(d+x-P.topRight,m+P.topRight,P.topRight,0,-Te,!0),h.lineTo(d+P.topLeft,m)}const wr=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Ea=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Bs(h,s){const d=(""+h).match(wr);if(!d||"normal"===d[1])return 1.2*s;switch(h=+d[2],d[3]){case"px":return h;case"%":h/=100}return s*h}const Ms=h=>+h||0;function To(h,s){const d={},m=tn(s),x=m?Object.keys(s):s,A=tn(h)?m?P=>lt(h[P],h[s[P]]):P=>h[P]:()=>h;for(const P of x)d[P]=Ms(A(P));return d}function dl(h){return To(h,{top:"y",right:"x",bottom:"y",left:"x"})}function Kr(h){return To(h,["topLeft","topRight","bottomLeft","bottomRight"])}function us(h){const s=dl(h);return s.width=s.left+s.right,s.height=s.top+s.bottom,s}function Ir(h,s){let d=lt((h=h||{}).size,(s=s||Rr.font).size);"string"==typeof d&&(d=parseInt(d,10));let m=lt(h.style,s.style);m&&!(""+m).match(Ea)&&(console.warn('Invalid font style specified: "'+m+'"'),m=void 0);const x={family:lt(h.family,s.family),lineHeight:Bs(lt(h.lineHeight,s.lineHeight),d),size:d,style:m,weight:lt(h.weight,s.weight),string:""};return x.string=function os(h){return!h||Pn(h.size)||Pn(h.family)?null:(h.style?h.style+" ":"")+(h.weight?h.weight+" ":"")+h.size+"px "+h.family}(x),x}function Us(h,s,d,m){let A,P,U,x=!0;for(A=0,P=h.length;A<P;++A)if(U=h[A],void 0!==U&&(void 0!==s&&"function"==typeof U&&(U=U(s),x=!1),void 0!==d&&Nt(U)&&(U=U[d%U.length],x=!1),void 0!==U))return m&&!x&&(m.cacheable=!1),U}function Lo(h,s){return Object.assign(Object.create(h),s)}function Na(h,s=[""],d=h,m,x=(()=>h[0])){sn(m)||(m=Ma("_fallback",h));const A={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:h,_rootScopes:d,_fallback:m,_getTarget:x,override:P=>Na([P,...h],s,d,m)};return new Proxy(A,{deleteProperty:(P,U)=>(delete P[U],delete P._keys,delete h[0][U],!0),get:(P,U)=>Qo(P,U,()=>function na(h,s,d,m){let x;for(const A of s)if(x=Ma(hl(A,h),d),sn(x))return eo(h,x)?$a(d,m,h,x):x}(U,s,h,P)),getOwnPropertyDescriptor:(P,U)=>Reflect.getOwnPropertyDescriptor(P._scopes[0],U),getPrototypeOf:()=>Reflect.getPrototypeOf(h[0]),has:(P,U)=>Ho(P).includes(U),ownKeys:P=>Ho(P),set(P,U,$){const se=P._storage||(P._storage=x());return P[U]=se[U]=$,delete P._keys,!0}})}function zs(h,s,d,m){const x={_cacheable:!1,_proxy:h,_context:s,_subProxy:d,_stack:new Set,_descriptors:Vr(h,m),setContext:A=>zs(h,A,d,m),override:A=>zs(h.override(A),s,d,m)};return new Proxy(x,{deleteProperty:(A,P)=>(delete A[P],delete h[P],!0),get:(A,P,U)=>Qo(A,P,()=>function Vo(h,s,d){const{_proxy:m,_context:x,_subProxy:A,_descriptors:P}=h;let U=m[s];return It(U)&&P.isScriptable(s)&&(U=function Xo(h,s,d,m){const{_proxy:x,_context:A,_subProxy:P,_stack:U}=d;if(U.has(h))throw new Error("Recursion detected: "+Array.from(U).join("->")+"->"+h);return U.add(h),s=s(A,P||m),U.delete(h),eo(h,s)&&(s=$a(x._scopes,x,h,s)),s}(s,U,h,d)),Nt(U)&&U.length&&(U=function js(h,s,d,m){const{_proxy:x,_context:A,_subProxy:P,_descriptors:U}=d;if(sn(A.index)&&m(h))s=s[A.index%s.length];else if(tn(s[0])){const $=s,se=x._scopes.filter(ze=>ze!==$);s=[];for(const ze of $){const _t=$a(se,x,h,ze);s.push(zs(_t,A,P&&P[h],U))}}return s}(s,U,h,P.isIndexable)),eo(s,U)&&(U=zs(U,x,A&&A[s],P)),U}(A,P,U)),getOwnPropertyDescriptor:(A,P)=>A._descriptors.allKeys?Reflect.has(h,P)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(h,P),getPrototypeOf:()=>Reflect.getPrototypeOf(h),has:(A,P)=>Reflect.has(h,P),ownKeys:()=>Reflect.ownKeys(h),set:(A,P,U)=>(h[P]=U,delete A[P],!0)})}function Vr(h,s={scriptable:!0,indexable:!0}){const{_scriptable:d=s.scriptable,_indexable:m=s.indexable,_allKeys:x=s.allKeys}=h;return{allKeys:x,scriptable:d,indexable:m,isScriptable:It(d)?d:()=>d,isIndexable:It(m)?m:()=>m}}const hl=(h,s)=>h?h+En(s):s,eo=(h,s)=>tn(s)&&"adapters"!==h&&(null===Object.getPrototypeOf(s)||s.constructor===Object);function Qo(h,s,d){if(Object.prototype.hasOwnProperty.call(h,s))return h[s];const m=d();return h[s]=m,m}function lr(h,s,d){return It(h)?h(s,d):h}const Do=(h,s)=>!0===h?s:"string"==typeof h?_r(s,h):void 0;function nl(h,s,d,m,x){for(const A of s){const P=Do(d,A);if(P){h.add(P);const U=lr(P._fallback,d,x);if(sn(U)&&U!==d&&U!==m)return U}else if(!1===P&&sn(m)&&d!==m)return null}return!1}function $a(h,s,d,m){const x=s._rootScopes,A=lr(s._fallback,d,m),P=[...h,...x],U=new Set;U.add(m);let $=Ba(U,P,d,A||d,m);return!(null===$||sn(A)&&A!==d&&($=Ba(U,P,A,$,m),null===$))&&Na(Array.from(U),[""],x,A,()=>function Jo(h,s,d){const m=h._getTarget();s in m||(m[s]={});const x=m[s];return Nt(x)&&tn(d)?d:x||{}}(s,d,m))}function Ba(h,s,d,m,x){for(;d;)d=nl(h,s,d,m,x);return d}function Ma(h,s){for(const d of s){if(!d)continue;const m=d[h];if(sn(m))return m}}function Ho(h){let s=h._keys;return s||(s=h._keys=function _i(h){const s=new Set;for(const d of h)for(const m of Object.keys(d).filter(x=>!x.startsWith("_")))s.add(m);return Array.from(s)}(h._scopes)),s}function Cr(h,s,d,m){const{iScale:x}=h,{key:A="r"}=this._parsing,P=new Array(m);let U,$,se,ze;for(U=0,$=m;U<$;++U)se=U+d,ze=s[se],P[U]={r:x.parse(_r(ze,A),se)};return P}const ac=Number.EPSILON||1e-14,ka=(h,s)=>s<h.length&&!h[s].skip&&h[s],ks=h=>"x"===h?"y":"x";function Se(h,s,d,m){const x=h.skip?s:h,A=s,P=d.skip?s:d,U=Hn(A,x),$=Hn(P,A);let se=U/(U+$),ze=$/(U+$);se=isNaN(se)?0:se,ze=isNaN(ze)?0:ze;const _t=m*se,Ot=m*ze;return{previous:{x:A.x-_t*(P.x-x.x),y:A.y-_t*(P.y-x.y)},next:{x:A.x+Ot*(P.x-x.x),y:A.y+Ot*(P.y-x.y)}}}function qn(h,s,d){return Math.max(Math.min(h,d),s)}function ds(h,s,d,m,x){let A,P,U,$;if(s.spanGaps&&(h=h.filter(se=>!se.skip)),"monotone"===s.cubicInterpolationMode)!function Et(h,s="x"){const d=ks(s),m=h.length,x=Array(m).fill(0),A=Array(m);let P,U,$,se=ka(h,0);for(P=0;P<m;++P)if(U=$,$=se,se=ka(h,P+1),$){if(se){const ze=se[s]-$[s];x[P]=0!==ze?(se[d]-$[d])/ze:0}A[P]=U?se?Zt(x[P-1])!==Zt(x[P])?0:(x[P-1]+x[P])/2:x[P-1]:x[P]}(function De(h,s,d){const m=h.length;let x,A,P,U,$,se=ka(h,0);for(let ze=0;ze<m-1;++ze)if($=se,se=ka(h,ze+1),$&&se){if(wn(s[ze],0,ac)){d[ze]=d[ze+1]=0;continue}x=d[ze]/s[ze],A=d[ze+1]/s[ze],U=Math.pow(x,2)+Math.pow(A,2),!(U<=9)&&(P=3/Math.sqrt(U),d[ze]=x*P*s[ze],d[ze+1]=A*P*s[ze])}})(h,x,A),function he(h,s,d="x"){const m=ks(d),x=h.length;let A,P,U,$=ka(h,0);for(let se=0;se<x;++se){if(P=U,U=$,$=ka(h,se+1),!U)continue;const ze=U[d],_t=U[m];P&&(A=(ze-P[d])/3,U[`cp1${d}`]=ze-A,U[`cp1${m}`]=_t-A*s[se]),$&&(A=($[d]-ze)/3,U[`cp2${d}`]=ze+A,U[`cp2${m}`]=_t+A*s[se])}}(h,A,s)}(h,x);else{let se=m?h[h.length-1]:h[0];for(A=0,P=h.length;A<P;++A)U=h[A],$=Se(se,U,h[Math.min(A+1,P-(m?0:1))%P],s.tension),U.cp1x=$.previous.x,U.cp1y=$.previous.y,U.cp2x=$.next.x,U.cp2y=$.next.y,se=U}s.capBezierPoints&&function Vi(h,s){let d,m,x,A,P,U=mo(h[0],s);for(d=0,m=h.length;d<m;++d)P=A,A=U,U=d<m-1&&mo(h[d+1],s),A&&(x=h[d],P&&(x.cp1x=qn(x.cp1x,s.left,s.right),x.cp1y=qn(x.cp1y,s.top,s.bottom)),U&&(x.cp2x=qn(x.cp2x,s.left,s.right),x.cp2y=qn(x.cp2y,s.top,s.bottom)))}(h,d)}function Rs(){return typeof window<"u"&&typeof document<"u"}function to(h){let s=h.parentNode;return s&&"[object ShadowRoot]"===s.toString()&&(s=s.host),s}function _s(h,s,d){let m;return"string"==typeof h?(m=parseInt(h,10),-1!==h.indexOf("%")&&(m=m/100*s.parentNode[d])):m=h,m}const Ao=h=>h.ownerDocument.defaultView.getComputedStyle(h,null),aa=["top","right","bottom","left"];function la(h,s,d){const m={};d=d?"-"+d:"";for(let x=0;x<4;x++){const A=aa[x];m[A]=parseFloat(h[s+"-"+A+d])||0}return m.width=m.left+m.right,m.height=m.top+m.bottom,m}function Wa(h,s){if("native"in h)return h;const{canvas:d,currentDevicePixelRatio:m}=s,x=Ao(d),A="border-box"===x.boxSizing,P=la(x,"padding"),U=la(x,"border","width"),{x:$,y:se,box:ze}=function Fl(h,s){const d=h.touches,m=d&&d.length?d[0]:h,{offsetX:x,offsetY:A}=m;let U,$,P=!1;if(((h,s,d)=>(h>0||s>0)&&(!d||!d.shadowRoot))(x,A,h.target))U=x,$=A;else{const se=s.getBoundingClientRect();U=m.clientX-se.left,$=m.clientY-se.top,P=!0}return{x:U,y:$,box:P}}(h,d),_t=P.left+(ze&&U.left),Ot=P.top+(ze&&U.top);let{width:Qt,height:Sn}=s;return A&&(Qt-=P.width+U.width,Sn-=P.height+U.height),{x:Math.round(($-_t)/Qt*d.width/m),y:Math.round((se-Ot)/Sn*d.height/m)}}const Vs=h=>Math.round(10*h)/10;function cc(h,s,d){const m=s||1,x=Math.floor(h.height*m),A=Math.floor(h.width*m);h.height=Math.floor(h.height),h.width=Math.floor(h.width);const P=h.canvas;return P.style&&(d||!P.style.height&&!P.style.width)&&(P.style.height=`${h.height}px`,P.style.width=`${h.width}px`),(h.currentDevicePixelRatio!==m||P.height!==x||P.width!==A)&&(h.currentDevicePixelRatio=m,P.height=x,P.width=A,h.ctx.setTransform(m,0,0,m,0,0),!0)}const ca=function(){let h=!1;try{const s={get passive(){return h=!0,!1}};window.addEventListener("test",null,s),window.removeEventListener("test",null,s)}catch{}return h}();function ar(h,s){const d=function _o(h,s){return Ao(h).getPropertyValue(s)}(h,s),m=d&&d.match(/^(\d+)(\.\d+)?px$/);return m?+m[1]:void 0}function xr(h,s,d,m){return{x:h.x+d*(s.x-h.x),y:h.y+d*(s.y-h.y)}}function il(h,s,d,m){return{x:h.x+d*(s.x-h.x),y:"middle"===m?d<.5?h.y:s.y:"after"===m?d<1?h.y:s.y:d>0?s.y:h.y}}function co(h,s,d,m){const x={x:h.cp2x,y:h.cp2y},A={x:s.cp1x,y:s.cp1y},P=xr(h,x,d),U=xr(x,A,d),$=xr(A,s,d),se=xr(P,U,d),ze=xr(U,$,d);return xr(se,ze,d)}function ae(h,s,d){return h?function(h,s){return{x:d=>h+h+s-d,setWidth(d){s=d},textAlign:d=>"center"===d?d:"right"===d?"left":"right",xPlus:(d,m)=>d-m,leftForLtr:(d,m)=>d-m}}(s,d):{x:h=>h,setWidth(h){},textAlign:h=>h,xPlus:(h,s)=>h+s,leftForLtr:(h,s)=>h}}function Xe(h,s){let d,m;("ltr"===s||"rtl"===s)&&(d=h.canvas.style,m=[d.getPropertyValue("direction"),d.getPropertyPriority("direction")],d.setProperty("direction",s,"important"),h.prevTextDirection=m)}function ve(h,s){void 0!==s&&(delete h.prevTextDirection,h.canvas.style.setProperty("direction",s[0],s[1]))}function yt(h){return"angle"===h?{between:mt,compare:Un,normalize:pi}:{between:Wt,compare:(s,d)=>s-d,normalize:s=>s}}function un({start:h,end:s,count:d,loop:m,style:x}){return{start:h%d,end:s%d,loop:m&&(s-h+1)%d==0,style:x}}function si(h,s,d){if(!d)return[h];const{property:m,start:x,end:A}=d,P=s.length,{compare:U,between:$,normalize:se}=yt(m),{start:ze,end:_t,loop:Ot,style:Qt}=function jn(h,s,d){const{property:m,start:x,end:A}=d,{between:P,normalize:U}=yt(m),$=s.length;let Ot,Qt,{start:se,end:ze,loop:_t}=h;if(_t){for(se+=$,ze+=$,Ot=0,Qt=$;Ot<Qt&&P(U(s[se%$][m]),x,A);++Ot)se--,ze--;se%=$,ze%=$}return ze<se&&(ze+=$),{start:se,end:ze,loop:_t,style:h.style}}(h,s,d),Sn=[];let ri,hi,Mi,Mn=!1,Vn=null;for(let fr=ze,ts=ze;fr<=_t;++fr)hi=s[fr%P],!hi.skip&&(ri=se(hi[m]),ri!==Mi&&(Mn=$(ri,x,A),null===Vn&&(Mn||$(x,Mi,ri)&&0!==U(x,Mi))&&(Vn=0===U(ri,x)?fr:ts),null!==Vn&&(!Mn||0===U(A,ri)||$(A,Mi,ri))&&(Sn.push(un({start:Vn,end:fr,loop:Ot,count:P,style:Qt})),Vn=null),ts=fr,Mi=ri));return null!==Vn&&Sn.push(un({start:Vn,end:_t,loop:Ot,count:P,style:Qt})),Sn}function Ji(h,s){const d=[],m=h.segments;for(let x=0;x<m.length;x++){const A=si(m[x],h.points,s);A.length&&d.push(...A)}return d}function hs(h){return{backgroundColor:h.backgroundColor,borderCapStyle:h.borderCapStyle,borderDash:h.borderDash,borderDashOffset:h.borderDashOffset,borderJoinStyle:h.borderJoinStyle,borderWidth:h.borderWidth,borderColor:h.borderColor}}function Cs(h,s){return s&&JSON.stringify(h)!==JSON.stringify(s)}class Ia{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(s,d,m,x){const P=d.duration;d.listeners[x].forEach(U=>U({chart:s,initial:d.initial,numSteps:P,currentStep:Math.min(m-d.start,P)}))}_refresh(){this._request||(this._running=!0,this._request=Hr.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(s=Date.now()){let d=0;this._charts.forEach((m,x)=>{if(!m.running||!m.items.length)return;const A=m.items;let $,P=A.length-1,U=!1;for(;P>=0;--P)$=A[P],$._active?($._total>m.duration&&(m.duration=$._total),$.tick(s),U=!0):(A[P]=A[A.length-1],A.pop());U&&(x.draw(),this._notify(x,m,s,"progress")),A.length||(m.running=!1,this._notify(x,m,s,"complete"),m.initial=!1),d+=A.length}),this._lastDate=s,0===d&&(this._running=!1)}_getAnims(s){const d=this._charts;let m=d.get(s);return m||(m={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},d.set(s,m)),m}listen(s,d,m){this._getAnims(s).listeners[d].push(m)}add(s,d){!d||!d.length||this._getAnims(s).items.push(...d)}has(s){return this._getAnims(s).items.length>0}start(s){const d=this._charts.get(s);!d||(d.running=!0,d.start=Date.now(),d.duration=d.items.reduce((m,x)=>Math.max(m,x._duration),0),this._refresh())}running(s){if(!this._running)return!1;const d=this._charts.get(s);return!(!d||!d.running||!d.items.length)}stop(s){const d=this._charts.get(s);if(!d||!d.items.length)return;const m=d.items;let x=m.length-1;for(;x>=0;--x)m[x].cancel();d.items=[],this._notify(s,d,Date.now(),"complete")}remove(s){return this._charts.delete(s)}}var Uo=new Ia;const yo="transparent",Va={boolean:(h,s,d)=>d>.5?s:h,color(h,s,d){const m=fa(h||yo),x=m.valid&&fa(s||yo);return x&&x.valid?x.mix(m,d).hexString():s},number:(h,s,d)=>h+(s-h)*d};class Ha{constructor(s,d,m,x){const A=d[m];x=Us([s.to,x,A,s.from]);const P=Us([s.from,A,x]);this._active=!0,this._fn=s.fn||Va[s.type||typeof P],this._easing=Co[s.easing]||Co.linear,this._start=Math.floor(Date.now()+(s.delay||0)),this._duration=this._total=Math.floor(s.duration),this._loop=!!s.loop,this._target=d,this._prop=m,this._from=P,this._to=x,this._promises=void 0}active(){return this._active}update(s,d,m){if(this._active){this._notify(!1);const x=this._target[this._prop],A=m-this._start,P=this._duration-A;this._start=m,this._duration=Math.floor(Math.max(P,s.duration)),this._total+=A,this._loop=!!s.loop,this._to=Us([s.to,d,x,s.from]),this._from=Us([s.from,x,d])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(s){const d=s-this._start,m=this._duration,x=this._prop,A=this._from,P=this._loop,U=this._to;let $;if(this._active=A!==U&&(P||d<m),!this._active)return this._target[x]=U,void this._notify(!0);d<0?this._target[x]=A:($=d/m%2,$=P&&$>1?2-$:$,$=this._easing(Math.min(1,Math.max(0,$))),this._target[x]=this._fn(A,U,$))}wait(){const s=this._promises||(this._promises=[]);return new Promise((d,m)=>{s.push({res:d,rej:m})})}_notify(s){const d=s?"res":"rej",m=this._promises||[];for(let x=0;x<m.length;x++)m[x][d]()}}class qi{constructor(s,d){this._chart=s,this._properties=new Map,this.configure(d)}configure(s){if(!tn(s))return;const d=Object.keys(Rr.animation),m=this._properties;Object.getOwnPropertyNames(s).forEach(x=>{const A=s[x];if(!tn(A))return;const P={};for(const U of d)P[U]=A[U];(Nt(A.properties)&&A.properties||[x]).forEach(U=>{(U===x||!m.has(U))&&m.set(U,P)})})}_animateOptions(s,d){const m=d.options,x=function _c(h,s){if(!s)return;let d=h.options;if(d)return d.$shared&&(h.options=d=Object.assign({},d,{$shared:!1,$animations:{}})),d;h.options=s}(s,m);if(!x)return[];const A=this._createAnimations(x,m);return m.$shared&&function ma(h,s){const d=[],m=Object.keys(s);for(let x=0;x<m.length;x++){const A=h[m[x]];A&&A.active()&&d.push(A.wait())}return Promise.all(d)}(s.options.$animations,m).then(()=>{s.options=m},()=>{}),A}_createAnimations(s,d){const m=this._properties,x=[],A=s.$animations||(s.$animations={}),P=Object.keys(d),U=Date.now();let $;for($=P.length-1;$>=0;--$){const se=P[$];if("$"===se.charAt(0))continue;if("options"===se){x.push(...this._animateOptions(s,d));continue}const ze=d[se];let _t=A[se];const Ot=m.get(se);if(_t){if(Ot&&_t.active()){_t.update(Ot,ze,U);continue}_t.cancel()}Ot&&Ot.duration?(A[se]=_t=new Ha(Ot,s,se,ze),x.push(_t)):s[se]=ze}return x}update(s,d){if(0===this._properties.size)return void Object.assign(s,d);const m=this._createAnimations(s,d);return m.length?(Uo.add(this._chart,m),!0):void 0}}function Ys(h,s){const d=h&&h.options||{},m=d.reverse,x=void 0===d.min?s:0,A=void 0===d.max?s:0;return{start:m?A:x,end:m?x:A}}function ga(h,s){const d=[],m=h._getSortedDatasetMetas(s);let x,A;for(x=0,A=m.length;x<A;++x)d.push(m[x].index);return d}function Ec(h,s,d,m={}){const x=h.keys,A="single"===m.mode;let P,U,$,se;if(null!==s){for(P=0,U=x.length;P<U;++P){if($=+x[P],$===d){if(m.all)continue;break}se=h.values[$],Rt(se)&&(A||0===s||Zt(s)===Zt(se))&&(s+=se)}return s}}function vc(h,s){const d=h&&h.options.stacked;return d||void 0===d&&void 0!==s.stack}function yc(h,s,d){const m=h[s]||(h[s]={});return m[d]||(m[d]={})}function da(h,s,d,m){for(const x of s.getMatchingVisibleMetas(m).reverse()){const A=h[x.index];if(d&&A>0||!d&&A<0)return x.index}return null}function Fr(h,s){const{chart:d,_cachedMeta:m}=h,x=d._stacks||(d._stacks={}),{iScale:A,vScale:P,index:U}=m,$=A.axis,se=P.axis,ze=function no(h,s,d){return`${h.id}.${s.id}.${d.stack||d.type}`}(A,P,m),_t=s.length;let Ot;for(let Qt=0;Qt<_t;++Qt){const Sn=s[Qt],{[$]:Mn,[se]:Vn}=Sn;Ot=(Sn._stacks||(Sn._stacks={}))[se]=yc(x,ze,Mn),Ot[U]=Vn,Ot._top=da(Ot,P,!0,m.type),Ot._bottom=da(Ot,P,!1,m.type),(Ot._visualValues||(Ot._visualValues={}))[U]=Vn}}function ne(h,s){const d=h.scales;return Object.keys(d).filter(m=>d[m].axis===s).shift()}function hn(h,s){const d=h.controller.index,m=h.vScale&&h.vScale.axis;if(m){s=s||h._parsed;for(const x of s){const A=x._stacks;if(!A||void 0===A[m]||void 0===A[m][d])return;delete A[m][d],void 0!==A[m]._visualValues&&void 0!==A[m]._visualValues[d]&&delete A[m]._visualValues[d]}}}const Dn=h=>"reset"===h||"none"===h,Gi=(h,s)=>s?h:Object.assign({},h);class es{constructor(s,d){this.chart=s,this._ctx=s.ctx,this.index=d,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const s=this._cachedMeta;this.configure(),this.linkScales(),s._stacked=vc(s.vScale,s),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(s){this.index!==s&&hn(this._cachedMeta),this.index=s}linkScales(){const s=this.chart,d=this._cachedMeta,m=this.getDataset(),x=(_t,Ot,Qt,Sn)=>"x"===_t?Ot:"r"===_t?Sn:Qt,A=d.xAxisID=lt(m.xAxisID,ne(s,"x")),P=d.yAxisID=lt(m.yAxisID,ne(s,"y")),U=d.rAxisID=lt(m.rAxisID,ne(s,"r")),$=d.indexAxis,se=d.iAxisID=x($,A,P,U),ze=d.vAxisID=x($,P,A,U);d.xScale=this.getScaleForId(A),d.yScale=this.getScaleForId(P),d.rScale=this.getScaleForId(U),d.iScale=this.getScaleForId(se),d.vScale=this.getScaleForId(ze)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(s){return this.chart.scales[s]}_getOtherScale(s){const d=this._cachedMeta;return s===d.iScale?d.vScale:d.iScale}reset(){this._update("reset")}_destroy(){const s=this._cachedMeta;this._data&&ci(this._data,this),s._stacked&&hn(s)}_dataCheck(){const s=this.getDataset(),d=s.data||(s.data=[]),m=this._data;if(tn(d))this._data=function Mc(h){const s=Object.keys(h),d=new Array(s.length);let m,x,A;for(m=0,x=s.length;m<x;++m)A=s[m],d[m]={x:A,y:h[A]};return d}(d);else if(m!==d){if(m){ci(m,this);const x=this._cachedMeta;hn(x),x._parsed=[]}d&&Object.isExtensible(d)&&function Xt(h,s){h._chartjs?h._chartjs.listeners.push(s):(Object.defineProperty(h,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[s]}}),At.forEach(d=>{const m="_onData"+En(d),x=h[d];Object.defineProperty(h,d,{configurable:!0,enumerable:!1,value(...A){const P=x.apply(this,A);return h._chartjs.listeners.forEach(U=>{"function"==typeof U[m]&&U[m](...A)}),P}})}))}(d,this),this._syncList=[],this._data=d}}addElements(){const s=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(s.dataset=new this.datasetElementType)}buildOrUpdateElements(s){const d=this._cachedMeta,m=this.getDataset();let x=!1;this._dataCheck();const A=d._stacked;d._stacked=vc(d.vScale,d),d.stack!==m.stack&&(x=!0,hn(d),d.stack=m.stack),this._resyncElements(s),(x||A!==d._stacked)&&Fr(this,d._parsed)}configure(){const s=this.chart.config,d=s.datasetScopeKeys(this._type),m=s.getOptionScopes(this.getDataset(),d,!0);this.options=s.createResolver(m,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(s,d){const{_cachedMeta:m,_data:x}=this,{iScale:A,_stacked:P}=m,U=A.axis;let ze,_t,Ot,$=0===s&&d===x.length||m._sorted,se=s>0&&m._parsed[s-1];if(!1===this._parsing)m._parsed=x,m._sorted=!0,Ot=x;else{Ot=Nt(x[s])?this.parseArrayData(m,x,s,d):tn(x[s])?this.parseObjectData(m,x,s,d):this.parsePrimitiveData(m,x,s,d);const Qt=()=>null===_t[U]||se&&_t[U]<se[U];for(ze=0;ze<d;++ze)m._parsed[ze+s]=_t=Ot[ze],$&&(Qt()&&($=!1),se=_t);m._sorted=$}P&&Fr(this,Ot)}parsePrimitiveData(s,d,m,x){const{iScale:A,vScale:P}=s,U=A.axis,$=P.axis,se=A.getLabels(),ze=A===P,_t=new Array(x);let Ot,Qt,Sn;for(Ot=0,Qt=x;Ot<Qt;++Ot)Sn=Ot+m,_t[Ot]={[U]:ze||A.parse(se[Sn],Sn),[$]:P.parse(d[Sn],Sn)};return _t}parseArrayData(s,d,m,x){const{xScale:A,yScale:P}=s,U=new Array(x);let $,se,ze,_t;for($=0,se=x;$<se;++$)ze=$+m,_t=d[ze],U[$]={x:A.parse(_t[0],ze),y:P.parse(_t[1],ze)};return U}parseObjectData(s,d,m,x){const{xScale:A,yScale:P}=s,{xAxisKey:U="x",yAxisKey:$="y"}=this._parsing,se=new Array(x);let ze,_t,Ot,Qt;for(ze=0,_t=x;ze<_t;++ze)Ot=ze+m,Qt=d[Ot],se[ze]={x:A.parse(_r(Qt,U),Ot),y:P.parse(_r(Qt,$),Ot)};return se}getParsed(s){return this._cachedMeta._parsed[s]}getDataElement(s){return this._cachedMeta.data[s]}applyStack(s,d,m){const A=this._cachedMeta,P=d[s.axis];return Ec({keys:ga(this.chart,!0),values:d._stacks[s.axis]._visualValues},P,A.index,{mode:m})}updateRangeFromParsed(s,d,m,x){const A=m[d.axis];let P=null===A?NaN:A;const U=x&&m._stacks[d.axis];x&&U&&(x.values=U,P=Ec(x,A,this._cachedMeta.index)),s.min=Math.min(s.min,P),s.max=Math.max(s.max,P)}getMinMax(s,d){const m=this._cachedMeta,x=m._parsed,A=m._sorted&&s===m.iScale,P=x.length,U=this._getOtherScale(s),$=((h,s,d)=>h&&!s.hidden&&s._stacked&&{keys:ga(this.chart,!0),values:null})(d,m),se={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:ze,max:_t}=function Kl(h){const{min:s,max:d,minDefined:m,maxDefined:x}=h.getUserBounds();return{min:m?s:Number.NEGATIVE_INFINITY,max:x?d:Number.POSITIVE_INFINITY}}(U);let Ot,Qt;function Sn(){Qt=x[Ot];const Mn=Qt[U.axis];return!Rt(Qt[s.axis])||ze>Mn||_t<Mn}for(Ot=0;Ot<P&&(Sn()||(this.updateRangeFromParsed(se,s,Qt,$),!A));++Ot);if(A)for(Ot=P-1;Ot>=0;--Ot)if(!Sn()){this.updateRangeFromParsed(se,s,Qt,$);break}return se}getAllParsedValues(s){const d=this._cachedMeta._parsed,m=[];let x,A,P;for(x=0,A=d.length;x<A;++x)P=d[x][s.axis],Rt(P)&&m.push(P);return m}getMaxOverflow(){return!1}getLabelAndValue(s){const d=this._cachedMeta,m=d.iScale,x=d.vScale,A=this.getParsed(s);return{label:m?""+m.getLabelForValue(A[m.axis]):"",value:x?""+x.getLabelForValue(A[x.axis]):""}}_update(s){const d=this._cachedMeta;this.update(s||"default"),d._clip=function Nl(h){let s,d,m,x;return tn(h)?(s=h.top,d=h.right,m=h.bottom,x=h.left):s=d=m=x=h,{top:s,right:d,bottom:m,left:x,disabled:!1===h}}(lt(this.options.clip,function $s(h,s,d){if(!1===d)return!1;const m=Ys(h,d),x=Ys(s,d);return{top:x.end,right:m.end,bottom:x.start,left:m.start}}(d.xScale,d.yScale,this.getMaxOverflow())))}update(s){}draw(){const s=this._ctx,m=this._cachedMeta,x=m.data||[],A=this.chart.chartArea,P=[],U=this._drawStart||0,$=this._drawCount||x.length-U,se=this.options.drawActiveElementsOnTop;let ze;for(m.dataset&&m.dataset.draw(s,A,U,$),ze=U;ze<U+$;++ze){const _t=x[ze];_t.hidden||(_t.active&&se?P.push(_t):_t.draw(s,A))}for(ze=0;ze<P.length;++ze)P[ze].draw(s,A)}getStyle(s,d){const m=d?"active":"default";return void 0===s&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(m):this.resolveDataElementOptions(s||0,m)}getContext(s,d,m){const x=this.getDataset();let A;if(s>=0&&s<this._cachedMeta.data.length){const P=this._cachedMeta.data[s];A=P.$context||(P.$context=function dt(h,s,d){return Lo(h,{active:!1,dataIndex:s,parsed:void 0,raw:void 0,element:d,index:s,mode:"default",type:"data"})}(this.getContext(),s,P)),A.parsed=this.getParsed(s),A.raw=x.data[s],A.index=A.dataIndex=s}else A=this.$context||(this.$context=function oe(h,s){return Lo(h,{active:!1,dataset:void 0,datasetIndex:s,index:s,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),A.dataset=x,A.index=A.datasetIndex=this.index;return A.active=!!d,A.mode=m,A}resolveDatasetElementOptions(s){return this._resolveElementOptions(this.datasetElementType.id,s)}resolveDataElementOptions(s,d){return this._resolveElementOptions(this.dataElementType.id,d,s)}_resolveElementOptions(s,d="default",m){const x="active"===d,A=this._cachedDataOpts,P=s+"-"+d,U=A[P],$=this.enableOptionSharing&&sn(m);if(U)return Gi(U,$);const se=this.chart.config,ze=se.datasetElementScopeKeys(this._type,s),_t=x?[`${s}Hover`,"hover",s,""]:[s,""],Ot=se.getOptionScopes(this.getDataset(),ze),Qt=Object.keys(Rr.elements[s]),Mn=se.resolveNamedOptions(Ot,Qt,()=>this.getContext(m,x,d),_t);return Mn.$shared&&(Mn.$shared=$,A[P]=Object.freeze(Gi(Mn,$))),Mn}_resolveAnimations(s,d,m){const x=this.chart,A=this._cachedDataOpts,P=`animation-${d}`,U=A[P];if(U)return U;let $;if(!1!==x.options.animation){const ze=this.chart.config,_t=ze.datasetAnimationScopeKeys(this._type,d),Ot=ze.getOptionScopes(this.getDataset(),_t);$=ze.createResolver(Ot,this.getContext(s,m,d))}const se=new qi(x,$&&$.animations);return $&&$._cacheable&&(A[P]=Object.freeze(se)),se}getSharedOptions(s){if(s.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},s))}includeOptions(s,d){return!d||Dn(s)||this.chart._animationsDisabled}_getSharedOptions(s,d){const m=this.resolveDataElementOptions(s,d),x=this._sharedOptions,A=this.getSharedOptions(m),P=this.includeOptions(d,A)||A!==x;return this.updateSharedOptions(A,d,m),{sharedOptions:A,includeOptions:P}}updateElement(s,d,m,x){Dn(x)?Object.assign(s,m):this._resolveAnimations(d,x).update(s,m)}updateSharedOptions(s,d,m){s&&!Dn(d)&&this._resolveAnimations(void 0,d).update(s,m)}_setStyle(s,d,m,x){s.active=x;const A=this.getStyle(d,x);this._resolveAnimations(d,m,x).update(s,{options:!x&&this.getSharedOptions(A)||A})}removeHoverStyle(s,d,m){this._setStyle(s,m,"active",!1)}setHoverStyle(s,d,m){this._setStyle(s,m,"active",!0)}_removeDatasetHoverStyle(){const s=this._cachedMeta.dataset;s&&this._setStyle(s,void 0,"active",!1)}_setDatasetHoverStyle(){const s=this._cachedMeta.dataset;s&&this._setStyle(s,void 0,"active",!0)}_resyncElements(s){const d=this._data,m=this._cachedMeta.data;for(const[U,$,se]of this._syncList)this[U]($,se);this._syncList=[];const x=m.length,A=d.length,P=Math.min(A,x);P&&this.parse(0,P),A>x?this._insertElements(x,A-x,s):A<x&&this._removeElements(A,x-A)}_insertElements(s,d,m=!0){const x=this._cachedMeta,A=x.data,P=s+d;let U;const $=se=>{for(se.length+=d,U=se.length-1;U>=P;U--)se[U]=se[U-d]};for($(A),U=s;U<P;++U)A[U]=new this.dataElementType;this._parsing&&$(x._parsed),this.parse(s,d),m&&this.updateElements(A,s,d,"reset")}updateElements(s,d,m,x){}_removeElements(s,d){const m=this._cachedMeta;if(this._parsing){const x=m._parsed.splice(s,d);m._stacked&&hn(m,x)}m.data.splice(s,d)}_sync(s){if(this._parsing)this._syncList.push(s);else{const[d,m,x]=s;this[d](m,x)}this.chart._dataChanges.push([this.index,...s])}_onDataPush(){const s=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-s,s])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(s,d){d&&this._sync(["_removeElements",s,d]);const m=arguments.length-2;m&&this._sync(["_insertElements",s,m])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function $i(h){const s=h.iScale,d=function wi(h,s){if(!h._cache.$bar){const d=h.getMatchingVisibleMetas(s);let m=[];for(let x=0,A=d.length;x<A;x++)m=m.concat(d[x].controller.getAllParsedValues(h));h._cache.$bar=zi(m.sort((x,A)=>x-A))}return h._cache.$bar}(s,h.type);let x,A,P,U,m=s._length;const $=()=>{32767===P||-32768===P||(sn(U)&&(m=Math.min(m,Math.abs(P-U)||m)),U=P)};for(x=0,A=d.length;x<A;++x)P=s.getPixelForValue(d[x]),$();for(U=void 0,x=0,A=s.ticks.length;x<A;++x)P=s.getPixelForTick(x),$();return m}function vi(h,s,d,m){return Nt(h)?function Kn(h,s,d,m){const x=d.parse(h[0],m),A=d.parse(h[1],m),P=Math.min(x,A),U=Math.max(x,A);let $=P,se=U;Math.abs(P)>Math.abs(U)&&($=U,se=P),s[d.axis]=se,s._custom={barStart:$,barEnd:se,start:x,end:A,min:P,max:U}}(h,s,d,m):s[d.axis]=d.parse(h,m),s}function f(h,s,d,m){const x=h.iScale,A=h.vScale,P=x.getLabels(),U=x===A,$=[];let se,ze,_t,Ot;for(se=d,ze=d+m;se<ze;++se)Ot=s[se],_t={},_t[x.axis]=U||x.parse(P[se],se),$.push(vi(Ot,_t,A,se));return $}function w(h){return h&&void 0!==h.barStart&&void 0!==h.barEnd}function Le(h,s,d,m){let x=s.borderSkipped;const A={};if(!x)return void(h.borderSkipped=A);if(!0===x)return void(h.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:P,end:U,reverse:$,top:se,bottom:ze}=function ee(h){let s,d,m,x,A;return h.horizontal?(s=h.base>h.x,d="left",m="right"):(s=h.base<h.y,d="bottom",m="top"),s?(x="end",A="start"):(x="start",A="end"),{start:d,end:m,reverse:s,top:x,bottom:A}}(h);"middle"===x&&d&&(h.enableBorderRadius=!0,(d._top||0)===m?x=se:(d._bottom||0)===m?x=ze:(A[Dt(ze,P,U,$)]=!0,x=se)),A[Dt(x,P,U,$)]=!0,h.borderSkipped=A}function Dt(h,s,d,m){return m?(h=function fn(h,s,d){return h===s?d:h===d?s:h}(h,s,d),h=$n(h,d,s)):h=$n(h,s,d),h}function $n(h,s,d){return"start"===h?s:"end"===h?d:h}function Xn(h,{inflateAmount:s},d){h.inflateAmount="auto"===s?1===d?.33:0:s}Lr(es,"defaults",{}),Lr(es,"datasetElementType",null),Lr(es,"dataElementType",null);class xi extends es{parsePrimitiveData(s,d,m,x){return f(s,d,m,x)}parseArrayData(s,d,m,x){return f(s,d,m,x)}parseObjectData(s,d,m,x){const{iScale:A,vScale:P}=s,{xAxisKey:U="x",yAxisKey:$="y"}=this._parsing,se="x"===A.axis?U:$,ze="x"===P.axis?U:$,_t=[];let Ot,Qt,Sn,Mn;for(Ot=m,Qt=m+x;Ot<Qt;++Ot)Mn=d[Ot],Sn={},Sn[A.axis]=A.parse(_r(Mn,se),Ot),_t.push(vi(_r(Mn,ze),Sn,P,Ot));return _t}updateRangeFromParsed(s,d,m,x){super.updateRangeFromParsed(s,d,m,x);const A=m._custom;A&&d===this._cachedMeta.vScale&&(s.min=Math.min(s.min,A.min),s.max=Math.max(s.max,A.max))}getMaxOverflow(){return 0}getLabelAndValue(s){const d=this._cachedMeta,{iScale:m,vScale:x}=d,A=this.getParsed(s),P=A._custom,U=w(P)?"["+P.start+", "+P.end+"]":""+x.getLabelForValue(A[x.axis]);return{label:""+m.getLabelForValue(A[m.axis]),value:U}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(s){const d=this._cachedMeta;this.updateElements(d.data,0,d.data.length,s)}updateElements(s,d,m,x){const A="reset"===x,{index:P,_cachedMeta:{vScale:U}}=this,$=U.getBasePixel(),se=U.isHorizontal(),ze=this._getRuler(),{sharedOptions:_t,includeOptions:Ot}=this._getSharedOptions(d,x);for(let Qt=d;Qt<d+m;Qt++){const Sn=this.getParsed(Qt),Mn=A||Pn(Sn[U.axis])?{base:$,head:$}:this._calculateBarValuePixels(Qt),Vn=this._calculateBarIndexPixels(Qt,ze),ri=(Sn._stacks||{})[U.axis],hi={horizontal:se,base:Mn.base,enableBorderRadius:!ri||w(Sn._custom)||P===ri._top||P===ri._bottom,x:se?Mn.head:Vn.center,y:se?Vn.center:Mn.head,height:se?Vn.size:Math.abs(Mn.size),width:se?Math.abs(Mn.size):Vn.size};Ot&&(hi.options=_t||this.resolveDataElementOptions(Qt,s[Qt].active?"active":x));const Mi=hi.options||s[Qt].options;Le(hi,Mi,ri,P),Xn(hi,Mi,ze.ratio),this.updateElement(s[Qt],Qt,hi,x)}}_getStacks(s,d){const{iScale:m}=this._cachedMeta,x=m.getMatchingVisibleMetas(this._type).filter($=>$.controller.options.grouped),A=m.options.stacked,P=[],U=$=>{const se=$.controller.getParsed(d),ze=se&&se[$.vScale.axis];if(Pn(ze)||isNaN(ze))return!0};for(const $ of x)if((void 0===d||!U($))&&((!1===A||-1===P.indexOf($.stack)||void 0===A&&void 0===$.stack)&&P.push($.stack),$.index===s))break;return P.length||P.push(void 0),P}_getStackCount(s){return this._getStacks(void 0,s).length}_getStackIndex(s,d,m){const x=this._getStacks(s,m),A=void 0!==d?x.indexOf(d):-1;return-1===A?x.length-1:A}_getRuler(){const s=this.options,d=this._cachedMeta,m=d.iScale,x=[];let A,P;for(A=0,P=d.data.length;A<P;++A)x.push(m.getPixelForValue(this.getParsed(A)[m.axis],A));const U=s.barThickness;return{min:U||$i(d),pixels:x,start:m._startPixel,end:m._endPixel,stackCount:this._getStackCount(),scale:m,grouped:s.grouped,ratio:U?1:s.categoryPercentage*s.barPercentage}}_calculateBarValuePixels(s){const{_cachedMeta:{vScale:d,_stacked:m,index:x},options:{base:A,minBarLength:P}}=this,U=A||0,$=this.getParsed(s),se=$._custom,ze=w(se);let Sn,Mn,_t=$[d.axis],Ot=0,Qt=m?this.applyStack(d,$,m):_t;Qt!==_t&&(Ot=Qt-_t,Qt=_t),ze&&(_t=se.barStart,Qt=se.barEnd-se.barStart,0!==_t&&Zt(_t)!==Zt(se.barEnd)&&(Ot=0),Ot+=_t);const Vn=Pn(A)||ze?Ot:A;let ri=d.getPixelForValue(Vn);if(Sn=this.chart.getDataVisibility(s)?d.getPixelForValue(Ot+Qt):ri,Mn=Sn-ri,Math.abs(Mn)<P){Mn=function H(h,s,d){return 0!==h?Zt(h):(s.isHorizontal()?1:-1)*(s.min>=d?1:-1)}(Mn,d,U)*P,_t===U&&(ri-=Mn/2);const hi=d.getPixelForDecimal(0),Mi=d.getPixelForDecimal(1),oi=Math.min(hi,Mi),Ci=Math.max(hi,Mi);ri=Math.max(Math.min(ri,Ci),oi),Sn=ri+Mn,m&&!ze&&($._stacks[d.axis]._visualValues[x]=d.getValueForPixel(Sn)-d.getValueForPixel(ri))}if(ri===d.getPixelForValue(U)){const hi=Zt(Mn)*d.getLineWidthForValue(U)/2;ri+=hi,Mn-=hi}return{size:Mn,base:ri,head:Sn,center:Sn+Mn/2}}_calculateBarIndexPixels(s,d){const m=d.scale,x=this.options,A=x.skipNull,P=lt(x.maxBarThickness,1/0);let U,$;if(d.grouped){const se=A?this._getStackCount(s):d.stackCount,ze="flex"===x.barThickness?function Ri(h,s,d,m){const x=s.pixels,A=x[h];let P=h>0?x[h-1]:null,U=h<x.length-1?x[h+1]:null;const $=d.categoryPercentage;null===P&&(P=A-(null===U?s.end-s.start:U-A)),null===U&&(U=A+A-P);const se=A-(A-Math.min(P,U))/2*$;return{chunk:Math.abs(U-P)/2*$/m,ratio:d.barPercentage,start:se}}(s,d,x,se):function io(h,s,d,m){const x=d.barThickness;let A,P;return Pn(x)?(A=s.min*d.categoryPercentage,P=d.barPercentage):(A=x*m,P=1),{chunk:A/m,ratio:P,start:s.pixels[h]-A/2}}(s,d,x,se),_t=this._getStackIndex(this.index,this._cachedMeta.stack,A?s:void 0);U=ze.start+ze.chunk*_t+ze.chunk/2,$=Math.min(P,ze.chunk*ze.ratio)}else U=m.getPixelForValue(this.getParsed(s)[m.axis],s),$=Math.min(P,d.min*d.ratio);return{base:U-$/2,head:U+$/2,center:U,size:$}}draw(){const s=this._cachedMeta,d=s.vScale,m=s.data,x=m.length;let A=0;for(;A<x;++A)null!==this.getParsed(A)[d.axis]&&m[A].draw(this._ctx)}}Lr(xi,"id","bar"),Lr(xi,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Lr(xi,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Hi extends es{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(s,d,m,x){const A=super.parsePrimitiveData(s,d,m,x);for(let P=0;P<A.length;P++)A[P]._custom=this.resolveDataElementOptions(P+m).radius;return A}parseArrayData(s,d,m,x){const A=super.parseArrayData(s,d,m,x);for(let P=0;P<A.length;P++)A[P]._custom=lt(d[m+P][2],this.resolveDataElementOptions(P+m).radius);return A}parseObjectData(s,d,m,x){const A=super.parseObjectData(s,d,m,x);for(let P=0;P<A.length;P++){const U=d[m+P];A[P]._custom=lt(U&&U.r&&+U.r,this.resolveDataElementOptions(P+m).radius)}return A}getMaxOverflow(){const s=this._cachedMeta.data;let d=0;for(let m=s.length-1;m>=0;--m)d=Math.max(d,s[m].size(this.resolveDataElementOptions(m))/2);return d>0&&d}getLabelAndValue(s){const d=this._cachedMeta,m=this.chart.data.labels||[],{xScale:x,yScale:A}=d,P=this.getParsed(s),U=x.getLabelForValue(P.x),$=A.getLabelForValue(P.y),se=P._custom;return{label:m[s]||"",value:"("+U+", "+$+(se?", "+se:"")+")"}}update(s){const d=this._cachedMeta.data;this.updateElements(d,0,d.length,s)}updateElements(s,d,m,x){const A="reset"===x,{iScale:P,vScale:U}=this._cachedMeta,{sharedOptions:$,includeOptions:se}=this._getSharedOptions(d,x),ze=P.axis,_t=U.axis;for(let Ot=d;Ot<d+m;Ot++){const Qt=s[Ot],Sn=!A&&this.getParsed(Ot),Mn={},Vn=Mn[ze]=A?P.getPixelForDecimal(.5):P.getPixelForValue(Sn[ze]),ri=Mn[_t]=A?U.getBasePixel():U.getPixelForValue(Sn[_t]);Mn.skip=isNaN(Vn)||isNaN(ri),se&&(Mn.options=$||this.resolveDataElementOptions(Ot,Qt.active?"active":x),A&&(Mn.options.radius=0)),this.updateElement(Qt,Ot,Mn,x)}}resolveDataElementOptions(s,d){const m=this.getParsed(s);let x=super.resolveDataElementOptions(s,d);x.$shared&&(x=Object.assign({},x,{$shared:!1}));const A=x.radius;return"active"!==d&&(x.radius=0),x.radius+=lt(m&&m._custom,A),x}}Lr(Hi,"id","bubble"),Lr(Hi,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Lr(Hi,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class Pi extends es{constructor(s,d){super(s,d),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(s,d){const m=this.getDataset().data,x=this._cachedMeta;if(!1===this._parsing)x._parsed=m;else{let P,U,A=$=>+m[$];if(tn(m[s])){const{key:$="value"}=this._parsing;A=se=>+_r(m[se],$)}for(P=s,U=s+d;P<U;++P)x._parsed[P]=A(P)}}_getRotation(){return K(this.options.rotation-90)}_getCircumference(){return K(this.options.circumference)}_getRotationExtents(){let s=pe,d=-pe;for(let m=0;m<this.chart.data.datasets.length;++m)if(this.chart.isDatasetVisible(m)&&this.chart.getDatasetMeta(m).type===this._type){const x=this.chart.getDatasetMeta(m).controller,A=x._getRotation(),P=x._getCircumference();s=Math.min(s,A),d=Math.max(d,A+P)}return{rotation:s,circumference:d-s}}update(s){const d=this.chart,{chartArea:m}=d,x=this._cachedMeta,A=x.data,P=this.getMaxBorderWidth()+this.getMaxOffset(A)+this.options.spacing,U=Math.max((Math.min(m.width,m.height)-P)/2,0),$=Math.min(((h,s)=>"string"==typeof h&&h.endsWith("%")?parseFloat(h)/100:+h/s)(this.options.cutout,U),1),se=this._getRingWeight(this.index),{circumference:ze,rotation:_t}=this._getRotationExtents(),{ratioX:Ot,ratioY:Qt,offsetX:Sn,offsetY:Mn}=function hr(h,s,d){let m=1,x=1,A=0,P=0;if(s<pe){const U=h,$=U+s,se=Math.cos(U),ze=Math.sin(U),_t=Math.cos($),Ot=Math.sin($),Qt=(Mi,oi,Ci)=>mt(Mi,U,$,!0)?1:Math.max(oi,oi*d,Ci,Ci*d),Sn=(Mi,oi,Ci)=>mt(Mi,U,$,!0)?-1:Math.min(oi,oi*d,Ci,Ci*d),Mn=Qt(0,se,_t),Vn=Qt(Te,ze,Ot),ri=Sn(Ie,se,_t),hi=Sn(Ie+Te,ze,Ot);m=(Mn-ri)/2,x=(Vn-hi)/2,A=-(Mn+ri)/2,P=-(Vn+hi)/2}return{ratioX:m,ratioY:x,offsetX:A,offsetY:P}}(_t,ze,$),hi=Math.max(Math.min((m.width-P)/Ot,(m.height-P)/Qt)/2,0),Mi=Ae(this.options.radius,hi),Ci=(Mi-Math.max(Mi*$,0))/this._getVisibleDatasetWeightTotal();this.offsetX=Sn*Mi,this.offsetY=Mn*Mi,x.total=this.calculateTotal(),this.outerRadius=Mi-Ci*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Ci*se,0),this.updateElements(A,0,A.length,s)}_circumference(s,d){const m=this.options,x=this._cachedMeta,A=this._getCircumference();return d&&m.animation.animateRotate||!this.chart.getDataVisibility(s)||null===x._parsed[s]||x.data[s].hidden?0:this.calculateCircumference(x._parsed[s]*A/pe)}updateElements(s,d,m,x){const A="reset"===x,P=this.chart,U=P.chartArea,ze=(U.left+U.right)/2,_t=(U.top+U.bottom)/2,Ot=A&&P.options.animation.animateScale,Qt=Ot?0:this.innerRadius,Sn=Ot?0:this.outerRadius,{sharedOptions:Mn,includeOptions:Vn}=this._getSharedOptions(d,x);let hi,ri=this._getRotation();for(hi=0;hi<d;++hi)ri+=this._circumference(hi,A);for(hi=d;hi<d+m;++hi){const Mi=this._circumference(hi,A),oi=s[hi],Ci={x:ze+this.offsetX,y:_t+this.offsetY,startAngle:ri,endAngle:ri+Mi,circumference:Mi,outerRadius:Sn,innerRadius:Qt};Vn&&(Ci.options=Mn||this.resolveDataElementOptions(hi,oi.active?"active":x)),ri+=Mi,this.updateElement(oi,hi,Ci,x)}}calculateTotal(){const s=this._cachedMeta,d=s.data;let x,m=0;for(x=0;x<d.length;x++){const A=s._parsed[x];null!==A&&!isNaN(A)&&this.chart.getDataVisibility(x)&&!d[x].hidden&&(m+=Math.abs(A))}return m}calculateCircumference(s){const d=this._cachedMeta.total;return d>0&&!isNaN(s)?pe*(Math.abs(s)/d):0}getLabelAndValue(s){const m=this.chart,x=m.data.labels||[],A=Po(this._cachedMeta._parsed[s],m.options.locale);return{label:x[s]||"",value:A}}getMaxBorderWidth(s){let d=0;const m=this.chart;let x,A,P,U,$;if(!s)for(x=0,A=m.data.datasets.length;x<A;++x)if(m.isDatasetVisible(x)){P=m.getDatasetMeta(x),s=P.data,U=P.controller;break}if(!s)return 0;for(x=0,A=s.length;x<A;++x)$=U.resolveDataElementOptions(x),"inner"!==$.borderAlign&&(d=Math.max(d,$.borderWidth||0,$.hoverBorderWidth||0));return d}getMaxOffset(s){let d=0;for(let m=0,x=s.length;m<x;++m){const A=this.resolveDataElementOptions(m);d=Math.max(d,A.offset||0,A.hoverOffset||0)}return d}_getRingWeightOffset(s){let d=0;for(let m=0;m<s;++m)this.chart.isDatasetVisible(m)&&(d+=this._getRingWeight(m));return d}_getRingWeight(s){return Math.max(lt(this.chart.data.datasets[s].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Lr(Pi,"id","doughnut"),Lr(Pi,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Lr(Pi,"descriptors",{_scriptable:s=>"spacing"!==s,_indexable:s=>"spacing"!==s}),Lr(Pi,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(s){const d=s.data;if(d.labels.length&&d.datasets.length){const{labels:{pointStyle:m,color:x}}=s.legend.options;return d.labels.map((A,P)=>{const $=s.getDatasetMeta(0).controller.getStyle(P);return{text:A,fillStyle:$.backgroundColor,strokeStyle:$.borderColor,fontColor:x,lineWidth:$.borderWidth,pointStyle:m,hidden:!s.getDataVisibility(P),index:P}})}return[]}},onClick(s,d,m){m.chart.toggleDataVisibility(d.index),m.chart.update()}}}});class Is extends es{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(s){const d=this._cachedMeta,{dataset:m,data:x=[],_dataset:A}=d,P=this.chart._animationsDisabled;let{start:U,count:$}=wo(d,x,P);this._drawStart=U,this._drawCount=$,nr(d)&&(U=0,$=x.length),m._chart=this.chart,m._datasetIndex=this.index,m._decimated=!!A._decimated,m.points=x;const se=this.resolveDatasetElementOptions(s);this.options.showLine||(se.borderWidth=0),se.segment=this.options.segment,this.updateElement(m,void 0,{animated:!P,options:se},s),this.updateElements(x,U,$,s)}updateElements(s,d,m,x){const A="reset"===x,{iScale:P,vScale:U,_stacked:$,_dataset:se}=this._cachedMeta,{sharedOptions:ze,includeOptions:_t}=this._getSharedOptions(d,x),Ot=P.axis,Qt=U.axis,{spanGaps:Sn,segment:Mn}=this.options,Vn=Li(Sn)?Sn:Number.POSITIVE_INFINITY,ri=this.chart._animationsDisabled||A||"none"===x,hi=d+m,Mi=s.length;let oi=d>0&&this.getParsed(d-1);for(let Ci=0;Ci<Mi;++Ci){const ir=s[Ci],er=ri?ir:{};if(Ci<d||Ci>=hi){er.skip=!0;continue}const fr=this.getParsed(Ci),ts=Pn(fr[Qt]),Qs=er[Ot]=P.getPixelForValue(fr[Ot],Ci),Xs=er[Qt]=A||ts?U.getBasePixel():U.getPixelForValue($?this.applyStack(U,fr,$):fr[Qt],Ci);er.skip=isNaN(Qs)||isNaN(Xs)||ts,er.stop=Ci>0&&Math.abs(fr[Ot]-oi[Ot])>Vn,Mn&&(er.parsed=fr,er.raw=se.data[Ci]),_t&&(er.options=ze||this.resolveDataElementOptions(Ci,ir.active?"active":x)),ri||this.updateElement(ir,Ci,er,x),oi=fr}}getMaxOverflow(){const s=this._cachedMeta,d=s.dataset,m=d.options&&d.options.borderWidth||0,x=s.data||[];if(!x.length)return m;const A=x[0].size(this.resolveDataElementOptions(0)),P=x[x.length-1].size(this.resolveDataElementOptions(x.length-1));return Math.max(m,A,P)/2}draw(){const s=this._cachedMeta;s.dataset.updateControlPoints(this.chart.chartArea,s.iScale.axis),super.draw()}}Lr(Is,"id","line"),Lr(Is,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Lr(Is,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Al extends es{constructor(s,d){super(s,d),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(s){const m=this.chart,x=m.data.labels||[],A=Po(this._cachedMeta._parsed[s].r,m.options.locale);return{label:x[s]||"",value:A}}parseObjectData(s,d,m,x){return Cr.bind(this)(s,d,m,x)}update(s){const d=this._cachedMeta.data;this._updateRadius(),this.updateElements(d,0,d.length,s)}getMinMax(){const d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((m,x)=>{const A=this.getParsed(x).r;!isNaN(A)&&this.chart.getDataVisibility(x)&&(A<d.min&&(d.min=A),A>d.max&&(d.max=A))}),d}_updateRadius(){const s=this.chart,d=s.chartArea,m=s.options,x=Math.min(d.right-d.left,d.bottom-d.top),A=Math.max(x/2,0),U=(A-Math.max(m.cutoutPercentage?A/100*m.cutoutPercentage:1,0))/s.getVisibleDatasetCount();this.outerRadius=A-U*this.index,this.innerRadius=this.outerRadius-U}updateElements(s,d,m,x){const A="reset"===x,P=this.chart,$=P.options.animation,se=this._cachedMeta.rScale,ze=se.xCenter,_t=se.yCenter,Ot=se.getIndexAngle(0)-.5*Ie;let Sn,Qt=Ot;const Mn=360/this.countVisibleElements();for(Sn=0;Sn<d;++Sn)Qt+=this._computeAngle(Sn,x,Mn);for(Sn=d;Sn<d+m;Sn++){const Vn=s[Sn];let ri=Qt,hi=Qt+this._computeAngle(Sn,x,Mn),Mi=P.getDataVisibility(Sn)?se.getDistanceFromCenterForValue(this.getParsed(Sn).r):0;Qt=hi,A&&($.animateScale&&(Mi=0),$.animateRotate&&(ri=hi=Ot));const oi={x:ze,y:_t,innerRadius:0,outerRadius:Mi,startAngle:ri,endAngle:hi,options:this.resolveDataElementOptions(Sn,Vn.active?"active":x)};this.updateElement(Vn,Sn,oi,x)}}countVisibleElements(){let d=0;return this._cachedMeta.data.forEach((m,x)=>{!isNaN(this.getParsed(x).r)&&this.chart.getDataVisibility(x)&&d++}),d}_computeAngle(s,d,m){return this.chart.getDataVisibility(s)?K(this.resolveDataElementOptions(s,d).angle||m):0}}Lr(Al,"id","polarArea"),Lr(Al,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Lr(Al,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(s){const d=s.data;if(d.labels.length&&d.datasets.length){const{labels:{pointStyle:m,color:x}}=s.legend.options;return d.labels.map((A,P)=>{const $=s.getDatasetMeta(0).controller.getStyle(P);return{text:A,fillStyle:$.backgroundColor,strokeStyle:$.borderColor,fontColor:x,lineWidth:$.borderWidth,pointStyle:m,hidden:!s.getDataVisibility(P),index:P}})}return[]}},onClick(s,d,m){m.chart.toggleDataVisibility(d.index),m.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Zs extends Pi{}Lr(Zs,"id","pie"),Lr(Zs,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class rr extends es{getLabelAndValue(s){const d=this._cachedMeta.vScale,m=this.getParsed(s);return{label:d.getLabels()[s],value:""+d.getLabelForValue(m[d.axis])}}parseObjectData(s,d,m,x){return Cr.bind(this)(s,d,m,x)}update(s){const d=this._cachedMeta,m=d.dataset,x=d.data||[],A=d.iScale.getLabels();if(m.points=x,"resize"!==s){const P=this.resolveDatasetElementOptions(s);this.options.showLine||(P.borderWidth=0),this.updateElement(m,void 0,{_loop:!0,_fullLoop:A.length===x.length,options:P},s)}this.updateElements(x,0,x.length,s)}updateElements(s,d,m,x){const A=this._cachedMeta.rScale,P="reset"===x;for(let U=d;U<d+m;U++){const $=s[U],se=this.resolveDataElementOptions(U,$.active?"active":x),ze=A.getPointPositionForValue(U,this.getParsed(U).r),_t=P?A.xCenter:ze.x,Ot=P?A.yCenter:ze.y,Qt={x:_t,y:Ot,angle:ze.angle,skip:isNaN(_t)||isNaN(Ot),options:se};this.updateElement($,U,Qt,x)}}}Lr(rr,"id","radar"),Lr(rr,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Lr(rr,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class zo extends es{getLabelAndValue(s){const d=this._cachedMeta,m=this.chart.data.labels||[],{xScale:x,yScale:A}=d,P=this.getParsed(s),U=x.getLabelForValue(P.x),$=A.getLabelForValue(P.y);return{label:m[s]||"",value:"("+U+", "+$+")"}}update(s){const d=this._cachedMeta,{data:m=[]}=d,x=this.chart._animationsDisabled;let{start:A,count:P}=wo(d,m,x);if(this._drawStart=A,this._drawCount=P,nr(d)&&(A=0,P=m.length),this.options.showLine){const{dataset:U,_dataset:$}=d;U._chart=this.chart,U._datasetIndex=this.index,U._decimated=!!$._decimated,U.points=m;const se=this.resolveDatasetElementOptions(s);se.segment=this.options.segment,this.updateElement(U,void 0,{animated:!x,options:se},s)}this.updateElements(m,A,P,s)}addElements(){const{showLine:s}=this.options;!this.datasetElementType&&s&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(s,d,m,x){const A="reset"===x,{iScale:P,vScale:U,_stacked:$,_dataset:se}=this._cachedMeta,ze=this.resolveDataElementOptions(d,x),_t=this.getSharedOptions(ze),Ot=this.includeOptions(x,_t),Qt=P.axis,Sn=U.axis,{spanGaps:Mn,segment:Vn}=this.options,ri=Li(Mn)?Mn:Number.POSITIVE_INFINITY,hi=this.chart._animationsDisabled||A||"none"===x;let Mi=d>0&&this.getParsed(d-1);for(let oi=d;oi<d+m;++oi){const Ci=s[oi],ir=this.getParsed(oi),er=hi?Ci:{},fr=Pn(ir[Sn]),ts=er[Qt]=P.getPixelForValue(ir[Qt],oi),Qs=er[Sn]=A||fr?U.getBasePixel():U.getPixelForValue($?this.applyStack(U,ir,$):ir[Sn],oi);er.skip=isNaN(ts)||isNaN(Qs)||fr,er.stop=oi>0&&Math.abs(ir[Qt]-Mi[Qt])>ri,Vn&&(er.parsed=ir,er.raw=se.data[oi]),Ot&&(er.options=_t||this.resolveDataElementOptions(oi,Ci.active?"active":x)),hi||this.updateElement(Ci,oi,er,x),Mi=ir}this.updateSharedOptions(_t,x,ze)}getMaxOverflow(){const s=this._cachedMeta,d=s.data||[];if(!this.options.showLine){let U=0;for(let $=d.length-1;$>=0;--$)U=Math.max(U,d[$].size(this.resolveDataElementOptions($))/2);return U>0&&U}const m=s.dataset,x=m.options&&m.options.borderWidth||0;if(!d.length)return x;const A=d[0].size(this.resolveDataElementOptions(0)),P=d[d.length-1].size(this.resolveDataElementOptions(d.length-1));return Math.max(x,A,P)/2}}Lr(zo,"id","scatter"),Lr(zo,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Lr(zo,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Qr=Object.freeze({__proto__:null,BarController:xi,BubbleController:Hi,DoughnutController:Pi,LineController:Is,PolarAreaController:Al,PieController:Zs,RadarController:rr,ScatterController:zo});function fl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ts{static override(s){Object.assign(Ts.prototype,s)}constructor(s){this.options=s||{}}init(){}formats(){return fl()}parse(){return fl()}format(){return fl()}add(){return fl()}diff(){return fl()}startOf(){return fl()}endOf(){return fl()}}var Oi__date=Ts;function Ro(h,s,d,m){const{controller:x,data:A,_sorted:P}=h,U=x._cachedMeta.iScale;if(U&&s===U.axis&&"r"!==s&&P&&A.length){const $=U._reversePixels?Y:Yt;if(!m)return $(A,s,d);if(x._sharedOptions){const se=A[0],ze="function"==typeof se.getRange&&se.getRange(s);if(ze){const _t=$(A,s,d-ze),Ot=$(A,s,d+ze);return{lo:_t.lo,hi:Ot.hi}}}}return{lo:0,hi:A.length-1}}function rl(h,s,d,m,x){const A=h.getSortedVisibleDatasetMetas(),P=d[s];for(let U=0,$=A.length;U<$;++U){const{index:se,data:ze}=A[U],{lo:_t,hi:Ot}=Ro(A[U],s,P,x);for(let Qt=_t;Qt<=Ot;++Qt){const Sn=ze[Qt];Sn.skip||m(Sn,se,Qt)}}}function Sl(h,s,d,m,x){const A=[];return!x&&!h.isPointInArea(s)||rl(h,d,s,function(U,$,se){!x&&!mo(U,h.chartArea,0)||U.inRange(s.x,s.y,m)&&A.push({element:U,datasetIndex:$,index:se})},!0),A}function Ks(h,s,d,m,x,A){return A||h.isPointInArea(s)?"r"!==d||m?function Ya(h,s,d,m,x,A){let P=[];const U=function ys(h){const s=-1!==h.indexOf("x"),d=-1!==h.indexOf("y");return function(m,x){const A=s?Math.abs(m.x-x.x):0,P=d?Math.abs(m.y-x.y):0;return Math.sqrt(Math.pow(A,2)+Math.pow(P,2))}}(d);let $=Number.POSITIVE_INFINITY;return rl(h,d,s,function se(ze,_t,Ot){const Qt=ze.inRange(s.x,s.y,x);if(m&&!Qt)return;const Sn=ze.getCenterPoint(x);if(!A&&!h.isPointInArea(Sn)&&!Qt)return;const Vn=U(s,Sn);Vn<$?(P=[{element:ze,datasetIndex:_t,index:Ot}],$=Vn):Vn===$&&P.push({element:ze,datasetIndex:_t,index:Ot})}),P}(h,s,d,m,x,A):function pl(h,s,d,m){let x=[];return rl(h,d,s,function A(P,U,$){const{startAngle:se,endAngle:ze}=P.getProps(["startAngle","endAngle"],m),{angle:_t}=rn(P,{x:s.x,y:s.y});mt(_t,se,ze)&&x.push({element:P,datasetIndex:U,index:$})}),x}(h,s,d,x):[]}function ou(h,s,d,m,x){const A=[],P="x"===d?"inXRange":"inYRange";let U=!1;return rl(h,d,s,($,se,ze)=>{$[P](s[d],x)&&(A.push({element:$,datasetIndex:se,index:ze}),U=U||$.inRange(s.x,s.y,x))}),m&&!U?[]:A}var Au={evaluateInteractionItems:rl,modes:{index(h,s,d,m){const x=Wa(s,h),A=d.axis||"x",P=d.includeInvisible||!1,U=d.intersect?Sl(h,x,A,m,P):Ks(h,x,A,!1,m,P),$=[];return U.length?(h.getSortedVisibleDatasetMetas().forEach(se=>{const ze=U[0].index,_t=se.data[ze];_t&&!_t.skip&&$.push({element:_t,datasetIndex:se.index,index:ze})}),$):[]},dataset(h,s,d,m){const x=Wa(s,h),A=d.axis||"xy",P=d.includeInvisible||!1;let U=d.intersect?Sl(h,x,A,m,P):Ks(h,x,A,!1,m,P);if(U.length>0){const $=U[0].datasetIndex,se=h.getDatasetMeta($).data;U=[];for(let ze=0;ze<se.length;++ze)U.push({element:se[ze],datasetIndex:$,index:ze})}return U},point:(h,s,d,m)=>Sl(h,Wa(s,h),d.axis||"xy",m,d.includeInvisible||!1),nearest:(h,s,d,m)=>Ks(h,Wa(s,h),d.axis||"xy",d.intersect,m,d.includeInvisible||!1),x:(h,s,d,m)=>ou(h,Wa(s,h),"x",d.intersect,m),y:(h,s,d,m)=>ou(h,Wa(s,h),"y",d.intersect,m)}};const sl=["left","top","right","bottom"];function qc(h,s){return h.filter(d=>d.pos===s)}function ad(h,s){return h.filter(d=>-1===sl.indexOf(d.pos)&&d.box.axis===s)}function ql(h,s){return h.sort((d,m)=>{const x=s?m:d,A=s?d:m;return x.weight===A.weight?x.index-A.index:x.weight-A.weight})}function ro(h,s,d,m){return Math.max(h[d],s[d])+Math.max(h[m],s[m])}function bc(h,s){h.top=Math.max(h.top,s.top),h.left=Math.max(h.left,s.left),h.bottom=Math.max(h.bottom,s.bottom),h.right=Math.max(h.right,s.right)}function ol(h,s,d,m){const{pos:x,box:A}=d,P=h.maxPadding;if(!tn(x)){d.size&&(h[x]-=d.size);const _t=m[d.stack]||{size:0,count:1};_t.size=Math.max(_t.size,d.horizontal?A.height:A.width),d.size=_t.size/_t.count,h[x]+=d.size}A.getPadding&&bc(P,A.getPadding());const U=Math.max(0,s.outerWidth-ro(P,h,"left","right")),$=Math.max(0,s.outerHeight-ro(P,h,"top","bottom")),se=U!==h.w,ze=$!==h.h;return h.w=U,h.h=$,d.horizontal?{same:se,other:ze}:{same:ze,other:se}}function _a(h,s){const d=s.maxPadding;return function m(x){const A={left:0,top:0,right:0,bottom:0};return x.forEach(P=>{A[P]=Math.max(s[P],d[P])}),A}(h?["left","right"]:["top","bottom"])}function fs(h,s,d,m){const x=[];let A,P,U,$,se,ze;for(A=0,P=h.length,se=0;A<P;++A){U=h[A],$=U.box,$.update(U.width||s.w,U.height||s.h,_a(U.horizontal,s));const{same:_t,other:Ot}=ol(s,d,U,m);se|=_t&&x.length,ze=ze||Ot,$.fullSize||x.push(U)}return se&&fs(x,s,d,m)||ze}function ia(h,s,d,m,x){h.top=d,h.left=s,h.right=s+m,h.bottom=d+x,h.width=m,h.height=x}function Ql(h,s,d,m){const x=d.padding;let{x:A,y:P}=s;for(const U of h){const $=U.box,se=m[U.stack]||{count:1,placed:0,weight:1},ze=U.stackWeight/se.weight||1;if(U.horizontal){const _t=s.w*ze,Ot=se.size||$.height;sn(se.start)&&(P=se.start),$.fullSize?ia($,x.left,P,d.outerWidth-x.right-x.left,Ot):ia($,s.left+se.placed,P,_t,Ot),se.start=P,se.placed+=_t,P=$.bottom}else{const _t=s.h*ze,Ot=se.size||$.width;sn(se.start)&&(A=se.start),$.fullSize?ia($,A,x.top,Ot,d.outerHeight-x.bottom-x.top):ia($,A,s.top+se.placed,Ot,_t),se.start=A,se.placed+=_t,A=$.right}}s.x=A,s.y=P}var ea={addBox(h,s){h.boxes||(h.boxes=[]),s.fullSize=s.fullSize||!1,s.position=s.position||"top",s.weight=s.weight||0,s._layers=s._layers||function(){return[{z:0,draw(d){s.draw(d)}}]},h.boxes.push(s)},removeBox(h,s){const d=h.boxes?h.boxes.indexOf(s):-1;-1!==d&&h.boxes.splice(d,1)},configure(h,s,d){s.fullSize=d.fullSize,s.position=d.position,s.weight=d.weight},update(h,s,d,m){if(!h)return;const x=us(h.options.layout.padding),A=Math.max(s-x.width,0),P=Math.max(d-x.height,0),U=function Su(h){const s=function au(h){const s=[];let d,m,x,A,P,U;for(d=0,m=(h||[]).length;d<m;++d)x=h[d],({position:A,options:{stack:P,stackWeight:U=1}}=x),s.push({index:d,box:x,pos:A,horizontal:x.isHorizontal(),weight:x.weight,stack:P&&A+P,stackWeight:U});return s}(h),d=ql(s.filter(se=>se.box.fullSize),!0),m=ql(qc(s,"left"),!0),x=ql(qc(s,"right")),A=ql(qc(s,"top"),!0),P=ql(qc(s,"bottom")),U=ad(s,"x"),$=ad(s,"y");return{fullSize:d,leftAndTop:m.concat(A),rightAndBottom:x.concat($).concat(P).concat(U),chartArea:qc(s,"chartArea"),vertical:m.concat(x).concat($),horizontal:A.concat(P).concat(U)}}(h.boxes),$=U.vertical,se=U.horizontal;zt(h.boxes,Mn=>{"function"==typeof Mn.beforeLayout&&Mn.beforeLayout()});const ze=$.reduce((Mn,Vn)=>Vn.box.options&&!1===Vn.box.options.display?Mn:Mn+1,0)||1,_t=Object.freeze({outerWidth:s,outerHeight:d,padding:x,availableWidth:A,availableHeight:P,vBoxMaxWidth:A/2/ze,hBoxMaxHeight:P/2}),Ot=Object.assign({},x);bc(Ot,us(m));const Qt=Object.assign({maxPadding:Ot,w:A,h:P,x:x.left,y:x.top},x),Sn=function ii(h,s){const d=function Hc(h){const s={};for(const d of h){const{stack:m,pos:x,stackWeight:A}=d;if(!m||!sl.includes(x))continue;const P=s[m]||(s[m]={count:0,placed:0,weight:0,size:0});P.count++,P.weight+=A}return s}(h),{vBoxMaxWidth:m,hBoxMaxHeight:x}=s;let A,P,U;for(A=0,P=h.length;A<P;++A){U=h[A];const{fullSize:$}=U.box,se=d[U.stack],ze=se&&U.stackWeight/se.weight;U.horizontal?(U.width=ze?ze*m:$&&s.availableWidth,U.height=x):(U.width=m,U.height=ze?ze*x:$&&s.availableHeight)}return d}($.concat(se),_t);fs(U.fullSize,Qt,_t,Sn),fs($,Qt,_t,Sn),fs(se,Qt,_t,Sn)&&fs($,Qt,_t,Sn),function uc(h){const s=h.maxPadding;function d(m){const x=Math.max(s[m]-h[m],0);return h[m]+=x,x}h.y+=d("top"),h.x+=d("left"),d("right"),d("bottom")}(Qt),Ql(U.leftAndTop,Qt,_t,Sn),Qt.x+=Qt.w,Qt.y+=Qt.h,Ql(U.rightAndBottom,Qt,_t,Sn),h.chartArea={left:Qt.left,top:Qt.top,right:Qt.left+Qt.w,bottom:Qt.top+Qt.h,height:Qt.h,width:Qt.w},zt(U.chartArea,Mn=>{const Vn=Mn.box;Object.assign(Vn,h.chartArea),Vn.update(Qt.w,Qt.h,{left:0,top:0,right:0,bottom:0})})}};class q{acquireContext(s,d){}releaseContext(s){return!1}addEventListener(s,d,m){}removeEventListener(s,d,m){}getDevicePixelRatio(){return 1}getMaximumSize(s,d,m,x){return d=Math.max(0,d||s.width),m=m||s.height,{width:d,height:Math.max(0,x?Math.floor(d/x):m)}}isAttached(s){return!0}updateConfig(s){}}class Q extends q{acquireContext(s){return s&&s.getContext&&s.getContext("2d")||null}updateConfig(s){s.options.animation=!1}}const G="$chartjs",de={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Pe=h=>null===h||""===h,on=!!ca&&{passive:!0};function di(h,s,d){h.canvas.removeEventListener(s,d,on)}function Nr(h,s){for(const d of h)if(d===s||d.contains(s))return!0}function Fi(h,s,d){const m=h.canvas,x=new MutationObserver(A=>{let P=!1;for(const U of A)P=P||Nr(U.addedNodes,m),P=P&&!Nr(U.removedNodes,m);P&&d()});return x.observe(document,{childList:!0,subtree:!0}),x}function qs(h,s,d){const m=h.canvas,x=new MutationObserver(A=>{let P=!1;for(const U of A)P=P||Nr(U.removedNodes,m),P=P&&!Nr(U.addedNodes,m);P&&d()});return x.observe(document,{childList:!0,subtree:!0}),x}const Fo=new Map;let Fs=0;function Bl(){const h=window.devicePixelRatio;h!==Fs&&(Fs=h,Fo.forEach((s,d)=>{d.currentDevicePixelRatio!==h&&s()}))}function Ua(h,s,d){const m=h.canvas,x=m&&to(m);if(!x)return;const A=vr((U,$)=>{const se=x.clientWidth;d(U,$),se<x.clientWidth&&d()},window),P=new ResizeObserver(U=>{const $=U[0],se=$.contentRect.width,ze=$.contentRect.height;0===se&&0===ze||A(se,ze)});return P.observe(x),function al(h,s){Fo.size||window.addEventListener("resize",Bl),Fo.set(h,s)}(h,A),P}function Za(h,s,d){d&&d.disconnect(),"resize"===s&&function Eu(h){Fo.delete(h),Fo.size||window.removeEventListener("resize",Bl)}(h)}function Xl(h,s,d){const m=h.canvas,x=vr(A=>{null!==h.ctx&&d(function Ni(h,s){const d=de[h.type]||h.type,{x:m,y:x}=Wa(h,s);return{type:d,chart:s,native:h,x:void 0!==m?m:null,y:void 0!==x?x:null}}(A,h))},h);return function dn(h,s,d){h.addEventListener(s,d,on)}(m,s,x),x}class El extends q{acquireContext(s,d){const m=s&&s.getContext&&s.getContext("2d");return m&&m.canvas===s?(function Ct(h,s){const d=h.style,m=h.getAttribute("height"),x=h.getAttribute("width");if(h[G]={initial:{height:m,width:x,style:{display:d.display,height:d.height,width:d.width}}},d.display=d.display||"block",d.boxSizing=d.boxSizing||"border-box",Pe(x)){const A=ar(h,"width");void 0!==A&&(h.width=A)}if(Pe(m))if(""===h.style.height)h.height=h.width/(s||2);else{const A=ar(h,"height");void 0!==A&&(h.height=A)}}(s,d),m):null}releaseContext(s){const d=s.canvas;if(!d[G])return!1;const m=d[G].initial;["height","width"].forEach(A=>{const P=m[A];Pn(P)?d.removeAttribute(A):d.setAttribute(A,P)});const x=m.style||{};return Object.keys(x).forEach(A=>{d.style[A]=x[A]}),d.width=d.width,delete d[G],!0}addEventListener(s,d,m){this.removeEventListener(s,d),(s.$proxies||(s.$proxies={}))[d]=({attach:Fi,detach:qs,resize:Ua}[d]||Xl)(s,d,m)}removeEventListener(s,d){const m=s.$proxies||(s.$proxies={}),x=m[d];x&&(({attach:Za,detach:Za,resize:Za}[d]||di)(s,d,x),m[d]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(s,d,m,x){return function pa(h,s,d,m){const x=Ao(h),A=la(x,"margin"),P=_s(x.maxWidth,h,"clientWidth")||st,U=_s(x.maxHeight,h,"clientHeight")||st,$=function lc(h,s,d){let m,x;if(void 0===s||void 0===d){const A=to(h);if(A){const P=A.getBoundingClientRect(),U=Ao(A),$=la(U,"border","width"),se=la(U,"padding");s=P.width-se.width-$.width,d=P.height-se.height-$.height,m=_s(U.maxWidth,A,"clientWidth"),x=_s(U.maxHeight,A,"clientHeight")}else s=h.clientWidth,d=h.clientHeight}return{width:s,height:d,maxWidth:m||st,maxHeight:x||st}}(h,s,d);let{width:se,height:ze}=$;if("content-box"===x.boxSizing){const Ot=la(x,"border","width"),Qt=la(x,"padding");se-=Qt.width+Ot.width,ze-=Qt.height+Ot.height}return se=Math.max(0,se-A.width),ze=Math.max(0,m?se/m:ze-A.height),se=Vs(Math.min(se,P,$.maxWidth)),ze=Vs(Math.min(ze,U,$.maxHeight)),se&&!ze&&(ze=Vs(se/2)),(void 0!==s||void 0!==d)&&m&&$.height&&ze>$.height&&(ze=$.height,se=Vs(Math.floor(ze*m))),{width:se,height:ze}}(s,d,m,x)}isAttached(s){const d=to(s);return!(!d||!d.isConnected)}}class ml{constructor(){Lr(this,"active",!1)}tooltipPosition(s){const{x:d,y:m}=this.getProps(["x","y"],s);return{x:d,y:m}}hasValue(){return Li(this.x)&&Li(this.y)}getProps(s,d){const m=this.$animations;if(!d||!m)return this;const x={};return s.forEach(A=>{x[A]=m[A]&&m[A].active()?m[A]._to:this[A]}),x}}function Ka(h,s,d,m,x){const A=lt(m,0),P=Math.min(lt(x,h.length),h.length);let $,se,ze,U=0;for(d=Math.ceil(d),x&&($=x-m,d=$/Math.floor($/d)),ze=A;ze<0;)U++,ze=Math.round(A+U*d);for(se=Math.max(A,0);se<P;se++)se===ze&&(s.push(h[se]),U++,ze=Math.round(A+U*d))}Lr(ml,"defaults",{}),Lr(ml,"defaultRoutes");const Qc=(h,s,d)=>"top"===s||"left"===s?h[s]+d:h[s]-d;function _e(h,s){const d=[],m=h.length/s,x=h.length;let A=0;for(;A<x;A+=m)d.push(h[Math.floor(A)]);return d}function He(h,s,d){const m=h.ticks.length,x=Math.min(s,m-1),A=h._startPixel,P=h._endPixel,U=1e-6;let se,$=h.getPixelForTick(x);if(!(d&&(se=1===m?Math.max($-A,P-$):0===s?(h.getPixelForTick(1)-$)/2:($-h.getPixelForTick(x-1))/2,$+=x<s?se:-se,$<A-U||$>P+U)))return $}function ln(h){return h.drawTicks?h.tickLength:0}function zn(h,s){if(!h.display)return 0;const d=Ir(h.font,s),m=us(h.padding);return(Nt(h.text)?h.text.length:1)*d.lineHeight+m.height}function or(h,s,d){let m=xs(h);return(d&&"right"!==s||!d&&"right"===s)&&(m=(h=>"left"===h?"right":"right"===h?"left":h)(m)),m}class yr extends ml{constructor(s){super(),this.id=s.id,this.type=s.type,this.options=void 0,this.ctx=s.ctx,this.chart=s.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(s){this.options=s.setContext(this.getContext()),this.axis=s.axis,this._userMin=this.parse(s.min),this._userMax=this.parse(s.max),this._suggestedMin=this.parse(s.suggestedMin),this._suggestedMax=this.parse(s.suggestedMax)}parse(s,d){return s}getUserBounds(){let{_userMin:s,_userMax:d,_suggestedMin:m,_suggestedMax:x}=this;return s=bn(s,Number.POSITIVE_INFINITY),d=bn(d,Number.NEGATIVE_INFINITY),m=bn(m,Number.POSITIVE_INFINITY),x=bn(x,Number.NEGATIVE_INFINITY),{min:bn(s,m),max:bn(d,x),minDefined:Rt(s),maxDefined:Rt(d)}}getMinMax(s){let P,{min:d,max:m,minDefined:x,maxDefined:A}=this.getUserBounds();if(x&&A)return{min:d,max:m};const U=this.getMatchingVisibleMetas();for(let $=0,se=U.length;$<se;++$)P=U[$].controller.getMinMax(this,s),x||(d=Math.min(d,P.min)),A||(m=Math.max(m,P.max));return d=A&&d>m?m:d,m=x&&d>m?d:m,{min:bn(d,bn(m,d)),max:bn(m,bn(d,m))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const s=this.chart.data;return this.options.labels||(this.isHorizontal()?s.xLabels:s.yLabels)||s.labels||[]}getLabelItems(s=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(s))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ot(this.options.beforeUpdate,[this])}update(s,d,m){const{beginAtZero:x,grace:A,ticks:P}=this.options,U=P.sampleSize;this.beforeUpdate(),this.maxWidth=s,this.maxHeight=d,this._margins=m=Object.assign({left:0,right:0,top:0,bottom:0},m),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+m.left+m.right:this.height+m.top+m.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function go(h,s,d){const{min:m,max:x}=h,A=Ae(s,(x-m)/2),P=(U,$)=>d&&0===U?0:U+$;return{min:P(m,-Math.abs(A)),max:P(x,A)}}(this,A,x),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const $=U<this.ticks.length;this._convertTicksToLabels($?_e(this.ticks,U):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),P.display&&(P.autoSkip||"auto"===P.source)&&(this.ticks=function Vl(h,s){const d=h.options.ticks,m=function pu(h){const s=h.options.offset,d=h._tickSize();return Math.floor(Math.min(h._length/d+(s?0:1),h._maxLength/d))}(h),x=Math.min(d.maxTicksLimit||m,m),A=d.major.enabled?function Zu(h){const s=[];let d,m;for(d=0,m=h.length;d<m;d++)h[d].major&&s.push(d);return s}(s):[],P=A.length,U=A[0],$=A[P-1],se=[];if(P>x)return function dc(h,s,d,m){let P,x=0,A=d[0];for(m=Math.ceil(m),P=0;P<h.length;P++)P===A&&(s.push(h[P]),x++,A=d[x*m])}(s,se,A,P/x),se;const ze=function Jl(h,s,d){const m=function ll(h){const s=h.length;let d,m;if(s<2)return!1;for(m=h[0],d=1;d<s;++d)if(h[d]-h[d-1]!==m)return!1;return m}(h),x=s.length/d;if(!m)return Math.max(x,1);const A=function Ui(h){const s=[],d=Math.sqrt(h);let m;for(m=1;m<d;m++)h%m==0&&(s.push(m),s.push(h/m));return d===(0|d)&&s.push(d),s.sort((x,A)=>x-A).pop(),s}(m);for(let P=0,U=A.length-1;P<U;P++){const $=A[P];if($>x)return $}return Math.max(x,1)}(A,s,x);if(P>0){let _t,Ot;const Qt=P>1?Math.round(($-U)/(P-1)):null;for(Ka(s,se,ze,Pn(Qt)?0:U-Qt,U),_t=0,Ot=P-1;_t<Ot;_t++)Ka(s,se,ze,A[_t],A[_t+1]);return Ka(s,se,ze,$,Pn(Qt)?s.length:$+Qt),se}return Ka(s,se,ze),se}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),$&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let d,m,s=this.options.reverse;this.isHorizontal()?(d=this.left,m=this.right):(d=this.top,m=this.bottom,s=!s),this._startPixel=d,this._endPixel=m,this._reversePixels=s,this._length=m-d,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ot(this.options.afterUpdate,[this])}beforeSetDimensions(){ot(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ot(this.options.afterSetDimensions,[this])}_callHooks(s){this.chart.notifyPlugins(s,this.getContext()),ot(this.options[s],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ot(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(s){const d=this.options.ticks;let m,x,A;for(m=0,x=s.length;m<x;m++)A=s[m],A.label=ot(d.callback,[A.value,m,s],this)}afterTickToLabelConversion(){ot(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ot(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const s=this.options,d=s.ticks,m=this.ticks.length,x=d.minRotation||0,A=d.maxRotation;let U,$,se,P=x;if(!this._isVisible()||!d.display||x>=A||m<=1||!this.isHorizontal())return void(this.labelRotation=x);const ze=this._getLabelSizes(),_t=ze.widest.width,Ot=ze.highest.height,Qt=Ft(this.chart.width-_t,0,this.maxWidth);U=s.offset?this.maxWidth/m:Qt/(m-1),_t+6>U&&(U=Qt/(m-(s.offset?.5:1)),$=this.maxHeight-ln(s.grid)-d.padding-zn(s.title,this.chart.options.font),se=Math.sqrt(_t*_t+Ot*Ot),P=ge(Math.min(Math.asin(Ft((ze.highest.height+6)/U,-1,1)),Math.asin(Ft($/se,-1,1))-Math.asin(Ft(Ot/se,-1,1)))),P=Math.max(x,Math.min(A,P))),this.labelRotation=P}afterCalculateLabelRotation(){ot(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ot(this.options.beforeFit,[this])}fit(){const s={width:0,height:0},{chart:d,options:{ticks:m,title:x,grid:A}}=this,P=this._isVisible(),U=this.isHorizontal();if(P){const $=zn(x,d.options.font);if(U?(s.width=this.maxWidth,s.height=ln(A)+$):(s.height=this.maxHeight,s.width=ln(A)+$),m.display&&this.ticks.length){const{first:se,last:ze,widest:_t,highest:Ot}=this._getLabelSizes(),Qt=2*m.padding,Sn=K(this.labelRotation),Mn=Math.cos(Sn),Vn=Math.sin(Sn);U?s.height=Math.min(this.maxHeight,s.height+(m.mirror?0:Vn*_t.width+Mn*Ot.height)+Qt):s.width=Math.min(this.maxWidth,s.width+(m.mirror?0:Mn*_t.width+Vn*Ot.height)+Qt),this._calculatePadding(se,ze,Vn,Mn)}}this._handleMargins(),U?(this.width=this._length=d.width-this._margins.left-this._margins.right,this.height=s.height):(this.width=s.width,this.height=this._length=d.height-this._margins.top-this._margins.bottom)}_calculatePadding(s,d,m,x){const{ticks:{align:A,padding:P},position:U}=this.options,$=0!==this.labelRotation,se="top"!==U&&"x"===this.axis;if(this.isHorizontal()){const ze=this.getPixelForTick(0)-this.left,_t=this.right-this.getPixelForTick(this.ticks.length-1);let Ot=0,Qt=0;$?se?(Ot=x*s.width,Qt=m*d.height):(Ot=m*s.height,Qt=x*d.width):"start"===A?Qt=d.width:"end"===A?Ot=s.width:"inner"!==A&&(Ot=s.width/2,Qt=d.width/2),this.paddingLeft=Math.max((Ot-ze+P)*this.width/(this.width-ze),0),this.paddingRight=Math.max((Qt-_t+P)*this.width/(this.width-_t),0)}else{let ze=d.height/2,_t=s.height/2;"start"===A?(ze=0,_t=s.height):"end"===A&&(ze=d.height,_t=0),this.paddingTop=ze+P,this.paddingBottom=_t+P}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ot(this.options.afterFit,[this])}isHorizontal(){const{axis:s,position:d}=this.options;return"top"===d||"bottom"===d||"x"===s}isFullSize(){return this.options.fullSize}_convertTicksToLabels(s){let d,m;for(this.beforeTickToLabelConversion(),this.generateTickLabels(s),d=0,m=s.length;d<m;d++)Pn(s[d].label)&&(s.splice(d,1),m--,d--);this.afterTickToLabelConversion()}_getLabelSizes(){let s=this._labelSizes;if(!s){const d=this.options.ticks.sampleSize;let m=this.ticks;d<m.length&&(m=_e(m,d)),this._labelSizes=s=this._computeLabelSizes(m,m.length)}return s}_computeLabelSizes(s,d){const{ctx:m,_longestTextCache:x}=this,A=[],P=[];let se,ze,_t,Ot,Qt,Sn,Mn,Vn,ri,hi,Mi,U=0,$=0;for(se=0;se<d;++se){if(Ot=s[se].label,Qt=this._resolveTickFontOptions(se),m.font=Sn=Qt.string,Mn=x[Sn]=x[Sn]||{data:{},gc:[]},Vn=Qt.lineHeight,ri=hi=0,Pn(Ot)||Nt(Ot)){if(Nt(Ot))for(ze=0,_t=Ot.length;ze<_t;++ze)Mi=Ot[ze],!Pn(Mi)&&!Nt(Mi)&&(ri=Ta(m,Mn.data,Mn.gc,ri,Mi),hi+=Vn)}else ri=Ta(m,Mn.data,Mn.gc,ri,Ot),hi=Vn;A.push(ri),P.push(hi),U=Math.max(ri,U),$=Math.max(hi,$)}!function bt(h,s){zt(h,d=>{const m=d.gc,x=m.length/2;let A;if(x>s){for(A=0;A<x;++A)delete d.data[m[A]];m.splice(0,x)}})}(x,d);const oi=A.indexOf(U),Ci=P.indexOf($),ir=er=>({width:A[er]||0,height:P[er]||0});return{first:ir(0),last:ir(d-1),widest:ir(oi),highest:ir(Ci),widths:A,heights:P}}getLabelForValue(s){return s}getPixelForValue(s,d){return NaN}getValueForPixel(s){}getPixelForTick(s){const d=this.ticks;return s<0||s>d.length-1?null:this.getPixelForValue(d[s].value)}getPixelForDecimal(s){this._reversePixels&&(s=1-s);const d=this._startPixel+s*this._length;return function it(h){return Ft(h,-32768,32767)}(this._alignToPixels?Bo(this.chart,d,0):d)}getDecimalForPixel(s){const d=(s-this._startPixel)/this._length;return this._reversePixels?1-d:d}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:s,max:d}=this;return s<0&&d<0?d:s>0&&d>0?s:0}getContext(s){const d=this.ticks||[];if(s>=0&&s<d.length){const m=d[s];return m.$context||(m.$context=function Ai(h,s,d){return Lo(h,{tick:d,index:s,type:"tick"})}(this.getContext(),s,m))}return this.$context||(this.$context=function Zn(h,s){return Lo(h,{scale:s,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const s=this.options.ticks,d=K(this.labelRotation),m=Math.abs(Math.cos(d)),x=Math.abs(Math.sin(d)),A=this._getLabelSizes(),P=s.autoSkipPadding||0,U=A?A.widest.width+P:0,$=A?A.highest.height+P:0;return this.isHorizontal()?$*m>U*x?U/m:$/x:$*x<U*m?$/m:U/x}_isVisible(){const s=this.options.display;return"auto"!==s?!!s:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(s){const d=this.axis,m=this.chart,x=this.options,{grid:A,position:P,border:U}=x,$=A.offset,se=this.isHorizontal(),_t=this.ticks.length+($?1:0),Ot=ln(A),Qt=[],Sn=U.setContext(this.getContext()),Mn=Sn.display?Sn.width:0,Vn=Mn/2,ri=function(ya){return Bo(m,ya,Mn)};let hi,Mi,oi,Ci,ir,er,fr,ts,Qs,Xs,jo,pc;if("top"===P)hi=ri(this.bottom),er=this.bottom-Ot,ts=hi-Vn,Xs=ri(s.top)+Vn,pc=s.bottom;else if("bottom"===P)hi=ri(this.top),Xs=s.top,pc=ri(s.bottom)-Vn,er=hi+Vn,ts=this.top+Ot;else if("left"===P)hi=ri(this.right),ir=this.right-Ot,fr=hi-Vn,Qs=ri(s.left)+Vn,jo=s.right;else if("right"===P)hi=ri(this.left),Qs=s.left,jo=ri(s.right)-Vn,ir=hi+Vn,fr=this.left+Ot;else if("x"===d){if("center"===P)hi=ri((s.top+s.bottom)/2+.5);else if(tn(P)){const ya=Object.keys(P)[0];hi=ri(this.chart.scales[ya].getPixelForValue(P[ya]))}Xs=s.top,pc=s.bottom,er=hi+Vn,ts=er+Ot}else if("y"===d){if("center"===P)hi=ri((s.left+s.right)/2);else if(tn(P)){const ya=Object.keys(P)[0];hi=ri(this.chart.scales[ya].getPixelForValue(P[ya]))}ir=hi-Vn,fr=ir-Ot,Qs=s.left,jo=s.right}const Du=lt(x.ticks.maxTicksLimit,_t),Zr=Math.max(1,Math.ceil(_t/Du));for(Mi=0;Mi<_t;Mi+=Zr){const ya=this.getContext(Mi),Oa=A.setContext(ya),nu=U.setContext(ya),mc=Oa.lineWidth,Zc=Oa.color,lp=nu.dash||[],Tf=nu.dashOffset,hu=Oa.tickWidth,bh=Oa.tickColor,Df=Oa.tickBorderDash||[],zu=Oa.tickBorderDashOffset;oi=He(this,Mi,$),void 0!==oi&&(Ci=Bo(m,oi,mc),se?ir=fr=Qs=jo=Ci:er=ts=Xs=pc=Ci,Qt.push({tx1:ir,ty1:er,tx2:fr,ty2:ts,x1:Qs,y1:Xs,x2:jo,y2:pc,width:mc,color:Zc,borderDash:lp,borderDashOffset:Tf,tickWidth:hu,tickColor:bh,tickBorderDash:Df,tickBorderDashOffset:zu}))}return this._ticksLength=_t,this._borderValue=hi,Qt}_computeLabelItems(s){const d=this.axis,m=this.options,{position:x,ticks:A}=m,P=this.isHorizontal(),U=this.ticks,{align:$,crossAlign:se,padding:ze,mirror:_t}=A,Ot=ln(m.grid),Qt=Ot+ze,Sn=_t?-ze:Qt,Mn=-K(this.labelRotation),Vn=[];let ri,hi,Mi,oi,Ci,ir,er,fr,ts,Qs,Xs,jo,pc="middle";if("top"===x)ir=this.bottom-Sn,er=this._getXAxisLabelAlignment();else if("bottom"===x)ir=this.top+Sn,er=this._getXAxisLabelAlignment();else if("left"===x){const Zr=this._getYAxisLabelAlignment(Ot);er=Zr.textAlign,Ci=Zr.x}else if("right"===x){const Zr=this._getYAxisLabelAlignment(Ot);er=Zr.textAlign,Ci=Zr.x}else if("x"===d){if("center"===x)ir=(s.top+s.bottom)/2+Qt;else if(tn(x)){const Zr=Object.keys(x)[0];ir=this.chart.scales[Zr].getPixelForValue(x[Zr])+Qt}er=this._getXAxisLabelAlignment()}else if("y"===d){if("center"===x)Ci=(s.left+s.right)/2-Qt;else if(tn(x)){const Zr=Object.keys(x)[0];Ci=this.chart.scales[Zr].getPixelForValue(x[Zr])}er=this._getYAxisLabelAlignment(Ot).textAlign}"y"===d&&("start"===$?pc="top":"end"===$&&(pc="bottom"));const Du=this._getLabelSizes();for(ri=0,hi=U.length;ri<hi;++ri){Mi=U[ri],oi=Mi.label;const Zr=A.setContext(this.getContext(ri));fr=this.getPixelForTick(ri)+A.labelOffset,ts=this._resolveTickFontOptions(ri),Qs=ts.lineHeight,Xs=Nt(oi)?oi.length:1;const ya=Xs/2,Oa=Zr.color,nu=Zr.textStrokeColor,mc=Zr.textStrokeWidth;let lp,Zc=er;if(P?(Ci=fr,"inner"===er&&(Zc=ri===hi-1?this.options.reverse?"left":"right":0===ri?this.options.reverse?"right":"left":"center"),jo="top"===x?"near"===se||0!==Mn?-Xs*Qs+Qs/2:"center"===se?-Du.highest.height/2-ya*Qs+Qs:Qs/2-Du.highest.height:"near"===se||0!==Mn?Qs/2:"center"===se?Du.highest.height/2-ya*Qs:Du.highest.height-Xs*Qs,_t&&(jo*=-1),0!==Mn&&!Zr.showLabelBackdrop&&(Ci+=Qs/2*Math.sin(Mn))):(ir=fr,jo=(1-Xs)*Qs/2),Zr.showLabelBackdrop){const Tf=us(Zr.backdropPadding),hu=Du.heights[ri],bh=Du.widths[ri];let Df=jo-Tf.top,zu=0-Tf.left;switch(pc){case"middle":Df-=hu/2;break;case"bottom":Df-=hu}switch(er){case"center":zu-=bh/2;break;case"right":zu-=bh}lp={left:zu,top:Df,width:bh+Tf.width,height:hu+Tf.height,color:Zr.backdropColor}}Vn.push({label:oi,font:ts,textOffset:jo,options:{rotation:Mn,color:Oa,strokeColor:nu,strokeWidth:mc,textAlign:Zc,textBaseline:pc,translation:[Ci,ir],backdrop:lp}})}return Vn}_getXAxisLabelAlignment(){const{position:s,ticks:d}=this.options;if(-K(this.labelRotation))return"top"===s?"left":"right";let x="center";return"start"===d.align?x="left":"end"===d.align?x="right":"inner"===d.align&&(x="inner"),x}_getYAxisLabelAlignment(s){const{position:d,ticks:{crossAlign:m,mirror:x,padding:A}}=this.options,U=s+A,$=this._getLabelSizes().widest.width;let se,ze;return"left"===d?x?(ze=this.right+A,"near"===m?se="left":"center"===m?(se="center",ze+=$/2):(se="right",ze+=$)):(ze=this.right-U,"near"===m?se="right":"center"===m?(se="center",ze-=$/2):(se="left",ze=this.left)):"right"===d?x?(ze=this.left+A,"near"===m?se="right":"center"===m?(se="center",ze-=$/2):(se="left",ze-=$)):(ze=this.left+U,"near"===m?se="left":"center"===m?(se="center",ze+=$/2):(se="right",ze=this.right)):se="right",{textAlign:se,x:ze}}_computeLabelArea(){if(this.options.ticks.mirror)return;const s=this.chart,d=this.options.position;return"left"===d||"right"===d?{top:0,left:this.left,bottom:s.height,right:this.right}:"top"===d||"bottom"===d?{top:this.top,left:0,bottom:this.bottom,right:s.width}:void 0}drawBackground(){const{ctx:s,options:{backgroundColor:d},left:m,top:x,width:A,height:P}=this;d&&(s.save(),s.fillStyle=d,s.fillRect(m,x,A,P),s.restore())}getLineWidthForValue(s){const d=this.options.grid;if(!this._isVisible()||!d.display)return 0;const x=this.ticks.findIndex(A=>A.value===s);return x>=0?d.setContext(this.getContext(x)).lineWidth:0}drawGrid(s){const d=this.options.grid,m=this.ctx,x=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(s));let A,P;const U=($,se,ze)=>{!ze.width||!ze.color||(m.save(),m.lineWidth=ze.width,m.strokeStyle=ze.color,m.setLineDash(ze.borderDash||[]),m.lineDashOffset=ze.borderDashOffset,m.beginPath(),m.moveTo($.x,$.y),m.lineTo(se.x,se.y),m.stroke(),m.restore())};if(d.display)for(A=0,P=x.length;A<P;++A){const $=x[A];d.drawOnChartArea&&U({x:$.x1,y:$.y1},{x:$.x2,y:$.y2},$),d.drawTicks&&U({x:$.tx1,y:$.ty1},{x:$.tx2,y:$.ty2},{color:$.tickColor,width:$.tickWidth,borderDash:$.tickBorderDash,borderDashOffset:$.tickBorderDashOffset})}}drawBorder(){const{chart:s,ctx:d,options:{border:m,grid:x}}=this,A=m.setContext(this.getContext()),P=m.display?A.width:0;if(!P)return;const U=x.setContext(this.getContext(0)).lineWidth,$=this._borderValue;let se,ze,_t,Ot;this.isHorizontal()?(se=Bo(s,this.left,P)-P/2,ze=Bo(s,this.right,U)+U/2,_t=Ot=$):(_t=Bo(s,this.top,P)-P/2,Ot=Bo(s,this.bottom,U)+U/2,se=ze=$),d.save(),d.lineWidth=A.width,d.strokeStyle=A.color,d.beginPath(),d.moveTo(se,_t),d.lineTo(ze,Ot),d.stroke(),d.restore()}drawLabels(s){if(!this.options.ticks.display)return;const m=this.ctx,x=this._computeLabelArea();x&&gs(m,x);const A=this.getLabelItems(s);for(const P of A)Mo(m,P.label,0,P.textOffset,P.font,P.options);x&&Ur(m)}drawTitle(){const{ctx:s,options:{position:d,title:m,reverse:x}}=this;if(!m.display)return;const A=Ir(m.font),P=us(m.padding),U=m.align;let $=A.lineHeight/2;"bottom"===d||"center"===d||tn(d)?($+=P.bottom,Nt(m.text)&&($+=A.lineHeight*(m.text.length-1))):$+=P.top;const{titleX:se,titleY:ze,maxWidth:_t,rotation:Ot}=function br(h,s,d,m){const{top:x,left:A,bottom:P,right:U,chart:$}=h,{chartArea:se,scales:ze}=$;let Ot,Qt,Sn,_t=0;const Mn=P-x,Vn=U-A;if(h.isHorizontal()){if(Qt=$r(m,A,U),tn(d)){const ri=Object.keys(d)[0];Sn=ze[ri].getPixelForValue(d[ri])+Mn-s}else Sn="center"===d?(se.bottom+se.top)/2+Mn-s:Qc(h,d,s);Ot=U-A}else{if(tn(d)){const ri=Object.keys(d)[0];Qt=ze[ri].getPixelForValue(d[ri])-Vn+s}else Qt="center"===d?(se.left+se.right)/2-Vn+s:Qc(h,d,s);Sn=$r(m,P,x),_t="left"===d?-Te:Te}return{titleX:Qt,titleY:Sn,maxWidth:Ot,rotation:_t}}(this,$,d,U);Mo(s,m.text,0,0,A,{color:m.color,maxWidth:_t,rotation:Ot,textAlign:or(U,d,x),textBaseline:"middle",translation:[se,ze]})}draw(s){!this._isVisible()||(this.drawBackground(),this.drawGrid(s),this.drawBorder(),this.drawTitle(),this.drawLabels(s))}_layers(){const s=this.options,d=s.ticks&&s.ticks.z||0,m=lt(s.grid&&s.grid.z,-1),x=lt(s.border&&s.border.z,0);return this._isVisible()&&this.draw===yr.prototype.draw?[{z:m,draw:A=>{this.drawBackground(),this.drawGrid(A),this.drawTitle()}},{z:x,draw:()=>{this.drawBorder()}},{z:d,draw:A=>{this.drawLabels(A)}}]:[{z:d,draw:A=>{this.draw(A)}}]}getMatchingVisibleMetas(s){const d=this.chart.getSortedVisibleDatasetMetas(),m=this.axis+"AxisID",x=[];let A,P;for(A=0,P=d.length;A<P;++A){const U=d[A];U[m]===this.id&&(!s||U.type===s)&&x.push(U)}return x}_resolveTickFontOptions(s){return Ir(this.options.ticks.setContext(this.getContext(s)).font)}_maxDigits(){const s=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/s}}class Xr{constructor(s,d,m){this.type=s,this.scope=d,this.override=m,this.items=Object.create(null)}isForType(s){return Object.prototype.isPrototypeOf.call(this.type.prototype,s.prototype)}register(s){const d=Object.getPrototypeOf(s);let m;(function bo(h){return"id"in h&&"defaults"in h})(d)&&(m=this.register(d));const x=this.items,A=s.id,P=this.scope+"."+A;if(!A)throw new Error("class does not have id: "+s);return A in x||(x[A]=s,function Qi(h,s,d){const m=An(Object.create(null),[d?Rr.get(d):{},Rr.get(s),h.defaults]);Rr.set(s,m),h.defaultRoutes&&function Yr(h,s){Object.keys(s).forEach(d=>{const m=d.split("."),x=m.pop(),A=[h].concat(m).join("."),P=s[d].split("."),U=P.pop(),$=P.join(".");Rr.route(A,x,$,U)})}(s,h.defaultRoutes),h.descriptors&&Rr.describe(s,h.descriptors)}(s,P,m),this.override&&Rr.override(s.id,s.overrides)),P}get(s){return this.items[s]}unregister(s){const d=this.items,m=s.id,x=this.scope;m in d&&delete d[m],x&&m in Rr[x]&&(delete Rr[x][m],this.override&&delete Ws[m])}}class xc{constructor(){this.controllers=new Xr(es,"datasets",!0),this.elements=new Xr(ml,"elements"),this.plugins=new Xr(Object,"plugins"),this.scales=new Xr(yr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...s){this._each("register",s)}remove(...s){this._each("unregister",s)}addControllers(...s){this._each("register",s,this.controllers)}addElements(...s){this._each("register",s,this.elements)}addPlugins(...s){this._each("register",s,this.plugins)}addScales(...s){this._each("register",s,this.scales)}getController(s){return this._get(s,this.controllers,"controller")}getElement(s){return this._get(s,this.elements,"element")}getPlugin(s){return this._get(s,this.plugins,"plugin")}getScale(s){return this._get(s,this.scales,"scale")}removeControllers(...s){this._each("unregister",s,this.controllers)}removeElements(...s){this._each("unregister",s,this.elements)}removePlugins(...s){this._each("unregister",s,this.plugins)}removeScales(...s){this._each("unregister",s,this.scales)}_each(s,d,m){[...d].forEach(x=>{const A=m||this._getRegistryForType(x);m||A.isForType(x)||A===this.plugins&&x.id?this._exec(s,A,x):zt(x,P=>{const U=m||this._getRegistryForType(P);this._exec(s,U,P)})})}_exec(s,d,m){const x=En(s);ot(m["before"+x],[],m),d[s](m),ot(m["after"+x],[],m)}_getRegistryForType(s){for(let d=0;d<this._typedRegistries.length;d++){const m=this._typedRegistries[d];if(m.isForType(s))return m}return this.plugins}_get(s,d,m){const x=d.get(s);if(void 0===x)throw new Error('"'+s+'" is not a registered '+m+".");return x}}var ec=new xc;class Uc{constructor(){this._init=[]}notify(s,d,m,x){"beforeInit"===d&&(this._init=this._createDescriptors(s,!0),this._notify(this._init,s,"install"));const A=x?this._descriptors(s).filter(x):this._descriptors(s),P=this._notify(A,s,d,m);return"afterDestroy"===d&&(this._notify(A,s,"stop"),this._notify(this._init,s,"uninstall")),P}_notify(s,d,m,x){x=x||{};for(const A of s){const P=A.plugin;if(!1===ot(P[m],[d,x,A.options],P)&&x.cancelable)return!1}return!0}invalidate(){Pn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(s){if(this._cache)return this._cache;const d=this._cache=this._createDescriptors(s);return this._notifyStateChanges(s),d}_createDescriptors(s,d){const m=s&&s.config,x=lt(m.options&&m.options.plugins,{}),A=function Hl(h){const s={},d=[],m=Object.keys(ec.plugins.items);for(let A=0;A<m.length;A++)d.push(ec.getPlugin(m[A]));const x=h.plugins||[];for(let A=0;A<x.length;A++){const P=x[A];-1===d.indexOf(P)&&(d.push(P),s[P.id]=!0)}return{plugins:d,localIds:s}}(m);return!1!==x||d?function Id(h,{plugins:s,localIds:d},m,x){const A=[],P=h.getContext();for(const U of s){const $=U.id,se=qa(m[$],x);null!==se&&A.push({plugin:U,options:Zh(h.config,{plugin:U,local:d[$]},se,P)})}return A}(s,A,x,d):[]}_notifyStateChanges(s){const d=this._oldCache||[],m=this._cache,x=(A,P)=>A.filter(U=>!P.some($=>U.plugin.id===$.plugin.id));this._notify(x(d,m),s,"stop"),this._notify(x(m,d),s,"start")}}function qa(h,s){return s||!1!==h?!0===h?{}:h:null}function Zh(h,{plugin:s,local:d},m,x){const A=h.pluginScopeKeys(s),P=h.getOptionScopes(m,A);return d&&s.defaults&&P.push(s.defaults),h.createResolver(P,x,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function wh(h,s){return((s.datasets||{})[h]||{}).indexAxis||s.indexAxis||(Rr.datasets[h]||{}).indexAxis||"x"}function Pd(h,s){if("x"===h||"y"===h||"r"===h||(h=s.axis||function lu(h){return"top"===h||"bottom"===h?"x":"left"===h||"right"===h?"y":void 0}(s.position)||h.length>1&&Pd(h[0].toLowerCase(),s)))return h;throw new Error(`Cannot determine type of '${name}' axis. Please provide 'axis' or 'position' option.`)}function rh(h){const s=h.options||(h.options={});s.plugins=lt(s.plugins,{}),s.scales=function Kh(h,s){const d=Ws[h.type]||{scales:{}},m=s.scales||{},x=wh(h.type,s),A=Object.create(null);return Object.keys(m).forEach(P=>{const U=m[P];if(!tn(U))return console.error(`Invalid scale configuration for scale: ${P}`);if(U._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${P}`);const $=Pd(P,U),se=function Of(h,s){return h===s?"_index_":"_value_"}($,x),ze=d.scales||{};A[P]=Ln(Object.create(null),[{axis:$},U,ze[$],ze[se]])}),h.data.datasets.forEach(P=>{const U=P.type||h.type,$=P.indexAxis||wh(U,s),ze=(Ws[U]||{}).scales||{};Object.keys(ze).forEach(_t=>{const Ot=function Pf(h,s){let d=h;return"_index_"===h?d=s:"_value_"===h&&(d="x"===s?"y":"x"),d}(_t,$),Qt=P[Ot+"AxisID"]||Ot;A[Qt]=A[Qt]||Object.create(null),Ln(A[Qt],[{axis:Ot},m[Qt],ze[_t]])})}),Object.keys(A).forEach(P=>{const U=A[P];Ln(U,[Rr.scales[U.type],Rr.scale])}),A}(h,s)}function sh(h){return(h=h||{}).datasets=h.datasets||[],h.labels=h.labels||[],h}const qh=new Map,Qa=new Set;function Ku(h,s){let d=qh.get(h);return d||(d=s(),qh.set(h,d),Qa.add(d)),d}const Ml=(h,s,d)=>{const m=_r(s,d);void 0!==m&&h.add(m)};class ra{constructor(s){this._config=function Od(h){return(h=h||{}).data=sh(h.data),rh(h),h}(s),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(s){this._config.type=s}get data(){return this._config.data}set data(s){this._config.data=sh(s)}get options(){return this._config.options}set options(s){this._config.options=s}get plugins(){return this._config.plugins}update(){const s=this._config;this.clearCache(),rh(s)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(s){return Ku(s,()=>[[`datasets.${s}`,""]])}datasetAnimationScopeKeys(s,d){return Ku(`${s}.transition.${d}`,()=>[[`datasets.${s}.transitions.${d}`,`transitions.${d}`],[`datasets.${s}`,""]])}datasetElementScopeKeys(s,d){return Ku(`${s}-${d}`,()=>[[`datasets.${s}.elements.${d}`,`datasets.${s}`,`elements.${d}`,""]])}pluginScopeKeys(s){const d=s.id;return Ku(`${this.type}-plugin-${d}`,()=>[[`plugins.${d}`,...s.additionalOptionScopes||[]]])}_cachedScopes(s,d){const m=this._scopeCache;let x=m.get(s);return(!x||d)&&(x=new Map,m.set(s,x)),x}getOptionScopes(s,d,m){const{options:x,type:A}=this,P=this._cachedScopes(s,m),U=P.get(d);if(U)return U;const $=new Set;d.forEach(ze=>{s&&($.add(s),ze.forEach(_t=>Ml($,s,_t))),ze.forEach(_t=>Ml($,x,_t)),ze.forEach(_t=>Ml($,Ws[A]||{},_t)),ze.forEach(_t=>Ml($,Rr,_t)),ze.forEach(_t=>Ml($,Hs,_t))});const se=Array.from($);return 0===se.length&&se.push(Object.create(null)),Qa.has(d)&&P.set(d,se),se}chartOptionScopes(){const{options:s,type:d}=this;return[s,Ws[d]||{},Rr.datasets[d]||{},{type:d},Rr,Hs]}resolveNamedOptions(s,d,m,x=[""]){const A={$shared:!0},{resolver:P,subPrefixes:U}=ld(this._resolverCache,s,x);let $=P;(function Ic(h,s){const{isScriptable:d,isIndexable:m}=Vr(h);for(const x of s){const A=d(x),P=m(x),U=(P||A)&&h[x];if(A&&(It(U)||cd(U))||P&&Nt(U))return!0}return!1})(P,d)&&(A.$shared=!1,$=zs(P,m=It(m)?m():m,this.createResolver(s,m,U)));for(const se of d)A[se]=$[se];return A}createResolver(s,d,m=[""],x){const{resolver:A}=ld(this._resolverCache,s,m);return tn(d)?zs(A,d,void 0,x):A}}function ld(h,s,d){let m=h.get(s);m||(m=new Map,h.set(s,m));const x=d.join();let A=m.get(x);return A||(A={resolver:Na(s,d),subPrefixes:d.filter(U=>!U.toLowerCase().includes("hover"))},m.set(x,A)),A}const cd=h=>tn(h)&&Object.getOwnPropertyNames(h).reduce((s,d)=>s||It(h[d]),!1),mu=["top","bottom","left","right","chartArea"];function ha(h,s){return"top"===h||"bottom"===h||-1===mu.indexOf(h)&&"x"===s}function pp(h,s){return function(d,m){return d[h]===m[h]?d[s]-m[s]:d[h]-m[h]}}function Qh(h){const s=h.chart,d=s.options.animation;s.notifyPlugins("afterRender"),ot(d&&d.onComplete,[h],s)}function Ld(h){const s=h.chart,d=s.options.animation;ot(d&&d.onProgress,[h],s)}function oh(h){return Rs()&&"string"==typeof h?h=document.getElementById(h):h&&h.length&&(h=h[0]),h&&h.canvas&&(h=h.canvas),h}const ud={},Rd=h=>{const s=oh(h);return Object.values(ud).filter(d=>d.canvas===s).pop()};function Xh(h,s,d){const m=Object.keys(h);for(const x of m){const A=+x;if(A>=s){const P=h[x];delete h[x],(d>0||A>s)&&(h[A+d]=P)}}}class zc{static register(...s){ec.add(...s),Cc()}static unregister(...s){ec.remove(...s),Cc()}constructor(s,d){const m=this.config=new ra(d),x=oh(s),A=Rd(x);if(A)throw new Error("Canvas is already in use. Chart with ID '"+A.id+"' must be destroyed before the canvas with ID '"+A.canvas.id+"' can be reused.");const P=m.createResolver(m.chartOptionScopes(),this.getContext());this.platform=new(m.platform||function kc(h){return!Rs()||typeof OffscreenCanvas<"u"&&h instanceof OffscreenCanvas?Q:El}(x)),this.platform.updateConfig(m);const U=this.platform.acquireContext(x,P.aspectRatio),$=U&&U.canvas,se=$&&$.height,ze=$&&$.width;this.id=pn(),this.ctx=U,this.canvas=$,this.width=ze,this.height=se,this._options=P,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Uc,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function ur(h,s){let d;return function(...m){return s?(clearTimeout(d),d=setTimeout(h,s,m)):h.apply(this,m),s}}(_t=>this.update(_t),P.resizeDelay||0),this._dataChanges=[],ud[this.id]=this,U&&$?(Uo.listen(this,"complete",Qh),Uo.listen(this,"progress",Ld),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:s,maintainAspectRatio:d},width:m,height:x,_aspectRatio:A}=this;return Pn(s)?d&&A?A:x?m/x:null:s}get data(){return this.config.data}set data(s){this.config.data=s}get options(){return this._options}set options(s){this.config.options=s}get registry(){return ec}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():cc(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Eo(this.canvas,this.ctx),this}stop(){return Uo.stop(this),this}resize(s,d){Uo.running(this)?this._resizeBeforeDraw={width:s,height:d}:this._resize(s,d)}_resize(s,d){const m=this.options,P=this.platform.getMaximumSize(this.canvas,s,d,m.maintainAspectRatio&&this.aspectRatio),U=m.devicePixelRatio||this.platform.getDevicePixelRatio(),$=this.width?"resize":"attach";this.width=P.width,this.height=P.height,this._aspectRatio=this.aspectRatio,cc(this,U,!0)&&(this.notifyPlugins("resize",{size:P}),ot(m.onResize,[this,P],this),this.attached&&this._doResize($)&&this.render())}ensureScalesHaveIDs(){zt(this.options.scales||{},(m,x)=>{m.id=x})}buildOrUpdateScales(){const s=this.options,d=s.scales,m=this.scales,x=Object.keys(m).reduce((P,U)=>(P[U]=!1,P),{});let A=[];d&&(A=A.concat(Object.keys(d).map(P=>{const U=d[P],$=Pd(P,U),se="r"===$,ze="x"===$;return{options:U,dposition:se?"chartArea":ze?"bottom":"left",dtype:se?"radialLinear":ze?"category":"linear"}}))),zt(A,P=>{const U=P.options,$=U.id,se=Pd($,U),ze=lt(U.type,P.dtype);(void 0===U.position||ha(U.position,se)!==ha(P.dposition))&&(U.position=P.dposition),x[$]=!0;let _t=null;$ in m&&m[$].type===ze?_t=m[$]:(_t=new(ec.getScale(ze))({id:$,type:ze,ctx:this.ctx,chart:this}),m[_t.id]=_t),_t.init(U,s)}),zt(x,(P,U)=>{P||delete m[U]}),zt(m,P=>{ea.configure(this,P,P.options),ea.addBox(this,P)})}_updateMetasets(){const s=this._metasets,d=this.data.datasets.length,m=s.length;if(s.sort((x,A)=>x.index-A.index),m>d){for(let x=d;x<m;++x)this._destroyDatasetMeta(x);s.splice(d,m-d)}this._sortedMetasets=s.slice(0).sort(pp("order","index"))}_removeUnreferencedMetasets(){const{_metasets:s,data:{datasets:d}}=this;s.length>d.length&&delete this._stacks,s.forEach((m,x)=>{0===d.filter(A=>A===m._dataset).length&&this._destroyDatasetMeta(x)})}buildOrUpdateControllers(){const s=[],d=this.data.datasets;let m,x;for(this._removeUnreferencedMetasets(),m=0,x=d.length;m<x;m++){const A=d[m];let P=this.getDatasetMeta(m);const U=A.type||this.config.type;if(P.type&&P.type!==U&&(this._destroyDatasetMeta(m),P=this.getDatasetMeta(m)),P.type=U,P.indexAxis=A.indexAxis||wh(U,this.options),P.order=A.order||0,P.index=m,P.label=""+A.label,P.visible=this.isDatasetVisible(m),P.controller)P.controller.updateIndex(m),P.controller.linkScales();else{const $=ec.getController(U),{datasetElementType:se,dataElementType:ze}=Rr.datasets[U];Object.assign($,{dataElementType:ec.getElement(ze),datasetElementType:se&&ec.getElement(se)}),P.controller=new $(this,m),s.push(P.controller)}}return this._updateMetasets(),s}_resetElements(){zt(this.data.datasets,(s,d)=>{this.getDatasetMeta(d).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(s){const d=this.config;d.update();const m=this._options=d.createResolver(d.chartOptionScopes(),this.getContext()),x=this._animationsDisabled=!m.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:s,cancelable:!0}))return;const A=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let P=0;for(let se=0,ze=this.data.datasets.length;se<ze;se++){const{controller:_t}=this.getDatasetMeta(se),Ot=!x&&-1===A.indexOf(_t);_t.buildOrUpdateElements(Ot),P=Math.max(+_t.getMaxOverflow(),P)}P=this._minPadding=m.layout.autoPadding?P:0,this._updateLayout(P),x||zt(A,se=>{se.reset()}),this._updateDatasets(s),this.notifyPlugins("afterUpdate",{mode:s}),this._layers.sort(pp("z","_idx"));const{_active:U,_lastEvent:$}=this;$?this._eventHandler($,!0):U.length&&this._updateHoverStyles(U,U,!0),this.render()}_updateScales(){zt(this.scales,s=>{ea.removeBox(this,s)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const s=this.options,d=new Set(Object.keys(this._listeners)),m=new Set(s.events);(!xt(d,m)||!!this._responsiveListeners!==s.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:s}=this,d=this._getUniformDataChanges()||[];for(const{method:m,start:x,count:A}of d)Xh(s,x,"_removeElements"===m?-A:A)}_getUniformDataChanges(){const s=this._dataChanges;if(!s||!s.length)return;this._dataChanges=[];const d=this.data.datasets.length,m=A=>new Set(s.filter(P=>P[0]===A).map((P,U)=>U+","+P.splice(1).join(","))),x=m(0);for(let A=1;A<d;A++)if(!xt(x,m(A)))return;return Array.from(x).map(A=>A.split(",")).map(A=>({method:A[1],start:+A[2],count:+A[3]}))}_updateLayout(s){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;ea.update(this,this.width,this.height,s);const d=this.chartArea,m=d.width<=0||d.height<=0;this._layers=[],zt(this.boxes,x=>{m&&"chartArea"===x.position||(x.configure&&x.configure(),this._layers.push(...x._layers()))},this),this._layers.forEach((x,A)=>{x._idx=A}),this.notifyPlugins("afterLayout")}_updateDatasets(s){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:s,cancelable:!0})){for(let d=0,m=this.data.datasets.length;d<m;++d)this.getDatasetMeta(d).controller.configure();for(let d=0,m=this.data.datasets.length;d<m;++d)this._updateDataset(d,It(s)?s({datasetIndex:d}):s);this.notifyPlugins("afterDatasetsUpdate",{mode:s})}}_updateDataset(s,d){const m=this.getDatasetMeta(s),x={meta:m,index:s,mode:d,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",x)&&(m.controller._update(d),x.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",x))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Uo.has(this)?this.attached&&!Uo.running(this)&&Uo.start(this):(this.draw(),Qh({chart:this})))}draw(){let s;if(this._resizeBeforeDraw){const{width:m,height:x}=this._resizeBeforeDraw;this._resize(m,x),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const d=this._layers;for(s=0;s<d.length&&d[s].z<=0;++s)d[s].draw(this.chartArea);for(this._drawDatasets();s<d.length;++s)d[s].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(s){const d=this._sortedMetasets,m=[];let x,A;for(x=0,A=d.length;x<A;++x){const P=d[x];(!s||P.visible)&&m.push(P)}return m}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const s=this.getSortedVisibleDatasetMetas();for(let d=s.length-1;d>=0;--d)this._drawDataset(s[d]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(s){const d=this.ctx,m=s._clip,x=!m.disabled,A=function Mu(h){const{xScale:s,yScale:d}=h;if(s&&d)return{left:s.left,right:s.right,top:d.top,bottom:d.bottom}}(s)||this.chartArea,P={meta:s,index:s.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",P)&&(x&&gs(d,{left:!1===m.left?0:A.left-m.left,right:!1===m.right?this.width:A.right+m.right,top:!1===m.top?0:A.top-m.top,bottom:!1===m.bottom?this.height:A.bottom+m.bottom}),s.controller.draw(),x&&Ur(d),P.cancelable=!1,this.notifyPlugins("afterDatasetDraw",P))}isPointInArea(s){return mo(s,this.chartArea,this._minPadding)}getElementsAtEventForMode(s,d,m,x){const A=Au.modes[d];return"function"==typeof A?A(this,s,m,x):[]}getDatasetMeta(s){const d=this.data.datasets[s],m=this._metasets;let x=m.filter(A=>A&&A._dataset===d).pop();return x||(x={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:d&&d.order||0,index:s,_dataset:d,_parsed:[],_sorted:!1},m.push(x)),x}getContext(){return this.$context||(this.$context=Lo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(s){const d=this.data.datasets[s];if(!d)return!1;const m=this.getDatasetMeta(s);return"boolean"==typeof m.hidden?!m.hidden:!d.hidden}setDatasetVisibility(s,d){this.getDatasetMeta(s).hidden=!d}toggleDataVisibility(s){this._hiddenIndices[s]=!this._hiddenIndices[s]}getDataVisibility(s){return!this._hiddenIndices[s]}_updateVisibility(s,d,m){const x=m?"show":"hide",A=this.getDatasetMeta(s),P=A.controller._resolveAnimations(void 0,x);sn(d)?(A.data[d].hidden=!m,this.update()):(this.setDatasetVisibility(s,m),P.update(A,{visible:m}),this.update(U=>U.datasetIndex===s?x:void 0))}hide(s,d){this._updateVisibility(s,d,!1)}show(s,d){this._updateVisibility(s,d,!0)}_destroyDatasetMeta(s){const d=this._metasets[s];d&&d.controller&&d.controller._destroy(),delete this._metasets[s]}_stop(){let s,d;for(this.stop(),Uo.remove(this),s=0,d=this.data.datasets.length;s<d;++s)this._destroyDatasetMeta(s)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:s,ctx:d}=this;this._stop(),this.config.clearCache(),s&&(this.unbindEvents(),Eo(s,d),this.platform.releaseContext(d),this.canvas=null,this.ctx=null),delete ud[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...s){return this.canvas.toDataURL(...s)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const s=this._listeners,d=this.platform,m=(A,P)=>{d.addEventListener(this,A,P),s[A]=P},x=(A,P,U)=>{A.offsetX=P,A.offsetY=U,this._eventHandler(A)};zt(this.options.events,A=>m(A,x))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const s=this._responsiveListeners,d=this.platform,m=($,se)=>{d.addEventListener(this,$,se),s[$]=se},x=($,se)=>{s[$]&&(d.removeEventListener(this,$,se),delete s[$])},A=($,se)=>{this.canvas&&this.resize($,se)};let P;const U=()=>{x("attach",U),this.attached=!0,this.resize(),m("resize",A),m("detach",P)};P=()=>{this.attached=!1,x("resize",A),this._stop(),this._resize(0,0),m("attach",U)},d.isAttached(this.canvas)?U():P()}unbindEvents(){zt(this._listeners,(s,d)=>{this.platform.removeEventListener(this,d,s)}),this._listeners={},zt(this._responsiveListeners,(s,d)=>{this.platform.removeEventListener(this,d,s)}),this._responsiveListeners=void 0}updateHoverStyle(s,d,m){const x=m?"set":"remove";let A,P,U,$;for("dataset"===d&&(A=this.getDatasetMeta(s[0].datasetIndex),A.controller["_"+x+"DatasetHoverStyle"]()),U=0,$=s.length;U<$;++U){P=s[U];const se=P&&this.getDatasetMeta(P.datasetIndex).controller;se&&se[x+"HoverStyle"](P.element,P.datasetIndex,P.index)}}getActiveElements(){return this._active||[]}setActiveElements(s){const d=this._active||[],m=s.map(({datasetIndex:A,index:P})=>{const U=this.getDatasetMeta(A);if(!U)throw new Error("No dataset found at index "+A);return{datasetIndex:A,element:U.data[P],index:P}});!Lt(m,d)&&(this._active=m,this._lastEvent=null,this._updateHoverStyles(m,d))}notifyPlugins(s,d,m){return this._plugins.notify(this,s,d,m)}isPluginEnabled(s){return 1===this._plugins._cache.filter(d=>d.plugin.id===s).length}_updateHoverStyles(s,d,m){const x=this.options.hover,A=($,se)=>$.filter(ze=>!se.some(_t=>ze.datasetIndex===_t.datasetIndex&&ze.index===_t.index)),P=A(d,s),U=m?s:A(s,d);P.length&&this.updateHoverStyle(P,x.mode,!1),U.length&&x.mode&&this.updateHoverStyle(U,x.mode,!0)}_eventHandler(s,d){const m={event:s,replay:d,cancelable:!0,inChartArea:this.isPointInArea(s)},x=P=>(P.options.events||this.options.events).includes(s.native.type);if(!1===this.notifyPlugins("beforeEvent",m,x))return;const A=this._handleEvent(s,d,m.inChartArea);return m.cancelable=!1,this.notifyPlugins("afterEvent",m,x),(A||m.changed)&&this.render(),this}_handleEvent(s,d,m){const{_active:x=[],options:A}=this,U=this._getActiveElements(s,x,m,d),$=function wt(h){return"mouseup"===h.type||"click"===h.type||"contextmenu"===h.type}(s),se=function Ch(h,s,d,m){return d&&"mouseout"!==h.type?m?s:h:null}(s,this._lastEvent,m,$);m&&(this._lastEvent=null,ot(A.onHover,[s,U,this],this),$&&ot(A.onClick,[s,U,this],this));const ze=!Lt(U,x);return(ze||d)&&(this._active=U,this._updateHoverStyles(U,x,d)),this._lastEvent=se,ze}_getActiveElements(s,d,m,x){if("mouseout"===s.type)return[];if(!m)return d;const A=this.options.hover;return this.getElementsAtEventForMode(s,A.mode,A,x)}}function Cc(){return zt(zc.instances,h=>h._plugins.invalidate())}function dd(h,s,d,m){return{x:d+h*Math.cos(s),y:m+h*Math.sin(s)}}function Pc(h,s,d,m,x,A){const{x:P,y:U,startAngle:$,pixelMargin:se,innerRadius:ze}=s,_t=Math.max(s.outerRadius+m+d-se,0),Ot=ze>0?ze+m+d+se:0;let Qt=0;const Sn=x-$;if(m){const Oa=((ze>0?ze-m:0)+(_t>0?_t-m:0))/2;Qt=(Sn-(0!==Oa?Sn*Oa/(Oa+m):Sn))/2}const Vn=(Sn-Math.max(.001,Sn*_t-d/Ie)/_t)/2,ri=$+Vn+Qt,hi=x-Vn-Qt,{outerStart:Mi,outerEnd:oi,innerStart:Ci,innerEnd:ir}=function qu(h,s,d,m){const x=function Lf(h){return To(h,["outerStart","outerEnd","innerStart","innerEnd"])}(h.options.borderRadius),A=(d-s)/2,P=Math.min(A,m*s/2),U=$=>{const se=(d-Math.min(A,$))*m/2;return Ft($,0,Math.min(A,se))};return{outerStart:U(x.outerStart),outerEnd:U(x.outerEnd),innerStart:Ft(x.innerStart,0,P),innerEnd:Ft(x.innerEnd,0,P)}}(s,Ot,_t,hi-ri),er=_t-Mi,fr=_t-oi,ts=ri+Mi/er,Qs=hi-oi/fr,Xs=Ot+Ci,jo=Ot+ir,pc=ri+Ci/Xs,Du=hi-ir/jo;if(h.beginPath(),A){const Zr=(ts+Qs)/2;if(h.arc(P,U,_t,ts,Zr),h.arc(P,U,_t,Zr,Qs),oi>0){const mc=dd(fr,Qs,P,U);h.arc(mc.x,mc.y,oi,Qs,hi+Te)}const ya=dd(jo,hi,P,U);if(h.lineTo(ya.x,ya.y),ir>0){const mc=dd(jo,Du,P,U);h.arc(mc.x,mc.y,ir,hi+Te,Du+Math.PI)}const Oa=(hi-ir/Ot+(ri+Ci/Ot))/2;if(h.arc(P,U,Ot,hi-ir/Ot,Oa,!0),h.arc(P,U,Ot,Oa,ri+Ci/Ot,!0),Ci>0){const mc=dd(Xs,pc,P,U);h.arc(mc.x,mc.y,Ci,pc+Math.PI,ri-Te)}const nu=dd(er,ri,P,U);if(h.lineTo(nu.x,nu.y),Mi>0){const mc=dd(er,ts,P,U);h.arc(mc.x,mc.y,Mi,ri-Te,ts)}}else{h.moveTo(P,U);const Zr=Math.cos(ts)*_t+P,ya=Math.sin(ts)*_t+U;h.lineTo(Zr,ya);const Oa=Math.cos(Qs)*_t+P,nu=Math.sin(Qs)*_t+U;h.lineTo(Oa,nu)}h.closePath()}Lr(zc,"defaults",Rr),Lr(zc,"instances",ud),Lr(zc,"overrides",Ws),Lr(zc,"registry",ec),Lr(zc,"version","4.1.2"),Lr(zc,"getChart",Rd);class Nd extends ml{constructor(s){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,d,m){const x=this.getProps(["x","y"],m),{angle:A,distance:P}=rn(x,{x:s,y:d}),{startAngle:U,endAngle:$,innerRadius:se,outerRadius:ze,circumference:_t}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],m),Ot=this.options.spacing/2,Sn=lt(_t,$-U)>=pe||mt(A,U,$),Mn=Wt(P,se+Ot,ze+Ot);return Sn&&Mn}getCenterPoint(s){const{x:d,y:m,startAngle:x,endAngle:A,innerRadius:P,outerRadius:U}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],s),{offset:$,spacing:se}=this.options,ze=(x+A)/2,_t=(P+U+se+$)/2;return{x:d+Math.cos(ze)*_t,y:m+Math.sin(ze)*_t}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:d,circumference:m}=this,x=(d.offset||0)/4,A=(d.spacing||0)/2,P=d.circular;if(this.pixelMargin="inner"===d.borderAlign?.33:0,this.fullCircles=m>pe?Math.floor(m/pe):0,0===m||this.innerRadius<0||this.outerRadius<0)return;s.save();const U=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(U)*x,Math.sin(U)*x);const se=x*(1-Math.sin(Math.min(Ie,m||0)));s.fillStyle=d.backgroundColor,s.strokeStyle=d.borderColor,function Tc(h,s,d,m,x){const{fullCircles:A,startAngle:P,circumference:U}=s;let $=s.endAngle;if(A){Pc(h,s,d,m,$,x);for(let se=0;se<A;++se)h.fill();isNaN(U)||($=P+(U%pe||pe))}Pc(h,s,d,m,$,x),h.fill()}(s,this,se,A,P),function Fd(h,s,d,m,x){const{fullCircles:A,startAngle:P,circumference:U,options:$}=s,{borderWidth:se,borderJoinStyle:ze}=$,_t="inner"===$.borderAlign;if(!se)return;_t?(h.lineWidth=2*se,h.lineJoin=ze||"round"):(h.lineWidth=se,h.lineJoin=ze||"bevel");let Ot=s.endAngle;if(A){Pc(h,s,d,m,Ot,x);for(let Qt=0;Qt<A;++Qt)h.stroke();isNaN(U)||(Ot=P+(U%pe||pe))}_t&&function mp(h,s,d){const{startAngle:m,pixelMargin:x,x:A,y:P,outerRadius:U,innerRadius:$}=s;let se=x/U;h.beginPath(),h.arc(A,P,U,m-se,d+se),$>x?(se=x/$,h.arc(A,P,$,d+se,m-se,!0)):h.arc(A,P,x,d+Te,m-Te),h.closePath(),h.clip()}(h,s,Ot),A||(Pc(h,s,d,m,Ot,x),h.stroke())}(s,this,se,A,P),s.restore()}}function gl(h,s,d=s){h.lineCap=lt(d.borderCapStyle,s.borderCapStyle),h.setLineDash(lt(d.borderDash,s.borderDash)),h.lineDashOffset=lt(d.borderDashOffset,s.borderDashOffset),h.lineJoin=lt(d.borderJoinStyle,s.borderJoinStyle),h.lineWidth=lt(d.borderWidth,s.borderWidth),h.strokeStyle=lt(d.borderColor,s.borderColor)}function Zp(h,s,d){h.lineTo(d.x,d.y)}function tc(h,s,d={}){const m=h.length,{start:x=0,end:A=m-1}=d,{start:P,end:U}=s,$=Math.max(x,P),se=Math.min(A,U);return{count:m,start:$,loop:s.loop,ilen:se<$&&!(x<P&&A<P||x>U&&A>U)?m+se-$:se-$}}function Rf(h,s,d,m){const{points:x,options:A}=s,{count:P,start:U,loop:$,ilen:se}=tc(x,d,m),ze=function Jh(h){return h.stepped?tl:h.tension||"monotone"===h.cubicInterpolationMode?Fa:Zp}(A);let Qt,Sn,Mn,{move:_t=!0,reverse:Ot}=m||{};for(Qt=0;Qt<=se;++Qt)Sn=x[(U+(Ot?se-Qt:Qt))%P],!Sn.skip&&(_t?(h.moveTo(Sn.x,Sn.y),_t=!1):ze(h,Mn,Sn,Ot,A.stepped),Mn=Sn);return $&&(Sn=x[(U+(Ot?se:0))%P],ze(h,Mn,Sn,Ot,A.stepped)),!!$}function gp(h,s,d,m){const x=s.points,{count:A,start:P,ilen:U}=tc(x,d,m),{move:$=!0,reverse:se}=m||{};let Ot,Qt,Sn,Mn,Vn,ri,ze=0,_t=0;const hi=oi=>(P+(se?U-oi:oi))%A,Mi=()=>{Mn!==Vn&&(h.lineTo(ze,Vn),h.lineTo(ze,Mn),h.lineTo(ze,ri))};for($&&(Qt=x[hi(0)],h.moveTo(Qt.x,Qt.y)),Ot=0;Ot<=U;++Ot){if(Qt=x[hi(Ot)],Qt.skip)continue;const oi=Qt.x,Ci=Qt.y,ir=0|oi;ir===Sn?(Ci<Mn?Mn=Ci:Ci>Vn&&(Vn=Ci),ze=(_t*ze+oi)/++_t):(Mi(),h.lineTo(oi,Ci),Sn=ir,_t=0,Mn=Vn=Ci),ri=Ci}Mi()}function gu(h){const s=h.options;return h._decimated||h._loop||s.tension||"monotone"===s.cubicInterpolationMode||s.stepped||s.borderDash&&s.borderDash.length?Rf:gp}Lr(Nd,"id","arc"),Lr(Nd,"defaults",{borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Lr(Nd,"defaultRoutes",{backgroundColor:"backgroundColor"});const ef="function"==typeof Path2D;class Xu extends ml{constructor(s){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,s&&Object.assign(this,s)}updateControlPoints(s,d){const m=this.options;!m.tension&&"monotone"!==m.cubicInterpolationMode||m.stepped||this._pointsUpdated||(ds(this._points,m,s,m.spanGaps?this._loop:this._fullLoop,d),this._pointsUpdated=!0)}set points(s){this._points=s,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function qr(h,s){const d=h.points,m=h.options.spanGaps,x=d.length;if(!x)return[];const A=!!h._loop,{start:P,end:U}=function ki(h,s,d,m){let x=0,A=s-1;if(d&&!m)for(;x<s&&!h[x].skip;)x++;for(;x<s&&h[x].skip;)x++;for(x%=s,d&&(A+=x);A>x&&h[A%s].skip;)A--;return A%=s,{start:x,end:A}}(d,x,A,m);return function Pr(h,s,d,m){return m&&m.setContext&&d?function vo(h,s,d,m){const x=h._chart.getContext(),A=hs(h.options),{_datasetIndex:P,options:{spanGaps:U}}=h,$=d.length,se=[];let ze=A,_t=s[0].start,Ot=_t;function Qt(Sn,Mn,Vn,ri){const hi=U?-1:1;if(Sn!==Mn){for(Sn+=$;d[Sn%$].skip;)Sn-=hi;for(;d[Mn%$].skip;)Mn+=hi;Sn%$!=Mn%$&&(se.push({start:Sn%$,end:Mn%$,loop:Vn,style:ri}),ze=ri,_t=Mn%$)}}for(const Sn of s){_t=U?_t:Sn.start;let Vn,Mn=d[_t%$];for(Ot=_t+1;Ot<=Sn.end;Ot++){const ri=d[Ot%$];Vn=hs(m.setContext(Lo(x,{type:"segment",p0:Mn,p1:ri,p0DataIndex:(Ot-1)%$,p1DataIndex:Ot%$,datasetIndex:P}))),Cs(Vn,ze)&&Qt(_t,Ot-1,Sn.loop,ze),Mn=ri,ze=Vn}_t<Ot-1&&Qt(_t,Ot-1,Sn.loop,ze)}return se}(h,s,d,m):s}(h,!0===m?[{start:P,end:U,loop:A}]:function Wr(h,s,d,m){const x=h.length,A=[];let $,P=s,U=h[s];for($=s+1;$<=d;++$){const se=h[$%x];se.skip||se.stop?U.skip||(A.push({start:s%x,end:($-1)%x,loop:m=!1}),s=P=se.stop?$:null):(P=$,U.skip&&(s=$)),U=se}return null!==P&&A.push({start:s%x,end:P%x,loop:m}),A}(d,P,U<P?U+x:U,!!h._fullLoop&&0===P&&U===x-1),d,s)}(this,this.options.segment))}first(){const s=this.segments;return s.length&&this.points[s[0].start]}last(){const s=this.segments,m=s.length;return m&&this.points[s[m-1].end]}interpolate(s,d){const m=this.options,x=s[d],A=this.points,P=Ji(this,{property:d,start:x,end:x});if(!P.length)return;const U=[],$=function kl(h){return h.stepped?il:h.tension||"monotone"===h.cubicInterpolationMode?co:xr}(m);let se,ze;for(se=0,ze=P.length;se<ze;++se){const{start:_t,end:Ot}=P[se],Qt=A[_t],Sn=A[Ot];if(Qt===Sn){U.push(Qt);continue}const Vn=$(Qt,Sn,Math.abs((x-Qt[d])/(Sn[d]-Qt[d])),m.stepped);Vn[d]=s[d],U.push(Vn)}return 1===U.length?U[0]:U}pathSegment(s,d,m){return gu(this)(s,this,d,m)}path(s,d,m){const x=this.segments,A=gu(this);let P=this._loop;d=d||0,m=m||this.points.length-d;for(const U of x)P&=A(s,this,U,{start:d,end:d+m-1});return!!P}draw(s,d,m,x){(this.points||[]).length&&(this.options||{}).borderWidth&&(s.save(),function ah(h,s,d,m){ef&&!s.options.segment?function Qu(h,s,d,m){let x=s._path;x||(x=s._path=new Path2D,s.path(x,d,m)&&x.closePath()),gl(h,s.options),h.stroke(x)}(h,s,d,m):function jc(h,s,d,m){const{segments:x,options:A}=s,P=gu(s);for(const U of x)gl(h,A,U.style),h.beginPath(),P(h,s,U,{start:d,end:d+m-1})&&h.closePath(),h.stroke()}(h,s,d,m)}(s,this,m,x),s.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function hd(h,s,d,m){const x=h.options,{[d]:A}=h.getProps([d],m);return Math.abs(s-A)<x.radius+x.hitRadius}Lr(Xu,"id","line"),Lr(Xu,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Lr(Xu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Lr(Xu,"descriptors",{_scriptable:!0,_indexable:s=>"borderDash"!==s&&"fill"!==s});class Gc extends ml{constructor(s){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,d,m){const x=this.options,{x:A,y:P}=this.getProps(["x","y"],m);return Math.pow(s-A,2)+Math.pow(d-P,2)<Math.pow(x.hitRadius+x.radius,2)}inXRange(s,d){return hd(this,s,"x",d)}inYRange(s,d){return hd(this,s,"y",d)}getCenterPoint(s){const{x:d,y:m}=this.getProps(["x","y"],s);return{x:d,y:m}}size(s){let d=(s=s||this.options||{}).radius||0;return d=Math.max(d,d&&s.hoverRadius||0),2*(d+(d&&s.borderWidth||0))}draw(s,d){const m=this.options;this.skip||m.radius<.1||!mo(this,d,this.size(m)/2)||(s.strokeStyle=m.borderColor,s.lineWidth=m.borderWidth,s.fillStyle=m.backgroundColor,Aa(s,m,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}function fd(h,s){const{x:d,y:m,base:x,width:A,height:P}=h.getProps(["x","y","base","width","height"],s);let U,$,se,ze,_t;return h.horizontal?(_t=P/2,U=Math.min(d,x),$=Math.max(d,x),se=m-_t,ze=m+_t):(_t=A/2,U=d-_t,$=d+_t,se=Math.min(m,x),ze=Math.max(m,x)),{left:U,top:se,right:$,bottom:ze}}function ku(h,s,d,m){return h?0:Ft(s,d,m)}function Bd(h,s,d,m){const x=null===s,A=null===d,U=h&&!(x&&A)&&fd(h,m);return U&&(x||Wt(s,U.left,U.right))&&(A||Wt(d,U.top,U.bottom))}function _u(h,s){h.rect(s.x,s.y,s.w,s.h)}function nf(h,s,d={}){const m=h.x!==d.x?-s:0,x=h.y!==d.y?-s:0;return{x:h.x+m,y:h.y+x,w:h.w+((h.x+h.w!==d.x+d.w?s:0)-m),h:h.h+((h.y+h.h!==d.y+d.h?s:0)-x),radius:h.radius}}Lr(Gc,"id","point"),Lr(Gc,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Lr(Gc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class Iu extends ml{constructor(s){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,s&&Object.assign(this,s)}draw(s){const{inflateAmount:d,options:{borderColor:m,backgroundColor:x}}=this,{inner:A,outer:P}=function Xc(h){const s=fd(h),d=s.right-s.left,m=s.bottom-s.top,x=function Dc(h,s,d){const x=h.borderSkipped,A=dl(h.options.borderWidth);return{t:ku(x.top,A.top,0,d),r:ku(x.right,A.right,0,s),b:ku(x.bottom,A.bottom,0,d),l:ku(x.left,A.left,0,s)}}(h,d/2,m/2),A=function tf(h,s,d){const{enableBorderRadius:m}=h.getProps(["enableBorderRadius"]),x=h.options.borderRadius,A=Kr(x),P=Math.min(s,d),U=h.borderSkipped,$=m||tn(x);return{topLeft:ku(!$||U.top||U.left,A.topLeft,0,P),topRight:ku(!$||U.top||U.right,A.topRight,0,P),bottomLeft:ku(!$||U.bottom||U.left,A.bottomLeft,0,P),bottomRight:ku(!$||U.bottom||U.right,A.bottomRight,0,P)}}(h,d/2,m/2);return{outer:{x:s.left,y:s.top,w:d,h:m,radius:A},inner:{x:s.left+x.l,y:s.top+x.t,w:d-x.l-x.r,h:m-x.t-x.b,radius:{topLeft:Math.max(0,A.topLeft-Math.max(x.t,x.l)),topRight:Math.max(0,A.topRight-Math.max(x.t,x.r)),bottomLeft:Math.max(0,A.bottomLeft-Math.max(x.b,x.l)),bottomRight:Math.max(0,A.bottomRight-Math.max(x.b,x.r))}}}}(this),U=function Th(h){return h.topLeft||h.topRight||h.bottomLeft||h.bottomRight}(P.radius)?lo:_u;s.save(),(P.w!==A.w||P.h!==A.h)&&(s.beginPath(),U(s,nf(P,d,A)),s.clip(),U(s,nf(A,-d,P)),s.fillStyle=m,s.fill("evenodd")),s.beginPath(),U(s,nf(A,d)),s.fillStyle=x,s.fill(),s.restore()}inRange(s,d,m){return Bd(this,s,d,m)}inXRange(s,d){return Bd(this,s,null,d)}inYRange(s,d){return Bd(this,null,s,d)}getCenterPoint(s){const{x:d,y:m,base:x,horizontal:A}=this.getProps(["x","y","base","horizontal"],s);return{x:A?(d+x)/2:d,y:A?m:(m+x)/2}}getRange(s){return"x"===s?this.width/2:this.height/2}}Lr(Iu,"id","bar"),Lr(Iu,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Lr(Iu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Xa=Object.freeze({__proto__:null,ArcElement:Nd,LineElement:Xu,PointElement:Gc,BarElement:Iu});const Vd=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],pd=Vd.map(h=>h.replace("rgb(","rgba(").replace(")",", 0.5)"));function lh(h){return Vd[h%Vd.length]}function _p(h){return pd[h%pd.length]}function Ju(h){let s;for(s in h)if(h[s].borderColor||h[s].backgroundColor)return!0;return!1}var vu={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(h,s,d){if(!d.enabled)return;const{options:{elements:m},data:{datasets:x}}=h.config;if(!d.forceOverride&&(Ju(x)||m&&Ju(m)))return;const A=function gd(h){let s=0;return(d,m)=>{const x=h.getDatasetMeta(m).controller;x instanceof Pi?s=function md(h,s){return h.backgroundColor=h.data.map(()=>lh(s++)),s}(d,s):x instanceof Al?s=function Dh(h,s){return h.backgroundColor=h.data.map(()=>_p(s++)),s}(d,s):x&&(s=function Ff(h,s){return h.borderColor=lh(s),h.backgroundColor=_p(s),++s}(d,s))}}(h);x.forEach(A)}};function Hd(h){if(h._decimated){const s=h._data;delete h._decimated,delete h._data,Object.defineProperty(h,"data",{value:s})}}function Sh(h){h.data.datasets.forEach(s=>{Hd(s)})}var Il={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(h,s,d)=>{if(!d.enabled)return void Sh(h);const m=h.width;h.data.datasets.forEach((x,A)=>{const{_data:P,indexAxis:U}=x,$=h.getDatasetMeta(A),se=P||x.data;if("y"===Us([U,h.options.indexAxis])||!$.controller.supportsDecimation)return;const ze=h.scales[$.xAxisID];if("linear"!==ze.type&&"time"!==ze.type||h.options.parsing)return;let Sn,{start:_t,count:Ot}=function Pu(h,s){const d=s.length;let x,m=0;const{iScale:A}=h,{min:P,max:U,minDefined:$,maxDefined:se}=A.getUserBounds();return $&&(m=Ft(Yt(s,A.axis,P).lo,0,d-1)),x=se?Ft(Yt(s,A.axis,U).hi+1,m,d)-m:d-m,{start:m,count:x}}($,se);if(Ot<=(d.threshold||4*m))Hd(x);else{switch(Pn(P)&&(x._data=se,delete x.data,Object.defineProperty(x,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(Mn){this._data=Mn}})),d.algorithm){case"lttb":Sn=function Nf(h,s,d,m,x){const A=x.samples||m;if(A>=d)return h.slice(s,s+d);const P=[],U=(d-2)/(A-2);let $=0;const se=s+d-1;let _t,Ot,Qt,Sn,Mn,ze=s;for(P[$++]=h[ze],_t=0;_t<A-2;_t++){let hi,Vn=0,ri=0;const Mi=Math.floor((_t+1)*U)+1+s,oi=Math.min(Math.floor((_t+2)*U)+1,d)+s,Ci=oi-Mi;for(hi=Mi;hi<oi;hi++)Vn+=h[hi].x,ri+=h[hi].y;Vn/=Ci,ri/=Ci;const ir=Math.floor(_t*U)+1+s,er=Math.min(Math.floor((_t+1)*U)+1,d)+s,{x:fr,y:ts}=h[ze];for(Qt=Sn=-1,hi=ir;hi<er;hi++)Sn=.5*Math.abs((fr-Vn)*(h[hi].y-ts)-(fr-h[hi].x)*(ri-ts)),Sn>Qt&&(Qt=Sn,Ot=h[hi],Mn=hi);P[$++]=Ot,ze=Mn}return P[$++]=h[se],P}(se,_t,Ot,m,d);break;case"min-max":Sn=function Ah(h,s,d,m){let P,U,$,se,ze,_t,Ot,Qt,Sn,Mn,x=0,A=0;const Vn=[],hi=h[s].x,oi=h[s+d-1].x-hi;for(P=s;P<s+d;++P){U=h[P],$=(U.x-hi)/oi*m,se=U.y;const Ci=0|$;if(Ci===ze)se<Sn?(Sn=se,_t=P):se>Mn&&(Mn=se,Ot=P),x=(A*x+U.x)/++A;else{const ir=P-1;if(!Pn(_t)&&!Pn(Ot)){const er=Math.min(_t,Ot),fr=Math.max(_t,Ot);er!==Qt&&er!==ir&&Vn.push({...h[er],x}),fr!==Qt&&fr!==ir&&Vn.push({...h[fr],x})}P>0&&ir!==Qt&&Vn.push(h[ir]),Vn.push(U),ze=Ci,A=0,Sn=Mn=se,_t=Ot=Qt=P}}return Vn}(se,_t,Ot,m);break;default:throw new Error(`Unsupported decimation algorithm '${d.algorithm}'`)}x._decimated=Sn}})},destroy(h){Sh(h)}};function ch(h,s,d,m){if(m)return;let x=s[h],A=d[h];return"angle"===h&&(x=pi(x),A=pi(A)),{property:h,start:x,end:A}}function cu(h,s,d){for(;s>h;s--){const m=d[s];if(!isNaN(m.x)&&!isNaN(m.y))break}return s}function Kp(h,s,d,m){return h&&s?m(h[d],s[d]):h?h[d]:s?s[d]:0}function Oc(h,s){let d=[],m=!1;return Nt(h)?(m=!0,d=h):d=function Bf(h,s){const{x:d=null,y:m=null}=h||{},x=s.points,A=[];return s.segments.forEach(({start:P,end:U})=>{U=cu(P,U,x);const $=x[P],se=x[U];null!==m?(A.push({x:$.x,y:m}),A.push({x:se.x,y:m})):null!==d&&(A.push({x:d,y:$.y}),A.push({x:d,y:se.y}))}),A}(h,s),d.length?new Xu({points:d,options:{tension:0},_loop:m,_fullLoop:m}):null}function Eh(h){return h&&!1!==h.fill}function Ud(h,s,d){let x=h[s].fill;const A=[s];let P;if(!d)return x;for(;!1!==x&&-1===A.indexOf(x);){if(!Rt(x))return x;if(P=h[x],!P)return!1;if(P.visible)return x;A.push(x),x=P.fill}return!1}function yu(h,s,d){const m=function hc(h){const s=h.options,d=s.fill;let m=lt(d&&d.target,d);return void 0===m&&(m=!!s.backgroundColor),!1!==m&&null!==m&&(!0===m?"origin":m)}(h);if(tn(m))return!isNaN(m.value)&&m;let x=parseFloat(m);return Rt(x)&&Math.floor(x)===x?function Jc(h,s,d,m){return("-"===h||"+"===h)&&(d=s+d),!(d===s||d<0||d>=m)&&d}(m[0],s,x,d):["origin","start","end","stack","shape"].indexOf(m)>=0&&m}function uh(h,s,d){const m=[];for(let x=0;x<d.length;x++){const A=d[x],{first:P,last:U,point:$}=dh(A,s,"x");if(!(!$||P&&U))if(P)m.unshift($);else if(h.push($),!U)break}h.push(...m)}function dh(h,s,d){const m=h.interpolate(s,d);if(!m)return{};const x=m[d],A=h.segments,P=h.points;let U=!1,$=!1;for(let se=0;se<A.length;se++){const ze=A[se],_t=P[ze.start][d],Ot=P[ze.end][d];if(Wt(x,_t,Ot)){U=x===_t,$=x===Ot;break}}return{first:U,last:$,point:m}}class bu{constructor(s){this.x=s.x,this.y=s.y,this.radius=s.radius}pathSegment(s,d,m){const{x,y:A,radius:P}=this;return s.arc(x,A,P,(d=d||{start:0,end:pe}).end,d.start,!0),!m.bounds}interpolate(s){const{x:d,y:m,radius:x}=this,A=s.angle;return{x:d+Math.cos(A)*x,y:m+Math.sin(A)*x,angle:A}}}function Ih(h,s,d){const m=function ed(h){const{chart:s,fill:d,line:m}=h;if(Rt(d))return function Ou(h,s){const d=h.getDatasetMeta(s);return d&&h.isDatasetVisible(s)?d.dataset:null}(s,d);if("stack"===d)return function vd(h){const{scale:s,index:d,line:m}=h,x=[],A=m.segments,P=m.points,U=function as(h,s){const d=[],m=h.getMatchingVisibleMetas("line");for(let x=0;x<m.length;x++){const A=m[x];if(A.index===s)break;A.hidden||d.unshift(A.dataset)}return d}(s,d);U.push(Oc({x:null,y:s.bottom},m));for(let $=0;$<A.length;$++){const se=A[$];for(let ze=se.start;ze<=se.end;ze++)uh(x,P[ze],U)}return new Xu({points:x,options:{}})}(h);if("shape"===d)return!0;const x=function kh(h){return(h.scale||{}).getPointPositionForValue?function _l(h){const{scale:s,fill:d}=h,m=s.options,x=s.getLabels().length,A=m.reverse?s.max:s.min,P=function _d(h,s,d){let m;return m="start"===h?d:"end"===h?s.options.reverse?s.min:s.max:tn(h)?h.value:s.getBaseValue(),m}(d,s,A),U=[];if(m.grid.circular){const $=s.getPointPositionForValue(0,A);return new bu({x:$.x,y:$.y,radius:s.getDistanceFromCenterForValue(P)})}for(let $=0;$<x;++$)U.push(s.getPointPositionForValue($,P));return U}(h):function eu(h){const{scale:s={},fill:d}=h,m=function Mh(h,s){let d=null;return"start"===h?d=s.bottom:"end"===h?d=s.top:tn(h)?d=s.getPixelForValue(h.value):s.getBasePixel&&(d=s.getBasePixel()),d}(d,s);if(Rt(m)){const x=s.isHorizontal();return{x:x?m:null,y:x?null:m}}return null}(h)}(h);return x instanceof bu?x:Oc(x,m)}(s),{line:x,scale:A,axis:P}=s,U=x.options,$=U.fill,se=U.backgroundColor,{above:ze=se,below:_t=se}=$||{};m&&x.points.length&&(gs(h,d),function rf(h,s){const{line:d,target:m,above:x,below:A,area:P,scale:U}=s,$=d._loop?"angle":s.axis;h.save(),"x"===$&&A!==x&&(ho(h,m,P.top),zd(h,{line:d,target:m,color:x,scale:U,property:$}),h.restore(),h.save(),ho(h,m,P.bottom)),zd(h,{line:d,target:m,color:A,scale:U,property:$}),h.restore()}(h,{line:x,target:m,above:ze,below:_t,area:d,scale:A,axis:P}),Ur(h))}function ho(h,s,d){const{segments:m,points:x}=s;let A=!0,P=!1;h.beginPath();for(const U of m){const{start:$,end:se}=U,ze=x[$],_t=x[cu($,se,x)];A?(h.moveTo(ze.x,ze.y),A=!1):(h.lineTo(ze.x,d),h.lineTo(ze.x,ze.y)),P=!!s.pathSegment(h,U,{move:P}),P?h.closePath():h.lineTo(_t.x,d)}h.lineTo(s.first().x,d),h.closePath(),h.clip()}function zd(h,s){const{line:d,target:m,property:x,color:A,scale:P}=s,U=function uo(h,s,d){const m=h.segments,x=h.points,A=s.points,P=[];for(const U of m){let{start:$,end:se}=U;se=cu($,se,x);const ze=ch(d,x[$],x[se],U.loop);if(!s.segments){P.push({source:U,target:ze,start:x[$],end:x[se]});continue}const _t=Ji(s,ze);for(const Ot of _t){const Qt=ch(d,A[Ot.start],A[Ot.end],Ot.loop),Sn=si(U,x,Qt);for(const Mn of Sn)P.push({source:Mn,target:Ot,start:{[d]:Kp(ze,Qt,"start",Math.max)},end:{[d]:Kp(ze,Qt,"end",Math.min)}})}}return P}(d,m,x);for(const{source:$,target:se,start:ze,end:_t}of U){const{style:{backgroundColor:Ot=A}={}}=$,Qt=!0!==m;h.save(),h.fillStyle=Ot,nc(h,P,Qt&&ch(x,ze,_t)),h.beginPath();const Sn=!!d.pathSegment(h,$);let Mn;if(Qt){Sn?h.closePath():td(h,m,_t,x);const Vn=!!m.pathSegment(h,se,{move:Sn,reverse:!0});Mn=Sn&&Vn,Mn||td(h,m,ze,x)}h.closePath(),h.fill(Mn?"evenodd":"nonzero"),h.restore()}}function nc(h,s,d){const{top:m,bottom:x}=s.chart.chartArea,{property:A,start:P,end:U}=d||{};"x"===A&&(h.beginPath(),h.rect(P,m,U-P,x-m),h.clip())}function td(h,s,d,m){const x=s.interpolate(d,m);x&&h.lineTo(x.x,x.y)}var Vf={id:"filler",afterDatasetsUpdate(h,s,d){const m=(h.data.datasets||[]).length,x=[];let A,P,U,$;for(P=0;P<m;++P)A=h.getDatasetMeta(P),U=A.dataset,$=null,U&&U.options&&U instanceof Xu&&($={visible:h.isDatasetVisible(P),index:P,fill:yu(U,P,m),chart:h,axis:A.controller.options.indexAxis,scale:A.vScale,line:U}),A.$filler=$,x.push($);for(P=0;P<m;++P)$=x[P],$&&!1!==$.fill&&($.fill=Ud(x,P,d.propagate))},beforeDraw(h,s,d){const m="beforeDraw"===d.drawTime,x=h.getSortedVisibleDatasetMetas(),A=h.chartArea;for(let P=x.length-1;P>=0;--P){const U=x[P].$filler;!U||(U.line.updateControlPoints(A,U.axis),m&&U.fill&&Ih(h.ctx,U,A))}},beforeDatasetsDraw(h,s,d){if("beforeDatasetsDraw"!==d.drawTime)return;const m=h.getSortedVisibleDatasetMetas();for(let x=m.length-1;x>=0;--x){const A=m[x].$filler;Eh(A)&&Ih(h.ctx,A,h.chartArea)}},beforeDatasetDraw(h,s,d){const m=s.meta.$filler;!Eh(m)||"beforeDatasetDraw"!==d.drawTime||Ih(h.ctx,m,h.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const yd=(h,s)=>{let{boxHeight:d=s,boxWidth:m=s}=h;return h.usePointStyle&&(d=Math.min(d,s),m=h.pointStyleWidth||Math.min(m,s)),{boxWidth:m,boxHeight:d,itemHeight:Math.max(s,d)}};class bd extends ml{constructor(s){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=s.chart,this.options=s.options,this.ctx=s.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(s,d,m){this.maxWidth=s,this.maxHeight=d,this._margins=m,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const s=this.options.labels||{};let d=ot(s.generateLabels,[this.chart],this)||[];s.filter&&(d=d.filter(m=>s.filter(m,this.chart.data))),s.sort&&(d=d.sort((m,x)=>s.sort(m,x,this.chart.data))),this.options.reverse&&d.reverse(),this.legendItems=d}fit(){const{options:s,ctx:d}=this;if(!s.display)return void(this.width=this.height=0);const m=s.labels,x=Ir(m.font),A=x.size,P=this._computeTitleHeight(),{boxWidth:U,itemHeight:$}=yd(m,A);let se,ze;d.font=x.string,this.isHorizontal()?(se=this.maxWidth,ze=this._fitRows(P,A,U,$)+10):(ze=this.maxHeight,se=this._fitCols(P,x,U,$)+10),this.width=Math.min(se,s.maxWidth||this.maxWidth),this.height=Math.min(ze,s.maxHeight||this.maxHeight)}_fitRows(s,d,m,x){const{ctx:A,maxWidth:P,options:{labels:{padding:U}}}=this,$=this.legendHitBoxes=[],se=this.lineWidths=[0],ze=x+U;let _t=s;A.textAlign="left",A.textBaseline="middle";let Ot=-1,Qt=-ze;return this.legendItems.forEach((Sn,Mn)=>{const Vn=m+d/2+A.measureText(Sn.text).width;(0===Mn||se[se.length-1]+Vn+2*U>P)&&(_t+=ze,se[se.length-(Mn>0?0:1)]=0,Qt+=ze,Ot++),$[Mn]={left:0,top:Qt,row:Ot,width:Vn,height:x},se[se.length-1]+=Vn+U}),_t}_fitCols(s,d,m,x){const{ctx:A,maxHeight:P,options:{labels:{padding:U}}}=this,$=this.legendHitBoxes=[],se=this.columnSizes=[],ze=P-s;let _t=U,Ot=0,Qt=0,Sn=0,Mn=0;return this.legendItems.forEach((Vn,ri)=>{const{itemWidth:hi,itemHeight:Mi}=function Pa(h,s,d,m,x){const A=function jd(h,s,d,m){let x=h.text;return x&&"string"!=typeof x&&(x=x.reduce((A,P)=>A.length>P.length?A:P)),s+d.size/2+m.measureText(x).width}(m,h,s,d),P=function nd(h,s,d){let m=h;return"string"!=typeof s.text&&(m=xd(s,d)),m}(x,m,s.lineHeight);return{itemWidth:A,itemHeight:P}}(m,d,A,Vn,x);ri>0&&Qt+Mi+2*U>ze&&(_t+=Ot+U,se.push({width:Ot,height:Qt}),Sn+=Ot+U,Mn++,Ot=Qt=0),$[ri]={left:Sn,top:Qt,col:Mn,width:hi,height:Mi},Ot=Math.max(Ot,hi),Qt+=Mi+U}),_t+=Ot,se.push({width:Ot,height:Qt}),_t}adjustHitBoxes(){if(!this.options.display)return;const s=this._computeTitleHeight(),{legendHitBoxes:d,options:{align:m,labels:{padding:x},rtl:A}}=this,P=ae(A,this.left,this.width);if(this.isHorizontal()){let U=0,$=$r(m,this.left+x,this.right-this.lineWidths[U]);for(const se of d)U!==se.row&&(U=se.row,$=$r(m,this.left+x,this.right-this.lineWidths[U])),se.top+=this.top+s+x,se.left=P.leftForLtr(P.x($),se.width),$+=se.width+x}else{let U=0,$=$r(m,this.top+s+x,this.bottom-this.columnSizes[U].height);for(const se of d)se.col!==U&&(U=se.col,$=$r(m,this.top+s+x,this.bottom-this.columnSizes[U].height)),se.top=$,se.left+=this.left+x,se.left=P.leftForLtr(P.x(se.left),se.width),$+=se.height+x}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const s=this.ctx;gs(s,this),this._draw(),Ur(s)}}_draw(){const{options:s,columnSizes:d,lineWidths:m,ctx:x}=this,{align:A,labels:P}=s,U=Rr.color,$=ae(s.rtl,this.left,this.width),se=Ir(P.font),{padding:ze}=P,_t=se.size,Ot=_t/2;let Qt;this.drawTitle(),x.textAlign=$.textAlign("left"),x.textBaseline="middle",x.lineWidth=.5,x.font=se.string;const{boxWidth:Sn,boxHeight:Mn,itemHeight:Vn}=yd(P,_t),Mi=this.isHorizontal(),oi=this._computeTitleHeight();Qt=Mi?{x:$r(A,this.left+ze,this.right-m[0]),y:this.top+ze+oi,line:0}:{x:this.left+ze,y:$r(A,this.top+oi+ze,this.bottom-d[0].height),line:0},Xe(this.ctx,s.textDirection);const Ci=Vn+ze;this.legendItems.forEach((ir,er)=>{x.strokeStyle=ir.fontColor,x.fillStyle=ir.fontColor;const fr=x.measureText(ir.text).width,ts=$.textAlign(ir.textAlign||(ir.textAlign=P.textAlign)),Qs=Sn+Ot+fr;let Xs=Qt.x,jo=Qt.y;$.setWidth(this.width),Mi?er>0&&Xs+Qs+ze>this.right&&(jo=Qt.y+=Ci,Qt.line++,Xs=Qt.x=$r(A,this.left+ze,this.right-m[Qt.line])):er>0&&jo+Ci>this.bottom&&(Xs=Qt.x=Xs+d[Qt.line].width+ze,Qt.line++,jo=Qt.y=$r(A,this.top+oi+ze,this.bottom-d[Qt.line].height)),function(ir,er,fr){if(isNaN(Sn)||Sn<=0||isNaN(Mn)||Mn<0)return;x.save();const ts=lt(fr.lineWidth,1);if(x.fillStyle=lt(fr.fillStyle,U),x.lineCap=lt(fr.lineCap,"butt"),x.lineDashOffset=lt(fr.lineDashOffset,0),x.lineJoin=lt(fr.lineJoin,"miter"),x.lineWidth=ts,x.strokeStyle=lt(fr.strokeStyle,U),x.setLineDash(lt(fr.lineDash,[])),P.usePointStyle){const Qs={radius:Mn*Math.SQRT2/2,pointStyle:fr.pointStyle,rotation:fr.rotation,borderWidth:ts},Xs=$.xPlus(ir,Sn/2);Oo(x,Qs,Xs,er+Ot,P.pointStyleWidth&&Sn)}else{const Qs=er+Math.max((_t-Mn)/2,0),Xs=$.leftForLtr(ir,Sn),jo=Kr(fr.borderRadius);x.beginPath(),Object.values(jo).some(pc=>0!==pc)?lo(x,{x:Xs,y:Qs,w:Sn,h:Mn,radius:jo}):x.rect(Xs,Qs,Sn,Mn),x.fill(),0!==ts&&x.stroke()}x.restore()}($.x(Xs),jo,ir),Xs=((h,s,d,m)=>h===(m?"left":"right")?d:"center"===h?(s+d)/2:s)(ts,Xs+Sn+Ot,Mi?Xs+Qs:this.right,s.rtl),function(ir,er,fr){Mo(x,fr.text,ir,er+Vn/2,se,{strikethrough:fr.hidden,textAlign:$.textAlign(fr.textAlign)})}($.x(Xs),jo,ir),Mi?Qt.x+=Qs+ze:Qt.y+="string"!=typeof ir.text?xd(ir,se.lineHeight):Ci}),ve(this.ctx,s.textDirection)}drawTitle(){const s=this.options,d=s.title,m=Ir(d.font),x=us(d.padding);if(!d.display)return;const A=ae(s.rtl,this.left,this.width),P=this.ctx,U=d.position,se=x.top+m.size/2;let ze,_t=this.left,Ot=this.width;if(this.isHorizontal())Ot=Math.max(...this.lineWidths),ze=this.top+se,_t=$r(s.align,_t,this.right-Ot);else{const Sn=this.columnSizes.reduce((Mn,Vn)=>Math.max(Mn,Vn.height),0);ze=se+$r(s.align,this.top,this.bottom-Sn-s.labels.padding-this._computeTitleHeight())}const Qt=$r(U,_t,_t+Ot);P.textAlign=A.textAlign(xs(U)),P.textBaseline="middle",P.strokeStyle=d.color,P.fillStyle=d.color,P.font=m.string,Mo(P,d.text,Qt,ze,m)}_computeTitleHeight(){const s=this.options.title,d=Ir(s.font),m=us(s.padding);return s.display?d.lineHeight+m.height:0}_getLegendItemAt(s,d){let m,x,A;if(Wt(s,this.left,this.right)&&Wt(d,this.top,this.bottom))for(A=this.legendHitBoxes,m=0;m<A.length;++m)if(x=A[m],Wt(s,x.left,x.left+x.width)&&Wt(d,x.top,x.top+x.height))return this.legendItems[m];return null}handleEvent(s){const d=this.options;if(!function wu(h,s){return!(("mousemove"!==h&&"mouseout"!==h||!s.onHover&&!s.onLeave)&&(!s.onClick||"click"!==h&&"mouseup"!==h))}(s.type,d))return;const m=this._getLegendItemAt(s.x,s.y);if("mousemove"===s.type||"mouseout"===s.type){const x=this._hoveredItem,A=((h,s)=>null!==h&&null!==s&&h.datasetIndex===s.datasetIndex&&h.index===s.index)(x,m);x&&!A&&ot(d.onLeave,[s,x,this],this),this._hoveredItem=m,m&&!A&&ot(d.onHover,[s,m,this],this)}else m&&ot(d.onClick,[s,m,this],this)}}function xd(h,s){return s*(h.text?h.text.length+.5:0)}var vp={id:"legend",_element:bd,start(h,s,d){const m=h.legend=new bd({ctx:h.ctx,options:d,chart:h});ea.configure(h,m,d),ea.addBox(h,m)},stop(h){ea.removeBox(h,h.legend),delete h.legend},beforeUpdate(h,s,d){const m=h.legend;ea.configure(h,m,d),m.options=d},afterUpdate(h){const s=h.legend;s.buildLabels(),s.adjustHitBoxes()},afterEvent(h,s){s.replay||h.legend.handleEvent(s.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(h,s,d){const m=s.datasetIndex,x=d.chart;x.isDatasetVisible(m)?(x.hide(m),s.hidden=!0):(x.show(m),s.hidden=!1)},onHover:null,onLeave:null,labels:{color:h=>h.chart.options.color,boxWidth:40,padding:10,generateLabels(h){const s=h.data.datasets,{labels:{usePointStyle:d,pointStyle:m,textAlign:x,color:A,useBorderRadius:P,borderRadius:U}}=h.legend.options;return h._getSortedDatasetMetas().map($=>{const se=$.controller.getStyle(d?0:void 0),ze=us(se.borderWidth);return{text:s[$.index].label,fillStyle:se.backgroundColor,fontColor:A,hidden:!$.visible,lineCap:se.borderCapStyle,lineDash:se.borderDash,lineDashOffset:se.borderDashOffset,lineJoin:se.borderJoinStyle,lineWidth:(ze.width+ze.height)/4,strokeStyle:se.borderColor,pointStyle:m||se.pointStyle,rotation:se.rotation,textAlign:x||se.textAlign,borderRadius:P&&(U||se.borderRadius),datasetIndex:$.index}},this)}},title:{color:h=>h.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:h=>!h.startsWith("on"),labels:{_scriptable:h=>!["generateLabels","filter","sort"].includes(h)}}};class Ph extends ml{constructor(s){super(),this.chart=s.chart,this.options=s.options,this.ctx=s.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(s,d){const m=this.options;if(this.left=0,this.top=0,!m.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=s,this.height=this.bottom=d;const x=Nt(m.text)?m.text.length:1;this._padding=us(m.padding);const A=x*Ir(m.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=A:this.width=A}isHorizontal(){const s=this.options.position;return"top"===s||"bottom"===s}_drawArgs(s){const{top:d,left:m,bottom:x,right:A,options:P}=this,U=P.align;let se,ze,_t,$=0;return this.isHorizontal()?(ze=$r(U,m,A),_t=d+s,se=A-m):("left"===P.position?(ze=m+s,_t=$r(U,x,d),$=-.5*Ie):(ze=A-s,_t=$r(U,d,x),$=.5*Ie),se=x-d),{titleX:ze,titleY:_t,maxWidth:se,rotation:$}}draw(){const s=this.ctx,d=this.options;if(!d.display)return;const m=Ir(d.font),A=m.lineHeight/2+this._padding.top,{titleX:P,titleY:U,maxWidth:$,rotation:se}=this._drawArgs(A);Mo(s,d.text,0,0,m,{color:d.color,maxWidth:$,rotation:se,textAlign:xs(d.align),textBaseline:"middle",translation:[P,U]})}}var z={id:"title",_element:Ph,start(h,s,d){!function Gd(h,s){const d=new Ph({ctx:h.ctx,options:s,chart:h});ea.configure(h,d,s),ea.addBox(h,d),h.titleBlock=d}(h,d)},stop(h){ea.removeBox(h,h.titleBlock),delete h.titleBlock},beforeUpdate(h,s,d){const m=h.titleBlock;ea.configure(h,m,d),m.options=d},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const E=new WeakMap;var k={id:"subtitle",start(h,s,d){const m=new Ph({ctx:h.ctx,options:d,chart:h});ea.configure(h,m,d),ea.addBox(h,m),E.set(h,m)},stop(h){ea.removeBox(h,E.get(h)),E.delete(h)},beforeUpdate(h,s,d){const m=E.get(h);ea.configure(h,m,d),m.options=d},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Z={average(h){if(!h.length)return!1;let s,d,m=0,x=0,A=0;for(s=0,d=h.length;s<d;++s){const P=h[s].element;if(P&&P.hasValue()){const U=P.tooltipPosition();m+=U.x,x+=U.y,++A}}return{x:m/A,y:x/A}},nearest(h,s){if(!h.length)return!1;let A,P,U,d=s.x,m=s.y,x=Number.POSITIVE_INFINITY;for(A=0,P=h.length;A<P;++A){const $=h[A].element;if($&&$.hasValue()){const ze=Hn(s,$.getCenterPoint());ze<x&&(x=ze,U=$)}}if(U){const $=U.tooltipPosition();d=$.x,m=$.y}return{x:d,y:m}}};function Qe(h,s){return s&&(Nt(s)?Array.prototype.push.apply(h,s):h.push(s)),h}function kt(h){return("string"==typeof h||h instanceof String)&&h.indexOf("\n")>-1?h.split("\n"):h}function Bn(h,s){const{element:d,datasetIndex:m,index:x}=s,A=h.getDatasetMeta(m).controller,{label:P,value:U}=A.getLabelAndValue(x);return{chart:h,label:P,parsed:A.getParsed(x),raw:h.data.datasets[m].data[x],formattedValue:U,dataset:A.getDataset(),dataIndex:x,datasetIndex:m,element:d}}function fi(h,s){const d=h.chart.ctx,{body:m,footer:x,title:A}=h,{boxWidth:P,boxHeight:U}=s,$=Ir(s.bodyFont),se=Ir(s.titleFont),ze=Ir(s.footerFont),_t=A.length,Ot=x.length,Qt=m.length,Sn=us(s.padding);let Mn=Sn.height,Vn=0,ri=m.reduce((oi,Ci)=>oi+Ci.before.length+Ci.lines.length+Ci.after.length,0);ri+=h.beforeBody.length+h.afterBody.length,_t&&(Mn+=_t*se.lineHeight+(_t-1)*s.titleSpacing+s.titleMarginBottom),ri&&(Mn+=Qt*(s.displayColors?Math.max(U,$.lineHeight):$.lineHeight)+(ri-Qt)*$.lineHeight+(ri-1)*s.bodySpacing),Ot&&(Mn+=s.footerMarginTop+Ot*ze.lineHeight+(Ot-1)*s.footerSpacing);let hi=0;const Mi=function(oi){Vn=Math.max(Vn,d.measureText(oi).width+hi)};return d.save(),d.font=se.string,zt(h.title,Mi),d.font=$.string,zt(h.beforeBody.concat(h.afterBody),Mi),hi=s.displayColors?P+2+s.boxPadding:0,zt(m,oi=>{zt(oi.before,Mi),zt(oi.lines,Mi),zt(oi.after,Mi)}),hi=0,d.font=ze.string,zt(h.footer,Mi),d.restore(),Vn+=Sn.width,{width:Vn,height:Mn}}function zr(h,s,d,m){const{x,width:A}=d,{width:P,chartArea:{left:U,right:$}}=h;let se="center";return"center"===m?se=x<=(U+$)/2?"left":"right":x<=A/2?se="left":x>=P-A/2&&(se="right"),function pr(h,s,d,m){const{x,width:A}=m,P=d.caretSize+d.caretPadding;if("left"===h&&x+A+P>s.width||"right"===h&&x-A-P<0)return!0}(se,h,s,d)&&(se="center"),se}function Or(h,s,d){const m=d.yAlign||s.yAlign||function Ki(h,s){const{y:d,height:m}=s;return d<m/2?"top":d>h.height-m/2?"bottom":"center"}(h,d);return{xAlign:d.xAlign||s.xAlign||zr(h,s,d,m),yAlign:m}}function fc(h,s,d,m){const{caretSize:x,caretPadding:A,cornerRadius:P}=h,{xAlign:U,yAlign:$}=d,se=x+A,{topLeft:ze,topRight:_t,bottomLeft:Ot,bottomRight:Qt}=Kr(P);let Sn=function vl(h,s){let{x:d,width:m}=h;return"right"===s?d-=m:"center"===s&&(d-=m/2),d}(s,U);const Mn=function Ul(h,s,d){let{y:m,height:x}=h;return"top"===s?m+=d:m-="bottom"===s?x+d:x/2,m}(s,$,se);return"center"===$?"left"===U?Sn+=se:"right"===U&&(Sn-=se):"left"===U?Sn-=Math.max(ze,Ot)+x:"right"===U&&(Sn+=Math.max(_t,Qt)+x),{x:Ft(Sn,0,m.width-s.width),y:Ft(Mn,0,m.height-s.height)}}function $d(h,s,d){const m=us(d.padding);return"center"===s?h.x+h.width/2:"right"===s?h.x+h.width-m.right:h.x+m.left}function id(h){return Qe([],kt(h))}function Oh(h,s){const d=s&&s.dataset&&s.dataset.tooltip&&s.dataset.tooltip.callbacks;return d?h.override(d):h}const Lh={beforeTitle:yn,title(h){if(h.length>0){const s=h[0],d=s.chart.data.labels,m=d?d.length:0;if(this&&this.options&&"dataset"===this.options.mode)return s.dataset.label||"";if(s.label)return s.label;if(m>0&&s.dataIndex<m)return d[s.dataIndex]}return""},afterTitle:yn,beforeBody:yn,beforeLabel:yn,label(h){if(this&&this.options&&"dataset"===this.options.mode)return h.label+": "+h.formattedValue||h.formattedValue;let s=h.dataset.label||"";s&&(s+=": ");const d=h.formattedValue;return Pn(d)||(s+=d),s},labelColor(h){const d=h.chart.getDatasetMeta(h.datasetIndex).controller.getStyle(h.dataIndex);return{borderColor:d.borderColor,backgroundColor:d.backgroundColor,borderWidth:d.borderWidth,borderDash:d.borderDash,borderDashOffset:d.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(h){const d=h.chart.getDatasetMeta(h.datasetIndex).controller.getStyle(h.dataIndex);return{pointStyle:d.pointStyle,rotation:d.rotation}},afterLabel:yn,afterBody:yn,beforeFooter:yn,footer:yn,afterFooter:yn};function Ko(h,s,d,m){const x=h[s].call(d,m);return typeof x>"u"?Lh[s].call(d,m):x}class Pl extends ml{constructor(s){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=s.chart,this.options=s.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(s){this.options=s,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const s=this._cachedAnimations;if(s)return s;const d=this.chart,m=this.options.setContext(this.getContext()),x=m.enabled&&d.options.animation&&m.animations,A=new qi(this.chart,x);return x._cacheable&&(this._cachedAnimations=Object.freeze(A)),A}getContext(){return this.$context||(this.$context=function Wd(h,s,d){return Lo(h,{tooltip:s,tooltipItems:d,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(s,d){const{callbacks:m}=d,x=Ko(m,"beforeTitle",this,s),A=Ko(m,"title",this,s),P=Ko(m,"afterTitle",this,s);let U=[];return U=Qe(U,kt(x)),U=Qe(U,kt(A)),U=Qe(U,kt(P)),U}getBeforeBody(s,d){return id(Ko(d.callbacks,"beforeBody",this,s))}getBody(s,d){const{callbacks:m}=d,x=[];return zt(s,A=>{const P={before:[],lines:[],after:[]},U=Oh(m,A);Qe(P.before,kt(Ko(U,"beforeLabel",this,A))),Qe(P.lines,Ko(U,"label",this,A)),Qe(P.after,kt(Ko(U,"afterLabel",this,A))),x.push(P)}),x}getAfterBody(s,d){return id(Ko(d.callbacks,"afterBody",this,s))}getFooter(s,d){const{callbacks:m}=d,x=Ko(m,"beforeFooter",this,s),A=Ko(m,"footer",this,s),P=Ko(m,"afterFooter",this,s);let U=[];return U=Qe(U,kt(x)),U=Qe(U,kt(A)),U=Qe(U,kt(P)),U}_createItems(s){const d=this._active,m=this.chart.data,x=[],A=[],P=[];let $,se,U=[];for($=0,se=d.length;$<se;++$)U.push(Bn(this.chart,d[$]));return s.filter&&(U=U.filter((ze,_t,Ot)=>s.filter(ze,_t,Ot,m))),s.itemSort&&(U=U.sort((ze,_t)=>s.itemSort(ze,_t,m))),zt(U,ze=>{const _t=Oh(s.callbacks,ze);x.push(Ko(_t,"labelColor",this,ze)),A.push(Ko(_t,"labelPointStyle",this,ze)),P.push(Ko(_t,"labelTextColor",this,ze))}),this.labelColors=x,this.labelPointStyles=A,this.labelTextColors=P,this.dataPoints=U,U}update(s,d){const m=this.options.setContext(this.getContext()),x=this._active;let A,P=[];if(x.length){const U=Z[m.position].call(this,x,this._eventPosition);P=this._createItems(m),this.title=this.getTitle(P,m),this.beforeBody=this.getBeforeBody(P,m),this.body=this.getBody(P,m),this.afterBody=this.getAfterBody(P,m),this.footer=this.getFooter(P,m);const $=this._size=fi(this,m),se=Object.assign({},U,$),ze=Or(this.chart,m,se),_t=fc(m,se,ze,this.chart);this.xAlign=ze.xAlign,this.yAlign=ze.yAlign,A={opacity:1,x:_t.x,y:_t.y,width:$.width,height:$.height,caretX:U.x,caretY:U.y}}else 0!==this.opacity&&(A={opacity:0});this._tooltipItems=P,this.$context=void 0,A&&this._resolveAnimations().update(this,A),s&&m.external&&m.external.call(this,{chart:this.chart,tooltip:this,replay:d})}drawCaret(s,d,m,x){const A=this.getCaretPosition(s,m,x);d.lineTo(A.x1,A.y1),d.lineTo(A.x2,A.y2),d.lineTo(A.x3,A.y3)}getCaretPosition(s,d,m){const{xAlign:x,yAlign:A}=this,{caretSize:P,cornerRadius:U}=m,{topLeft:$,topRight:se,bottomLeft:ze,bottomRight:_t}=Kr(U),{x:Ot,y:Qt}=s,{width:Sn,height:Mn}=d;let Vn,ri,hi,Mi,oi,Ci;return"center"===A?(oi=Qt+Mn/2,"left"===x?(Vn=Ot,ri=Vn-P,Mi=oi+P,Ci=oi-P):(Vn=Ot+Sn,ri=Vn+P,Mi=oi-P,Ci=oi+P),hi=Vn):(ri="left"===x?Ot+Math.max($,ze)+P:"right"===x?Ot+Sn-Math.max(se,_t)-P:this.caretX,"top"===A?(Mi=Qt,oi=Mi-P,Vn=ri-P,hi=ri+P):(Mi=Qt+Mn,oi=Mi+P,Vn=ri+P,hi=ri-P),Ci=Mi),{x1:Vn,x2:ri,x3:hi,y1:Mi,y2:oi,y3:Ci}}drawTitle(s,d,m){const x=this.title,A=x.length;let P,U,$;if(A){const se=ae(m.rtl,this.x,this.width);for(s.x=$d(this,m.titleAlign,m),d.textAlign=se.textAlign(m.titleAlign),d.textBaseline="middle",P=Ir(m.titleFont),U=m.titleSpacing,d.fillStyle=m.titleColor,d.font=P.string,$=0;$<A;++$)d.fillText(x[$],se.x(s.x),s.y+P.lineHeight/2),s.y+=P.lineHeight+U,$+1===A&&(s.y+=m.titleMarginBottom-U)}}_drawColorBox(s,d,m,x,A){const P=this.labelColors[m],U=this.labelPointStyles[m],{boxHeight:$,boxWidth:se,boxPadding:ze}=A,_t=Ir(A.bodyFont),Ot=$d(this,"left",A),Qt=x.x(Ot),Mn=d.y+($<_t.lineHeight?(_t.lineHeight-$)/2:0);if(A.usePointStyle){const Vn={radius:Math.min(se,$)/2,pointStyle:U.pointStyle,rotation:U.rotation,borderWidth:1},ri=x.leftForLtr(Qt,se)+se/2,hi=Mn+$/2;s.strokeStyle=A.multiKeyBackground,s.fillStyle=A.multiKeyBackground,Aa(s,Vn,ri,hi),s.strokeStyle=P.borderColor,s.fillStyle=P.backgroundColor,Aa(s,Vn,ri,hi)}else{s.lineWidth=tn(P.borderWidth)?Math.max(...Object.values(P.borderWidth)):P.borderWidth||1,s.strokeStyle=P.borderColor,s.setLineDash(P.borderDash||[]),s.lineDashOffset=P.borderDashOffset||0;const Vn=x.leftForLtr(Qt,se-ze),ri=x.leftForLtr(x.xPlus(Qt,1),se-ze-2),hi=Kr(P.borderRadius);Object.values(hi).some(Mi=>0!==Mi)?(s.beginPath(),s.fillStyle=A.multiKeyBackground,lo(s,{x:Vn,y:Mn,w:se,h:$,radius:hi}),s.fill(),s.stroke(),s.fillStyle=P.backgroundColor,s.beginPath(),lo(s,{x:ri,y:Mn+1,w:se-2,h:$-2,radius:hi}),s.fill()):(s.fillStyle=A.multiKeyBackground,s.fillRect(Vn,Mn,se,$),s.strokeRect(Vn,Mn,se,$),s.fillStyle=P.backgroundColor,s.fillRect(ri,Mn+1,se-2,$-2))}s.fillStyle=this.labelTextColors[m]}drawBody(s,d,m){const{body:x}=this,{bodySpacing:A,bodyAlign:P,displayColors:U,boxHeight:$,boxWidth:se,boxPadding:ze}=m,_t=Ir(m.bodyFont);let Ot=_t.lineHeight,Qt=0;const Sn=ae(m.rtl,this.x,this.width),Mn=function(fr){d.fillText(fr,Sn.x(s.x+Qt),s.y+Ot/2),s.y+=Ot+A},Vn=Sn.textAlign(P);let ri,hi,Mi,oi,Ci,ir,er;for(d.textAlign=P,d.textBaseline="middle",d.font=_t.string,s.x=$d(this,Vn,m),d.fillStyle=m.bodyColor,zt(this.beforeBody,Mn),Qt=U&&"right"!==Vn?"center"===P?se/2+ze:se+2+ze:0,oi=0,ir=x.length;oi<ir;++oi){for(ri=x[oi],hi=this.labelTextColors[oi],d.fillStyle=hi,zt(ri.before,Mn),Mi=ri.lines,U&&Mi.length&&(this._drawColorBox(d,s,oi,Sn,m),Ot=Math.max(_t.lineHeight,$)),Ci=0,er=Mi.length;Ci<er;++Ci)Mn(Mi[Ci]),Ot=_t.lineHeight;zt(ri.after,Mn)}Qt=0,Ot=_t.lineHeight,zt(this.afterBody,Mn),s.y-=A}drawFooter(s,d,m){const x=this.footer,A=x.length;let P,U;if(A){const $=ae(m.rtl,this.x,this.width);for(s.x=$d(this,m.footerAlign,m),s.y+=m.footerMarginTop,d.textAlign=$.textAlign(m.footerAlign),d.textBaseline="middle",P=Ir(m.footerFont),d.fillStyle=m.footerColor,d.font=P.string,U=0;U<A;++U)d.fillText(x[U],$.x(s.x),s.y+P.lineHeight/2),s.y+=P.lineHeight+m.footerSpacing}}drawBackground(s,d,m,x){const{xAlign:A,yAlign:P}=this,{x:U,y:$}=s,{width:se,height:ze}=m,{topLeft:_t,topRight:Ot,bottomLeft:Qt,bottomRight:Sn}=Kr(x.cornerRadius);d.fillStyle=x.backgroundColor,d.strokeStyle=x.borderColor,d.lineWidth=x.borderWidth,d.beginPath(),d.moveTo(U+_t,$),"top"===P&&this.drawCaret(s,d,m,x),d.lineTo(U+se-Ot,$),d.quadraticCurveTo(U+se,$,U+se,$+Ot),"center"===P&&"right"===A&&this.drawCaret(s,d,m,x),d.lineTo(U+se,$+ze-Sn),d.quadraticCurveTo(U+se,$+ze,U+se-Sn,$+ze),"bottom"===P&&this.drawCaret(s,d,m,x),d.lineTo(U+Qt,$+ze),d.quadraticCurveTo(U,$+ze,U,$+ze-Qt),"center"===P&&"left"===A&&this.drawCaret(s,d,m,x),d.lineTo(U,$+_t),d.quadraticCurveTo(U,$,U+_t,$),d.closePath(),d.fill(),x.borderWidth>0&&d.stroke()}_updateAnimationTarget(s){const d=this.chart,m=this.$animations,x=m&&m.x,A=m&&m.y;if(x||A){const P=Z[s.position].call(this,this._active,this._eventPosition);if(!P)return;const U=this._size=fi(this,s),$=Object.assign({},P,this._size),se=Or(d,s,$),ze=fc(s,$,se,d);(x._to!==ze.x||A._to!==ze.y)&&(this.xAlign=se.xAlign,this.yAlign=se.yAlign,this.width=U.width,this.height=U.height,this.caretX=P.x,this.caretY=P.y,this._resolveAnimations().update(this,ze))}}_willRender(){return!!this.opacity}draw(s){const d=this.options.setContext(this.getContext());let m=this.opacity;if(!m)return;this._updateAnimationTarget(d);const x={width:this.width,height:this.height},A={x:this.x,y:this.y};m=Math.abs(m)<.001?0:m;const P=us(d.padding);d.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(s.save(),s.globalAlpha=m,this.drawBackground(A,s,x,d),Xe(s,d.textDirection),A.y+=P.top,this.drawTitle(A,s,d),this.drawBody(A,s,d),this.drawFooter(A,s,d),ve(s,d.textDirection),s.restore())}getActiveElements(){return this._active||[]}setActiveElements(s,d){const m=this._active,x=s.map(({datasetIndex:U,index:$})=>{const se=this.chart.getDatasetMeta(U);if(!se)throw new Error("Cannot find a dataset at index "+U);return{datasetIndex:U,element:se.data[$],index:$}}),A=!Lt(m,x),P=this._positionChanged(x,d);(A||P)&&(this._active=x,this._eventPosition=d,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(s,d,m=!0){if(d&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const x=this.options,A=this._active||[],P=this._getActiveElements(s,A,d,m),U=this._positionChanged(P,s),$=d||!Lt(P,A)||U;return $&&(this._active=P,(x.enabled||x.external)&&(this._eventPosition={x:s.x,y:s.y},this.update(!0,d))),$}_getActiveElements(s,d,m,x){const A=this.options;if("mouseout"===s.type)return[];if(!x)return d;const P=this.chart.getElementsAtEventForMode(s,A.mode,A,m);return A.reverse&&P.reverse(),P}_positionChanged(s,d){const{caretX:m,caretY:x,options:A}=this,P=Z[A.position].call(this,s,d);return!1!==P&&(m!==P.x||x!==P.y)}}Lr(Pl,"positioners",Z);var Yd={id:"tooltip",_element:Pl,positioners:Z,afterInit(h,s,d){d&&(h.tooltip=new Pl({chart:h,options:d}))},beforeUpdate(h,s,d){h.tooltip&&h.tooltip.initialize(d)},reset(h,s,d){h.tooltip&&h.tooltip.initialize(d)},afterDraw(h){const s=h.tooltip;if(s&&s._willRender()){const d={tooltip:s};if(!1===h.notifyPlugins("beforeTooltipDraw",{...d,cancelable:!0}))return;s.draw(h.ctx),h.notifyPlugins("afterTooltipDraw",d)}},afterEvent(h,s){h.tooltip&&h.tooltip.handleEvent(s.event,s.replay,s.inChartArea)&&(s.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(h,s)=>s.bodyFont.size,boxWidth:(h,s)=>s.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Lh},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:h=>"filter"!==h&&"itemSort"!==h&&"external"!==h,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Lc=Object.freeze({__proto__:null,Colors:vu,Decimation:Il,Filler:Vf,Legend:vp,SubTitle:k,Title:z,Tooltip:Yd});function Lu(h){const s=this.getLabels();return h>=0&&h<s.length?s[h]:h}class Zd extends yr{constructor(s){super(s),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(s){const d=this._addedLabels;if(d.length){const m=this.getLabels();for(const{index:x,label:A}of d)m[x]===A&&m.splice(x,1);this._addedLabels=[]}super.init(s)}parse(s,d){if(Pn(s))return null;const m=this.getLabels();return((h,s)=>null===h?null:Ft(Math.round(h),0,s))(d=isFinite(d)&&m[d]===s?d:function Rh(h,s,d,m){const x=h.indexOf(s);return-1===x?((h,s,d,m)=>("string"==typeof s?(d=h.push(s)-1,m.unshift({index:d,label:s})):isNaN(s)&&(d=null),d))(h,s,d,m):x!==h.lastIndexOf(s)?d:x}(m,s,lt(d,s),this._addedLabels),m.length-1)}determineDataLimits(){const{minDefined:s,maxDefined:d}=this.getUserBounds();let{min:m,max:x}=this.getMinMax(!0);"ticks"===this.options.bounds&&(s||(m=0),d||(x=this.getLabels().length-1)),this.min=m,this.max=x}buildTicks(){const s=this.min,d=this.max,m=this.options.offset,x=[];let A=this.getLabels();A=0===s&&d===A.length-1?A:A.slice(s,d+1),this._valueRange=Math.max(A.length-(m?0:1),1),this._startValue=this.min-(m?.5:0);for(let P=s;P<=d;P++)x.push({value:P});return x}getLabelForValue(s){return Lu.call(this,s)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(s){return"number"!=typeof s&&(s=this.parse(s)),null===s?NaN:this.getPixelForDecimal((s-this._startValue)/this._valueRange)}getPixelForTick(s){const d=this.ticks;return s<0||s>d.length-1?null:this.getPixelForValue(d[s].value)}getValueForPixel(s){return Math.round(this._startValue+this.getDecimalForPixel(s)*this._valueRange)}getBasePixel(){return this.bottom}}function yp(h,s,{horizontal:d,minRotation:m}){const x=K(m),A=(d?Math.sin(x):Math.cos(x))||.001;return Math.min(s/A,.75*s*(""+h).length)}Lr(Zd,"id","category"),Lr(Zd,"defaults",{ticks:{callback:Lu}});class sf extends yr{constructor(s){super(s),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(s,d){return Pn(s)||("number"==typeof s||s instanceof Number)&&!isFinite(+s)?null:+s}handleTickRangeOptions(){const{beginAtZero:s}=this.options,{minDefined:d,maxDefined:m}=this.getUserBounds();let{min:x,max:A}=this;const P=$=>x=d?x:$,U=$=>A=m?A:$;if(s){const $=Zt(x),se=Zt(A);$<0&&se<0?U(0):$>0&&se>0&&P(0)}if(x===A){let $=0===A?1:Math.abs(.05*A);U(A+$),s||P(x-$)}this.min=x,this.max=A}getTickLimit(){const s=this.options.ticks;let x,{maxTicksLimit:d,stepSize:m}=s;return m?(x=Math.ceil(this.max/m)-Math.floor(this.min/m)+1,x>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${m} would result generating up to ${x} ticks. Limiting to 1000.`),x=1e3)):(x=this.computeTickLimit(),d=d||11),d&&(x=Math.min(d,x)),x}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const s=this.options,d=s.ticks;let m=this.getTickLimit();m=Math.max(2,m);const P=function qp(h,s){const d=[],{bounds:x,step:A,min:P,max:U,precision:$,count:se,maxTicks:ze,maxDigits:_t,includeBounds:Ot}=h,Qt=A||1,Sn=ze-1,{min:Mn,max:Vn}=s,ri=!Pn(P),hi=!Pn(U),Mi=!Pn(se),oi=(Vn-Mn)/(_t+1);let ir,er,fr,ts,Ci=ti((Vn-Mn)/Sn/Qt)*Qt;if(Ci<1e-14&&!ri&&!hi)return[{value:Mn},{value:Vn}];ts=Math.ceil(Vn/Ci)-Math.floor(Mn/Ci),ts>Sn&&(Ci=ti(ts*Ci/Sn/Qt)*Qt),Pn($)||(ir=Math.pow(10,$),Ci=Math.ceil(Ci*ir)/ir),"ticks"===x?(er=Math.floor(Mn/Ci)*Ci,fr=Math.ceil(Vn/Ci)*Ci):(er=Mn,fr=Vn),ri&&hi&&A&&function ut(h,s){const d=Math.round(h);return d-s<=h&&d+s>=h}((U-P)/A,Ci/1e3)?(ts=Math.round(Math.min((U-P)/Ci,ze)),Ci=(U-P)/ts,er=P,fr=U):Mi?(er=ri?P:er,fr=hi?U:fr,ts=se-1,Ci=(fr-er)/ts):(ts=(fr-er)/Ci,ts=wn(ts,Math.round(ts),Ci/1e3)?Math.round(ts):Math.ceil(ts));const Qs=Math.max(Ge(Ci),Ge(er));ir=Math.pow(10,Pn($)?Qs:$),er=Math.round(er*ir)/ir,fr=Math.round(fr*ir)/ir;let Xs=0;for(ri&&(Ot&&er!==P?(d.push({value:P}),er<P&&Xs++,wn(Math.round((er+Xs*Ci)*ir)/ir,P,yp(P,oi,h))&&Xs++):er<P&&Xs++);Xs<ts;++Xs)d.push({value:Math.round((er+Xs*Ci)*ir)/ir});return hi&&Ot&&fr!==U?d.length&&wn(d[d.length-1].value,U,yp(U,oi,h))?d[d.length-1].value=U:d.push({value:U}):(!hi||fr===U)&&d.push({value:fr}),d}({maxTicks:m,bounds:s.bounds,min:s.min,max:s.max,precision:d.precision,step:d.stepSize,count:d.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:d.minRotation||0,includeBounds:!1!==d.includeBounds},this._range||this);return"ticks"===s.bounds&&ie(P,this,"value"),s.reverse?(P.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),P}configure(){const s=this.ticks;let d=this.min,m=this.max;if(super.configure(),this.options.offset&&s.length){const x=(m-d)/Math.max(s.length-1,1)/2;d-=x,m+=x}this._startValue=d,this._endValue=m,this._valueRange=m-d}getLabelForValue(s){return Po(s,this.chart.options.locale,this.options.ticks.format)}}class bp extends sf{determineDataLimits(){const{min:s,max:d}=this.getMinMax(!0);this.min=Rt(s)?s:0,this.max=Rt(d)?d:1,this.handleTickRangeOptions()}computeTickLimit(){const s=this.isHorizontal(),d=s?this.width:this.height,m=K(this.options.ticks.minRotation),x=(s?Math.sin(m):Math.cos(m))||.001,A=this._resolveTickFontOptions(0);return Math.ceil(d/Math.min(40,A.lineHeight/x))}getPixelForValue(s){return null===s?NaN:this.getPixelForDecimal((s-this._startValue)/this._valueRange)}getValueForPixel(s){return this._startValue+this.getDecimalForPixel(s)*this._valueRange}}Lr(bp,"id","linear"),Lr(bp,"defaults",{ticks:{callback:Ga.formatters.numeric}});const Hf=h=>Math.floor(qe(h)),Fh=(h,s)=>Math.pow(10,Hf(h)+s);function Uf(h){return h/Math.pow(10,Hf(h))==1}function zf(h,s,d){const m=Math.pow(10,d),x=Math.floor(h/m);return Math.ceil(s/m)-x}class af extends yr{constructor(s){super(s),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(s,d){const m=sf.prototype.parse.apply(this,[s,d]);if(0!==m)return Rt(m)&&m>0?m:null;this._zero=!0}determineDataLimits(){const{min:s,max:d}=this.getMinMax(!0);this.min=Rt(s)?Math.max(0,s):null,this.max=Rt(d)?Math.max(0,d):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Rt(this._userMin)&&(this.min=s===Fh(this.min,0)?Fh(this.min,-1):Fh(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:s,maxDefined:d}=this.getUserBounds();let m=this.min,x=this.max;const A=U=>m=s?m:U,P=U=>x=d?x:U;m===x&&(m<=0?(A(1),P(10)):(A(Fh(m,-1)),P(Fh(x,1)))),m<=0&&A(Fh(x,-1)),x<=0&&P(Fh(m,1)),this.min=m,this.max=x}buildTicks(){const s=this.options,m=function Xg(h,{min:s,max:d}){s=bn(h.min,s);const m=[],x=Hf(s);let A=function Qg(h,s){let m=Hf(s-h);for(;zf(h,s,m)>10;)m++;for(;zf(h,s,m)<10;)m--;return Math.min(m,Hf(h))}(s,d),P=A<0?Math.pow(10,Math.abs(A)):1;const U=Math.pow(10,A),$=x>A?Math.pow(10,x):0,se=Math.round((s-$)*P)/P,ze=Math.floor((s-$)/U/10)*U*10;let _t=Math.floor((se-ze)/Math.pow(10,A)),Ot=bn(h.min,Math.round(($+ze+_t*Math.pow(10,A))*P)/P);for(;Ot<d;)m.push({value:Ot,major:Uf(Ot),significand:_t}),_t>=10?_t=_t<15?15:20:_t++,_t>=20&&(A++,_t=2,P=A>=0?1:P),Ot=Math.round(($+ze+_t*Math.pow(10,A))*P)/P;const Qt=bn(h.max,Ot);return m.push({value:Qt,major:Uf(Qt),significand:_t}),m}({min:this._userMin,max:this._userMax},this);return"ticks"===s.bounds&&ie(m,this,"value"),s.reverse?(m.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),m}getLabelForValue(s){return void 0===s?"0":Po(s,this.chart.options.locale,this.options.ticks.format)}configure(){const s=this.min;super.configure(),this._startValue=qe(s),this._valueRange=qe(this.max)-qe(s)}getPixelForValue(s){return(void 0===s||0===s)&&(s=this.min),null===s||isNaN(s)?NaN:this.getPixelForDecimal(s===this.min?0:(qe(s)-this._startValue)/this._valueRange)}getValueForPixel(s){const d=this.getDecimalForPixel(s);return Math.pow(10,this._startValue+d*this._valueRange)}}function xp(h){const s=h.ticks;if(s.display&&h.display){const d=us(s.backdropPadding);return lt(s.font&&s.font.size,Rr.font.size)+d.height}return 0}function Gm(h,s,d){return d=Nt(d)?d:[d],{w:Da(h,s.string,d),h:d.length*s.lineHeight}}function B(h,s,d,m,x){return h===m||h===x?{start:s-d/2,end:s+d/2}:h<m||h>x?{start:s-d,end:s}:{start:s,end:s+d}}function _(h,s,d,m,x){const A=Math.abs(Math.sin(d)),P=Math.abs(Math.cos(d));let U=0,$=0;m.start<s.l?(U=(s.l-m.start)/A,h.l=Math.min(h.l,s.l-U)):m.end>s.r&&(U=(m.end-s.r)/A,h.r=Math.max(h.r,s.r+U)),x.start<s.t?($=(s.t-x.start)/P,h.t=Math.min(h.t,s.t-$)):x.end>s.b&&($=(x.end-s.b)/P,h.b=Math.max(h.b,s.b+$))}function W(h){return 0===h||180===h?"center":h<180?"left":"right"}function we(h,s,d){return"right"===d?h-=s:"center"===d&&(h-=s/2),h}function ht(h,s,d){return 90===d||270===d?h-=s/2:(d>270||d<90)&&(h-=s),h}function nn(h,s,d,m){const{ctx:x}=h;if(d)x.arc(h.xCenter,h.yCenter,s,0,pe);else{let A=h.getPointPosition(0,s);x.moveTo(A.x,A.y);for(let P=1;P<m;P++)A=h.getPointPosition(P,s),x.lineTo(A.x,A.y)}}Lr(af,"id","logarithmic"),Lr(af,"defaults",{ticks:{callback:Ga.formatters.logarithmic,major:{enabled:!0}}});class gi extends sf{constructor(s){super(s),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const s=this._padding=us(xp(this.options)/2),d=this.width=this.maxWidth-s.width,m=this.height=this.maxHeight-s.height;this.xCenter=Math.floor(this.left+d/2+s.left),this.yCenter=Math.floor(this.top+m/2+s.top),this.drawingArea=Math.floor(Math.min(d,m)/2)}determineDataLimits(){const{min:s,max:d}=this.getMinMax(!1);this.min=Rt(s)&&!isNaN(s)?s:0,this.max=Rt(d)&&!isNaN(d)?d:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/xp(this.options))}generateTickLabels(s){sf.prototype.generateTickLabels.call(this,s),this._pointLabels=this.getLabels().map((d,m)=>{const x=ot(this.options.pointLabels.callback,[d,m],this);return x||0===x?x:""}).filter((d,m)=>this.chart.getDataVisibility(m))}fit(){const s=this.options;s.display&&s.pointLabels.display?function g(h){const s={l:h.left+h._padding.left,r:h.right-h._padding.right,t:h.top+h._padding.top,b:h.bottom-h._padding.bottom},d=Object.assign({},s),m=[],x=[],A=h._pointLabels.length,P=h.options.pointLabels,U=P.centerPointLabels?Ie/A:0;for(let $=0;$<A;$++){const se=P.setContext(h.getPointLabelContext($));x[$]=se.padding;const ze=h.getPointPosition($,h.drawingArea+x[$],U),_t=Ir(se.font),Ot=Gm(h.ctx,_t,h._pointLabels[$]);m[$]=Ot;const Qt=pi(h.getIndexAngle($)+U),Sn=Math.round(ge(Qt));_(d,s,Qt,B(Sn,ze.x,Ot.w,0,180),B(Sn,ze.y,Ot.h,90,270))}h.setCenterPoint(s.l-d.l,d.r-s.r,s.t-d.t,d.b-s.b),h._pointLabelItems=function M(h,s,d){const m=[],x=h._pointLabels.length,A=h.options,P=xp(A)/2,U=h.drawingArea,$=A.pointLabels.centerPointLabels?Ie/x:0;for(let se=0;se<x;se++){const ze=h.getPointPosition(se,U+P+d[se],$),_t=Math.round(ge(pi(ze.angle+Te))),Ot=s[se],Qt=ht(ze.y,Ot.h,_t),Sn=W(_t),Mn=we(ze.x,Ot.w,Sn);m.push({x:ze.x,y:Qt,textAlign:Sn,left:Mn,top:Qt,right:Mn+Ot.w,bottom:Qt+Ot.h})}return m}(h,m,x)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(s,d,m,x){this.xCenter+=Math.floor((s-d)/2),this.yCenter+=Math.floor((m-x)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(s,d,m,x))}getIndexAngle(s){return pi(s*(pe/(this._pointLabels.length||1))+K(this.options.startAngle||0))}getDistanceFromCenterForValue(s){if(Pn(s))return NaN;const d=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-s)*d:(s-this.min)*d}getValueForDistanceFromCenter(s){if(Pn(s))return NaN;const d=s/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-d:this.min+d}getPointLabelContext(s){const d=this._pointLabels||[];if(s>=0&&s<d.length){const m=d[s];return function ui(h,s,d){return Lo(h,{label:d,index:s,type:"pointLabel"})}(this.getContext(),s,m)}}getPointPosition(s,d,m=0){const x=this.getIndexAngle(s)-Te+m;return{x:Math.cos(x)*d+this.xCenter,y:Math.sin(x)*d+this.yCenter,angle:x}}getPointPositionForValue(s,d){return this.getPointPosition(s,this.getDistanceFromCenterForValue(d))}getBasePosition(s){return this.getPointPositionForValue(s||0,this.getBaseValue())}getPointLabelPosition(s){const{left:d,top:m,right:x,bottom:A}=this._pointLabelItems[s];return{left:d,top:m,right:x,bottom:A}}drawBackground(){const{backgroundColor:s,grid:{circular:d}}=this.options;if(s){const m=this.ctx;m.save(),m.beginPath(),nn(this,this.getDistanceFromCenterForValue(this._endValue),d,this._pointLabels.length),m.closePath(),m.fillStyle=s,m.fill(),m.restore()}}drawGrid(){const s=this.ctx,d=this.options,{angleLines:m,grid:x,border:A}=d,P=this._pointLabels.length;let U,$,se;if(d.pointLabels.display&&function gt(h,s){const{ctx:d,options:{pointLabels:m}}=h;for(let x=s-1;x>=0;x--){const A=m.setContext(h.getPointLabelContext(x)),P=Ir(A.font),{x:U,y:$,textAlign:se,left:ze,top:_t,right:Ot,bottom:Qt}=h._pointLabelItems[x],{backdropColor:Sn}=A;if(!Pn(Sn)){const Mn=Kr(A.borderRadius),Vn=us(A.backdropPadding);d.fillStyle=Sn;const ri=ze-Vn.left,hi=_t-Vn.top,Mi=Ot-ze+Vn.width,oi=Qt-_t+Vn.height;Object.values(Mn).some(Ci=>0!==Ci)?(d.beginPath(),lo(d,{x:ri,y:hi,w:Mi,h:oi,radius:Mn}),d.fill()):d.fillRect(ri,hi,Mi,oi)}Mo(d,h._pointLabels[x],U,$+P.lineHeight/2,P,{color:A.color,textAlign:se,textBaseline:"middle"})}}(this,P),x.display&&this.ticks.forEach((ze,_t)=>{if(0!==_t){$=this.getDistanceFromCenterForValue(ze.value);const Ot=this.getContext(_t),Qt=x.setContext(Ot),Sn=A.setContext(Ot);!function Cn(h,s,d,m,x){const A=h.ctx,P=s.circular,{color:U,lineWidth:$}=s;!P&&!m||!U||!$||d<0||(A.save(),A.strokeStyle=U,A.lineWidth=$,A.setLineDash(x.dash),A.lineDashOffset=x.dashOffset,A.beginPath(),nn(h,d,P,m),A.closePath(),A.stroke(),A.restore())}(this,Qt,$,P,Sn)}}),m.display){for(s.save(),U=P-1;U>=0;U--){const ze=m.setContext(this.getPointLabelContext(U)),{color:_t,lineWidth:Ot}=ze;!Ot||!_t||(s.lineWidth=Ot,s.strokeStyle=_t,s.setLineDash(ze.borderDash),s.lineDashOffset=ze.borderDashOffset,$=this.getDistanceFromCenterForValue(d.ticks.reverse?this.min:this.max),se=this.getPointPosition(U,$),s.beginPath(),s.moveTo(this.xCenter,this.yCenter),s.lineTo(se.x,se.y),s.stroke())}s.restore()}}drawBorder(){}drawLabels(){const s=this.ctx,d=this.options,m=d.ticks;if(!m.display)return;const x=this.getIndexAngle(0);let A,P;s.save(),s.translate(this.xCenter,this.yCenter),s.rotate(x),s.textAlign="center",s.textBaseline="middle",this.ticks.forEach((U,$)=>{if(0===$&&!d.reverse)return;const se=m.setContext(this.getContext($)),ze=Ir(se.font);if(A=this.getDistanceFromCenterForValue(this.ticks[$].value),se.showLabelBackdrop){s.font=ze.string,P=s.measureText(U.label).width,s.fillStyle=se.backdropColor;const _t=us(se.backdropPadding);s.fillRect(-P/2-_t.left,-A-ze.size/2-_t.top,P+_t.width,ze.size+_t.height)}Mo(s,U.label,0,-A,ze,{color:se.color})}),s.restore()}drawTitle(){}}Lr(gi,"id","radialLinear"),Lr(gi,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ga.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:s=>s,padding:5,centerPointLabels:!1}}),Lr(gi,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Lr(gi,"descriptors",{angleLines:{_fallback:"grid"}});const Wi={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},sr=Object.keys(Wi);function mr(h,s){return h-s}function Mr(h,s){if(Pn(s))return null;const d=h._adapter,{parser:m,round:x,isoWeekday:A}=h._parseOpts;let P=s;return"function"==typeof m&&(P=m(P)),Rt(P)||(P="string"==typeof m?d.parse(P,m):d.parse(P)),null===P?null:(x&&(P="week"!==x||!Li(A)&&!0!==A?d.startOf(P,x):d.startOf(P,"isoWeek",A)),+P)}function ps(h,s,d,m){const x=sr.length;for(let A=sr.indexOf(h);A<x-1;++A){const P=Wi[sr[A]],U=P.steps?P.steps:Number.MAX_SAFE_INTEGER;if(P.common&&Math.ceil((d-s)/(U*P.size))<=m)return sr[A]}return sr[x-1]}function cl(h,s,d){if(d){if(d.length){const{lo:m,hi:x}=at(d,s);h[d[m]>=s?d[m]:d[x]]=!0}}else h[s]=!0}function Ru(h,s,d){const m=[],x={},A=s.length;let P,U;for(P=0;P<A;++P)U=s[P],x[U]=P,m.push({value:U,major:!1});return 0!==A&&d?function ic(h,s,d,m){const x=h._adapter,A=+x.startOf(s[0].value,m),P=s[s.length-1].value;let U,$;for(U=A;U<=P;U=+x.add(U,1,m))$=d[U],$>=0&&(s[$].major=!0);return s}(h,m,x,d):m}class Ac extends yr{constructor(s){super(s),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(s,d={}){const m=s.time||(s.time={}),x=this._adapter=new Oi__date(s.adapters.date);x.init(d),Ln(m.displayFormats,x.formats()),this._parseOpts={parser:m.parser,round:m.round,isoWeekday:m.isoWeekday},super.init(s),this._normalized=d.normalized}parse(s,d){return void 0===s?null:Mr(this,s)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const s=this.options,d=this._adapter,m=s.time.unit||"day";let{min:x,max:A,minDefined:P,maxDefined:U}=this.getUserBounds();function $(se){!P&&!isNaN(se.min)&&(x=Math.min(x,se.min)),!U&&!isNaN(se.max)&&(A=Math.max(A,se.max))}(!P||!U)&&($(this._getLabelBounds()),("ticks"!==s.bounds||"labels"!==s.ticks.source)&&$(this.getMinMax(!1))),x=Rt(x)&&!isNaN(x)?x:+d.startOf(Date.now(),m),A=Rt(A)&&!isNaN(A)?A:+d.endOf(Date.now(),m)+1,this.min=Math.min(x,A-1),this.max=Math.max(x+1,A)}_getLabelBounds(){const s=this.getLabelTimestamps();let d=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY;return s.length&&(d=s[0],m=s[s.length-1]),{min:d,max:m}}buildTicks(){const s=this.options,d=s.time,m=s.ticks,x="labels"===m.source?this.getLabelTimestamps():this._generate();"ticks"===s.bounds&&x.length&&(this.min=this._userMin||x[0],this.max=this._userMax||x[x.length-1]);const A=this.min,U=function $e(h,s,d){let m=0,x=h.length;for(;m<x&&h[m]<s;)m++;for(;x>m&&h[x-1]>d;)x--;return m>0||x<h.length?h.slice(m,x):h}(x,A,this.max);return this._unit=d.unit||(m.autoSkip?ps(d.minUnit,this.min,this.max,this._getLabelCapacity(A)):function so(h,s,d,m,x){for(let A=sr.length-1;A>=sr.indexOf(d);A--){const P=sr[A];if(Wi[P].common&&h._adapter.diff(x,m,P)>=s-1)return P}return sr[d?sr.indexOf(d):0]}(this,U.length,d.minUnit,this.min,this.max)),this._majorUnit=m.major.enabled&&"year"!==this._unit?function va(h){for(let s=sr.indexOf(h)+1,d=sr.length;s<d;++s)if(Wi[sr[s]].common)return sr[s]}(this._unit):void 0,this.initOffsets(x),s.reverse&&U.reverse(),Ru(this,U,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(s=>+s.value))}initOffsets(s=[]){let x,A,d=0,m=0;this.options.offset&&s.length&&(x=this.getDecimalForValue(s[0]),d=1===s.length?1-x:(this.getDecimalForValue(s[1])-x)/2,A=this.getDecimalForValue(s[s.length-1]),m=1===s.length?A:(A-this.getDecimalForValue(s[s.length-2]))/2);const P=s.length<3?.5:.25;d=Ft(d,0,P),m=Ft(m,0,P),this._offsets={start:d,end:m,factor:1/(d+1+m)}}_generate(){const s=this._adapter,d=this.min,m=this.max,x=this.options,A=x.time,P=A.unit||ps(A.minUnit,d,m,this._getLabelCapacity(d)),U=lt(x.ticks.stepSize,1),$="week"===P&&A.isoWeekday,se=Li($)||!0===$,ze={};let Ot,Qt,_t=d;if(se&&(_t=+s.startOf(_t,"isoWeek",$)),_t=+s.startOf(_t,se?"day":P),s.diff(m,d,P)>1e5*U)throw new Error(d+" and "+m+" are too far apart with stepSize of "+U+" "+P);const Sn="data"===x.ticks.source&&this.getDataTimestamps();for(Ot=_t,Qt=0;Ot<m;Ot=+s.add(Ot,U,P),Qt++)cl(ze,Ot,Sn);return(Ot===m||"ticks"===x.bounds||1===Qt)&&cl(ze,Ot,Sn),Object.keys(ze).sort((Mn,Vn)=>Mn-Vn).map(Mn=>+Mn)}getLabelForValue(s){const m=this.options.time;return this._adapter.format(s,m.tooltipFormat?m.tooltipFormat:m.displayFormats.datetime)}_tickFormatFunction(s,d,m,x){const A=this.options,P=A.ticks.callback;if(P)return ot(P,[s,d,m],this);const U=A.time.displayFormats,$=this._unit,se=this._majorUnit,_t=se&&U[se],Ot=m[d];return this._adapter.format(s,x||(se&&_t&&Ot&&Ot.major?_t:$&&U[$]))}generateTickLabels(s){let d,m,x;for(d=0,m=s.length;d<m;++d)x=s[d],x.label=this._tickFormatFunction(x.value,d,s)}getDecimalForValue(s){return null===s?NaN:(s-this.min)/(this.max-this.min)}getPixelForValue(s){const d=this._offsets,m=this.getDecimalForValue(s);return this.getPixelForDecimal((d.start+m)*d.factor)}getValueForPixel(s){const d=this._offsets,m=this.getDecimalForPixel(s)/d.factor-d.end;return this.min+m*(this.max-this.min)}_getLabelSize(s){const d=this.options.ticks,m=this.ctx.measureText(s).width,x=K(this.isHorizontal()?d.maxRotation:d.minRotation),A=Math.cos(x),P=Math.sin(x),U=this._resolveTickFontOptions(0).size;return{w:m*A+U*P,h:m*P+U*A}}_getLabelCapacity(s){const d=this.options.time,m=d.displayFormats,x=m[d.unit]||m.millisecond,A=this._tickFormatFunction(s,0,Ru(this,[s],this._majorUnit),x),P=this._getLabelSize(A),U=Math.floor(this.isHorizontal()?this.width/P.w:this.height/P.h)-1;return U>0?U:1}getDataTimestamps(){let d,m,s=this._cache.data||[];if(s.length)return s;const x=this.getMatchingVisibleMetas();if(this._normalized&&x.length)return this._cache.data=x[0].controller.getAllParsedValues(this);for(d=0,m=x.length;d<m;++d)s=s.concat(x[d].controller.getAllParsedValues(this));return this._cache.data=this.normalize(s)}getLabelTimestamps(){const s=this._cache.labels||[];let d,m;if(s.length)return s;const x=this.getLabels();for(d=0,m=x.length;d<m;++d)s.push(Mr(this,x[d]));return this._cache.labels=this._normalized?s:this.normalize(s)}normalize(s){return zi(s.sort(mr))}}function zl(h,s,d){let A,P,U,$,m=0,x=h.length-1;d?(s>=h[m].pos&&s<=h[x].pos&&({lo:m,hi:x}=Yt(h,"pos",s)),({pos:A,time:U}=h[m]),({pos:P,time:$}=h[x])):(s>=h[m].time&&s<=h[x].time&&({lo:m,hi:x}=Yt(h,"time",s)),({time:A,pos:U}=h[m]),({time:P,pos:$}=h[x]));const se=P-A;return se?U+($-U)*(s-A)/se:U}Lr(Ac,"id","time"),Lr(Ac,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class Cu extends Ac{constructor(s){super(s),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const s=this._getTimestampsForTable(),d=this._table=this.buildLookupTable(s);this._minPos=zl(d,this.min),this._tableRange=zl(d,this.max)-this._minPos,super.initOffsets(s)}buildLookupTable(s){const{min:d,max:m}=this,x=[],A=[];let P,U,$,se,ze;for(P=0,U=s.length;P<U;++P)se=s[P],se>=d&&se<=m&&x.push(se);if(x.length<2)return[{time:d,pos:0},{time:m,pos:1}];for(P=0,U=x.length;P<U;++P)ze=x[P+1],$=x[P-1],se=x[P],Math.round((ze+$)/2)!==se&&A.push({time:se,pos:P/(U-1)});return A}_getTimestampsForTable(){let s=this._cache.all||[];if(s.length)return s;const d=this.getDataTimestamps(),m=this.getLabelTimestamps();return s=d.length&&m.length?this.normalize(d.concat(m)):d.length?d:m,s=this._cache.all=s,s}getDecimalForValue(s){return(zl(this._table,s)-this._minPos)/this._tableRange}getValueForPixel(s){const d=this._offsets,m=this.getDecimalForPixel(s)/d.factor-d.end;return zl(this._table,m*this._tableRange+this._minPos,!0)}}Lr(Cu,"id","timeseries"),Lr(Cu,"defaults",Ac.defaults);const Rc=[Qr,Xa,Lc,Object.freeze({__proto__:null,CategoryScale:Zd,LinearScale:bp,LogarithmicScale:af,RadialLinearScale:gi,TimeScale:Ac,TimeSeriesScale:Cu})];var hh=N(1884);const ph=function rd(h,s){return h===s||h!=h&&s!=s},Ar=function Dr(h,s){for(var d=h.length;d--;)if(ph(h[d][0],s))return d;return-1};var ko=Array.prototype.splice;function tu(h){var s=-1,d=null==h?0:h.length;for(this.clear();++s<d;){var m=h[s];this.set(m[0],m[1])}}tu.prototype.clear=function fh(){this.__data__=[],this.size=0},tu.prototype.delete=function za(h){var s=this.__data__,d=Ar(s,h);return!(d<0||(d==s.length-1?s.pop():ko.call(s,d,1),--this.size,0))},tu.prototype.get=function yl(h){var s=this.__data__,d=Ar(s,h);return d<0?void 0:s[d][1]},tu.prototype.has=function sa(h){return Ar(this.__data__,h)>-1},tu.prototype.set=function Nh(h,s){var d=this.__data__,m=Ar(d,h);return m<0?(++this.size,d.push([h,s])):d[m][1]=s,this};const Gl=tu,Bh="object"==typeof global&&global&&global.Object===Object&&global;var Jp="object"==typeof self&&self&&self.Object===Object&&self;const Cd=Bh||Jp||Function("return this")();var wp=Cd.Symbol,Vh=Object.prototype,em=Vh.hasOwnProperty,Ym=Vh.toString,cf=wp?wp.toStringTag:void 0;var mh=Object.prototype.toString;var Zf=wp?wp.toStringTag:void 0;const Cp=function Kf(h){return null==h?void 0===h?"[object Undefined]":"[object Null]":Zf&&Zf in Object(h)?function Hh(h){var s=em.call(h,cf),d=h[cf];try{h[cf]=void 0;var m=!0}catch{}var x=Ym.call(h);return m&&(s?h[cf]=d:delete h[cf]),x}(h):function Zm(h){return mh.call(h)}(h)},Kd=function Km(h){var s=typeof h;return null!=h&&("object"==s||"function"==s)},Bu=function Dp(h){if(!Kd(h))return!1;var s=Cp(h);return"[object Function]"==s||"[object GeneratorFunction]"==s||"[object AsyncFunction]"==s||"[object Proxy]"==s};var h,hf=Cd["__core-js_shared__"],t_=(h=/[^.]+$/.exec(hf&&hf.keys&&hf.keys.IE_PROTO||""))?"Symbol(src)_1."+h:"";var i_=Function.prototype.toString;var Qm=/^\[object .+?Constructor\]$/,o_=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const fv=function nm(h){return!(!Kd(h)||function uv(h){return!!t_&&t_ in h}(h))&&(Bu(h)?o_:Qm).test(function oy(h){if(null!=h){try{return i_.call(h)}catch{}try{return h+""}catch{}}return""}(h))},pf=function im(h,s){var d=function a_(h,s){return h?.[s]}(h,s);return fv(d)?d:void 0},sm=pf(Cd,"Map"),mf=pf(Object,"create");var h_=Object.prototype.hasOwnProperty;var gf=Object.prototype.hasOwnProperty;function qf(h){var s=-1,d=null==h?0:h.length;for(this.clear();++s<d;){var m=h[s];this.set(m[0],m[1])}}qf.prototype.clear=function l_(){this.__data__=mf?mf(null):{},this.size=0},qf.prototype.delete=function c_(h){var s=this.has(h)&&delete this.__data__[h];return this.size-=s?1:0,s},qf.prototype.get=function f_(h){var s=this.__data__;if(mf){var d=s[h];return"__lodash_hash_undefined__"===d?void 0:d}return h_.call(s,h)?s[h]:void 0},qf.prototype.has=function om(h){var s=this.__data__;return mf?void 0!==s[h]:gf.call(s,h)},qf.prototype.set=function am(h,s){var d=this.__data__;return this.size+=this.has(h)?0:1,d[h]=mf&&void 0===s?"__lodash_hash_undefined__":s,this};const tg=qf,_f=function __(h,s){var d=h.__data__;return function g_(h){var s=typeof h;return"string"==s||"number"==s||"symbol"==s||"boolean"==s?"__proto__"!==h:null===h}(s)?d["string"==typeof s?"string":"hash"]:d.map};function Xf(h){var s=-1,d=null==h?0:h.length;for(this.clear();++s<d;){var m=h[s];this.set(m[0],m[1])}}Xf.prototype.clear=function ay(){this.size=0,this.__data__={hash:new tg,map:new(sm||Gl),string:new tg}},Xf.prototype.delete=function Qd(h){var s=_f(this,h).delete(h);return this.size-=s?1:0,s},Xf.prototype.get=function um(h){return _f(this,h).get(h)},Xf.prototype.has=function ig(h){return _f(this,h).has(h)},Xf.prototype.set=function mv(h,s){var d=_f(this,h),m=d.size;return d.set(h,s),this.size+=d.size==m?0:1,this};const gv=Xf;function Dd(h){var s=this.__data__=new Gl(h);this.size=s.size}Dd.prototype.clear=function Nc(){this.__data__=new Gl,this.size=0},Dd.prototype.delete=function Jg(h){var s=this.__data__,d=s.delete(h);return this.size=s.size,d},Dd.prototype.get=function cv(h){return this.__data__.get(h)},Dd.prototype.has=function Xp(h){return this.__data__.has(h)},Dd.prototype.set=function sg(h,s){var d=this.__data__;if(d instanceof Gl){var m=d.__data__;if(!sm||m.length<199)return m.push([h,s]),this.size=++d.size,this;d=this.__data__=new gv(m)}return d.set(h,s),this.size=d.size,this};const hm=Dd;var fm=function(){try{var h=pf(Object,"defineProperty");return h({},"",{}),h}catch{}}();const og=fm,lg=function ag(h,s,d){"__proto__"==s&&og?og(h,s,{configurable:!0,enumerable:!0,value:d,writable:!0}):h[s]=d},Xd=function ly(h,s,d){(void 0!==d&&!ph(h[s],d)||void 0===d&&!(s in h))&&lg(h,s,d)};var Uh=function y_(h){return function(s,d,m){for(var x=-1,A=Object(s),P=m(s),U=P.length;U--;){var $=P[h?U:++x];if(!1===d(A[$],$,A))break}return s}}();const sd=Uh;var zh="object"==typeof exports&&exports&&!exports.nodeType&&exports,cg=zh&&"object"==typeof module&&module&&!module.nodeType&&module,Vu=cg&&cg.exports===zh?Cd.Buffer:void 0,Ep=Vu?Vu.allocUnsafe:void 0;const du=Cd.Uint8Array,x_=function Mp(h,s){var d=s?function cy(h){var s=new h.constructor(h.byteLength);return new du(s).set(new du(h)),s}(h.buffer):h.buffer;return new h.constructor(d,h.byteOffset,h.length)};var hg=Object.create,fg=function(){function h(){}return function(s){if(!Kd(s))return{};if(hg)return hg(s);h.prototype=s;var d=new h;return h.prototype=void 0,d}}();const pg=fg;var mg=function yv(h,s){return function(d){return h(s(d))}}(Object.getPrototypeOf,Object);const bv=mg;var uy=Object.prototype;const gg=function xv(h){var s=h&&h.constructor;return h===("function"==typeof s&&s.prototype||uy)},Jf=function vg(h){return null!=h&&"object"==typeof h},wv=function T_(h){return Jf(h)&&"[object Arguments]"==Cp(h)};var yg=Object.prototype,Cv=yg.hasOwnProperty,Tv=yg.propertyIsEnumerable,Dv=wv(function(){return arguments}())?wv:function(h){return Jf(h)&&Cv.call(h,"callee")&&!Tv.call(h,"callee")};const gm=Dv,$c=Array.isArray,vf=function Ip(h){return"number"==typeof h&&h>-1&&h%1==0&&h<=9007199254740991},jh=function ym(h){return null!=h&&vf(h.length)&&!Bu(h)};var bm="object"==typeof exports&&exports&&!exports.nodeType&&exports,wg=bm&&"object"==typeof module&&module&&!module.nodeType&&module,Av=wg&&wg.exports===bm?Cd.Buffer:void 0;const tp=(Av?Av.isBuffer:void 0)||function _h(){return!1};var Op=Function.prototype.toString,S_=Object.prototype.hasOwnProperty,E_=Op.call(Object);var el={};el["[object Float32Array]"]=el["[object Float64Array]"]=el["[object Int8Array]"]=el["[object Int16Array]"]=el["[object Int32Array]"]=el["[object Uint8Array]"]=el["[object Uint8ClampedArray]"]=el["[object Uint16Array]"]=el["[object Uint32Array]"]=!0,el["[object Arguments]"]=el["[object Array]"]=el["[object ArrayBuffer]"]=el["[object Boolean]"]=el["[object DataView]"]=el["[object Date]"]=el["[object Error]"]=el["[object Function]"]=el["[object Map]"]=el["[object Number]"]=el["[object Object]"]=el["[object RegExp]"]=el["[object Set]"]=el["[object String]"]=el["[object WeakMap]"]=!1;var Dm="object"==typeof exports&&exports&&!exports.nodeType&&exports,np=Dm&&"object"==typeof module&&module&&!module.nodeType&&module,Fv=np&&np.exports===Dm&&Bh.process,Sg=function(){try{return np&&np.require&&np.require("util").types||Fv&&Fv.binding&&Fv.binding("util")}catch{}}(),Eg=Sg&&Sg.isTypedArray;const Lp=Eg?function vh(h){return function(s){return h(s)}}(Eg):function Rv(h){return Jf(h)&&vf(h.length)&&!!el[Cp(h)]},Am=function gy(h,s){if(("constructor"!==s||"function"!=typeof h[s])&&"__proto__"!=s)return h[s]};var Em=Object.prototype.hasOwnProperty;const qy=function Mm(h,s,d){var m=h[s];(!Em.call(h,s)||!ph(m,d)||void 0===d&&!(s in h))&&lg(h,s,d)};var Im=/^(?:0|[1-9]\d*)$/;const Sd=function U_(h,s){var d=typeof h;return!!(s=s??9007199254740991)&&("number"==d||"symbol"!=d&&Im.test(h))&&h>-1&&h%1==0&&h<s};var Om=Object.prototype.hasOwnProperty;const z_=function ip(h,s){var d=$c(h),m=!d&&gm(h),x=!d&&!m&&tp(h),A=!d&&!m&&!x&&Lp(h),P=d||m||x||A,U=P?function Bv(h,s){for(var d=-1,m=Array(h);++d<h;)m[d]=s(d);return m}(h.length,String):[],$=U.length;for(var se in h)(s||Om.call(h,se))&&(!P||!("length"==se||x&&("offset"==se||"parent"==se)||A&&("buffer"==se||"byteLength"==se||"byteOffset"==se)||Sd(se,$)))&&U.push(se);return U};var Lm=Object.prototype.hasOwnProperty;const G_=function fo(h){if(!Kd(h))return function kg(h){var s=[];if(null!=h)for(var d in Object(h))s.push(d);return s}(h);var s=gg(h),d=[];for(var m in h)"constructor"==m&&(s||!Lm.call(h,m))||d.push(m);return d},$_=function _y(h){return jh(h)?z_(h,!0):G_(h)},W_=function Ig(h){return function H_(h,s,d,m){var x=!d;d||(d={});for(var A=-1,P=s.length;++A<P;){var U=s[A],$=m?m(d[U],h[U],U,d,h):void 0;void 0===$&&($=h[U]),x?lg(d,U,$):qy(d,U,$)}return d}(h,$_(h))},Wc=function bl(h,s,d,m,x,A,P){var U=Am(h,d),$=Am(s,d),se=P.get($);if(se)Xd(h,d,se);else{var ze=A?A(U,$,d+"",h,s,P):void 0,_t=void 0===ze;if(_t){var Ot=$c($),Qt=!Ot&&tp($),Sn=!Ot&&!Qt&&Lp($);ze=$,Ot||Qt||Sn?$c(U)?ze=U:function bg(h){return Jf(h)&&jh(h)}(U)?ze=function kp(h,s){var d=-1,m=h.length;for(s||(s=Array(m));++d<m;)s[d]=h[d];return s}(U):Qt?(_t=!1,ze=function ug(h,s){if(s)return h.slice();var d=h.length,m=Ep?Ep(d):new h.constructor(d);return h.copy(m),m}($,!0)):Sn?(_t=!1,ze=x_($,!0)):ze=[]:function M_(h){if(!Jf(h)||"[object Object]"!=Cp(h))return!1;var s=bv(h);if(null===s)return!0;var d=S_.call(s,"constructor")&&s.constructor;return"function"==typeof d&&d instanceof d&&Op.call(d)==E_}($)||gm($)?(ze=U,gm(U)?ze=W_(U):(!Kd(U)||Bu(U))&&(ze=function C_(h){return"function"!=typeof h.constructor||gg(h)?{}:pg(bv(h))}($))):_t=!1}_t&&(P.set($,ze),x(ze,$,m,A,P),P.delete($)),Xd(h,d,ze)}},Pg=function Ed(h,s,d,m,x){h!==s&&sd(s,function(A,P){if(x||(x=new hm),Kd(A))Wc(h,s,P,d,Ed,m,x);else{var U=m?m(Am(h,P),A,P+"",h,s,x):void 0;void 0===U&&(U=A),Xd(h,P,U)}},$_)},rp=function vy(h){return h},Z_=function Y_(h,s,d){switch(d.length){case 0:return h.call(s);case 1:return h.call(s,d[0]);case 2:return h.call(s,d[0],d[1]);case 3:return h.call(s,d[0],d[1],d[2])}return h.apply(s,d)};var K_=Math.max;const Rm=function by(h){return function(){return h}};var bf=og?function(h,s){return og(h,"toString",{configurable:!0,enumerable:!1,value:Rm(s),writable:!0})}:rp,Hv=Date.now,Md=function Fm(h){var s=0,d=0;return function(){var m=Hv(),x=16-(m-d);if(d=m,x>0){if(++s>=800)return arguments[0]}else s=0;return h.apply(void 0,arguments)}}(bf);const sp=Md,yh=function Yc(h,s){return sp(function Og(h,s,d){return s=K_(void 0===s?h.length-1:s,0),function(){for(var m=arguments,x=-1,A=K_(m.length-s,0),P=Array(A);++x<A;)P[x]=m[s+x];x=-1;for(var U=Array(s+1);++x<s;)U[x]=m[x];return U[s]=d(P),Z_(h,this,U)}}(h,s,rp),h+"")};var xf=function op(h){return yh(function(s,d){var m=-1,x=d.length,A=x>1?d[x-1]:void 0,P=x>2?d[2]:void 0;for(A=h.length>3&&"function"==typeof A?(x--,A):void 0,P&&function Fp(h,s,d){if(!Kd(d))return!1;var m=typeof s;return!!("number"==m?jh(d)&&Sd(s,d.length):"string"==m&&s in d)&&ph(d[s],h)}(d[0],d[1],P)&&(A=x<3?void 0:A,x=1),s=Object(s);++m<x;){var U=d[m];U&&h(s,U,m,A)}return s})}(function(h,s,d){Pg(h,s,d)});const wf=xf;var Jd=N(1135);let Cf=(()=>{class h{constructor(){this.colorschemesOptions=new Jd.X(void 0)}setColorschemesOptions(d){this.pColorschemesOptions=d,this.colorschemesOptions.next(d)}getColorschemesOptions(){return this.pColorschemesOptions}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),Np=(()=>{class h{constructor(d,m,x){this.zone=m,this.themeService=x,this.type="bar",this.plugins=[],this.chartClick=new a.vpe,this.chartHover=new a.vpe,this.subs=[],this.themeOverrides={},this.ctx=d.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe((0,hh.x)()).subscribe(A=>this.themeChanged(A)))}ngOnChanges(d){const m=["type"],x=Object.getOwnPropertyNames(d);if(x.some(A=>m.includes(A))||x.every(A=>d[A].isFirstChange()))this.render();else{const A=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,A.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,A.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,A.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(d=>d.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new zc(this.ctx,this.getChartConfiguration()))}update(d){this.chart&&this.zone.runOutsideAngular(()=>this.chart?.update(d))}hideDataset(d,m){this.chart&&(this.chart.getDatasetMeta(d).hidden=m,this.update())}isDatasetHidden(d){return this.chart?.getDatasetMeta(d)?.hidden}toBase64Image(){return this.chart?.toBase64Image()}themeChanged(d){this.themeOverrides=d,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return wf({onHover:(d,m)=>{!this.chartHover.observed&&!this.chartHover.observers?.length||this.zone.run(()=>this.chartHover.emit({event:d,active:m}))},onClick:(d,m)=>{!this.chartClick.observed&&!this.chartClick.observers?.length||this.zone.run(()=>this.chartClick.emit({event:d,active:m}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions(),plugins:this.plugins}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}}return h.\u0275fac=function(d){return new(d||h)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Cf))},h.\u0275dir=a.lG2({type:h,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[a.TTD]}),h})();const Bp=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],Vp={plugins:{colors:{enabled:!1}},datasets:{line:{backgroundColor:h=>Uu(Gh(h.datasetIndex),.4),borderColor:h=>Uu(Gh(h.datasetIndex),1),pointBackgroundColor:h=>Uu(Gh(h.datasetIndex),1),pointBorderColor:"#fff"},bar:{backgroundColor:h=>Uu(Gh(h.datasetIndex),.6),borderColor:h=>Uu(Gh(h.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:h=>Uu(Gh(h.dataIndex),.6),borderColor:"#fff"},get pie(){return this.doughnut},polarArea:{backgroundColor:h=>Uu(Gh(h.dataIndex),.6),borderColor:h=>Uu(Gh(h.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function Uu(h,s){return"rgba("+h.concat(s).join(",")+")"}function Lg(h,s){return Math.floor(Math.random()*(s-h+1))+h}function Gh(h=0){return Bp[h]||function q_(){return[Lg(0,255),Lg(0,255),Lg(0,255)]}()}let Q_=(()=>{class h{constructor(){this.generateColors=!0}}return h.\u0275fac=function(d){return new(d||h)},h.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();zc.register(...Rc);let Uv=(()=>{class h{constructor(d){d?.plugins&&zc.register(...d?.plugins);const m=wf(d?.generateColors?Vp:{},d?.defaults||{});Rr.set(m)}static forRoot(d){return{ngModule:h,providers:[{provide:Q_,useValue:d}]}}}return h.\u0275fac=function(d){return new(d||h)(a.LFG(Q_,8))},h.\u0275mod=a.oAB({type:h}),h.\u0275inj=a.cJS({}),h})()},3947:(ai,qt,N)=>{"use strict";N.d(qt,{m9:()=>O,pL:()=>R});var a=N(4650),T=N(4327);let O=(()=>{class Ee{get isFileSaverSupported(){try{return!!new Blob}catch{return!1}}genType(xe){if(!xe||-1===xe.lastIndexOf("."))return"text/plain";const Ce=xe.substr(xe.lastIndexOf(".")+1);switch(Ce){case"txt":return"text/plain";case"xml":case"html":return`text/${Ce}`;case"json":return"octet/stream";default:return`application/${Ce}`}}save(xe,Ce,re,ce){if(!xe)throw new Error("Data argument should be a blob instance");const be=new Blob([xe],{type:re||xe.type||this.genType(Ce)});(0,T.saveAs)(be,decodeURI(Ce||"download"),ce)}saveText(xe,Ce,re){const ce=new Blob([xe]);this.save(ce,Ce,void 0,re)}}return Ee.\u0275fac=function(xe){return new(xe||Ee)},Ee.\u0275prov=a.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})(),R=(()=>{class Ee{}return Ee.\u0275fac=function(xe){return new(xe||Ee)},Ee.\u0275mod=a.oAB({type:Ee}),Ee.\u0275inj=a.cJS({}),Ee})()},5471:(ai,qt,N)=>{"use strict";N.d(qt,{lF:()=>qe,JP:()=>Ui});var a=N(4650),T=N(7579),O=N(6451),ue=N(9646),R=N(5963),Ee=N(3900),Re=N(9718),xe=N(1884),Ce=N(3151),re=N(8675),ce=N(4004),be=N(2722),Ne=(N(590),N(6895));let Je={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const nt=/[&<>"']/,We=new RegExp(nt.source,"g"),ft=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,pt=new RegExp(ft.source,"g"),tt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},je=ut=>tt[ut];function Ye(ut,ie){if(ie){if(nt.test(ut))return ut.replace(We,je)}else if(ft.test(ut))return ut.replace(pt,je);return ut}const Me=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function me(ut){return ut.replace(Me,(ie,K)=>"colon"===(K=K.toLowerCase())?":":"#"===K.charAt(0)?"x"===K.charAt(1)?String.fromCharCode(parseInt(K.substring(2),16)):String.fromCharCode(+K.substring(1)):"")}const St=/(^|[^\[])\^/g;function vt(ut,ie){ut="string"==typeof ut?ut:ut.source,ie=ie||"";const K={replace:(ge,Ge)=>(Ge=(Ge=Ge.source||Ge).replace(St,"$1"),ut=ut.replace(ge,Ge),K),getRegex:()=>new RegExp(ut,ie)};return K}const an=/[^\w:]/g,xn=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function In(ut,ie,K){if(ut){let ge;try{ge=decodeURIComponent(me(K)).replace(an,"").toLowerCase()}catch{return null}if(0===ge.indexOf("javascript:")||0===ge.indexOf("vbscript:")||0===ge.indexOf("data:"))return null}ie&&!xn.test(K)&&(K=function Ht(ut,ie){cn[" "+ut]||(cn[" "+ut]=Gn.test(ut)?ut+"/":Vt(ut,"/",!0));const K=-1===(ut=cn[" "+ut]).indexOf(":");return"//"===ie.substring(0,2)?K?ie:ut.replace(Tn,"$1")+ie:"/"===ie.charAt(0)?K?ie:ut.replace(Wn,"$1")+ie:ut+ie}(ie,K));try{K=encodeURI(K).replace(/%25/g,"%")}catch{return null}return K}const cn={},Gn=/^[^:]+:\/*[^/]*$/,Tn=/^([^:]+:)[\s\S]*$/,Wn=/^([^:]+:\/*[^/]*)[\s\S]*$/,Bt={exec:function(){}};function Kt(ut){let K,ge,ie=1;for(;ie<arguments.length;ie++)for(ge in K=arguments[ie],K)Object.prototype.hasOwnProperty.call(K,ge)&&(ut[ge]=K[ge]);return ut}function et(ut,ie){const ge=ut.replace(/\|/g,(rn,Hn,Un)=>{let pi=!1,mt=Hn;for(;--mt>=0&&"\\"===Un[mt];)pi=!pi;return pi?"|":" |"}).split(/ \|/);let Ge=0;if(ge[0].trim()||ge.shift(),ge.length>0&&!ge[ge.length-1].trim()&&ge.pop(),ge.length>ie)ge.splice(ie);else for(;ge.length<ie;)ge.push("");for(;Ge<ge.length;Ge++)ge[Ge]=ge[Ge].trim().replace(/\\\|/g,"|");return ge}function Vt(ut,ie,K){const ge=ut.length;if(0===ge)return"";let Ge=0;for(;Ge<ge;){const rn=ut.charAt(ge-Ge-1);if(rn!==ie||K){if(rn===ie||!K)break;Ge++}else Ge++}return ut.slice(0,ge-Ge)}function Yn(ut){ut&&ut.sanitize&&!ut.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function en(ut,ie){if(ie<1)return"";let K="";for(;ie>1;)1&ie&&(K+=ut),ie>>=1,ut+=ut;return K+ut}function gn(ut,ie,K,ge){const Ge=ie.href,rn=ie.title?Ye(ie.title):null,Hn=ut[1].replace(/\\([\[\]])/g,"$1");if("!"!==ut[0].charAt(0)){ge.state.inLink=!0;const Un={type:"link",raw:K,href:Ge,title:rn,text:Hn,tokens:ge.inlineTokens(Hn)};return ge.state.inLink=!1,Un}return{type:"image",raw:K,href:Ge,title:rn,text:Ye(Hn)}}class Qn{constructor(ie){this.options=ie||Je}space(ie){const K=this.rules.block.newline.exec(ie);if(K&&K[0].length>0)return{type:"space",raw:K[0]}}code(ie){const K=this.rules.block.code.exec(ie);if(K){const ge=K[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:K[0],codeBlockStyle:"indented",text:this.options.pedantic?ge:Vt(ge,"\n")}}}fences(ie){const K=this.rules.block.fences.exec(ie);if(K){const ge=K[0],Ge=function On(ut,ie){const K=ut.match(/^(\s+)(?:```)/);if(null===K)return ie;const ge=K[1];return ie.split("\n").map(Ge=>{const rn=Ge.match(/^\s+/);if(null===rn)return Ge;const[Hn]=rn;return Hn.length>=ge.length?Ge.slice(ge.length):Ge}).join("\n")}(ge,K[3]||"");return{type:"code",raw:ge,lang:K[2]?K[2].trim().replace(this.rules.inline._escapes,"$1"):K[2],text:Ge}}}heading(ie){const K=this.rules.block.heading.exec(ie);if(K){let ge=K[2].trim();if(/#$/.test(ge)){const Ge=Vt(ge,"#");(this.options.pedantic||!Ge||/ $/.test(Ge))&&(ge=Ge.trim())}return{type:"heading",raw:K[0],depth:K[1].length,text:ge,tokens:this.lexer.inline(ge)}}}hr(ie){const K=this.rules.block.hr.exec(ie);if(K)return{type:"hr",raw:K[0]}}blockquote(ie){const K=this.rules.block.blockquote.exec(ie);if(K){const ge=K[0].replace(/^ *>[ \t]?/gm,""),Ge=this.lexer.state.top;this.lexer.state.top=!0;const rn=this.lexer.blockTokens(ge);return this.lexer.state.top=Ge,{type:"blockquote",raw:K[0],tokens:rn,text:ge}}}list(ie){let K=this.rules.block.list.exec(ie);if(K){let ge,Ge,rn,Hn,Un,pi,mt,Ft,it,Wt,at,Yt,Y=K[1].trim();const $e=Y.length>1,At={type:"list",raw:"",ordered:$e,start:$e?+Y.slice(0,-1):"",loose:!1,items:[]};Y=$e?`\\d{1,9}\\${Y.slice(-1)}`:`\\${Y}`,this.options.pedantic&&(Y=$e?Y:"[*+-]");const Xt=new RegExp(`^( {0,3}${Y})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;ie&&(Yt=!1,(K=Xt.exec(ie))&&!this.rules.block.hr.test(ie));){if(ge=K[0],ie=ie.substring(ge.length),Ft=K[2].split("\n",1)[0].replace(/^\t+/,zi=>" ".repeat(3*zi.length)),it=ie.split("\n",1)[0],this.options.pedantic?(Hn=2,at=Ft.trimLeft()):(Hn=K[2].search(/[^ ]/),Hn=Hn>4?1:Hn,at=Ft.slice(Hn),Hn+=K[1].length),pi=!1,!Ft&&/^ *$/.test(it)&&(ge+=it+"\n",ie=ie.substring(it.length+1),Yt=!0),!Yt){const zi=new RegExp(`^ {0,${Math.min(3,Hn-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),ji=new RegExp(`^ {0,${Math.min(3,Hn-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Hr=new RegExp(`^ {0,${Math.min(3,Hn-1)}}(?:\`\`\`|~~~)`),vr=new RegExp(`^ {0,${Math.min(3,Hn-1)}}#`);for(;ie&&(Wt=ie.split("\n",1)[0],it=Wt,this.options.pedantic&&(it=it.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Hr.test(it)||vr.test(it)||zi.test(it)||ji.test(ie)));){if(it.search(/[^ ]/)>=Hn||!it.trim())at+="\n"+it.slice(Hn);else{if(pi||Ft.search(/[^ ]/)>=4||Hr.test(Ft)||vr.test(Ft)||ji.test(Ft))break;at+="\n"+it}!pi&&!it.trim()&&(pi=!0),ge+=Wt+"\n",ie=ie.substring(Wt.length+1),Ft=it.slice(Hn)}}At.loose||(mt?At.loose=!0:/\n *\n *$/.test(ge)&&(mt=!0)),this.options.gfm&&(Ge=/^\[[ xX]\] /.exec(at),Ge&&(rn="[ ] "!==Ge[0],at=at.replace(/^\[[ xX]\] +/,""))),At.items.push({type:"list_item",raw:ge,task:!!Ge,checked:rn,loose:!1,text:at}),At.raw+=ge}At.items[At.items.length-1].raw=ge.trimRight(),At.items[At.items.length-1].text=at.trimRight(),At.raw=At.raw.trimRight();const ci=At.items.length;for(Un=0;Un<ci;Un++)if(this.lexer.state.top=!1,At.items[Un].tokens=this.lexer.blockTokens(At.items[Un].text,[]),!At.loose){const zi=At.items[Un].tokens.filter(Hr=>"space"===Hr.type),ji=zi.length>0&&zi.some(Hr=>/\n.*\n/.test(Hr.raw));At.loose=ji}if(At.loose)for(Un=0;Un<ci;Un++)At.items[Un].loose=!0;return At}}html(ie){const K=this.rules.block.html.exec(ie);if(K){const ge={type:"html",raw:K[0],pre:!this.options.sanitizer&&("pre"===K[1]||"script"===K[1]||"style"===K[1]),text:K[0]};if(this.options.sanitize){const Ge=this.options.sanitizer?this.options.sanitizer(K[0]):Ye(K[0]);ge.type="paragraph",ge.text=Ge,ge.tokens=this.lexer.inline(Ge)}return ge}}def(ie){const K=this.rules.block.def.exec(ie);if(K){const ge=K[1].toLowerCase().replace(/\s+/g," "),Ge=K[2]?K[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",rn=K[3]?K[3].substring(1,K[3].length-1).replace(this.rules.inline._escapes,"$1"):K[3];return{type:"def",tag:ge,raw:K[0],href:Ge,title:rn}}}table(ie){const K=this.rules.block.table.exec(ie);if(K){const ge={type:"table",header:et(K[1]).map(Ge=>({text:Ge})),align:K[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:K[3]&&K[3].trim()?K[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(ge.header.length===ge.align.length){ge.raw=K[0];let rn,Hn,Un,pi,Ge=ge.align.length;for(rn=0;rn<Ge;rn++)ge.align[rn]=/^ *-+: *$/.test(ge.align[rn])?"right":/^ *:-+: *$/.test(ge.align[rn])?"center":/^ *:-+ *$/.test(ge.align[rn])?"left":null;for(Ge=ge.rows.length,rn=0;rn<Ge;rn++)ge.rows[rn]=et(ge.rows[rn],ge.header.length).map(mt=>({text:mt}));for(Ge=ge.header.length,Hn=0;Hn<Ge;Hn++)ge.header[Hn].tokens=this.lexer.inline(ge.header[Hn].text);for(Ge=ge.rows.length,Hn=0;Hn<Ge;Hn++)for(pi=ge.rows[Hn],Un=0;Un<pi.length;Un++)pi[Un].tokens=this.lexer.inline(pi[Un].text);return ge}}}lheading(ie){const K=this.rules.block.lheading.exec(ie);if(K)return{type:"heading",raw:K[0],depth:"="===K[2].charAt(0)?1:2,text:K[1],tokens:this.lexer.inline(K[1])}}paragraph(ie){const K=this.rules.block.paragraph.exec(ie);if(K){const ge="\n"===K[1].charAt(K[1].length-1)?K[1].slice(0,-1):K[1];return{type:"paragraph",raw:K[0],text:ge,tokens:this.lexer.inline(ge)}}}text(ie){const K=this.rules.block.text.exec(ie);if(K)return{type:"text",raw:K[0],text:K[0],tokens:this.lexer.inline(K[0])}}escape(ie){const K=this.rules.inline.escape.exec(ie);if(K)return{type:"escape",raw:K[0],text:Ye(K[1])}}tag(ie){const K=this.rules.inline.tag.exec(ie);if(K)return!this.lexer.state.inLink&&/^<a /i.test(K[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(K[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(K[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(K[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:K[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(K[0]):Ye(K[0]):K[0]}}link(ie){const K=this.rules.inline.link.exec(ie);if(K){const ge=K[2].trim();if(!this.options.pedantic&&/^</.test(ge)){if(!/>$/.test(ge))return;const Hn=Vt(ge.slice(0,-1),"\\");if((ge.length-Hn.length)%2==0)return}else{const Hn=function jt(ut,ie){if(-1===ut.indexOf(ie[1]))return-1;const K=ut.length;let ge=0,Ge=0;for(;Ge<K;Ge++)if("\\"===ut[Ge])Ge++;else if(ut[Ge]===ie[0])ge++;else if(ut[Ge]===ie[1]&&(ge--,ge<0))return Ge;return-1}(K[2],"()");if(Hn>-1){const pi=(0===K[0].indexOf("!")?5:4)+K[1].length+Hn;K[2]=K[2].substring(0,Hn),K[0]=K[0].substring(0,pi).trim(),K[3]=""}}let Ge=K[2],rn="";if(this.options.pedantic){const Hn=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Ge);Hn&&(Ge=Hn[1],rn=Hn[3])}else rn=K[3]?K[3].slice(1,-1):"";return Ge=Ge.trim(),/^</.test(Ge)&&(Ge=this.options.pedantic&&!/>$/.test(ge)?Ge.slice(1):Ge.slice(1,-1)),gn(K,{href:Ge&&Ge.replace(this.rules.inline._escapes,"$1"),title:rn&&rn.replace(this.rules.inline._escapes,"$1")},K[0],this.lexer)}}reflink(ie,K){let ge;if((ge=this.rules.inline.reflink.exec(ie))||(ge=this.rules.inline.nolink.exec(ie))){let Ge=(ge[2]||ge[1]).replace(/\s+/g," ");if(Ge=K[Ge.toLowerCase()],!Ge){const rn=ge[0].charAt(0);return{type:"text",raw:rn,text:rn}}return gn(ge,Ge,ge[0],this.lexer)}}emStrong(ie,K,ge=""){let Ge=this.rules.inline.emStrong.lDelim.exec(ie);if(!Ge||Ge[3]&&ge.match(/[\p{L}\p{N}]/u))return;const rn=Ge[1]||Ge[2]||"";if(!rn||rn&&(""===ge||this.rules.inline.punctuation.exec(ge))){const Hn=Ge[0].length-1;let Un,pi,mt=Hn,Ft=0;const it="*"===Ge[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(it.lastIndex=0,K=K.slice(-1*ie.length+Hn);null!=(Ge=it.exec(K));){if(Un=Ge[1]||Ge[2]||Ge[3]||Ge[4]||Ge[5]||Ge[6],!Un)continue;if(pi=Un.length,Ge[3]||Ge[4]){mt+=pi;continue}if((Ge[5]||Ge[6])&&Hn%3&&!((Hn+pi)%3)){Ft+=pi;continue}if(mt-=pi,mt>0)continue;pi=Math.min(pi,pi+mt+Ft);const Wt=ie.slice(0,Hn+Ge.index+(Ge[0].length-Un.length)+pi);if(Math.min(Hn,pi)%2){const Yt=Wt.slice(1,-1);return{type:"em",raw:Wt,text:Yt,tokens:this.lexer.inlineTokens(Yt)}}const at=Wt.slice(2,-2);return{type:"strong",raw:Wt,text:at,tokens:this.lexer.inlineTokens(at)}}}}codespan(ie){const K=this.rules.inline.code.exec(ie);if(K){let ge=K[2].replace(/\n/g," ");const Ge=/[^ ]/.test(ge),rn=/^ /.test(ge)&&/ $/.test(ge);return Ge&&rn&&(ge=ge.substring(1,ge.length-1)),ge=Ye(ge,!0),{type:"codespan",raw:K[0],text:ge}}}br(ie){const K=this.rules.inline.br.exec(ie);if(K)return{type:"br",raw:K[0]}}del(ie){const K=this.rules.inline.del.exec(ie);if(K)return{type:"del",raw:K[0],text:K[2],tokens:this.lexer.inlineTokens(K[2])}}autolink(ie,K){const ge=this.rules.inline.autolink.exec(ie);if(ge){let Ge,rn;return"@"===ge[2]?(Ge=Ye(this.options.mangle?K(ge[1]):ge[1]),rn="mailto:"+Ge):(Ge=Ye(ge[1]),rn=Ge),{type:"link",raw:ge[0],text:Ge,href:rn,tokens:[{type:"text",raw:Ge,text:Ge}]}}}url(ie,K){let ge;if(ge=this.rules.inline.url.exec(ie)){let Ge,rn;if("@"===ge[2])Ge=Ye(this.options.mangle?K(ge[0]):ge[0]),rn="mailto:"+Ge;else{let Hn;do{Hn=ge[0],ge[0]=this.rules.inline._backpedal.exec(ge[0])[0]}while(Hn!==ge[0]);Ge=Ye(ge[0]),rn="www."===ge[1]?"http://"+ge[0]:ge[0]}return{type:"link",raw:ge[0],text:Ge,href:rn,tokens:[{type:"text",raw:Ge,text:Ge}]}}}inlineText(ie,K){const ge=this.rules.inline.text.exec(ie);if(ge){let Ge;return Ge=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ge[0]):Ye(ge[0]):ge[0]:Ye(this.options.smartypants?K(ge[0]):ge[0]),{type:"text",raw:ge[0],text:Ge}}}}const _n={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Bt,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};_n.def=vt(_n.def).replace("label",_n._label).replace("title",_n._title).getRegex(),_n.bullet=/(?:[*+-]|\d{1,9}[.)])/,_n.listItemStart=vt(/^( *)(bull) */).replace("bull",_n.bullet).getRegex(),_n.list=vt(_n.list).replace(/bull/g,_n.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+_n.def.source+")").getRegex(),_n._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",_n._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,_n.html=vt(_n.html,"i").replace("comment",_n._comment).replace("tag",_n._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),_n.paragraph=vt(_n._paragraph).replace("hr",_n.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_n._tag).getRegex(),_n.blockquote=vt(_n.blockquote).replace("paragraph",_n.paragraph).getRegex(),_n.normal=Kt({},_n),_n.gfm=Kt({},_n.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),_n.gfm.table=vt(_n.gfm.table).replace("hr",_n.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_n._tag).getRegex(),_n.gfm.paragraph=vt(_n._paragraph).replace("hr",_n.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",_n.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_n._tag).getRegex(),_n.pedantic=Kt({},_n.normal,{html:vt("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",_n._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Bt,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:vt(_n.normal._paragraph).replace("hr",_n.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",_n.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Nn={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Bt,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Bt,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function yn(ut){return ut.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function pn(ut){let K,ge,ie="";const Ge=ut.length;for(K=0;K<Ge;K++)ge=ut.charCodeAt(K),Math.random()>.5&&(ge="x"+ge.toString(16)),ie+="&#"+ge+";";return ie}Nn._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Nn.punctuation=vt(Nn.punctuation).replace(/punctuation/g,Nn._punctuation).getRegex(),Nn.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Nn.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,Nn._comment=vt(_n._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Nn.emStrong.lDelim=vt(Nn.emStrong.lDelim).replace(/punct/g,Nn._punctuation).getRegex(),Nn.emStrong.rDelimAst=vt(Nn.emStrong.rDelimAst,"g").replace(/punct/g,Nn._punctuation).getRegex(),Nn.emStrong.rDelimUnd=vt(Nn.emStrong.rDelimUnd,"g").replace(/punct/g,Nn._punctuation).getRegex(),Nn._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Nn._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Nn._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Nn.autolink=vt(Nn.autolink).replace("scheme",Nn._scheme).replace("email",Nn._email).getRegex(),Nn._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Nn.tag=vt(Nn.tag).replace("comment",Nn._comment).replace("attribute",Nn._attribute).getRegex(),Nn._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Nn._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Nn._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Nn.link=vt(Nn.link).replace("label",Nn._label).replace("href",Nn._href).replace("title",Nn._title).getRegex(),Nn.reflink=vt(Nn.reflink).replace("label",Nn._label).replace("ref",_n._label).getRegex(),Nn.nolink=vt(Nn.nolink).replace("ref",_n._label).getRegex(),Nn.reflinkSearch=vt(Nn.reflinkSearch,"g").replace("reflink",Nn.reflink).replace("nolink",Nn.nolink).getRegex(),Nn.normal=Kt({},Nn),Nn.pedantic=Kt({},Nn.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:vt(/^!?\[(label)\]\((.*?)\)/).replace("label",Nn._label).getRegex(),reflink:vt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Nn._label).getRegex()}),Nn.gfm=Kt({},Nn.normal,{escape:vt(Nn.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Nn.gfm.url=vt(Nn.gfm.url,"i").replace("email",Nn.gfm._extended_email).getRegex(),Nn.breaks=Kt({},Nn.gfm,{br:vt(Nn.br).replace("{2,}","*").getRegex(),text:vt(Nn.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class Pn{constructor(ie){this.tokens=[],this.tokens.links=Object.create(null),this.options=ie||Je,this.options.tokenizer=this.options.tokenizer||new Qn,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const K={block:_n.normal,inline:Nn.normal};this.options.pedantic?(K.block=_n.pedantic,K.inline=Nn.pedantic):this.options.gfm&&(K.block=_n.gfm,K.inline=this.options.breaks?Nn.breaks:Nn.gfm),this.tokenizer.rules=K}static get rules(){return{block:_n,inline:Nn}}static lex(ie,K){return new Pn(K).lex(ie)}static lexInline(ie,K){return new Pn(K).inlineTokens(ie)}lex(ie){let K;for(ie=ie.replace(/\r\n|\r/g,"\n"),this.blockTokens(ie,this.tokens);K=this.inlineQueue.shift();)this.inlineTokens(K.src,K.tokens);return this.tokens}blockTokens(ie,K=[]){let ge,Ge,rn,Hn;for(ie=this.options.pedantic?ie.replace(/\t/g,"    ").replace(/^ +$/gm,""):ie.replace(/^( *)(\t+)/gm,(Un,pi,mt)=>pi+"    ".repeat(mt.length));ie;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(Un=>!!(ge=Un.call({lexer:this},ie,K))&&(ie=ie.substring(ge.raw.length),K.push(ge),!0)))){if(ge=this.tokenizer.space(ie)){ie=ie.substring(ge.raw.length),1===ge.raw.length&&K.length>0?K[K.length-1].raw+="\n":K.push(ge);continue}if(ge=this.tokenizer.code(ie)){ie=ie.substring(ge.raw.length),Ge=K[K.length-1],!Ge||"paragraph"!==Ge.type&&"text"!==Ge.type?K.push(ge):(Ge.raw+="\n"+ge.raw,Ge.text+="\n"+ge.text,this.inlineQueue[this.inlineQueue.length-1].src=Ge.text);continue}if(ge=this.tokenizer.fences(ie)){ie=ie.substring(ge.raw.length),K.push(ge);continue}if(ge=this.tokenizer.heading(ie)){ie=ie.substring(ge.raw.length),K.push(ge);continue}if(ge=this.tokenizer.hr(ie)){ie=ie.substring(ge.raw.length),K.push(ge);continue}if(ge=this.tokenizer.blockquote(ie)){ie=ie.substring(ge.raw.length),K.push(ge);continue}if(ge=this.tokenizer.list(ie)){ie=ie.substring(ge.raw.length),K.push(ge);continue}if(ge=this.tokenizer.html(ie)){ie=ie.substring(ge.raw.length),K.push(ge);continue}if(ge=this.tokenizer.def(ie)){ie=ie.substring(ge.raw.length),Ge=K[K.length-1],!Ge||"paragraph"!==Ge.type&&"text"!==Ge.type?this.tokens.links[ge.tag]||(this.tokens.links[ge.tag]={href:ge.href,title:ge.title}):(Ge.raw+="\n"+ge.raw,Ge.text+="\n"+ge.raw,this.inlineQueue[this.inlineQueue.length-1].src=Ge.text);continue}if(ge=this.tokenizer.table(ie)){ie=ie.substring(ge.raw.length),K.push(ge);continue}if(ge=this.tokenizer.lheading(ie)){ie=ie.substring(ge.raw.length),K.push(ge);continue}if(rn=ie,this.options.extensions&&this.options.extensions.startBlock){let Un=1/0;const pi=ie.slice(1);let mt;this.options.extensions.startBlock.forEach(function(Ft){mt=Ft.call({lexer:this},pi),"number"==typeof mt&&mt>=0&&(Un=Math.min(Un,mt))}),Un<1/0&&Un>=0&&(rn=ie.substring(0,Un+1))}if(this.state.top&&(ge=this.tokenizer.paragraph(rn))){Ge=K[K.length-1],Hn&&"paragraph"===Ge.type?(Ge.raw+="\n"+ge.raw,Ge.text+="\n"+ge.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Ge.text):K.push(ge),Hn=rn.length!==ie.length,ie=ie.substring(ge.raw.length);continue}if(ge=this.tokenizer.text(ie)){ie=ie.substring(ge.raw.length),Ge=K[K.length-1],Ge&&"text"===Ge.type?(Ge.raw+="\n"+ge.raw,Ge.text+="\n"+ge.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Ge.text):K.push(ge);continue}if(ie){const Un="Infinite loop on byte: "+ie.charCodeAt(0);if(this.options.silent){console.error(Un);break}throw new Error(Un)}}return this.state.top=!0,K}inline(ie,K=[]){return this.inlineQueue.push({src:ie,tokens:K}),K}inlineTokens(ie,K=[]){let ge,Ge,rn,Un,pi,mt,Hn=ie;if(this.tokens.links){const Ft=Object.keys(this.tokens.links);if(Ft.length>0)for(;null!=(Un=this.tokenizer.rules.inline.reflinkSearch.exec(Hn));)Ft.includes(Un[0].slice(Un[0].lastIndexOf("[")+1,-1))&&(Hn=Hn.slice(0,Un.index)+"["+en("a",Un[0].length-2)+"]"+Hn.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(Un=this.tokenizer.rules.inline.blockSkip.exec(Hn));)Hn=Hn.slice(0,Un.index)+"["+en("a",Un[0].length-2)+"]"+Hn.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(Un=this.tokenizer.rules.inline.escapedEmSt.exec(Hn));)Hn=Hn.slice(0,Un.index+Un[0].length-2)+"++"+Hn.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;ie;)if(pi||(mt=""),pi=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(Ft=>!!(ge=Ft.call({lexer:this},ie,K))&&(ie=ie.substring(ge.raw.length),K.push(ge),!0)))){if(ge=this.tokenizer.escape(ie)){ie=ie.substring(ge.raw.length),K.push(ge);continue}if(ge=this.tokenizer.tag(ie)){ie=ie.substring(ge.raw.length),Ge=K[K.length-1],Ge&&"text"===ge.type&&"text"===Ge.type?(Ge.raw+=ge.raw,Ge.text+=ge.text):K.push(ge);continue}if(ge=this.tokenizer.link(ie)){ie=ie.substring(ge.raw.length),K.push(ge);continue}if(ge=this.tokenizer.reflink(ie,this.tokens.links)){ie=ie.substring(ge.raw.length),Ge=K[K.length-1],Ge&&"text"===ge.type&&"text"===Ge.type?(Ge.raw+=ge.raw,Ge.text+=ge.text):K.push(ge);continue}if(ge=this.tokenizer.emStrong(ie,Hn,mt)){ie=ie.substring(ge.raw.length),K.push(ge);continue}if(ge=this.tokenizer.codespan(ie)){ie=ie.substring(ge.raw.length),K.push(ge);continue}if(ge=this.tokenizer.br(ie)){ie=ie.substring(ge.raw.length),K.push(ge);continue}if(ge=this.tokenizer.del(ie)){ie=ie.substring(ge.raw.length),K.push(ge);continue}if(ge=this.tokenizer.autolink(ie,pn)){ie=ie.substring(ge.raw.length),K.push(ge);continue}if(!this.state.inLink&&(ge=this.tokenizer.url(ie,pn))){ie=ie.substring(ge.raw.length),K.push(ge);continue}if(rn=ie,this.options.extensions&&this.options.extensions.startInline){let Ft=1/0;const it=ie.slice(1);let Wt;this.options.extensions.startInline.forEach(function(at){Wt=at.call({lexer:this},it),"number"==typeof Wt&&Wt>=0&&(Ft=Math.min(Ft,Wt))}),Ft<1/0&&Ft>=0&&(rn=ie.substring(0,Ft+1))}if(ge=this.tokenizer.inlineText(rn,yn)){ie=ie.substring(ge.raw.length),"_"!==ge.raw.slice(-1)&&(mt=ge.raw.slice(-1)),pi=!0,Ge=K[K.length-1],Ge&&"text"===Ge.type?(Ge.raw+=ge.raw,Ge.text+=ge.text):K.push(ge);continue}if(ie){const Ft="Infinite loop on byte: "+ie.charCodeAt(0);if(this.options.silent){console.error(Ft);break}throw new Error(Ft)}}return K}}class Nt{constructor(ie){this.options=ie||Je}code(ie,K,ge){const Ge=(K||"").match(/\S*/)[0];if(this.options.highlight){const rn=this.options.highlight(ie,Ge);null!=rn&&rn!==ie&&(ge=!0,ie=rn)}return ie=ie.replace(/\n$/,"")+"\n",Ge?'<pre><code class="'+this.options.langPrefix+Ye(Ge)+'">'+(ge?ie:Ye(ie,!0))+"</code></pre>\n":"<pre><code>"+(ge?ie:Ye(ie,!0))+"</code></pre>\n"}blockquote(ie){return`<blockquote>\n${ie}</blockquote>\n`}html(ie){return ie}heading(ie,K,ge,Ge){return this.options.headerIds?`<h${K} id="${this.options.headerPrefix+Ge.slug(ge)}">${ie}</h${K}>\n`:`<h${K}>${ie}</h${K}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(ie,K,ge){const Ge=K?"ol":"ul";return"<"+Ge+(K&&1!==ge?' start="'+ge+'"':"")+">\n"+ie+"</"+Ge+">\n"}listitem(ie){return`<li>${ie}</li>\n`}checkbox(ie){return"<input "+(ie?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(ie){return`<p>${ie}</p>\n`}table(ie,K){return K&&(K=`<tbody>${K}</tbody>`),"<table>\n<thead>\n"+ie+"</thead>\n"+K+"</table>\n"}tablerow(ie){return`<tr>\n${ie}</tr>\n`}tablecell(ie,K){const ge=K.header?"th":"td";return(K.align?`<${ge} align="${K.align}">`:`<${ge}>`)+ie+`</${ge}>\n`}strong(ie){return`<strong>${ie}</strong>`}em(ie){return`<em>${ie}</em>`}codespan(ie){return`<code>${ie}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(ie){return`<del>${ie}</del>`}link(ie,K,ge){if(null===(ie=In(this.options.sanitize,this.options.baseUrl,ie)))return ge;let Ge='<a href="'+ie+'"';return K&&(Ge+=' title="'+K+'"'),Ge+=">"+ge+"</a>",Ge}image(ie,K,ge){if(null===(ie=In(this.options.sanitize,this.options.baseUrl,ie)))return ge;let Ge=`<img src="${ie}" alt="${ge}"`;return K&&(Ge+=` title="${K}"`),Ge+=this.options.xhtml?"/>":">",Ge}text(ie){return ie}}class tn{strong(ie){return ie}em(ie){return ie}codespan(ie){return ie}del(ie){return ie}html(ie){return ie}text(ie){return ie}link(ie,K,ge){return""+ge}image(ie,K,ge){return""+ge}br(){return""}}class Rt{constructor(){this.seen={}}serialize(ie){return ie.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(ie,K){let ge=ie,Ge=0;if(this.seen.hasOwnProperty(ge)){Ge=this.seen[ie];do{Ge++,ge=ie+"-"+Ge}while(this.seen.hasOwnProperty(ge))}return K||(this.seen[ie]=Ge,this.seen[ge]=0),ge}slug(ie,K={}){const ge=this.serialize(ie);return this.getNextSafeSlug(ge,K.dryrun)}}class bn{constructor(ie){this.options=ie||Je,this.options.renderer=this.options.renderer||new Nt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new tn,this.slugger=new Rt}static parse(ie,K){return new bn(K).parse(ie)}static parseInline(ie,K){return new bn(K).parseInline(ie)}parse(ie,K=!0){let Ge,rn,Hn,Un,pi,mt,Ft,it,Wt,at,Yt,Y,$e,At,Xt,ci,zi,ji,Hr,ge="";const vr=ie.length;for(Ge=0;Ge<vr;Ge++)if(at=ie[Ge],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[at.type]&&(Hr=this.options.extensions.renderers[at.type].call({parser:this},at),!1!==Hr||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(at.type)))ge+=Hr||"";else switch(at.type){case"space":continue;case"hr":ge+=this.renderer.hr();continue;case"heading":ge+=this.renderer.heading(this.parseInline(at.tokens),at.depth,me(this.parseInline(at.tokens,this.textRenderer)),this.slugger);continue;case"code":ge+=this.renderer.code(at.text,at.lang,at.escaped);continue;case"table":for(it="",Ft="",Un=at.header.length,rn=0;rn<Un;rn++)Ft+=this.renderer.tablecell(this.parseInline(at.header[rn].tokens),{header:!0,align:at.align[rn]});for(it+=this.renderer.tablerow(Ft),Wt="",Un=at.rows.length,rn=0;rn<Un;rn++){for(mt=at.rows[rn],Ft="",pi=mt.length,Hn=0;Hn<pi;Hn++)Ft+=this.renderer.tablecell(this.parseInline(mt[Hn].tokens),{header:!1,align:at.align[Hn]});Wt+=this.renderer.tablerow(Ft)}ge+=this.renderer.table(it,Wt);continue;case"blockquote":Wt=this.parse(at.tokens),ge+=this.renderer.blockquote(Wt);continue;case"list":for(Yt=at.ordered,Y=at.start,$e=at.loose,Un=at.items.length,Wt="",rn=0;rn<Un;rn++)Xt=at.items[rn],ci=Xt.checked,zi=Xt.task,At="",Xt.task&&(ji=this.renderer.checkbox(ci),$e?Xt.tokens.length>0&&"paragraph"===Xt.tokens[0].type?(Xt.tokens[0].text=ji+" "+Xt.tokens[0].text,Xt.tokens[0].tokens&&Xt.tokens[0].tokens.length>0&&"text"===Xt.tokens[0].tokens[0].type&&(Xt.tokens[0].tokens[0].text=ji+" "+Xt.tokens[0].tokens[0].text)):Xt.tokens.unshift({type:"text",text:ji}):At+=ji),At+=this.parse(Xt.tokens,$e),Wt+=this.renderer.listitem(At,zi,ci);ge+=this.renderer.list(Wt,Yt,Y);continue;case"html":ge+=this.renderer.html(at.text);continue;case"paragraph":ge+=this.renderer.paragraph(this.parseInline(at.tokens));continue;case"text":for(Wt=at.tokens?this.parseInline(at.tokens):at.text;Ge+1<vr&&"text"===ie[Ge+1].type;)at=ie[++Ge],Wt+="\n"+(at.tokens?this.parseInline(at.tokens):at.text);ge+=K?this.renderer.paragraph(Wt):Wt;continue;default:{const ur='Token with "'+at.type+'" type was not found.';if(this.options.silent)return void console.error(ur);throw new Error(ur)}}return ge}parseInline(ie,K){K=K||this.renderer;let Ge,rn,Hn,ge="";const Un=ie.length;for(Ge=0;Ge<Un;Ge++)if(rn=ie[Ge],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[rn.type]&&(Hn=this.options.extensions.renderers[rn.type].call({parser:this},rn),!1!==Hn||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(rn.type)))ge+=Hn||"";else switch(rn.type){case"escape":case"text":ge+=K.text(rn.text);break;case"html":ge+=K.html(rn.text);break;case"link":ge+=K.link(rn.href,rn.title,this.parseInline(rn.tokens,K));break;case"image":ge+=K.image(rn.href,rn.title,rn.text);break;case"strong":ge+=K.strong(this.parseInline(rn.tokens,K));break;case"em":ge+=K.em(this.parseInline(rn.tokens,K));break;case"codespan":ge+=K.codespan(rn.text);break;case"br":ge+=K.br();break;case"del":ge+=K.del(this.parseInline(rn.tokens,K));break;default:{const pi='Token with "'+rn.type+'" type was not found.';if(this.options.silent)return void console.error(pi);throw new Error(pi)}}return ge}}function lt(ut,ie,K){if(typeof ut>"u"||null===ut)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof ut)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(ut)+", string expected");if("function"==typeof ie&&(K=ie,ie=null),Yn(ie=Kt({},lt.defaults,ie||{})),K){const Ge=ie.highlight;let rn;try{rn=Pn.lex(ut,ie)}catch(pi){return K(pi)}const Hn=function(pi){let mt;if(!pi)try{ie.walkTokens&&lt.walkTokens(rn,ie.walkTokens),mt=bn.parse(rn,ie)}catch(Ft){pi=Ft}return ie.highlight=Ge,pi?K(pi):K(null,mt)};if(!Ge||Ge.length<3||(delete ie.highlight,!rn.length))return Hn();let Un=0;return lt.walkTokens(rn,function(pi){"code"===pi.type&&(Un++,setTimeout(()=>{Ge(pi.text,pi.lang,function(mt,Ft){if(mt)return Hn(mt);null!=Ft&&Ft!==pi.text&&(pi.text=Ft,pi.escaped=!0),Un--,0===Un&&Hn()})},0))}),void(0===Un&&Hn())}function ge(Ge){if(Ge.message+="\nPlease report this to https://github.com/markedjs/marked.",ie.silent)return"<p>An error occurred:</p><pre>"+Ye(Ge.message+"",!0)+"</pre>";throw Ge}try{const Ge=Pn.lex(ut,ie);if(ie.walkTokens){if(ie.async)return Promise.all(lt.walkTokens(Ge,ie.walkTokens)).then(()=>bn.parse(Ge,ie)).catch(ge);lt.walkTokens(Ge,ie.walkTokens)}return bn.parse(Ge,ie)}catch(Ge){ge(Ge)}}lt.options=lt.setOptions=function(ut){return Kt(lt.defaults,ut),function Ke(ut){Je=ut}(lt.defaults),lt},lt.getDefaults=function Be(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},lt.defaults=Je,lt.use=function(...ut){const ie=lt.defaults.extensions||{renderers:{},childTokens:{}};ut.forEach(K=>{const ge=Kt({},K);if(ge.async=lt.defaults.async||ge.async,K.extensions&&(K.extensions.forEach(Ge=>{if(!Ge.name)throw new Error("extension name required");if(Ge.renderer){const rn=ie.renderers[Ge.name];ie.renderers[Ge.name]=rn?function(...Hn){let Un=Ge.renderer.apply(this,Hn);return!1===Un&&(Un=rn.apply(this,Hn)),Un}:Ge.renderer}if(Ge.tokenizer){if(!Ge.level||"block"!==Ge.level&&"inline"!==Ge.level)throw new Error("extension level must be 'block' or 'inline'");ie[Ge.level]?ie[Ge.level].unshift(Ge.tokenizer):ie[Ge.level]=[Ge.tokenizer],Ge.start&&("block"===Ge.level?ie.startBlock?ie.startBlock.push(Ge.start):ie.startBlock=[Ge.start]:"inline"===Ge.level&&(ie.startInline?ie.startInline.push(Ge.start):ie.startInline=[Ge.start]))}Ge.childTokens&&(ie.childTokens[Ge.name]=Ge.childTokens)}),ge.extensions=ie),K.renderer){const Ge=lt.defaults.renderer||new Nt;for(const rn in K.renderer){const Hn=Ge[rn];Ge[rn]=(...Un)=>{let pi=K.renderer[rn].apply(Ge,Un);return!1===pi&&(pi=Hn.apply(Ge,Un)),pi}}ge.renderer=Ge}if(K.tokenizer){const Ge=lt.defaults.tokenizer||new Qn;for(const rn in K.tokenizer){const Hn=Ge[rn];Ge[rn]=(...Un)=>{let pi=K.tokenizer[rn].apply(Ge,Un);return!1===pi&&(pi=Hn.apply(Ge,Un)),pi}}ge.tokenizer=Ge}if(K.walkTokens){const Ge=lt.defaults.walkTokens;ge.walkTokens=function(rn){let Hn=[];return Hn.push(K.walkTokens.call(this,rn)),Ge&&(Hn=Hn.concat(Ge.call(this,rn))),Hn}}lt.setOptions(ge)})},lt.walkTokens=function(ut,ie){let K=[];for(const ge of ut)switch(K=K.concat(ie.call(lt,ge)),ge.type){case"table":for(const Ge of ge.header)K=K.concat(lt.walkTokens(Ge.tokens,ie));for(const Ge of ge.rows)for(const rn of Ge)K=K.concat(lt.walkTokens(rn.tokens,ie));break;case"list":K=K.concat(lt.walkTokens(ge.items,ie));break;default:lt.defaults.extensions&&lt.defaults.extensions.childTokens&&lt.defaults.extensions.childTokens[ge.type]?lt.defaults.extensions.childTokens[ge.type].forEach(function(Ge){K=K.concat(lt.walkTokens(ge[Ge],ie))}):ge.tokens&&(K=K.concat(lt.walkTokens(ge.tokens,ie)))}return K},lt.parseInline=function(ut,ie){if(typeof ut>"u"||null===ut)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof ut)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(ut)+", string expected");Yn(ie=Kt({},lt.defaults,ie||{}));try{const K=Pn.lexInline(ut,ie);return ie.walkTokens&&lt.walkTokens(K,ie.walkTokens),bn.parseInline(K,ie)}catch(K){if(K.message+="\nPlease report this to https://github.com/markedjs/marked.",ie.silent)return"<p>An error occurred:</p><pre>"+Ye(K.message+"",!0)+"</pre>";throw K}},lt.Parser=bn,lt.parser=bn.parse,lt.Renderer=Nt,lt.TextRenderer=tn,lt.Lexer=Pn,lt.lexer=Pn.lex,lt.Tokenizer=Qn,lt.Slugger=Rt,lt.parse=lt;var An=N(529),Ln=N(1481);const mi=["*"];let Bi=(()=>{class ut{constructor(){this._buttonClick$=new T.x,this.copied$=this._buttonClick$.pipe((0,Ee.w)(()=>(0,O.T)((0,ue.of)(!0),(0,R.H)(3e3).pipe((0,Re.h)(!1)))),(0,xe.x)(),(0,Ce.d)(1)),this.copiedText$=this.copied$.pipe((0,re.O)(!1),(0,ce.U)(K=>K?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return ut.\u0275fac=function(K){return new(K||ut)},ut.\u0275cmp=a.Xpm({type:ut,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(K,ge){1&K&&(a.TgZ(0,"button",0),a.NdJ("click",function(){return ge.onCopyToClipboardClick()}),a.ALo(1,"async"),a._uU(2),a.ALo(3,"async"),a.qZA()),2&K&&(a.ekj("copied",a.lcZ(1,3,ge.copied$)),a.xp6(2),a.Oqu(a.lcZ(3,5,ge.copiedText$)))},dependencies:[Ne.Ov],encapsulation:2,changeDetection:0}),ut})();class Si{}var It=(()=>{return(ut=It||(It={})).CommandLine="command-line",ut.LineHighlight="line-highlight",ut.LineNumbers="line-numbers",It;var ut})();class xt{}const Te=new a.OlP("SECURITY_CONTEXT");let Fe=(()=>{class ut{constructor(K,ge,Ge,rn,Hn,Un){this.platform=K,this.securityContext=ge,this.http=Ge,this.clipboardOptions=rn,this.sanitizer=Un,this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this.DEFAULT_MARKED_OPTIONS={renderer:new Nt},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this._reload$=new T.x,this.reload$=this._reload$.asObservable(),this.options=Hn}get options(){return this._options}set options(K){this._options={...this.DEFAULT_MARKED_OPTIONS,...K}}get renderer(){return this.options.renderer}set renderer(K){this.options.renderer=K}parse(K,ge=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:Ge,inline:rn,emoji:Hn,mermaid:Un,markedOptions:pi=this.options}=ge;Un&&(this.renderer=this.extendRenderer(pi.renderer||new Nt));const mt=this.trimIndentation(K),Ft=Ge?this.decodeHtml(mt):mt,it=Hn?this.parseEmoji(Ft):Ft,Wt=this.parseMarked(it,pi,rn);return this.sanitizer.sanitize(this.securityContext,Wt)||""}render(K,ge=this.DEFAULT_RENDER_OPTIONS,Ge){const{clipboard:rn,clipboardOptions:Hn,katex:Un,katexOptions:pi,mermaid:mt,mermaidOptions:Ft}=ge;rn&&this.renderClipboard(K,Ge,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...Hn}),Un&&this.renderKatex(K,{...this.DEFAULT_KATEX_OPTIONS,...pi}),mt&&this.renderMermaid(K,{...this.DEFAULT_MERMAID_OPTIONS,...Ft}),this.highlight(K)}reload(){this._reload$.next()}getSource(K){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(K,{responseType:"text"}).pipe((0,ce.U)(ge=>this.handleExtension(K,ge)))}highlight(K){if(!(0,Ne.NF)(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;K||(K=document);const ge=K.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(ge,Ge=>Ge.classList.add("language-none")),Prism.highlightAllUnder(K)}decodeHtml(K){if(!(0,Ne.NF)(this.platform))return K;const ge=document.createElement("textarea");return ge.innerHTML=K,ge.value}extendRenderer(K){const ge=K;if(!0===ge.\u0275NgxMarkdownRendererExtended)return K;const Ge=K.code;return K.code=function(rn,Hn,Un){return"mermaid"===Hn?`<div class="mermaid">${rn}</div>`:Ge.call(this,rn,Hn,Un)},ge.\u0275NgxMarkdownRendererExtended=!0,K}handleExtension(K,ge){const Ge=K.lastIndexOf("://"),rn=Ge>-1?K.substring(Ge+4):K,Hn=rn.lastIndexOf("/"),Un=Hn>-1?rn.substring(Hn+1).split("?")[0]:"",pi=Un.lastIndexOf("."),mt=pi>-1?Un.substring(pi+1):"";return mt&&"md"!==mt?"```"+mt+"\n"+ge+"\n```":ge}parseMarked(K,ge,Ge=!1){return(0,Ne.NF)(this.platform)?Ge?lt.parseInline(K,ge):lt.parse(K,ge):K}parseEmoji(K){if(!(0,Ne.NF)(this.platform))return K;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(K)}renderKatex(K,ge){if((0,Ne.NF)(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(K,ge)}}renderClipboard(K,ge,Ge){if(!(0,Ne.NF)(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!ge)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:rn,buttonTemplate:Hn}=Ge,Un=K.querySelectorAll("pre");for(let pi=0;pi<Un.length;pi++){const mt=Un.item(pi),Ft=document.createElement("div");Ft.style.position="relative",mt.parentNode.insertBefore(Ft,mt),Ft.appendChild(mt);const it=document.createElement("div");let Wt,at;it.style.position="absolute",it.style.top=".5em",it.style.right=".5em",it.style.opacity="0",it.style.transition="opacity 250ms ease-out",Ft.insertAdjacentElement("beforeend",it),mt.onmouseover=()=>it.style.opacity="1",mt.onmouseout=()=>it.style.opacity="0",Wt=rn?ge.createComponent(rn).hostView:Hn?ge.createEmbeddedView(Hn):ge.createComponent(Bi).hostView,Wt.rootNodes.forEach(Yt=>{Yt.onmouseover=()=>it.style.opacity="1",it.appendChild(Yt),at=new ClipboardJS(Yt,{text:()=>mt.innerText})}),Wt.onDestroy(()=>at.destroy())}}renderMermaid(K,ge=this.DEFAULT_MERMAID_OPTIONS){if(!(0,Ne.NF)(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.init>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const Ge=K.querySelectorAll(".mermaid");0!==Ge.length&&(mermaid.initialize(ge),mermaid.init(Ge))}trimIndentation(K){if(!K)return"";let ge;return K.split("\n").map(Ge=>{let rn=ge;return Ge.length>0&&(rn=isNaN(rn)?Ge.search(/\S|$/):Math.min(Ge.search(/\S|$/),rn)),isNaN(ge)&&(ge=rn),rn?Ge.substring(rn):Ge}).join("\n")}}return ut.\u0275fac=function(K){return new(K||ut)(a.LFG(a.Lbi),a.LFG(Te),a.LFG(An.eN,8),a.LFG(Si,8),a.LFG(xt,8),a.LFG(Ln.H7))},ut.\u0275prov=a.Yz7({token:ut,factory:ut.\u0275fac}),ut})(),qe=(()=>{class ut{constructor(K,ge,Ge){this.element=K,this.markdownService=ge,this.viewContainerRef=Ge,this.error=new a.vpe,this.load=new a.vpe,this.ready=new a.vpe,this._commandLine=!1,this._clipboard=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new T.x}get inline(){return this._inline}set inline(K){this._inline=this.coerceBooleanProperty(K)}get clipboard(){return this._clipboard}set clipboard(K){this._clipboard=this.coerceBooleanProperty(K)}get emoji(){return this._emoji}set emoji(K){this._emoji=this.coerceBooleanProperty(K)}get katex(){return this._katex}set katex(K){this._katex=this.coerceBooleanProperty(K)}get mermaid(){return this._mermaid}set mermaid(K){this._mermaid=this.coerceBooleanProperty(K)}get lineHighlight(){return this._lineHighlight}set lineHighlight(K){this._lineHighlight=this.coerceBooleanProperty(K)}get lineNumbers(){return this._lineNumbers}set lineNumbers(K){this._lineNumbers=this.coerceBooleanProperty(K)}get commandLine(){return this._commandLine}set commandLine(K){this._commandLine=this.coerceBooleanProperty(K)}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe((0,be.R)(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(K,ge=!1){const rn={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},Hn=this.markdownService.parse(K,{decodeHtml:ge,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid});this.element.nativeElement.innerHTML=Hn,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,rn,this.viewContainerRef),this.ready.emit()}coerceBooleanProperty(K){return null!=K&&"false"!=`${String(K)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:K=>{this.render(K),this.load.emit(K)},error:K=>this.error.emit(K)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,It.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,It.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(K,ge){const Ge=K.querySelectorAll("pre");for(let rn=0;rn<Ge.length;rn++){const Hn=ge instanceof Array?ge:[ge];Ge.item(rn).classList.add(...Hn)}}setPluginOptions(K,ge){const Ge=K.querySelectorAll("pre");for(let rn=0;rn<Ge.length;rn++)Object.keys(ge).forEach(Hn=>{const Un=ge[Hn];if(Un){const pi=this.toLispCase(Hn);Ge.item(rn).setAttribute(pi,Un.toString())}})}toLispCase(K){const ge=K.match(/([A-Z])/g);if(!ge)return K;let Ge=K.toString();for(let rn=0,Hn=ge.length;rn<Hn;rn++)Ge=Ge.replace(new RegExp(ge[rn]),"-"+ge[rn].toLowerCase());return"-"===Ge.slice(0,1)&&(Ge=Ge.slice(1)),Ge}}return ut.\u0275fac=function(K){return new(K||ut)(a.Y36(a.SBq),a.Y36(Fe),a.Y36(a.s_b))},ut.\u0275cmp=a.Xpm({type:ut,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[a.TTD],ngContentSelectors:mi,decls:1,vars:0,template:function(K,ge){1&K&&(a.F$t(),a.Hsn(0))},encapsulation:2}),ut})(),Ui=(()=>{class ut{static forRoot(K){return{ngModule:ut,providers:[Fe,K&&K.loader||[],K&&K.clipboardOptions||[],K&&K.markedOptions||[],{provide:Te,useValue:K&&null!=K.sanitize?K.sanitize:a.q3G.HTML}]}}static forChild(){return{ngModule:ut}}}return ut.\u0275fac=function(K){return new(K||ut)},ut.\u0275mod=a.oAB({type:ut}),ut.\u0275inj=a.cJS({imports:[Ne.ez]}),ut})();var Li;!function(ut){let ie;var Ge;let K,ge;(Ge=ie=ut.SecurityLevel||(ut.SecurityLevel={})).Strict="strict",Ge.Loose="loose",Ge.Antiscript="antiscript",Ge.Sandbox="sandbox",function(Ge){Ge.Base="base",Ge.Forest="forest",Ge.Dark="dark",Ge.Default="default",Ge.Neutral="neutral"}(K=ut.Theme||(ut.Theme={})),function(Ge){Ge[Ge.Debug=1]="Debug",Ge[Ge.Info=2]="Info",Ge[Ge.Warn=3]="Warn",Ge[Ge.Error=4]="Error",Ge[Ge.Fatal=5]="Fatal"}(ge=ut.LogLevel||(ut.LogLevel={}))}(Li||(Li={}))},5861:(ai,qt,N)=>{"use strict";function a(O,ue,R,Ee,Re,xe,Ce){try{var re=O[xe](Ce),ce=re.value}catch(be){return void R(be)}re.done?ue(ce):Promise.resolve(ce).then(Ee,Re)}function T(O){return function(){var ue=this,R=arguments;return new Promise(function(Ee,Re){var xe=O.apply(ue,R);function Ce(ce){a(xe,Ee,Re,Ce,re,"next",ce)}function re(ce){a(xe,Ee,Re,Ce,re,"throw",ce)}Ce(void 0)})}}N.d(qt,{Z:()=>T})},7582:(ai,qt,N)=>{"use strict";function ue(Ht,Bt){var Kt={};for(var et in Ht)Object.prototype.hasOwnProperty.call(Ht,et)&&Bt.indexOf(et)<0&&(Kt[et]=Ht[et]);if(null!=Ht&&"function"==typeof Object.getOwnPropertySymbols){var Vt=0;for(et=Object.getOwnPropertySymbols(Ht);Vt<et.length;Vt++)Bt.indexOf(et[Vt])<0&&Object.prototype.propertyIsEnumerable.call(Ht,et[Vt])&&(Kt[et[Vt]]=Ht[et[Vt]])}return Kt}function R(Ht,Bt,Kt,et){var Yn,Vt=arguments.length,jt=Vt<3?Bt:null===et?et=Object.getOwnPropertyDescriptor(Bt,Kt):et;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)jt=Reflect.decorate(Ht,Bt,Kt,et);else for(var en=Ht.length-1;en>=0;en--)(Yn=Ht[en])&&(jt=(Vt<3?Yn(jt):Vt>3?Yn(Bt,Kt,jt):Yn(Bt,Kt))||jt);return Vt>3&&jt&&Object.defineProperty(Bt,Kt,jt),jt}function be(Ht,Bt,Kt,et){return new(Kt||(Kt=Promise))(function(jt,Yn){function en(Qn){try{On(et.next(Qn))}catch(_n){Yn(_n)}}function gn(Qn){try{On(et.throw(Qn))}catch(_n){Yn(_n)}}function On(Qn){Qn.done?jt(Qn.value):function Vt(jt){return jt instanceof Kt?jt:new Kt(function(Yn){Yn(jt)})}(Qn.value).then(en,gn)}On((et=et.apply(Ht,Bt||[])).next())})}function pt(Ht){return this instanceof pt?(this.v=Ht,this):new pt(Ht)}function tt(Ht,Bt,Kt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Vt,et=Kt.apply(Ht,Bt||[]),jt=[];return Vt={},Yn("next"),Yn("throw"),Yn("return"),Vt[Symbol.asyncIterator]=function(){return this},Vt;function Yn(Nn){et[Nn]&&(Vt[Nn]=function(yn){return new Promise(function(pn,Pn){jt.push([Nn,yn,pn,Pn])>1||en(Nn,yn)})})}function en(Nn,yn){try{!function gn(Nn){Nn.value instanceof pt?Promise.resolve(Nn.value.v).then(On,Qn):_n(jt[0][2],Nn)}(et[Nn](yn))}catch(pn){_n(jt[0][3],pn)}}function On(Nn){en("next",Nn)}function Qn(Nn){en("throw",Nn)}function _n(Nn,yn){Nn(yn),jt.shift(),jt.length&&en(jt[0][0],jt[0][1])}}function Ye(Ht){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Kt,Bt=Ht[Symbol.asyncIterator];return Bt?Bt.call(Ht):(Ht=function Je(Ht){var Bt="function"==typeof Symbol&&Symbol.iterator,Kt=Bt&&Ht[Bt],et=0;if(Kt)return Kt.call(Ht);if(Ht&&"number"==typeof Ht.length)return{next:function(){return Ht&&et>=Ht.length&&(Ht=void 0),{value:Ht&&Ht[et++],done:!Ht}}};throw new TypeError(Bt?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ht),Kt={},et("next"),et("throw"),et("return"),Kt[Symbol.asyncIterator]=function(){return this},Kt);function et(jt){Kt[jt]=Ht[jt]&&function(Yn){return new Promise(function(en,gn){!function Vt(jt,Yn,en,gn){Promise.resolve(gn).then(function(On){jt({value:On,done:en})},Yn)}(en,gn,(Yn=Ht[jt](Yn)).done,Yn.value)})}}}N.d(qt,{FC:()=>tt,KL:()=>Ye,_T:()=>ue,gn:()=>R,mG:()=>be,qq:()=>pt}),"function"==typeof SuppressedError&&SuppressedError}},ai=>{ai(ai.s=3950)}]);
